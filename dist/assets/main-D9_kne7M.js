(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jI(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var sy={exports:{}},Cf={},iy={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj;function BI(){if(oj)return $t;oj=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=f&&M[f]||M["@@iterator"],typeof M=="function"?M:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function b(M,L,V){this.props=M,this.context=L,this.refs=x,this.updater=V||h}b.prototype.isReactComponent={},b.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function p(){}p.prototype=b.prototype;function y(M,L,V){this.props=M,this.context=L,this.refs=x,this.updater=V||h}var N=y.prototype=new p;N.constructor=y,v(N,b.prototype),N.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function F(M,L,V){var K,ee={},z=null,D=null;if(L!=null)for(K in L.ref!==void 0&&(D=L.ref),L.key!==void 0&&(z=""+L.key),L)j.call(L,K)&&!I.hasOwnProperty(K)&&(ee[K]=L[K]);var H=arguments.length-2;if(H===1)ee.children=V;else if(1<H){for(var ne=Array(H),ue=0;ue<H;ue++)ne[ue]=arguments[ue+2];ee.children=ne}if(M&&M.defaultProps)for(K in H=M.defaultProps,H)ee[K]===void 0&&(ee[K]=H[K]);return{$$typeof:r,type:M,key:z,ref:D,props:ee,_owner:k.current}}function C(M,L){return{$$typeof:r,type:M.type,key:L,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function T(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(V){return L[V]})}var _=/\/+/g;function U(M,L){return typeof M=="object"&&M!==null&&M.key!=null?T(""+M.key):L.toString(36)}function S(M,L,V,K,ee){var z=typeof M;(z==="undefined"||z==="boolean")&&(M=null);var D=!1;if(M===null)D=!0;else switch(z){case"string":case"number":D=!0;break;case"object":switch(M.$$typeof){case r:case e:D=!0}}if(D)return D=M,ee=ee(D),M=K===""?"."+U(D,0):K,w(ee)?(V="",M!=null&&(V=M.replace(_,"$&/")+"/"),S(ee,L,V,"",function(ue){return ue})):ee!=null&&(P(ee)&&(ee=C(ee,V+(!ee.key||D&&D.key===ee.key?"":(""+ee.key).replace(_,"$&/")+"/")+M)),L.push(ee)),1;if(D=0,K=K===""?".":K+":",w(M))for(var H=0;H<M.length;H++){z=M[H];var ne=K+U(z,H);D+=S(z,L,V,ne,ee)}else if(ne=m(M),typeof ne=="function")for(M=ne.call(M),H=0;!(z=M.next()).done;)z=z.value,ne=K+U(z,H++),D+=S(z,L,V,ne,ee);else if(z==="object")throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return D}function X(M,L,V){if(M==null)return M;var K=[],ee=0;return S(M,K,"","",function(z){return L.call(V,z,ee++)}),K}function ie(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(V){(M._status===0||M._status===-1)&&(M._status=1,M._result=V)},function(V){(M._status===0||M._status===-1)&&(M._status=2,M._result=V)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var Z={current:null},ce={transition:null},re={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:ce,ReactCurrentOwner:k};function ae(){throw Error("act(...) is not supported in production builds of React.")}return $t.Children={map:X,forEach:function(M,L,V){X(M,function(){L.apply(this,arguments)},V)},count:function(M){var L=0;return X(M,function(){L++}),L},toArray:function(M){return X(M,function(L){return L})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},$t.Component=b,$t.Fragment=t,$t.Profiler=i,$t.PureComponent=y,$t.StrictMode=n,$t.Suspense=c,$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,$t.act=ae,$t.cloneElement=function(M,L,V){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var K=v({},M.props),ee=M.key,z=M.ref,D=M._owner;if(L!=null){if(L.ref!==void 0&&(z=L.ref,D=k.current),L.key!==void 0&&(ee=""+L.key),M.type&&M.type.defaultProps)var H=M.type.defaultProps;for(ne in L)j.call(L,ne)&&!I.hasOwnProperty(ne)&&(K[ne]=L[ne]===void 0&&H!==void 0?H[ne]:L[ne])}var ne=arguments.length-2;if(ne===1)K.children=V;else if(1<ne){H=Array(ne);for(var ue=0;ue<ne;ue++)H[ue]=arguments[ue+2];K.children=H}return{$$typeof:r,type:M.type,key:ee,ref:z,props:K,_owner:D}},$t.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},$t.createElement=F,$t.createFactory=function(M){var L=F.bind(null,M);return L.type=M,L},$t.createRef=function(){return{current:null}},$t.forwardRef=function(M){return{$$typeof:l,render:M}},$t.isValidElement=P,$t.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ie}},$t.memo=function(M,L){return{$$typeof:u,type:M,compare:L===void 0?null:L}},$t.startTransition=function(M){var L=ce.transition;ce.transition={};try{M()}finally{ce.transition=L}},$t.unstable_act=ae,$t.useCallback=function(M,L){return Z.current.useCallback(M,L)},$t.useContext=function(M){return Z.current.useContext(M)},$t.useDebugValue=function(){},$t.useDeferredValue=function(M){return Z.current.useDeferredValue(M)},$t.useEffect=function(M,L){return Z.current.useEffect(M,L)},$t.useId=function(){return Z.current.useId()},$t.useImperativeHandle=function(M,L,V){return Z.current.useImperativeHandle(M,L,V)},$t.useInsertionEffect=function(M,L){return Z.current.useInsertionEffect(M,L)},$t.useLayoutEffect=function(M,L){return Z.current.useLayoutEffect(M,L)},$t.useMemo=function(M,L){return Z.current.useMemo(M,L)},$t.useReducer=function(M,L,V){return Z.current.useReducer(M,L,V)},$t.useRef=function(M){return Z.current.useRef(M)},$t.useState=function(M){return Z.current.useState(M)},$t.useSyncExternalStore=function(M,L,V){return Z.current.useSyncExternalStore(M,L,V)},$t.useTransition=function(){return Z.current.useTransition()},$t.version="18.3.1",$t}var lj;function F0(){return lj||(lj=1,iy.exports=BI()),iy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cj;function _I(){if(cj)return Cf;cj=1;var r=F0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var A,f={},m=null,h=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(h=c.ref);for(A in c)n.call(c,A)&&!a.hasOwnProperty(A)&&(f[A]=c[A]);if(l&&l.defaultProps)for(A in c=l.defaultProps,c)f[A]===void 0&&(f[A]=c[A]);return{$$typeof:e,type:l,key:m,ref:h,props:f,_owner:i.current}}return Cf.Fragment=t,Cf.jsx=o,Cf.jsxs=o,Cf}var uj;function CI(){return uj||(uj=1,sy.exports=_I()),sy.exports}var s=CI(),Ae=F0();const iA=W2(Ae);var Ip={},ay={exports:{}},Si={},oy={exports:{}},ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dj;function EI(){return dj||(dj=1,function(r){function e(ce,re){var ae=ce.length;ce.push(re);e:for(;0<ae;){var M=ae-1>>>1,L=ce[M];if(0<i(L,re))ce[M]=re,ce[ae]=L,ae=M;else break e}}function t(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var re=ce[0],ae=ce.pop();if(ae!==re){ce[0]=ae;e:for(var M=0,L=ce.length,V=L>>>1;M<V;){var K=2*(M+1)-1,ee=ce[K],z=K+1,D=ce[z];if(0>i(ee,ae))z<L&&0>i(D,ee)?(ce[M]=D,ce[z]=ae,M=z):(ce[M]=ee,ce[K]=ae,M=K);else if(z<L&&0>i(D,ae))ce[M]=D,ce[z]=ae,M=z;else break e}}return re}function i(ce,re){var ae=ce.sortIndex-re.sortIndex;return ae!==0?ae:ce.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],u=[],A=1,f=null,m=3,h=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ce){for(var re=t(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=ce)n(u),re.sortIndex=re.expirationTime,e(c,re);else break;re=t(u)}}function w(ce){if(x=!1,N(ce),!v)if(t(c)!==null)v=!0,ie(j);else{var re=t(u);re!==null&&Z(w,re.startTime-ce)}}function j(ce,re){v=!1,x&&(x=!1,p(F),F=-1),h=!0;var ae=m;try{for(N(re),f=t(c);f!==null&&(!(f.expirationTime>re)||ce&&!T());){var M=f.callback;if(typeof M=="function"){f.callback=null,m=f.priorityLevel;var L=M(f.expirationTime<=re);re=r.unstable_now(),typeof L=="function"?f.callback=L:f===t(c)&&n(c),N(re)}else n(c);f=t(c)}if(f!==null)var V=!0;else{var K=t(u);K!==null&&Z(w,K.startTime-re),V=!1}return V}finally{f=null,m=ae,h=!1}}var k=!1,I=null,F=-1,C=5,P=-1;function T(){return!(r.unstable_now()-P<C)}function _(){if(I!==null){var ce=r.unstable_now();P=ce;var re=!0;try{re=I(!0,ce)}finally{re?U():(k=!1,I=null)}}else k=!1}var U;if(typeof y=="function")U=function(){y(_)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,X=S.port2;S.port1.onmessage=_,U=function(){X.postMessage(null)}}else U=function(){b(_,0)};function ie(ce){I=ce,k||(k=!0,U())}function Z(ce,re){F=b(function(){ce(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ce){ce.callback=null},r.unstable_continueExecution=function(){v||h||(v=!0,ie(j))},r.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ce?Math.floor(1e3/ce):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(ce){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var ae=m;m=re;try{return ce()}finally{m=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ce,re){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var ae=m;m=ce;try{return re()}finally{m=ae}},r.unstable_scheduleCallback=function(ce,re,ae){var M=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,ce){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ae+L,ce={id:A++,callback:re,priorityLevel:ce,startTime:ae,expirationTime:L,sortIndex:-1},ae>M?(ce.sortIndex=ae,e(u,ce),t(c)===null&&ce===t(u)&&(x?(p(F),F=-1):x=!0,Z(w,ae-M))):(ce.sortIndex=L,e(c,ce),v||h||(v=!0,ie(j))),ce},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(ce){var re=m;return function(){var ae=m;m=re;try{return ce.apply(this,arguments)}finally{m=ae}}}}(ly)),ly}var Aj;function SI(){return Aj||(Aj=1,oy.exports=EI()),oy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hj;function kI(){if(hj)return Si;hj=1;var r=F0(),e=SI();function t(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,B=1;B<arguments.length;B++)g+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(d,g){o(d,g),o(d+"Capture",g)}function o(d,g){for(i[d]=g,d=0;d<g.length;d++)n.add(g[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},f={};function m(d){return c.call(f,d)?!0:c.call(A,d)?!1:u.test(d)?f[d]=!0:(A[d]=!0,!1)}function h(d,g,B,O){if(B!==null&&B.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return O?!1:B!==null?!B.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function v(d,g,B,O){if(g===null||typeof g>"u"||h(d,g,B,O))return!0;if(O)return!1;if(B!==null)switch(B.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function x(d,g,B,O,Y,se,ye){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=O,this.attributeNamespace=Y,this.mustUseProperty=B,this.propertyName=d,this.type=g,this.sanitizeURL=se,this.removeEmptyString=ye}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new x(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];b[g]=new x(g,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new x(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new x(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new x(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new x(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new x(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new x(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new x(d,5,!1,d.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function y(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=d.replace(p,y);b[g]=new x(g,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(p,y);b[g]=new x(g,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(p,y);b[g]=new x(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new x(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new x(d,1,!1,d.toLowerCase(),null,!0,!0)});function N(d,g,B,O){var Y=b.hasOwnProperty(g)?b[g]:null;(Y!==null?Y.type!==0:O||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(v(g,B,Y,O)&&(B=null),O||Y===null?m(g)&&(B===null?d.removeAttribute(g):d.setAttribute(g,""+B)):Y.mustUseProperty?d[Y.propertyName]=B===null?Y.type===3?!1:"":B:(g=Y.attributeName,O=Y.attributeNamespace,B===null?d.removeAttribute(g):(Y=Y.type,B=Y===3||Y===4&&B===!0?"":""+B,O?d.setAttributeNS(O,g,B):d.setAttribute(g,B))))}var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ce=Symbol.iterator;function re(d){return d===null||typeof d!="object"?null:(d=ce&&d[ce]||d["@@iterator"],typeof d=="function"?d:null)}var ae=Object.assign,M;function L(d){if(M===void 0)try{throw Error()}catch(B){var g=B.stack.trim().match(/\n( *(at )?)/);M=g&&g[1]||""}return`
`+M+d}var V=!1;function K(d,g){if(!d||V)return"";V=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ze){var O=ze}Reflect.construct(d,[],g)}else{try{g.call()}catch(ze){O=ze}d.call(g.prototype)}else{try{throw Error()}catch(ze){O=ze}d()}}catch(ze){if(ze&&O&&typeof ze.stack=="string"){for(var Y=ze.stack.split(`
`),se=O.stack.split(`
`),ye=Y.length-1,Se=se.length-1;1<=ye&&0<=Se&&Y[ye]!==se[Se];)Se--;for(;1<=ye&&0<=Se;ye--,Se--)if(Y[ye]!==se[Se]){if(ye!==1||Se!==1)do if(ye--,Se--,0>Se||Y[ye]!==se[Se]){var Ie=`
`+Y[ye].replace(" at new "," at ");return d.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",d.displayName)),Ie}while(1<=ye&&0<=Se);break}}}finally{V=!1,Error.prepareStackTrace=B}return(d=d?d.displayName||d.name:"")?L(d):""}function ee(d){switch(d.tag){case 5:return L(d.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return d=K(d.type,!1),d;case 11:return d=K(d.type.render,!1),d;case 1:return d=K(d.type,!0),d;default:return""}}function z(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case I:return"Fragment";case k:return"Portal";case C:return"Profiler";case F:return"StrictMode";case U:return"Suspense";case S:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case T:return(d.displayName||"Context")+".Consumer";case P:return(d._context.displayName||"Context")+".Provider";case _:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case X:return g=d.displayName||null,g!==null?g:z(d.type)||"Memo";case ie:g=d._payload,d=d._init;try{return z(d(g))}catch{}}return null}function D(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(g);case 8:return g===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function H(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ne(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function ue(d){var g=ne(d)?"checked":"value",B=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),O=""+d[g];if(!d.hasOwnProperty(g)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var Y=B.get,se=B.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return Y.call(this)},set:function(ye){O=""+ye,se.call(this,ye)}}),Object.defineProperty(d,g,{enumerable:B.enumerable}),{getValue:function(){return O},setValue:function(ye){O=""+ye},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function le(d){d._valueTracker||(d._valueTracker=ue(d))}function he(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var B=g.getValue(),O="";return d&&(O=ne(d)?d.checked?"true":"false":d.value),d=O,d!==B?(g.setValue(d),!0):!1}function Be(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function te(d,g){var B=g.checked;return ae({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??d._wrapperState.initialChecked})}function je(d,g){var B=g.defaultValue==null?"":g.defaultValue,O=g.checked!=null?g.checked:g.defaultChecked;B=H(g.value!=null?g.value:B),d._wrapperState={initialChecked:O,initialValue:B,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function $(d,g){g=g.checked,g!=null&&N(d,"checked",g,!1)}function q(d,g){$(d,g);var B=H(g.value),O=g.type;if(B!=null)O==="number"?(B===0&&d.value===""||d.value!=B)&&(d.value=""+B):d.value!==""+B&&(d.value=""+B);else if(O==="submit"||O==="reset"){d.removeAttribute("value");return}g.hasOwnProperty("value")?G(d,g.type,B):g.hasOwnProperty("defaultValue")&&G(d,g.type,H(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(d.defaultChecked=!!g.defaultChecked)}function Q(d,g,B){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var O=g.type;if(!(O!=="submit"&&O!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+d._wrapperState.initialValue,B||g===d.value||(d.value=g),d.defaultValue=g}B=d.name,B!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,B!==""&&(d.name=B)}function G(d,g,B){(g!=="number"||Be(d.ownerDocument)!==d)&&(B==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+B&&(d.defaultValue=""+B))}var me=Array.isArray;function fe(d,g,B,O){if(d=d.options,g){g={};for(var Y=0;Y<B.length;Y++)g["$"+B[Y]]=!0;for(B=0;B<d.length;B++)Y=g.hasOwnProperty("$"+d[B].value),d[B].selected!==Y&&(d[B].selected=Y),Y&&O&&(d[B].defaultSelected=!0)}else{for(B=""+H(B),g=null,Y=0;Y<d.length;Y++){if(d[Y].value===B){d[Y].selected=!0,O&&(d[Y].defaultSelected=!0);return}g!==null||d[Y].disabled||(g=d[Y])}g!==null&&(g.selected=!0)}}function de(d,g){if(g.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function be(d,g){var B=g.value;if(B==null){if(B=g.children,g=g.defaultValue,B!=null){if(g!=null)throw Error(t(92));if(me(B)){if(1<B.length)throw Error(t(93));B=B[0]}g=B}g==null&&(g=""),B=g}d._wrapperState={initialValue:H(B)}}function Ee(d,g){var B=H(g.value),O=H(g.defaultValue);B!=null&&(B=""+B,B!==d.value&&(d.value=B),g.defaultValue==null&&d.defaultValue!==B&&(d.defaultValue=B)),O!=null&&(d.defaultValue=""+O)}function ke(d){var g=d.textContent;g===d._wrapperState.initialValue&&g!==""&&g!==null&&(d.value=g)}function He(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(d,g){return d==null||d==="http://www.w3.org/1999/xhtml"?He(g):d==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var et,ft=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,B,O,Y){MSApp.execUnsafeLocalFunction(function(){return d(g,B,O,Y)})}:d}(function(d,g){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=g;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=et.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;g.firstChild;)d.appendChild(g.firstChild)}});function At(d,g){if(g){var B=d.firstChild;if(B&&B===d.lastChild&&B.nodeType===3){B.nodeValue=g;return}}d.textContent=g}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jr=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(d){Jr.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1),ot[g]=ot[d]})});function _t(d,g,B){return g==null||typeof g=="boolean"||g===""?"":B||typeof g!="number"||g===0||ot.hasOwnProperty(d)&&ot[d]?(""+g).trim():g+"px"}function Mn(d,g){d=d.style;for(var B in g)if(g.hasOwnProperty(B)){var O=B.indexOf("--")===0,Y=_t(B,g[B],O);B==="float"&&(B="cssFloat"),O?d.setProperty(B,Y):d[B]=Y}}var sr=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gt(d,g){if(g){if(sr[d]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(t(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(t(61))}if(g.style!=null&&typeof g.style!="object")throw Error(t(62))}}function us(d,g){if(d.indexOf("-")===-1)return typeof g.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jt=null;function Hi(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Sr=null,vn=null,cn=null;function pr(d){if(d=eu(d)){if(typeof Sr!="function")throw Error(t(280));var g=d.stateNode;g&&(g=gd(g),Sr(d.stateNode,d.type,g))}}function Ot(d){vn?cn?cn.push(d):cn=[d]:vn=d}function ir(){if(vn){var d=vn,g=cn;if(cn=vn=null,pr(d),g)for(d=0;d<g.length;d++)pr(g[d])}}function _o(d,g){return d(g)}function Ln(){}var mi=!1;function qi(d,g,B){if(mi)return d(g,B);mi=!0;try{return _o(d,g,B)}finally{mi=!1,(vn!==null||cn!==null)&&(Ln(),ir())}}function St(d,g){var B=d.stateNode;if(B===null)return null;var O=gd(B);if(O===null)return null;B=O[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(B&&typeof B!="function")throw Error(t(231,g,typeof B));return B}var Xs=!1;if(l)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Xs=!1}function ws(d,g,B,O,Y,se,ye,Se,Ie){var ze=Array.prototype.slice.call(arguments,3);try{g.apply(B,ze)}catch(it){this.onError(it)}}var Qr=!1,Hr=null,$n=!1,Co=null,Ma={onError:function(d){Qr=!0,Hr=d}};function zi(d,g,B,O,Y,se,ye,Se,Ie){Qr=!1,Hr=null,ws.apply(Ma,arguments)}function Ki(d,g,B,O,Y,se,ye,Se,Ie){if(zi.apply(this,arguments),Qr){if(Qr){var ze=Hr;Qr=!1,Hr=null}else throw Error(t(198));$n||($n=!0,Co=ze)}}function Qn(d){var g=d,B=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,(g.flags&4098)!==0&&(B=g.return),d=g.return;while(d)}return g.tag===3?B:null}function Vi(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function Js(d){if(Qn(d)!==d)throw Error(t(188))}function la(d){var g=d.alternate;if(!g){if(g=Qn(d),g===null)throw Error(t(188));return g!==d?null:d}for(var B=d,O=g;;){var Y=B.return;if(Y===null)break;var se=Y.alternate;if(se===null){if(O=Y.return,O!==null){B=O;continue}break}if(Y.child===se.child){for(se=Y.child;se;){if(se===B)return Js(Y),d;if(se===O)return Js(Y),g;se=se.sibling}throw Error(t(188))}if(B.return!==O.return)B=Y,O=se;else{for(var ye=!1,Se=Y.child;Se;){if(Se===B){ye=!0,B=Y,O=se;break}if(Se===O){ye=!0,O=Y,B=se;break}Se=Se.sibling}if(!ye){for(Se=se.child;Se;){if(Se===B){ye=!0,B=se,O=Y;break}if(Se===O){ye=!0,O=se,B=Y;break}Se=Se.sibling}if(!ye)throw Error(t(189))}}if(B.alternate!==O)throw Error(t(190))}if(B.tag!==3)throw Error(t(188));return B.stateNode.current===B?d:g}function Eo(d){return d=la(d),d!==null?bl(d):null}function bl(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=bl(d);if(g!==null)return g;d=d.sibling}return null}var wl=e.unstable_scheduleCallback,Nl=e.unstable_cancelCallback,jc=e.unstable_shouldYield,dA=e.unstable_requestPaint,qr=e.unstable_now,af=e.unstable_getCurrentPriorityLevel,So=e.unstable_ImmediatePriority,Yu=e.unstable_UserBlockingPriority,Bc=e.unstable_NormalPriority,Xu=e.unstable_LowPriority,AA=e.unstable_IdlePriority,jl=null,pi=null;function _c(d){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(jl,d,void 0,(d.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:fA,an=Math.log,hA=Math.LN2;function fA(d){return d>>>=0,d===0?32:31-(an(d)/hA|0)|0}var Bl=64,ko=4194304;function _l(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ns(d,g){var B=d.pendingLanes;if(B===0)return 0;var O=0,Y=d.suspendedLanes,se=d.pingedLanes,ye=B&268435455;if(ye!==0){var Se=ye&~Y;Se!==0?O=_l(Se):(se&=ye,se!==0&&(O=_l(se)))}else ye=B&~Y,ye!==0?O=_l(ye):se!==0&&(O=_l(se));if(O===0)return 0;if(g!==0&&g!==O&&(g&Y)===0&&(Y=O&-O,se=g&-g,Y>=se||Y===16&&(se&4194240)!==0))return g;if((O&4)!==0&&(O|=B&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=O;0<g;)B=31-Zs(g),Y=1<<B,O|=d[B],g&=~Y;return O}function Cc(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(d,g){for(var B=d.suspendedLanes,O=d.pingedLanes,Y=d.expirationTimes,se=d.pendingLanes;0<se;){var ye=31-Zs(se),Se=1<<ye,Ie=Y[ye];Ie===-1?((Se&B)===0||(Se&O)!==0)&&(Y[ye]=Cc(Se,g)):Ie<=g&&(d.expiredLanes|=Se),se&=~Se}}function Cl(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ju(){var d=Bl;return Bl<<=1,(Bl&4194240)===0&&(Bl=64),d}function Zu(d){for(var g=[],B=0;31>B;B++)g.push(d);return g}function Fo(d,g,B){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-Zs(g),d[g]=B}function of(d,g){var B=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var O=d.eventTimes;for(d=d.expirationTimes;0<B;){var Y=31-Zs(B),se=1<<Y;g[Y]=0,O[Y]=-1,d[Y]=-1,B&=~se}}function Ec(d,g){var B=d.entangledLanes|=g;for(d=d.entanglements;B;){var O=31-Zs(B),Y=1<<O;Y&g|d[O]&g&&(d[O]|=g),B&=~Y}}var ar=0;function Sc(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var mA,ed,pA,ca,El,To=!1,Sl=[],zr=null,ua=null,Wi=null,Lt=new Map,kl=new Map,da=[],Aa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(d,g){switch(d){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Lt.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(g.pointerId)}}function Io(d,g,B,O,Y,se){return d===null||d.nativeEvent!==se?(d={blockedOn:g,domEventName:B,eventSystemFlags:O,nativeEvent:se,targetContainers:[Y]},g!==null&&(g=eu(g),g!==null&&ed(g)),d):(d.eventSystemFlags|=O,g=d.targetContainers,Y!==null&&g.indexOf(Y)===-1&&g.push(Y),d)}function kc(d,g,B,O,Y){switch(g){case"focusin":return zr=Io(zr,d,g,B,O,Y),!0;case"dragenter":return ua=Io(ua,d,g,B,O,Y),!0;case"mouseover":return Wi=Io(Wi,d,g,B,O,Y),!0;case"pointerover":var se=Y.pointerId;return Lt.set(se,Io(Lt.get(se)||null,d,g,B,O,Y)),!0;case"gotpointercapture":return se=Y.pointerId,kl.set(se,Io(kl.get(se)||null,d,g,B,O,Y)),!0}return!1}function Fc(d){var g=zo(d.target);if(g!==null){var B=Qn(g);if(B!==null){if(g=B.tag,g===13){if(g=Vi(B),g!==null){d.blockedOn=g,El(d.priority,function(){pA(B)});return}}else if(g===3&&B.stateNode.current.memoizedState.isDehydrated){d.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Tc(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var B=Lc(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if(B===null){B=d.nativeEvent;var O=new B.constructor(B.type,B);Jt=O,B.target.dispatchEvent(O),Jt=null}else return g=eu(B),g!==null&&ed(g),d.blockedOn=B,!1;g.shift()}return!0}function gA(d,g,B){Tc(d)&&B.delete(g)}function lf(){To=!1,zr!==null&&Tc(zr)&&(zr=null),ua!==null&&Tc(ua)&&(ua=null),Wi!==null&&Tc(Wi)&&(Wi=null),Lt.forEach(gA),kl.forEach(gA)}function Qa(d,g){d.blockedOn===g&&(d.blockedOn=null,To||(To=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lf)))}function Gi(d){function g(Y){return Qa(Y,d)}if(0<Sl.length){Qa(Sl[0],d);for(var B=1;B<Sl.length;B++){var O=Sl[B];O.blockedOn===d&&(O.blockedOn=null)}}for(zr!==null&&Qa(zr,d),ua!==null&&Qa(ua,d),Wi!==null&&Qa(Wi,d),Lt.forEach(g),kl.forEach(g),B=0;B<da.length;B++)O=da[B],O.blockedOn===d&&(O.blockedOn=null);for(;0<da.length&&(B=da[0],B.blockedOn===null);)Fc(B),B.blockedOn===null&&da.shift()}var ei=w.ReactCurrentBatchConfig,Ic=!0;function Fl(d,g,B,O){var Y=ar,se=ei.transition;ei.transition=null;try{ar=1,Lo(d,g,B,O)}finally{ar=Y,ei.transition=se}}function rd(d,g,B,O){var Y=ar,se=ei.transition;ei.transition=null;try{ar=4,Lo(d,g,B,O)}finally{ar=Y,ei.transition=se}}function Lo(d,g,B,O){if(Ic){var Y=Lc(d,g,B,O);if(Y===null)fd(d,g,O,Tl,B),td(d,O);else if(kc(Y,d,g,B,O))O.stopPropagation();else if(td(d,O),g&4&&-1<Aa.indexOf(d)){for(;Y!==null;){var se=eu(Y);if(se!==null&&mA(se),se=Lc(d,g,B,O),se===null&&fd(d,g,O,Tl,B),se===Y)break;Y=se}Y!==null&&O.stopPropagation()}else fd(d,g,O,null,B)}}var Tl=null;function Lc(d,g,B,O){if(Tl=null,d=Hi(O),d=zo(d),d!==null)if(g=Qn(d),g===null)d=null;else if(B=g.tag,B===13){if(d=Vi(g),d!==null)return d;d=null}else if(B===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null);return Tl=d,null}function nd(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case So:return 1;case Yu:return 4;case Bc:case Xu:return 16;case AA:return 536870912;default:return 16}default:return 16}}var $i=null,gi=null,xi=null;function xA(){if(xi)return xi;var d,g=gi,B=g.length,O,Y="value"in $i?$i.value:$i.textContent,se=Y.length;for(d=0;d<B&&g[d]===Y[d];d++);var ye=B-d;for(O=1;O<=ye&&g[B-O]===Y[se-O];O++);return xi=Y.slice(d,1<O?1-O:void 0)}function Yi(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function Bs(){return!0}function Dc(){return!1}function bn(d){function g(B,O,Y,se,ye){this._reactName=B,this._targetInst=Y,this.type=O,this.nativeEvent=se,this.target=ye,this.currentTarget=null;for(var Se in d)d.hasOwnProperty(Se)&&(B=d[Se],this[Se]=B?B(se):se[Se]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?Bs:Dc,this.isPropagationStopped=Dc,this}return ae(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),g}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=bn(Do),Il=ae({},Do,{view:0,detail:0}),sd=bn(Il),Ll,Uc,ha,Oo=ae({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ht,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==ha&&(ha&&d.type==="mousemove"?(Ll=d.screenX-ha.screenX,Uc=d.screenY-ha.screenY):Uc=Ll=0,ha=d),Ll)},movementY:function(d){return"movementY"in d?d.movementY:Uc}}),Oc=bn(Oo),yA=ae({},Oo,{dataTransfer:0}),cf=bn(yA),Pc=ae({},Il,{relatedTarget:0}),Ha=bn(Pc),id=ae({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=bn(id),ad=ae({},Do,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),W=bn(ad),ge=ae({},Do,{data:0}),Ce=bn(ge),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ve={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rt(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=Ve[d])?!!g[d]:!1}function ht(){return rt}var Ct=ae({},Il,{key:function(d){if(d.key){var g=Fe[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=Yi(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Pe[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ht,charCode:function(d){return d.type==="keypress"?Yi(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Yi(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Qt=bn(Ct),Mt=ae({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yt=bn(Mt),Kr=ae({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ht}),Zr=bn(Kr),un=ae({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yn=bn(un),Dn=ae({},Oo,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Xi=bn(Dn),ti=[9,13,27,32],yi=l&&"CompositionEvent"in window,Ro=null;l&&"documentMode"in document&&(Ro=document.documentMode);var od=l&&"TextEvent"in window&&!Ro,Rc=l&&(!yi||Ro&&8<Ro&&11>=Ro),Dl=" ",Mc=!1;function Qc(d,g){switch(d){case"keyup":return ti.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ul(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var en=!1;function Hc(d,g){switch(d){case"compositionend":return Ul(g);case"keypress":return g.which!==32?null:(Mc=!0,Dl);case"textInput":return d=g.data,d===Dl&&Mc?null:d;default:return null}}function qc(d,g){if(en)return d==="compositionend"||!yi&&Qc(d,g)?(d=xA(),xi=gi=$i=null,en=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Rc&&g.locale!=="ko"?null:g.data;default:return null}}var zc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!zc[d.type]:g==="textarea"}function ds(d,g,B,O){Ot(O),g=NA(g,"onChange"),0<g.length&&(B=new Uo("onChange","change",null,B,O),d.push({event:B,listeners:g}))}var Ol=null,qa=null;function vA(d){Ad(d,0)}function As(d){var g=Vl(d);if(he(g))return d}function Vc(d,g){if(d==="change")return g}var ld=!1;if(l){var Wc;if(l){var fa="oninput"in document;if(!fa){var Mo=document.createElement("div");Mo.setAttribute("oninput","return;"),fa=typeof Mo.oninput=="function"}Wc=fa}else Wc=!1;ld=Wc&&(!document.documentMode||9<document.documentMode)}function hs(){Ol&&(Ol.detachEvent("onpropertychange",Xn),qa=Ol=null)}function Xn(d){if(d.propertyName==="value"&&As(qa)){var g=[];ds(g,qa,d,Hi(d)),qi(vA,g)}}function Qo(d,g,B){d==="focusin"?(hs(),Ol=g,qa=B,Ol.attachEvent("onpropertychange",Xn)):d==="focusout"&&hs()}function za(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return As(qa)}function Ka(d,g){if(d==="click")return As(g)}function Gc(d,g){if(d==="input"||d==="change")return As(g)}function Va(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var or=typeof Object.is=="function"?Object.is:Va;function Wa(d,g){if(or(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var B=Object.keys(d),O=Object.keys(g);if(B.length!==O.length)return!1;for(O=0;O<B.length;O++){var Y=B[O];if(!c.call(g,Y)||!or(d[Y],g[Y]))return!1}return!0}function Jn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function ri(d,g){var B=Jn(d);d=0;for(var O;B;){if(B.nodeType===3){if(O=d+B.textContent.length,d<=g&&O>=g)return{node:B,offset:g-d};d=O}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=Jn(B)}}function Pl(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?Pl(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function cd(){for(var d=window,g=Be();g instanceof d.HTMLIFrameElement;){try{var B=typeof g.contentWindow.location.href=="string"}catch{B=!1}if(B)d=g.contentWindow;else break;g=Be(d.document)}return g}function Rl(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}function Ml(d){var g=cd(),B=d.focusedElem,O=d.selectionRange;if(g!==B&&B&&B.ownerDocument&&Pl(B.ownerDocument.documentElement,B)){if(O!==null&&Rl(B)){if(g=O.start,d=O.end,d===void 0&&(d=g),"selectionStart"in B)B.selectionStart=g,B.selectionEnd=Math.min(d,B.value.length);else if(d=(g=B.ownerDocument||document)&&g.defaultView||window,d.getSelection){d=d.getSelection();var Y=B.textContent.length,se=Math.min(O.start,Y);O=O.end===void 0?se:Math.min(O.end,Y),!d.extend&&se>O&&(Y=O,O=se,se=Y),Y=ri(B,se);var ye=ri(B,O);Y&&ye&&(d.rangeCount!==1||d.anchorNode!==Y.node||d.anchorOffset!==Y.offset||d.focusNode!==ye.node||d.focusOffset!==ye.offset)&&(g=g.createRange(),g.setStart(Y.node,Y.offset),d.removeAllRanges(),se>O?(d.addRange(g),d.extend(ye.node,ye.offset)):(g.setEnd(ye.node,ye.offset),d.addRange(g)))}}for(g=[],d=B;d=d.parentNode;)d.nodeType===1&&g.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<g.length;B++)d=g[B],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Ql=l&&"documentMode"in document&&11>=document.documentMode,ni=null,Ga=null,ma=null,$a=!1;function Ya(d,g,B){var O=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;$a||ni==null||ni!==Be(O)||(O=ni,"selectionStart"in O&&Rl(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),ma&&Wa(ma,O)||(ma=O,O=NA(Ga,"onSelect"),0<O.length&&(g=new Uo("onSelect","select",null,g,B),d.push({event:g,listeners:O}),g.target=ni)))}function Ho(d,g){var B={};return B[d.toLowerCase()]=g.toLowerCase(),B["Webkit"+d]="webkit"+g,B["Moz"+d]="moz"+g,B}var Hn={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},_s={},Nr={};l&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function hr(d){if(_s[d])return _s[d];if(!Hn[d])return d;var g=Hn[d],B;for(B in g)if(g.hasOwnProperty(B)&&B in Nr)return _s[d]=g[B];return d}var tn=hr("animationend"),dn=hr("animationiteration"),pa=hr("animationstart"),$c=hr("transitionend"),Hl=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(d,g){Hl.set(d,g),a(g,[d])}for(var Yc=0;Yc<ud.length;Yc++){var fs=ud[Yc],vi=fs.toLowerCase(),bA=fs[0].toUpperCase()+fs.slice(1);ga(vi,"on"+bA)}ga(tn,"onAnimationEnd"),ga(dn,"onAnimationIteration"),ga(pa,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga($c,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function dd(d,g,B){var O=d.type||"unknown-event";d.currentTarget=B,Ki(O,g,void 0,d),d.currentTarget=null}function Ad(d,g){g=(g&4)!==0;for(var B=0;B<d.length;B++){var O=d[B],Y=O.event;O=O.listeners;e:{var se=void 0;if(g)for(var ye=O.length-1;0<=ye;ye--){var Se=O[ye],Ie=Se.instance,ze=Se.currentTarget;if(Se=Se.listener,Ie!==se&&Y.isPropagationStopped())break e;dd(Y,Se,ze),se=Ie}else for(ye=0;ye<O.length;ye++){if(Se=O[ye],Ie=Se.instance,ze=Se.currentTarget,Se=Se.listener,Ie!==se&&Y.isPropagationStopped())break e;dd(Y,Se,ze),se=Ie}}}if($n)throw d=Co,$n=!1,Co=null,d}function jr(d,g){var B=g[Es];B===void 0&&(B=g[Es]=new Set);var O=d+"__bubble";B.has(O)||(hd(g,d,2,!1),B.add(O))}function wA(d,g,B){var O=0;g&&(O|=4),hd(B,d,O,g)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function ql(d){if(!d[Xc]){d[Xc]=!0,n.forEach(function(B){B!=="selectionchange"&&(Zm.has(B)||wA(B,!1,d),wA(B,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[Xc]||(g[Xc]=!0,wA("selectionchange",!1,g))}}function hd(d,g,B,O){switch(nd(g)){case 1:var Y=Fl;break;case 4:Y=rd;break;default:Y=Lo}B=Y.bind(null,g,B,d),Y=void 0,!Xs||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(Y=!0),O?Y!==void 0?d.addEventListener(g,B,{capture:!0,passive:Y}):d.addEventListener(g,B,!0):Y!==void 0?d.addEventListener(g,B,{passive:Y}):d.addEventListener(g,B,!1)}function fd(d,g,B,O,Y){var se=O;if((g&1)===0&&(g&2)===0&&O!==null)e:for(;;){if(O===null)return;var ye=O.tag;if(ye===3||ye===4){var Se=O.stateNode.containerInfo;if(Se===Y||Se.nodeType===8&&Se.parentNode===Y)break;if(ye===4)for(ye=O.return;ye!==null;){var Ie=ye.tag;if((Ie===3||Ie===4)&&(Ie=ye.stateNode.containerInfo,Ie===Y||Ie.nodeType===8&&Ie.parentNode===Y))return;ye=ye.return}for(;Se!==null;){if(ye=zo(Se),ye===null)return;if(Ie=ye.tag,Ie===5||Ie===6){O=se=ye;continue e}Se=Se.parentNode}}O=O.return}qi(function(){var ze=se,it=Hi(B),lt=[];e:{var nt=Hl.get(d);if(nt!==void 0){var gt=Uo,bt=d;switch(d){case"keypress":if(Yi(B)===0)break e;case"keydown":case"keyup":gt=Qt;break;case"focusin":bt="focus",gt=Ha;break;case"focusout":bt="blur",gt=Ha;break;case"beforeblur":case"afterblur":gt=Ha;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=Zr;break;case tn:case dn:case pa:gt=Po;break;case $c:gt=Yn;break;case"scroll":gt=sd;break;case"wheel":gt=Xi;break;case"copy":case"cut":case"paste":gt=W;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Yt}var Nt=(g&4)!==0,Bn=!Nt&&d==="scroll",Qe=Nt?nt!==null?nt+"Capture":null:nt;Nt=[];for(var Ue=ze,qe;Ue!==null;){qe=Ue;var ct=qe.stateNode;if(qe.tag===5&&ct!==null&&(qe=ct,Qe!==null&&(ct=St(Ue,Qe),ct!=null&&Nt.push(md(Ue,ct,qe)))),Bn)break;Ue=Ue.return}0<Nt.length&&(nt=new gt(nt,bt,null,B,it),lt.push({event:nt,listeners:Nt}))}}if((g&7)===0){e:{if(nt=d==="mouseover"||d==="pointerover",gt=d==="mouseout"||d==="pointerout",nt&&B!==Jt&&(bt=B.relatedTarget||B.fromElement)&&(zo(bt)||bt[Zn]))break e;if((gt||nt)&&(nt=it.window===it?it:(nt=it.ownerDocument)?nt.defaultView||nt.parentWindow:window,gt?(bt=B.relatedTarget||B.toElement,gt=ze,bt=bt?zo(bt):null,bt!==null&&(Bn=Qn(bt),bt!==Bn||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(gt=null,bt=ze),gt!==bt)){if(Nt=Oc,ct="onMouseLeave",Qe="onMouseEnter",Ue="mouse",(d==="pointerout"||d==="pointerover")&&(Nt=Yt,ct="onPointerLeave",Qe="onPointerEnter",Ue="pointer"),Bn=gt==null?nt:Vl(gt),qe=bt==null?nt:Vl(bt),nt=new Nt(ct,Ue+"leave",gt,B,it),nt.target=Bn,nt.relatedTarget=qe,ct=null,zo(it)===ze&&(Nt=new Nt(Qe,Ue+"enter",bt,B,it),Nt.target=qe,Nt.relatedTarget=Bn,ct=Nt),Bn=ct,gt&&bt)t:{for(Nt=gt,Qe=bt,Ue=0,qe=Nt;qe;qe=zl(qe))Ue++;for(qe=0,ct=Qe;ct;ct=zl(ct))qe++;for(;0<Ue-qe;)Nt=zl(Nt),Ue--;for(;0<qe-Ue;)Qe=zl(Qe),qe--;for(;Ue--;){if(Nt===Qe||Qe!==null&&Nt===Qe.alternate)break t;Nt=zl(Nt),Qe=zl(Qe)}Nt=null}else Nt=null;gt!==null&&ep(lt,nt,gt,Nt,!1),bt!==null&&Bn!==null&&ep(lt,Bn,bt,Nt,!0)}}e:{if(nt=ze?Vl(ze):window,gt=nt.nodeName&&nt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&nt.type==="file")var jt=Vc;else if(Kc(nt))if(ld)jt=Gc;else{jt=za;var Tt=Qo}else(gt=nt.nodeName)&&gt.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(jt=Ka);if(jt&&(jt=jt(d,ze))){ds(lt,jt,B,it);break e}Tt&&Tt(d,nt,ze),d==="focusout"&&(Tt=nt._wrapperState)&&Tt.controlled&&nt.type==="number"&&G(nt,"number",nt.value)}switch(Tt=ze?Vl(ze):window,d){case"focusin":(Kc(Tt)||Tt.contentEditable==="true")&&(ni=Tt,Ga=ze,ma=null);break;case"focusout":ma=Ga=ni=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,Ya(lt,B,it);break;case"selectionchange":if(Ql)break;case"keydown":case"keyup":Ya(lt,B,it)}var It;if(yi)e:{switch(d){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else en?Qc(d,B)&&(Pt="onCompositionEnd"):d==="keydown"&&B.keyCode===229&&(Pt="onCompositionStart");Pt&&(Rc&&B.locale!=="ko"&&(en||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&en&&(It=xA()):($i=it,gi="value"in $i?$i.value:$i.textContent,en=!0)),Tt=NA(ze,Pt),0<Tt.length&&(Pt=new Ce(Pt,d,null,B,it),lt.push({event:Pt,listeners:Tt}),It?Pt.data=It:(It=Ul(B),It!==null&&(Pt.data=It)))),(It=od?Hc(d,B):qc(d,B))&&(ze=NA(ze,"onBeforeInput"),0<ze.length&&(it=new Ce("onBeforeInput","beforeinput",null,B,it),lt.push({event:it,listeners:ze}),it.data=It))}Ad(lt,g)})}function md(d,g,B){return{instance:d,listener:g,currentTarget:B}}function NA(d,g){for(var B=g+"Capture",O=[];d!==null;){var Y=d,se=Y.stateNode;Y.tag===5&&se!==null&&(Y=se,se=St(d,B),se!=null&&O.unshift(md(d,se,Y)),se=St(d,g),se!=null&&O.push(md(d,se,Y))),d=d.return}return O}function zl(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function ep(d,g,B,O,Y){for(var se=g._reactName,ye=[];B!==null&&B!==O;){var Se=B,Ie=Se.alternate,ze=Se.stateNode;if(Ie!==null&&Ie===O)break;Se.tag===5&&ze!==null&&(Se=ze,Y?(Ie=St(B,se),Ie!=null&&ye.unshift(md(B,Ie,Se))):Y||(Ie=St(B,se),Ie!=null&&ye.push(md(B,Ie,Se)))),B=B.return}ye.length!==0&&d.push({event:g,listeners:ye})}var xx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function tp(d){return(typeof d=="string"?d:""+d).replace(xx,`
`).replace(yx,"")}function jA(d,g,B){if(g=tp(g),tp(d)!==g&&B)throw Error(t(425))}function Jc(){}var pd=null,Kl=null;function uf(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,rp=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(d){return np.resolve(null).then(d).catch(bx)}:df;function bx(d){setTimeout(function(){throw d})}function Af(d,g){var B=g,O=0;do{var Y=B.nextSibling;if(d.removeChild(B),Y&&Y.nodeType===8)if(B=Y.data,B==="/$"){if(O===0){d.removeChild(Y),Gi(g);return}O--}else B!=="$"&&B!=="$?"&&B!=="$!"||O++;B=Y}while(B);Gi(g)}function ms(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return d}function bi(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var B=d.data;if(B==="$"||B==="$!"||B==="$?"){if(g===0)return d;g--}else B==="/$"&&g++}d=d.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),xa="__reactFiber$"+Cs,Zc="__reactProps$"+Cs,Zn="__reactContainer$"+Cs,Es="__reactEvents$"+Cs,wx="__reactListeners$"+Cs,Nx="__reactHandles$"+Cs;function zo(d){var g=d[xa];if(g)return g;for(var B=d.parentNode;B;){if(g=B[Zn]||B[xa]){if(B=g.alternate,g.child!==null||B!==null&&B.child!==null)for(d=bi(d);d!==null;){if(B=d[xa])return B;d=bi(d)}return g}d=B,B=d.parentNode}return null}function eu(d){return d=d[xa]||d[Zn],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Vl(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function gd(d){return d[Zc]||null}var hf=[],Xa=-1;function Ji(d){return{current:d}}function fr(d){0>Xa||(d.current=hf[Xa],hf[Xa]=null,Xa--)}function gr(d,g){Xa++,hf[Xa]=d.current,d.current=g}var Ko={},qn=Ji(Ko),Ss=Ji(!1),Wl=Ko;function tu(d,g){var B=d.type.contextTypes;if(!B)return Ko;var O=d.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===g)return O.__reactInternalMemoizedMaskedChildContext;var Y={},se;for(se in B)Y[se]=g[se];return O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=Y),Y}function ks(d){return d=d.childContextTypes,d!=null}function BA(){fr(Ss),fr(qn)}function sp(d,g,B){if(qn.current!==Ko)throw Error(t(168));gr(qn,g),gr(Ss,B)}function ff(d,g,B){var O=d.stateNode;if(g=g.childContextTypes,typeof O.getChildContext!="function")return B;O=O.getChildContext();for(var Y in O)if(!(Y in g))throw Error(t(108,D(d)||"Unknown",Y));return ae({},B,O)}function Gl(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ko,Wl=qn.current,gr(qn,d),gr(Ss,Ss.current),!0}function ip(d,g,B){var O=d.stateNode;if(!O)throw Error(t(169));B?(d=ff(d,g,Wl),O.__reactInternalMemoizedMergedChildContext=d,fr(Ss),fr(qn),gr(qn,d)):fr(Ss),gr(Ss,B)}var Ja=null,xd=!1,E=!1;function R(d){Ja===null?Ja=[d]:Ja.push(d)}function J(d){xd=!0,R(d)}function oe(){if(!E&&Ja!==null){E=!0;var d=0,g=ar;try{var B=Ja;for(ar=1;d<B.length;d++){var O=B[d];do O=O(!0);while(O!==null)}Ja=null,xd=!1}catch(Y){throw Ja!==null&&(Ja=Ja.slice(d+1)),wl(So,oe),Y}finally{ar=g,E=!1}}return null}var pe=[],xe=0,ve=null,we=0,Ne=[],_e=0,Te=null,Re=1,Me="";function Oe(d,g){pe[xe++]=we,pe[xe++]=ve,ve=d,we=g}function Xe(d,g,B){Ne[_e++]=Re,Ne[_e++]=Me,Ne[_e++]=Te,Te=d;var O=Re;d=Me;var Y=32-Zs(O)-1;O&=~(1<<Y),B+=1;var se=32-Zs(g)+Y;if(30<se){var ye=Y-Y%5;se=(O&(1<<ye)-1).toString(32),O>>=ye,Y-=ye,Re=1<<32-Zs(g)+Y|B<<Y|O,Me=se+d}else Re=1<<se|B<<Y|O,Me=d}function Ke(d){d.return!==null&&(Oe(d,1),Xe(d,1,0))}function Le(d){for(;d===ve;)ve=pe[--xe],pe[xe]=null,we=pe[--xe],pe[xe]=null;for(;d===Te;)Te=Ne[--_e],Ne[_e]=null,Me=Ne[--_e],Ne[_e]=null,Re=Ne[--_e],Ne[_e]=null}var De=null,Ge=null,We=!1,$e=null;function mt(d,g){var B=ja(5,null,null,0);B.elementType="DELETED",B.stateNode=g,B.return=d,g=d.deletions,g===null?(d.deletions=[B],d.flags|=16):g.push(B)}function ut(d,g){switch(d.tag){case 5:var B=d.type;return g=g.nodeType!==1||B.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(d.stateNode=g,De=d,Ge=ms(g.firstChild),!0):!1;case 6:return g=d.pendingProps===""||g.nodeType!==3?null:g,g!==null?(d.stateNode=g,De=d,Ge=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(B=Te!==null?{id:Re,overflow:Me}:null,d.memoizedState={dehydrated:g,treeContext:B,retryLane:1073741824},B=ja(18,null,null,0),B.stateNode=g,B.return=d,d.child=B,De=d,Ge=null,!0):!1;default:return!1}}function kt(d){return(d.mode&1)!==0&&(d.flags&128)===0}function dt(d){if(We){var g=Ge;if(g){var B=g;if(!ut(d,g)){if(kt(d))throw Error(t(418));g=ms(B.nextSibling);var O=De;g&&ut(d,g)?mt(O,B):(d.flags=d.flags&-4097|2,We=!1,De=d)}}else{if(kt(d))throw Error(t(418));d.flags=d.flags&-4097|2,We=!1,De=d}}}function tr(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;De=d}function rr(d){if(d!==De)return!1;if(!We)return tr(d),We=!0,!1;var g;if((g=d.tag!==3)&&!(g=d.tag!==5)&&(g=d.type,g=g!=="head"&&g!=="body"&&!uf(d.type,d.memoizedProps)),g&&(g=Ge)){if(kt(d))throw Zt(),Error(t(418));for(;g;)mt(d,g),g=ms(g.nextSibling)}if(tr(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8){var B=d.data;if(B==="/$"){if(g===0){Ge=ms(d.nextSibling);break e}g--}else B!=="$"&&B!=="$!"&&B!=="$?"||g++}d=d.nextSibling}Ge=null}}else Ge=De?ms(d.stateNode.nextSibling):null;return!0}function Zt(){for(var d=Ge;d;)d=ms(d.nextSibling)}function qt(){Ge=De=null,We=!1}function mr(d){$e===null?$e=[d]:$e.push(d)}var xr=w.ReactCurrentBatchConfig;function Ut(d,g,B){if(d=B.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(t(309));var O=B.stateNode}if(!O)throw Error(t(147,d));var Y=O,se=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===se?g.ref:(g=function(ye){var Se=Y.refs;ye===null?delete Se[se]:Se[se]=ye},g._stringRef=se,g)}if(typeof d!="string")throw Error(t(284));if(!B._owner)throw Error(t(290,d))}return d}function Vr(d,g){throw d=Object.prototype.toString.call(g),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function ps(d){var g=d._init;return g(d._payload)}function on(d){function g(Qe,Ue){if(d){var qe=Qe.deletions;qe===null?(Qe.deletions=[Ue],Qe.flags|=16):qe.push(Ue)}}function B(Qe,Ue){if(!d)return null;for(;Ue!==null;)g(Qe,Ue),Ue=Ue.sibling;return null}function O(Qe,Ue){for(Qe=new Map;Ue!==null;)Ue.key!==null?Qe.set(Ue.key,Ue):Qe.set(Ue.index,Ue),Ue=Ue.sibling;return Qe}function Y(Qe,Ue){return Qe=hu(Qe,Ue),Qe.index=0,Qe.sibling=null,Qe}function se(Qe,Ue,qe){return Qe.index=qe,d?(qe=Qe.alternate,qe!==null?(qe=qe.index,qe<Ue?(Qe.flags|=2,Ue):qe):(Qe.flags|=2,Ue)):(Qe.flags|=1048576,Ue)}function ye(Qe){return d&&Qe.alternate===null&&(Qe.flags|=2),Qe}function Se(Qe,Ue,qe,ct){return Ue===null||Ue.tag!==6?(Ue=Jx(qe,Qe.mode,ct),Ue.return=Qe,Ue):(Ue=Y(Ue,qe),Ue.return=Qe,Ue)}function Ie(Qe,Ue,qe,ct){var jt=qe.type;return jt===I?it(Qe,Ue,qe.props.children,ct,qe.key):Ue!==null&&(Ue.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===ie&&ps(jt)===Ue.type)?(ct=Y(Ue,qe.props),ct.ref=Ut(Qe,Ue,qe),ct.return=Qe,ct):(ct=Bp(qe.type,qe.key,qe.props,null,Qe.mode,ct),ct.ref=Ut(Qe,Ue,qe),ct.return=Qe,ct)}function ze(Qe,Ue,qe,ct){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==qe.containerInfo||Ue.stateNode.implementation!==qe.implementation?(Ue=Zx(qe,Qe.mode,ct),Ue.return=Qe,Ue):(Ue=Y(Ue,qe.children||[]),Ue.return=Qe,Ue)}function it(Qe,Ue,qe,ct,jt){return Ue===null||Ue.tag!==7?(Ue=_d(qe,Qe.mode,ct,jt),Ue.return=Qe,Ue):(Ue=Y(Ue,qe),Ue.return=Qe,Ue)}function lt(Qe,Ue,qe){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=Jx(""+Ue,Qe.mode,qe),Ue.return=Qe,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case j:return qe=Bp(Ue.type,Ue.key,Ue.props,null,Qe.mode,qe),qe.ref=Ut(Qe,null,Ue),qe.return=Qe,qe;case k:return Ue=Zx(Ue,Qe.mode,qe),Ue.return=Qe,Ue;case ie:var ct=Ue._init;return lt(Qe,ct(Ue._payload),qe)}if(me(Ue)||re(Ue))return Ue=_d(Ue,Qe.mode,qe,null),Ue.return=Qe,Ue;Vr(Qe,Ue)}return null}function nt(Qe,Ue,qe,ct){var jt=Ue!==null?Ue.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return jt!==null?null:Se(Qe,Ue,""+qe,ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case j:return qe.key===jt?Ie(Qe,Ue,qe,ct):null;case k:return qe.key===jt?ze(Qe,Ue,qe,ct):null;case ie:return jt=qe._init,nt(Qe,Ue,jt(qe._payload),ct)}if(me(qe)||re(qe))return jt!==null?null:it(Qe,Ue,qe,ct,null);Vr(Qe,qe)}return null}function gt(Qe,Ue,qe,ct,jt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return Qe=Qe.get(qe)||null,Se(Ue,Qe,""+ct,jt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case j:return Qe=Qe.get(ct.key===null?qe:ct.key)||null,Ie(Ue,Qe,ct,jt);case k:return Qe=Qe.get(ct.key===null?qe:ct.key)||null,ze(Ue,Qe,ct,jt);case ie:var Tt=ct._init;return gt(Qe,Ue,qe,Tt(ct._payload),jt)}if(me(ct)||re(ct))return Qe=Qe.get(qe)||null,it(Ue,Qe,ct,jt,null);Vr(Ue,ct)}return null}function bt(Qe,Ue,qe,ct){for(var jt=null,Tt=null,It=Ue,Pt=Ue=0,ns=null;It!==null&&Pt<qe.length;Pt++){It.index>Pt?(ns=It,It=null):ns=It.sibling;var Ar=nt(Qe,It,qe[Pt],ct);if(Ar===null){It===null&&(It=ns);break}d&&It&&Ar.alternate===null&&g(Qe,It),Ue=se(Ar,Ue,Pt),Tt===null?jt=Ar:Tt.sibling=Ar,Tt=Ar,It=ns}if(Pt===qe.length)return B(Qe,It),We&&Oe(Qe,Pt),jt;if(It===null){for(;Pt<qe.length;Pt++)It=lt(Qe,qe[Pt],ct),It!==null&&(Ue=se(It,Ue,Pt),Tt===null?jt=It:Tt.sibling=It,Tt=It);return We&&Oe(Qe,Pt),jt}for(It=O(Qe,It);Pt<qe.length;Pt++)ns=gt(It,Qe,Pt,qe[Pt],ct),ns!==null&&(d&&ns.alternate!==null&&It.delete(ns.key===null?Pt:ns.key),Ue=se(ns,Ue,Pt),Tt===null?jt=ns:Tt.sibling=ns,Tt=ns);return d&&It.forEach(function(fu){return g(Qe,fu)}),We&&Oe(Qe,Pt),jt}function Nt(Qe,Ue,qe,ct){var jt=re(qe);if(typeof jt!="function")throw Error(t(150));if(qe=jt.call(qe),qe==null)throw Error(t(151));for(var Tt=jt=null,It=Ue,Pt=Ue=0,ns=null,Ar=qe.next();It!==null&&!Ar.done;Pt++,Ar=qe.next()){It.index>Pt?(ns=It,It=null):ns=It.sibling;var fu=nt(Qe,It,Ar.value,ct);if(fu===null){It===null&&(It=ns);break}d&&It&&fu.alternate===null&&g(Qe,It),Ue=se(fu,Ue,Pt),Tt===null?jt=fu:Tt.sibling=fu,Tt=fu,It=ns}if(Ar.done)return B(Qe,It),We&&Oe(Qe,Pt),jt;if(It===null){for(;!Ar.done;Pt++,Ar=qe.next())Ar=lt(Qe,Ar.value,ct),Ar!==null&&(Ue=se(Ar,Ue,Pt),Tt===null?jt=Ar:Tt.sibling=Ar,Tt=Ar);return We&&Oe(Qe,Pt),jt}for(It=O(Qe,It);!Ar.done;Pt++,Ar=qe.next())Ar=gt(It,Qe,Pt,Ar.value,ct),Ar!==null&&(d&&Ar.alternate!==null&&It.delete(Ar.key===null?Pt:Ar.key),Ue=se(Ar,Ue,Pt),Tt===null?jt=Ar:Tt.sibling=Ar,Tt=Ar);return d&&It.forEach(function(NI){return g(Qe,NI)}),We&&Oe(Qe,Pt),jt}function Bn(Qe,Ue,qe,ct){if(typeof qe=="object"&&qe!==null&&qe.type===I&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case j:e:{for(var jt=qe.key,Tt=Ue;Tt!==null;){if(Tt.key===jt){if(jt=qe.type,jt===I){if(Tt.tag===7){B(Qe,Tt.sibling),Ue=Y(Tt,qe.props.children),Ue.return=Qe,Qe=Ue;break e}}else if(Tt.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===ie&&ps(jt)===Tt.type){B(Qe,Tt.sibling),Ue=Y(Tt,qe.props),Ue.ref=Ut(Qe,Tt,qe),Ue.return=Qe,Qe=Ue;break e}B(Qe,Tt);break}else g(Qe,Tt);Tt=Tt.sibling}qe.type===I?(Ue=_d(qe.props.children,Qe.mode,ct,qe.key),Ue.return=Qe,Qe=Ue):(ct=Bp(qe.type,qe.key,qe.props,null,Qe.mode,ct),ct.ref=Ut(Qe,Ue,qe),ct.return=Qe,Qe=ct)}return ye(Qe);case k:e:{for(Tt=qe.key;Ue!==null;){if(Ue.key===Tt)if(Ue.tag===4&&Ue.stateNode.containerInfo===qe.containerInfo&&Ue.stateNode.implementation===qe.implementation){B(Qe,Ue.sibling),Ue=Y(Ue,qe.children||[]),Ue.return=Qe,Qe=Ue;break e}else{B(Qe,Ue);break}else g(Qe,Ue);Ue=Ue.sibling}Ue=Zx(qe,Qe.mode,ct),Ue.return=Qe,Qe=Ue}return ye(Qe);case ie:return Tt=qe._init,Bn(Qe,Ue,Tt(qe._payload),ct)}if(me(qe))return bt(Qe,Ue,qe,ct);if(re(qe))return Nt(Qe,Ue,qe,ct);Vr(Qe,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,Ue!==null&&Ue.tag===6?(B(Qe,Ue.sibling),Ue=Y(Ue,qe),Ue.return=Qe,Qe=Ue):(B(Qe,Ue),Ue=Jx(qe,Qe.mode,ct),Ue.return=Qe,Qe=Ue),ye(Qe)):B(Qe,Ue)}return Bn}var wn=on(!0),ur=on(!1),es=Ji(null),ts=null,Wr=null,Nn=null;function zn(){Nn=Wr=ts=null}function Fs(d){var g=es.current;fr(es),d._currentValue=g}function wi(d,g,B){for(;d!==null;){var O=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,O!==null&&(O.childLanes|=g)):O!==null&&(O.childLanes&g)!==g&&(O.childLanes|=g),d===B)break;d=d.return}}function Gr(d,g){ts=d,Nn=Wr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&g)!==0&&(_i=!0),d.firstContext=null)}function An(d){var g=d._currentValue;if(Nn!==d)if(d={context:d,memoizedValue:g,next:null},Wr===null){if(ts===null)throw Error(t(308));Wr=d,ts.dependencies={lanes:0,firstContext:d}}else Wr=Wr.next=d;return g}var si=null;function Vo(d){si===null?si=[d]:si.push(d)}function Za(d,g,B,O){var Y=g.interleaved;return Y===null?(B.next=B,Vo(g)):(B.next=Y.next,Y.next=B),g.interleaved=B,dr(d,O)}function dr(d,g){d.lanes|=g;var B=d.alternate;for(B!==null&&(B.lanes|=g),B=d,d=d.return;d!==null;)d.childLanes|=g,B=d.alternate,B!==null&&(B.childLanes|=g),B=d,d=d.return;return B.tag===3?B.stateNode:null}var ya=!1;function _A(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ni(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function ji(d,g,B){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(lr&2)!==0){var Y=O.pending;return Y===null?g.next=g:(g.next=Y.next,Y.next=g),O.pending=g,dr(d,B)}return Y=O.interleaved,Y===null?(g.next=g,Vo(O)):(g.next=Y.next,Y.next=g),O.interleaved=g,dr(d,B)}function $l(d,g,B){if(g=g.updateQueue,g!==null&&(g=g.shared,(B&4194240)!==0)){var O=g.lanes;O&=d.pendingLanes,B|=O,g.lanes=B,Ec(d,B)}}function Bi(d,g){var B=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,B===O)){var Y=null,se=null;if(B=B.firstBaseUpdate,B!==null){do{var ye={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};se===null?Y=se=ye:se=se.next=ye,B=B.next}while(B!==null);se===null?Y=se=g:se=se.next=g}else Y=se=g;B={baseState:O.baseState,firstBaseUpdate:Y,lastBaseUpdate:se,shared:O.shared,effects:O.effects},d.updateQueue=B;return}d=B.lastBaseUpdate,d===null?B.firstBaseUpdate=g:d.next=g,B.lastBaseUpdate=g}function eo(d,g,B,O){var Y=d.updateQueue;ya=!1;var se=Y.firstBaseUpdate,ye=Y.lastBaseUpdate,Se=Y.shared.pending;if(Se!==null){Y.shared.pending=null;var Ie=Se,ze=Ie.next;Ie.next=null,ye===null?se=ze:ye.next=ze,ye=Ie;var it=d.alternate;it!==null&&(it=it.updateQueue,Se=it.lastBaseUpdate,Se!==ye&&(Se===null?it.firstBaseUpdate=ze:Se.next=ze,it.lastBaseUpdate=Ie))}if(se!==null){var lt=Y.baseState;ye=0,it=ze=Ie=null,Se=se;do{var nt=Se.lane,gt=Se.eventTime;if((O&nt)===nt){it!==null&&(it=it.next={eventTime:gt,lane:0,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null});e:{var bt=d,Nt=Se;switch(nt=g,gt=B,Nt.tag){case 1:if(bt=Nt.payload,typeof bt=="function"){lt=bt.call(gt,lt,nt);break e}lt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Nt.payload,nt=typeof bt=="function"?bt.call(gt,lt,nt):bt,nt==null)break e;lt=ae({},lt,nt);break e;case 2:ya=!0}}Se.callback!==null&&Se.lane!==0&&(d.flags|=64,nt=Y.effects,nt===null?Y.effects=[Se]:nt.push(Se))}else gt={eventTime:gt,lane:nt,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},it===null?(ze=it=gt,Ie=lt):it=it.next=gt,ye|=nt;if(Se=Se.next,Se===null){if(Se=Y.shared.pending,Se===null)break;nt=Se,Se=nt.next,nt.next=null,Y.lastBaseUpdate=nt,Y.shared.pending=null}}while(!0);if(it===null&&(Ie=lt),Y.baseState=Ie,Y.firstBaseUpdate=ze,Y.lastBaseUpdate=it,g=Y.shared.interleaved,g!==null){Y=g;do ye|=Y.lane,Y=Y.next;while(Y!==g)}else se===null&&(Y.shared.lanes=0);wd|=ye,d.lanes=ye,d.memoizedState=lt}}function Yl(d,g,B){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var O=d[g],Y=O.callback;if(Y!==null){if(O.callback=null,O=B,typeof Y!="function")throw Error(t(191,Y));Y.call(O)}}}var ru={},ii=Ji(ru),nu=Ji(ru),Wo=Ji(ru);function to(d){if(d===ru)throw Error(t(174));return d}function su(d,g){switch(gr(Wo,g),gr(nu,d),gr(ii,ru),d=g.nodeType,d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Ye(null,"");break;default:d=d===8?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=Ye(g,d)}fr(ii),gr(ii,g)}function va(){fr(ii),fr(nu),fr(Wo)}function ap(d){to(Wo.current);var g=to(ii.current),B=Ye(g,d.type);g!==B&&(gr(nu,d),gr(ii,B))}function pf(d){nu.current===d&&(fr(ii),fr(nu))}var Ir=Ji(0);function Zi(d){for(var g=d;g!==null;){if(g.tag===13){var B=g.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var gf=[];function xf(){for(var d=0;d<gf.length;d++)gf[d]._workInProgressVersionPrimary=null;gf.length=0}var CA=w.ReactCurrentDispatcher,EA=w.ReactCurrentBatchConfig,ba=0,Or=null,hn=null,ln=null,iu=!1,ro=!1,au=0,jx=0;function jn(){throw Error(t(321))}function SA(d,g){if(g===null)return!1;for(var B=0;B<g.length&&B<d.length;B++)if(!or(d[B],g[B]))return!1;return!0}function yd(d,g,B,O,Y,se){if(ba=se,Or=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,CA.current=d===null||d.memoizedState===null?$T:YT,d=B(O,Y),ro){se=0;do{if(ro=!1,au=0,25<=se)throw Error(t(301));se+=1,ln=hn=null,g.updateQueue=null,CA.current=XT,d=B(O,Y)}while(ro)}if(CA.current=dp,g=hn!==null&&hn.next!==null,ba=0,ln=hn=Or=null,iu=!1,g)throw Error(t(300));return d}function wa(){var d=au!==0;return au=0,d}function ea(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Or.memoizedState=ln=d:ln=ln.next=d,ln}function ai(){if(hn===null){var d=Or.alternate;d=d!==null?d.memoizedState:null}else d=hn.next;var g=ln===null?Or.memoizedState:ln.next;if(g!==null)ln=g,hn=d;else{if(d===null)throw Error(t(310));hn=d,d={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},ln===null?Or.memoizedState=ln=d:ln=ln.next=d}return ln}function vd(d,g){return typeof g=="function"?g(d):g}function kA(d){var g=ai(),B=g.queue;if(B===null)throw Error(t(311));B.lastRenderedReducer=d;var O=hn,Y=O.baseQueue,se=B.pending;if(se!==null){if(Y!==null){var ye=Y.next;Y.next=se.next,se.next=ye}O.baseQueue=Y=se,B.pending=null}if(Y!==null){se=Y.next,O=O.baseState;var Se=ye=null,Ie=null,ze=se;do{var it=ze.lane;if((ba&it)===it)Ie!==null&&(Ie=Ie.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),O=ze.hasEagerState?ze.eagerState:d(O,ze.action);else{var lt={lane:it,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};Ie===null?(Se=Ie=lt,ye=O):Ie=Ie.next=lt,Or.lanes|=it,wd|=it}ze=ze.next}while(ze!==null&&ze!==se);Ie===null?ye=O:Ie.next=Se,or(O,g.memoizedState)||(_i=!0),g.memoizedState=O,g.baseState=ye,g.baseQueue=Ie,B.lastRenderedState=O}if(d=B.interleaved,d!==null){Y=d;do se=Y.lane,Or.lanes|=se,wd|=se,Y=Y.next;while(Y!==d)}else Y===null&&(B.lanes=0);return[g.memoizedState,B.dispatch]}function Go(d){var g=ai(),B=g.queue;if(B===null)throw Error(t(311));B.lastRenderedReducer=d;var O=B.dispatch,Y=B.pending,se=g.memoizedState;if(Y!==null){B.pending=null;var ye=Y=Y.next;do se=d(se,ye.action),ye=ye.next;while(ye!==Y);or(se,g.memoizedState)||(_i=!0),g.memoizedState=se,g.baseQueue===null&&(g.baseState=se),B.lastRenderedState=se}return[se,O]}function op(){}function yf(d,g){var B=Or,O=ai(),Y=g(),se=!or(O.memoizedState,Y);if(se&&(O.memoizedState=Y,_i=!0),O=O.queue,IA(cp.bind(null,B,O,d),[d]),O.getSnapshot!==g||se||ln!==null&&ln.memoizedState.tag&1){if(B.flags|=2048,oi(9,vf.bind(null,B,O,Y,g),void 0,null),rs===null)throw Error(t(349));(ba&30)!==0||lp(B,g,Y)}return Y}function lp(d,g,B){d.flags|=16384,d={getSnapshot:g,value:B},g=Or.updateQueue,g===null?(g={lastEffect:null,stores:null},Or.updateQueue=g,g.stores=[d]):(B=g.stores,B===null?g.stores=[d]:B.push(d))}function vf(d,g,B,O){g.value=B,g.getSnapshot=O,ou(g)&&FA(d)}function cp(d,g,B){return B(function(){ou(g)&&FA(d)})}function ou(d){var g=d.getSnapshot;d=d.value;try{var B=g();return!or(d,B)}catch{return!0}}function FA(d){var g=dr(d,1);g!==null&&oo(g,d,1,-1)}function bd(d){var g=ea();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:d},g.queue=d,d=d.dispatch=GT.bind(null,Or,d),[g.memoizedState,d]}function oi(d,g,B,O){return d={tag:d,create:g,destroy:B,deps:O,next:null},g=Or.updateQueue,g===null?(g={lastEffect:null,stores:null},Or.updateQueue=g,g.lastEffect=d.next=d):(B=g.lastEffect,B===null?g.lastEffect=d.next=d:(O=B.next,B.next=d,d.next=O,g.lastEffect=d)),d}function no(){return ai().memoizedState}function ta(d,g,B,O){var Y=ea();Or.flags|=d,Y.memoizedState=oi(1|g,B,void 0,O===void 0?null:O)}function Xl(d,g,B,O){var Y=ai();O=O===void 0?null:O;var se=void 0;if(hn!==null){var ye=hn.memoizedState;if(se=ye.destroy,O!==null&&SA(O,ye.deps)){Y.memoizedState=oi(g,B,se,O);return}}Or.flags|=d,Y.memoizedState=oi(1|g,B,se,O)}function TA(d,g){return ta(8390656,8,d,g)}function IA(d,g){return Xl(2048,8,d,g)}function up(d,g){return Xl(4,2,d,g)}function LA(d,g){return Xl(4,4,d,g)}function DA(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function iN(d,g,B){return B=B!=null?B.concat([d]):null,Xl(4,4,DA.bind(null,g,d),B)}function Bx(){}function aN(d,g){var B=ai();g=g===void 0?null:g;var O=B.memoizedState;return O!==null&&g!==null&&SA(g,O[1])?O[0]:(B.memoizedState=[d,g],d)}function oN(d,g){var B=ai();g=g===void 0?null:g;var O=B.memoizedState;return O!==null&&g!==null&&SA(g,O[1])?O[0]:(d=d(),B.memoizedState=[d,g],d)}function lN(d,g,B){return(ba&21)===0?(d.baseState&&(d.baseState=!1,_i=!0),d.memoizedState=B):(or(B,g)||(B=Ju(),Or.lanes|=B,wd|=B,d.baseState=!0),g)}function VT(d,g){var B=ar;ar=B!==0&&4>B?B:4,d(!0);var O=EA.transition;EA.transition={};try{d(!1),g()}finally{ar=B,EA.transition=O}}function cN(){return ai().memoizedState}function WT(d,g,B){var O=du(d);if(B={lane:O,action:B,hasEagerState:!1,eagerState:null,next:null},uN(d))dN(g,B);else if(B=Za(d,g,B,O),B!==null){var Y=ci();oo(B,d,O,Y),AN(B,g,O)}}function GT(d,g,B){var O=du(d),Y={lane:O,action:B,hasEagerState:!1,eagerState:null,next:null};if(uN(d))dN(g,Y);else{var se=d.alternate;if(d.lanes===0&&(se===null||se.lanes===0)&&(se=g.lastRenderedReducer,se!==null))try{var ye=g.lastRenderedState,Se=se(ye,B);if(Y.hasEagerState=!0,Y.eagerState=Se,or(Se,ye)){var Ie=g.interleaved;Ie===null?(Y.next=Y,Vo(g)):(Y.next=Ie.next,Ie.next=Y),g.interleaved=Y;return}}catch{}finally{}B=Za(d,g,Y,O),B!==null&&(Y=ci(),oo(B,d,O,Y),AN(B,g,O))}}function uN(d){var g=d.alternate;return d===Or||g!==null&&g===Or}function dN(d,g){ro=iu=!0;var B=d.pending;B===null?g.next=g:(g.next=B.next,B.next=g),d.pending=g}function AN(d,g,B){if((B&4194240)!==0){var O=g.lanes;O&=d.pendingLanes,B|=O,g.lanes=B,Ec(d,B)}}var dp={readContext:An,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},$T={readContext:An,useCallback:function(d,g){return ea().memoizedState=[d,g===void 0?null:g],d},useContext:An,useEffect:TA,useImperativeHandle:function(d,g,B){return B=B!=null?B.concat([d]):null,ta(4194308,4,DA.bind(null,g,d),B)},useLayoutEffect:function(d,g){return ta(4194308,4,d,g)},useInsertionEffect:function(d,g){return ta(4,2,d,g)},useMemo:function(d,g){var B=ea();return g=g===void 0?null:g,d=d(),B.memoizedState=[d,g],d},useReducer:function(d,g,B){var O=ea();return g=B!==void 0?B(g):g,O.memoizedState=O.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},O.queue=d,d=d.dispatch=WT.bind(null,Or,d),[O.memoizedState,d]},useRef:function(d){var g=ea();return d={current:d},g.memoizedState=d},useState:bd,useDebugValue:Bx,useDeferredValue:function(d){return ea().memoizedState=d},useTransition:function(){var d=bd(!1),g=d[0];return d=VT.bind(null,d[1]),ea().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,B){var O=Or,Y=ea();if(We){if(B===void 0)throw Error(t(407));B=B()}else{if(B=g(),rs===null)throw Error(t(349));(ba&30)!==0||lp(O,g,B)}Y.memoizedState=B;var se={value:B,getSnapshot:g};return Y.queue=se,TA(cp.bind(null,O,se,d),[d]),O.flags|=2048,oi(9,vf.bind(null,O,se,B,g),void 0,null),B},useId:function(){var d=ea(),g=rs.identifierPrefix;if(We){var B=Me,O=Re;B=(O&~(1<<32-Zs(O)-1)).toString(32)+B,g=":"+g+"R"+B,B=au++,0<B&&(g+="H"+B.toString(32)),g+=":"}else B=jx++,g=":"+g+"r"+B.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},YT={readContext:An,useCallback:aN,useContext:An,useEffect:IA,useImperativeHandle:iN,useInsertionEffect:up,useLayoutEffect:LA,useMemo:oN,useReducer:kA,useRef:no,useState:function(){return kA(vd)},useDebugValue:Bx,useDeferredValue:function(d){var g=ai();return lN(g,hn.memoizedState,d)},useTransition:function(){var d=kA(vd)[0],g=ai().memoizedState;return[d,g]},useMutableSource:op,useSyncExternalStore:yf,useId:cN,unstable_isNewReconciler:!1},XT={readContext:An,useCallback:aN,useContext:An,useEffect:IA,useImperativeHandle:iN,useInsertionEffect:up,useLayoutEffect:LA,useMemo:oN,useReducer:Go,useRef:no,useState:function(){return Go(vd)},useDebugValue:Bx,useDeferredValue:function(d){var g=ai();return hn===null?g.memoizedState=d:lN(g,hn.memoizedState,d)},useTransition:function(){var d=Go(vd)[0],g=ai().memoizedState;return[d,g]},useMutableSource:op,useSyncExternalStore:yf,useId:cN,unstable_isNewReconciler:!1};function so(d,g){if(d&&d.defaultProps){g=ae({},g),d=d.defaultProps;for(var B in d)g[B]===void 0&&(g[B]=d[B]);return g}return g}function _x(d,g,B,O){g=d.memoizedState,B=B(O,g),B=B==null?g:ae({},g,B),d.memoizedState=B,d.lanes===0&&(d.updateQueue.baseState=B)}var Ap={isMounted:function(d){return(d=d._reactInternals)?Qn(d)===d:!1},enqueueSetState:function(d,g,B){d=d._reactInternals;var O=ci(),Y=du(d),se=Ni(O,Y);se.payload=g,B!=null&&(se.callback=B),g=ji(d,se,Y),g!==null&&(oo(g,d,Y,O),$l(g,d,Y))},enqueueReplaceState:function(d,g,B){d=d._reactInternals;var O=ci(),Y=du(d),se=Ni(O,Y);se.tag=1,se.payload=g,B!=null&&(se.callback=B),g=ji(d,se,Y),g!==null&&(oo(g,d,Y,O),$l(g,d,Y))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var B=ci(),O=du(d),Y=Ni(B,O);Y.tag=2,g!=null&&(Y.callback=g),g=ji(d,Y,O),g!==null&&(oo(g,d,O,B),$l(g,d,O))}};function hN(d,g,B,O,Y,se,ye){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,se,ye):g.prototype&&g.prototype.isPureReactComponent?!Wa(B,O)||!Wa(Y,se):!0}function fN(d,g,B){var O=!1,Y=Ko,se=g.contextType;return typeof se=="object"&&se!==null?se=An(se):(Y=ks(g)?Wl:qn.current,O=g.contextTypes,se=(O=O!=null)?tu(d,Y):Ko),g=new g(B,se),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ap,d.stateNode=g,g._reactInternals=d,O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=Y,d.__reactInternalMemoizedMaskedChildContext=se),g}function mN(d,g,B,O){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(B,O),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(B,O),g.state!==d&&Ap.enqueueReplaceState(g,g.state,null)}function Cx(d,g,B,O){var Y=d.stateNode;Y.props=B,Y.state=d.memoizedState,Y.refs={},_A(d);var se=g.contextType;typeof se=="object"&&se!==null?Y.context=An(se):(se=ks(g)?Wl:qn.current,Y.context=tu(d,se)),Y.state=d.memoizedState,se=g.getDerivedStateFromProps,typeof se=="function"&&(_x(d,g,se,B),Y.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(g=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),g!==Y.state&&Ap.enqueueReplaceState(Y,Y.state,null),eo(d,B,Y,O),Y.state=d.memoizedState),typeof Y.componentDidMount=="function"&&(d.flags|=4194308)}function UA(d,g){try{var B="",O=g;do B+=ee(O),O=O.return;while(O);var Y=B}catch(se){Y=`
Error generating stack: `+se.message+`
`+se.stack}return{value:d,source:g,stack:Y,digest:null}}function Ex(d,g,B){return{value:d,source:null,stack:B??null,digest:g??null}}function Sx(d,g){try{console.error(g.value)}catch(B){setTimeout(function(){throw B})}}var JT=typeof WeakMap=="function"?WeakMap:Map;function pN(d,g,B){B=Ni(-1,B),B.tag=3,B.payload={element:null};var O=g.value;return B.callback=function(){yp||(yp=!0,zx=O),Sx(d,g)},B}function gN(d,g,B){B=Ni(-1,B),B.tag=3;var O=d.type.getDerivedStateFromError;if(typeof O=="function"){var Y=g.value;B.payload=function(){return O(Y)},B.callback=function(){Sx(d,g)}}var se=d.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(B.callback=function(){Sx(d,g),typeof O!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var ye=g.stack;this.componentDidCatch(g.value,{componentStack:ye!==null?ye:""})}),B}function xN(d,g,B){var O=d.pingCache;if(O===null){O=d.pingCache=new JT;var Y=new Set;O.set(g,Y)}else Y=O.get(g),Y===void 0&&(Y=new Set,O.set(g,Y));Y.has(B)||(Y.add(B),d=AI.bind(null,d,g,B),g.then(d,d))}function yN(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function vN(d,g,B,O,Y){return(d.mode&1)===0?(d===g?d.flags|=65536:(d.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(g=Ni(-1,1),g.tag=2,ji(B,g,1))),B.lanes|=1),d):(d.flags|=65536,d.lanes=Y,d)}var ZT=w.ReactCurrentOwner,_i=!1;function li(d,g,B,O){g.child=d===null?ur(g,null,B,O):wn(g,d.child,B,O)}function bN(d,g,B,O,Y){B=B.render;var se=g.ref;return Gr(g,Y),O=yd(d,g,B,O,se,Y),B=wa(),d!==null&&!_i?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~Y,Jl(d,g,Y)):(We&&B&&Ke(g),g.flags|=1,li(d,g,O,Y),g.child)}function wN(d,g,B,O,Y){if(d===null){var se=B.type;return typeof se=="function"&&!Xx(se)&&se.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(g.tag=15,g.type=se,NN(d,g,se,O,Y)):(d=Bp(B.type,null,O,g,g.mode,Y),d.ref=g.ref,d.return=g,g.child=d)}if(se=d.child,(d.lanes&Y)===0){var ye=se.memoizedProps;if(B=B.compare,B=B!==null?B:Wa,B(ye,O)&&d.ref===g.ref)return Jl(d,g,Y)}return g.flags|=1,d=hu(se,O),d.ref=g.ref,d.return=g,g.child=d}function NN(d,g,B,O,Y){if(d!==null){var se=d.memoizedProps;if(Wa(se,O)&&d.ref===g.ref)if(_i=!1,g.pendingProps=O=se,(d.lanes&Y)!==0)(d.flags&131072)!==0&&(_i=!0);else return g.lanes=d.lanes,Jl(d,g,Y)}return kx(d,g,B,O,Y)}function jN(d,g,B){var O=g.pendingProps,Y=O.children,se=d!==null?d.memoizedState:null;if(O.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(PA,ra),ra|=B;else{if((B&1073741824)===0)return d=se!==null?se.baseLanes|B:B,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null,transitions:null},g.updateQueue=null,gr(PA,ra),ra|=d,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=se!==null?se.baseLanes:B,gr(PA,ra),ra|=O}else se!==null?(O=se.baseLanes|B,g.memoizedState=null):O=B,gr(PA,ra),ra|=O;return li(d,g,Y,B),g.child}function BN(d,g){var B=g.ref;(d===null&&B!==null||d!==null&&d.ref!==B)&&(g.flags|=512,g.flags|=2097152)}function kx(d,g,B,O,Y){var se=ks(B)?Wl:qn.current;return se=tu(g,se),Gr(g,Y),B=yd(d,g,B,O,se,Y),O=wa(),d!==null&&!_i?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~Y,Jl(d,g,Y)):(We&&O&&Ke(g),g.flags|=1,li(d,g,B,Y),g.child)}function _N(d,g,B,O,Y){if(ks(B)){var se=!0;Gl(g)}else se=!1;if(Gr(g,Y),g.stateNode===null)fp(d,g),fN(g,B,O),Cx(g,B,O,Y),O=!0;else if(d===null){var ye=g.stateNode,Se=g.memoizedProps;ye.props=Se;var Ie=ye.context,ze=B.contextType;typeof ze=="object"&&ze!==null?ze=An(ze):(ze=ks(B)?Wl:qn.current,ze=tu(g,ze));var it=B.getDerivedStateFromProps,lt=typeof it=="function"||typeof ye.getSnapshotBeforeUpdate=="function";lt||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Se!==O||Ie!==ze)&&mN(g,ye,O,ze),ya=!1;var nt=g.memoizedState;ye.state=nt,eo(g,O,ye,Y),Ie=g.memoizedState,Se!==O||nt!==Ie||Ss.current||ya?(typeof it=="function"&&(_x(g,B,it,O),Ie=g.memoizedState),(Se=ya||hN(g,B,Se,O,nt,Ie,ze))?(lt||typeof ye.UNSAFE_componentWillMount!="function"&&typeof ye.componentWillMount!="function"||(typeof ye.componentWillMount=="function"&&ye.componentWillMount(),typeof ye.UNSAFE_componentWillMount=="function"&&ye.UNSAFE_componentWillMount()),typeof ye.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ye.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=O,g.memoizedState=Ie),ye.props=O,ye.state=Ie,ye.context=ze,O=Se):(typeof ye.componentDidMount=="function"&&(g.flags|=4194308),O=!1)}else{ye=g.stateNode,mf(d,g),Se=g.memoizedProps,ze=g.type===g.elementType?Se:so(g.type,Se),ye.props=ze,lt=g.pendingProps,nt=ye.context,Ie=B.contextType,typeof Ie=="object"&&Ie!==null?Ie=An(Ie):(Ie=ks(B)?Wl:qn.current,Ie=tu(g,Ie));var gt=B.getDerivedStateFromProps;(it=typeof gt=="function"||typeof ye.getSnapshotBeforeUpdate=="function")||typeof ye.UNSAFE_componentWillReceiveProps!="function"&&typeof ye.componentWillReceiveProps!="function"||(Se!==lt||nt!==Ie)&&mN(g,ye,O,Ie),ya=!1,nt=g.memoizedState,ye.state=nt,eo(g,O,ye,Y);var bt=g.memoizedState;Se!==lt||nt!==bt||Ss.current||ya?(typeof gt=="function"&&(_x(g,B,gt,O),bt=g.memoizedState),(ze=ya||hN(g,B,ze,O,nt,bt,Ie)||!1)?(it||typeof ye.UNSAFE_componentWillUpdate!="function"&&typeof ye.componentWillUpdate!="function"||(typeof ye.componentWillUpdate=="function"&&ye.componentWillUpdate(O,bt,Ie),typeof ye.UNSAFE_componentWillUpdate=="function"&&ye.UNSAFE_componentWillUpdate(O,bt,Ie)),typeof ye.componentDidUpdate=="function"&&(g.flags|=4),typeof ye.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ye.componentDidUpdate!="function"||Se===d.memoizedProps&&nt===d.memoizedState||(g.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Se===d.memoizedProps&&nt===d.memoizedState||(g.flags|=1024),g.memoizedProps=O,g.memoizedState=bt),ye.props=O,ye.state=bt,ye.context=Ie,O=ze):(typeof ye.componentDidUpdate!="function"||Se===d.memoizedProps&&nt===d.memoizedState||(g.flags|=4),typeof ye.getSnapshotBeforeUpdate!="function"||Se===d.memoizedProps&&nt===d.memoizedState||(g.flags|=1024),O=!1)}return Fx(d,g,B,O,se,Y)}function Fx(d,g,B,O,Y,se){BN(d,g);var ye=(g.flags&128)!==0;if(!O&&!ye)return Y&&ip(g,B,!1),Jl(d,g,se);O=g.stateNode,ZT.current=g;var Se=ye&&typeof B.getDerivedStateFromError!="function"?null:O.render();return g.flags|=1,d!==null&&ye?(g.child=wn(g,d.child,null,se),g.child=wn(g,null,Se,se)):li(d,g,Se,se),g.memoizedState=O.state,Y&&ip(g,B,!0),g.child}function CN(d){var g=d.stateNode;g.pendingContext?sp(d,g.pendingContext,g.pendingContext!==g.context):g.context&&sp(d,g.context,!1),su(d,g.containerInfo)}function EN(d,g,B,O,Y){return qt(),mr(Y),g.flags|=256,li(d,g,B,O),g.child}var Tx={dehydrated:null,treeContext:null,retryLane:0};function Ix(d){return{baseLanes:d,cachePool:null,transitions:null}}function SN(d,g,B){var O=g.pendingProps,Y=Ir.current,se=!1,ye=(g.flags&128)!==0,Se;if((Se=ye)||(Se=d!==null&&d.memoizedState===null?!1:(Y&2)!==0),Se?(se=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(Y|=1),gr(Ir,Y&1),d===null)return dt(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((g.mode&1)===0?g.lanes=1:d.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(ye=O.children,d=O.fallback,se?(O=g.mode,se=g.child,ye={mode:"hidden",children:ye},(O&1)===0&&se!==null?(se.childLanes=0,se.pendingProps=ye):se=_p(ye,O,0,null),d=_d(d,O,B,null),se.return=g,d.return=g,se.sibling=d,g.child=se,g.child.memoizedState=Ix(B),g.memoizedState=Tx,d):Lx(g,ye));if(Y=d.memoizedState,Y!==null&&(Se=Y.dehydrated,Se!==null))return eI(d,g,ye,O,Se,Y,B);if(se){se=O.fallback,ye=g.mode,Y=d.child,Se=Y.sibling;var Ie={mode:"hidden",children:O.children};return(ye&1)===0&&g.child!==Y?(O=g.child,O.childLanes=0,O.pendingProps=Ie,g.deletions=null):(O=hu(Y,Ie),O.subtreeFlags=Y.subtreeFlags&14680064),Se!==null?se=hu(Se,se):(se=_d(se,ye,B,null),se.flags|=2),se.return=g,O.return=g,O.sibling=se,g.child=O,O=se,se=g.child,ye=d.child.memoizedState,ye=ye===null?Ix(B):{baseLanes:ye.baseLanes|B,cachePool:null,transitions:ye.transitions},se.memoizedState=ye,se.childLanes=d.childLanes&~B,g.memoizedState=Tx,O}return se=d.child,d=se.sibling,O=hu(se,{mode:"visible",children:O.children}),(g.mode&1)===0&&(O.lanes=B),O.return=g,O.sibling=null,d!==null&&(B=g.deletions,B===null?(g.deletions=[d],g.flags|=16):B.push(d)),g.child=O,g.memoizedState=null,O}function Lx(d,g){return g=_p({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function hp(d,g,B,O){return O!==null&&mr(O),wn(g,d.child,null,B),d=Lx(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function eI(d,g,B,O,Y,se,ye){if(B)return g.flags&256?(g.flags&=-257,O=Ex(Error(t(422))),hp(d,g,ye,O)):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(se=O.fallback,Y=g.mode,O=_p({mode:"visible",children:O.children},Y,0,null),se=_d(se,Y,ye,null),se.flags|=2,O.return=g,se.return=g,O.sibling=se,g.child=O,(g.mode&1)!==0&&wn(g,d.child,null,ye),g.child.memoizedState=Ix(ye),g.memoizedState=Tx,se);if((g.mode&1)===0)return hp(d,g,ye,null);if(Y.data==="$!"){if(O=Y.nextSibling&&Y.nextSibling.dataset,O)var Se=O.dgst;return O=Se,se=Error(t(419)),O=Ex(se,O,void 0),hp(d,g,ye,O)}if(Se=(ye&d.childLanes)!==0,_i||Se){if(O=rs,O!==null){switch(ye&-ye){case 4:Y=2;break;case 16:Y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Y=32;break;case 536870912:Y=268435456;break;default:Y=0}Y=(Y&(O.suspendedLanes|ye))!==0?0:Y,Y!==0&&Y!==se.retryLane&&(se.retryLane=Y,dr(d,Y),oo(O,d,Y,-1))}return Yx(),O=Ex(Error(t(421))),hp(d,g,ye,O)}return Y.data==="$?"?(g.flags|=128,g.child=d.child,g=hI.bind(null,d),Y._reactRetry=g,null):(d=se.treeContext,Ge=ms(Y.nextSibling),De=g,We=!0,$e=null,d!==null&&(Ne[_e++]=Re,Ne[_e++]=Me,Ne[_e++]=Te,Re=d.id,Me=d.overflow,Te=g),g=Lx(g,O.children),g.flags|=4096,g)}function kN(d,g,B){d.lanes|=g;var O=d.alternate;O!==null&&(O.lanes|=g),wi(d.return,g,B)}function Dx(d,g,B,O,Y){var se=d.memoizedState;se===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:O,tail:B,tailMode:Y}:(se.isBackwards=g,se.rendering=null,se.renderingStartTime=0,se.last=O,se.tail=B,se.tailMode=Y)}function FN(d,g,B){var O=g.pendingProps,Y=O.revealOrder,se=O.tail;if(li(d,g,O.children,B),O=Ir.current,(O&2)!==0)O=O&1|2,g.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&kN(d,B,g);else if(d.tag===19)kN(d,B,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}if(gr(Ir,O),(g.mode&1)===0)g.memoizedState=null;else switch(Y){case"forwards":for(B=g.child,Y=null;B!==null;)d=B.alternate,d!==null&&Zi(d)===null&&(Y=B),B=B.sibling;B=Y,B===null?(Y=g.child,g.child=null):(Y=B.sibling,B.sibling=null),Dx(g,!1,Y,B,se);break;case"backwards":for(B=null,Y=g.child,g.child=null;Y!==null;){if(d=Y.alternate,d!==null&&Zi(d)===null){g.child=Y;break}d=Y.sibling,Y.sibling=B,B=Y,Y=d}Dx(g,!0,B,null,se);break;case"together":Dx(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function fp(d,g){(g.mode&1)===0&&d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2)}function Jl(d,g,B){if(d!==null&&(g.dependencies=d.dependencies),wd|=g.lanes,(B&g.childLanes)===0)return null;if(d!==null&&g.child!==d.child)throw Error(t(153));if(g.child!==null){for(d=g.child,B=hu(d,d.pendingProps),g.child=B,B.return=g;d.sibling!==null;)d=d.sibling,B=B.sibling=hu(d,d.pendingProps),B.return=g;B.sibling=null}return g.child}function tI(d,g,B){switch(g.tag){case 3:CN(g),qt();break;case 5:ap(g);break;case 1:ks(g.type)&&Gl(g);break;case 4:su(g,g.stateNode.containerInfo);break;case 10:var O=g.type._context,Y=g.memoizedProps.value;gr(es,O._currentValue),O._currentValue=Y;break;case 13:if(O=g.memoizedState,O!==null)return O.dehydrated!==null?(gr(Ir,Ir.current&1),g.flags|=128,null):(B&g.child.childLanes)!==0?SN(d,g,B):(gr(Ir,Ir.current&1),d=Jl(d,g,B),d!==null?d.sibling:null);gr(Ir,Ir.current&1);break;case 19:if(O=(B&g.childLanes)!==0,(d.flags&128)!==0){if(O)return FN(d,g,B);g.flags|=128}if(Y=g.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),gr(Ir,Ir.current),O)break;return null;case 22:case 23:return g.lanes=0,jN(d,g,B)}return Jl(d,g,B)}var TN,Ux,IN,LN;TN=function(d,g){for(var B=g.child;B!==null;){if(B.tag===5||B.tag===6)d.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===g)break;for(;B.sibling===null;){if(B.return===null||B.return===g)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},Ux=function(){},IN=function(d,g,B,O){var Y=d.memoizedProps;if(Y!==O){d=g.stateNode,to(ii.current);var se=null;switch(B){case"input":Y=te(d,Y),O=te(d,O),se=[];break;case"select":Y=ae({},Y,{value:void 0}),O=ae({},O,{value:void 0}),se=[];break;case"textarea":Y=de(d,Y),O=de(d,O),se=[];break;default:typeof Y.onClick!="function"&&typeof O.onClick=="function"&&(d.onclick=Jc)}Gt(B,O);var ye;B=null;for(ze in Y)if(!O.hasOwnProperty(ze)&&Y.hasOwnProperty(ze)&&Y[ze]!=null)if(ze==="style"){var Se=Y[ze];for(ye in Se)Se.hasOwnProperty(ye)&&(B||(B={}),B[ye]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(i.hasOwnProperty(ze)?se||(se=[]):(se=se||[]).push(ze,null));for(ze in O){var Ie=O[ze];if(Se=Y?.[ze],O.hasOwnProperty(ze)&&Ie!==Se&&(Ie!=null||Se!=null))if(ze==="style")if(Se){for(ye in Se)!Se.hasOwnProperty(ye)||Ie&&Ie.hasOwnProperty(ye)||(B||(B={}),B[ye]="");for(ye in Ie)Ie.hasOwnProperty(ye)&&Se[ye]!==Ie[ye]&&(B||(B={}),B[ye]=Ie[ye])}else B||(se||(se=[]),se.push(ze,B)),B=Ie;else ze==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Se=Se?Se.__html:void 0,Ie!=null&&Se!==Ie&&(se=se||[]).push(ze,Ie)):ze==="children"?typeof Ie!="string"&&typeof Ie!="number"||(se=se||[]).push(ze,""+Ie):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(i.hasOwnProperty(ze)?(Ie!=null&&ze==="onScroll"&&jr("scroll",d),se||Se===Ie||(se=[])):(se=se||[]).push(ze,Ie))}B&&(se=se||[]).push("style",B);var ze=se;(g.updateQueue=ze)&&(g.flags|=4)}},LN=function(d,g,B,O){B!==O&&(g.flags|=4)};function bf(d,g){if(!We)switch(d.tailMode){case"hidden":g=d.tail;for(var B=null;g!==null;)g.alternate!==null&&(B=g),g=g.sibling;B===null?d.tail=null:B.sibling=null;break;case"collapsed":B=d.tail;for(var O=null;B!==null;)B.alternate!==null&&(O=B),B=B.sibling;O===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Ts(d){var g=d.alternate!==null&&d.alternate.child===d.child,B=0,O=0;if(g)for(var Y=d.child;Y!==null;)B|=Y.lanes|Y.childLanes,O|=Y.subtreeFlags&14680064,O|=Y.flags&14680064,Y.return=d,Y=Y.sibling;else for(Y=d.child;Y!==null;)B|=Y.lanes|Y.childLanes,O|=Y.subtreeFlags,O|=Y.flags,Y.return=d,Y=Y.sibling;return d.subtreeFlags|=O,d.childLanes=B,g}function rI(d,g,B){var O=g.pendingProps;switch(Le(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(g),null;case 1:return ks(g.type)&&BA(),Ts(g),null;case 3:return O=g.stateNode,va(),fr(Ss),fr(qn),xf(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(d===null||d.child===null)&&(rr(g)?g.flags|=4:d===null||d.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,$e!==null&&(Wx($e),$e=null))),Ux(d,g),Ts(g),null;case 5:pf(g);var Y=to(Wo.current);if(B=g.type,d!==null&&g.stateNode!=null)IN(d,g,B,O,Y),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!O){if(g.stateNode===null)throw Error(t(166));return Ts(g),null}if(d=to(ii.current),rr(g)){O=g.stateNode,B=g.type;var se=g.memoizedProps;switch(O[xa]=g,O[Zc]=se,d=(g.mode&1)!==0,B){case"dialog":jr("cancel",O),jr("close",O);break;case"iframe":case"object":case"embed":jr("load",O);break;case"video":case"audio":for(Y=0;Y<qo.length;Y++)jr(qo[Y],O);break;case"source":jr("error",O);break;case"img":case"image":case"link":jr("error",O),jr("load",O);break;case"details":jr("toggle",O);break;case"input":je(O,se),jr("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!se.multiple},jr("invalid",O);break;case"textarea":be(O,se),jr("invalid",O)}Gt(B,se),Y=null;for(var ye in se)if(se.hasOwnProperty(ye)){var Se=se[ye];ye==="children"?typeof Se=="string"?O.textContent!==Se&&(se.suppressHydrationWarning!==!0&&jA(O.textContent,Se,d),Y=["children",Se]):typeof Se=="number"&&O.textContent!==""+Se&&(se.suppressHydrationWarning!==!0&&jA(O.textContent,Se,d),Y=["children",""+Se]):i.hasOwnProperty(ye)&&Se!=null&&ye==="onScroll"&&jr("scroll",O)}switch(B){case"input":le(O),Q(O,se,!0);break;case"textarea":le(O),ke(O);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(O.onclick=Jc)}O=Y,g.updateQueue=O,O!==null&&(g.flags|=4)}else{ye=Y.nodeType===9?Y:Y.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=He(B)),d==="http://www.w3.org/1999/xhtml"?B==="script"?(d=ye.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof O.is=="string"?d=ye.createElement(B,{is:O.is}):(d=ye.createElement(B),B==="select"&&(ye=d,O.multiple?ye.multiple=!0:O.size&&(ye.size=O.size))):d=ye.createElementNS(d,B),d[xa]=g,d[Zc]=O,TN(d,g,!1,!1),g.stateNode=d;e:{switch(ye=us(B,O),B){case"dialog":jr("cancel",d),jr("close",d),Y=O;break;case"iframe":case"object":case"embed":jr("load",d),Y=O;break;case"video":case"audio":for(Y=0;Y<qo.length;Y++)jr(qo[Y],d);Y=O;break;case"source":jr("error",d),Y=O;break;case"img":case"image":case"link":jr("error",d),jr("load",d),Y=O;break;case"details":jr("toggle",d),Y=O;break;case"input":je(d,O),Y=te(d,O),jr("invalid",d);break;case"option":Y=O;break;case"select":d._wrapperState={wasMultiple:!!O.multiple},Y=ae({},O,{value:void 0}),jr("invalid",d);break;case"textarea":be(d,O),Y=de(d,O),jr("invalid",d);break;default:Y=O}Gt(B,Y),Se=Y;for(se in Se)if(Se.hasOwnProperty(se)){var Ie=Se[se];se==="style"?Mn(d,Ie):se==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Ie!=null&&ft(d,Ie)):se==="children"?typeof Ie=="string"?(B!=="textarea"||Ie!=="")&&At(d,Ie):typeof Ie=="number"&&At(d,""+Ie):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?Ie!=null&&se==="onScroll"&&jr("scroll",d):Ie!=null&&N(d,se,Ie,ye))}switch(B){case"input":le(d),Q(d,O,!1);break;case"textarea":le(d),ke(d);break;case"option":O.value!=null&&d.setAttribute("value",""+H(O.value));break;case"select":d.multiple=!!O.multiple,se=O.value,se!=null?fe(d,!!O.multiple,se,!1):O.defaultValue!=null&&fe(d,!!O.multiple,O.defaultValue,!0);break;default:typeof Y.onClick=="function"&&(d.onclick=Jc)}switch(B){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Ts(g),null;case 6:if(d&&g.stateNode!=null)LN(d,g,d.memoizedProps,O);else{if(typeof O!="string"&&g.stateNode===null)throw Error(t(166));if(B=to(Wo.current),to(ii.current),rr(g)){if(O=g.stateNode,B=g.memoizedProps,O[xa]=g,(se=O.nodeValue!==B)&&(d=De,d!==null))switch(d.tag){case 3:jA(O.nodeValue,B,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&jA(O.nodeValue,B,(d.mode&1)!==0)}se&&(g.flags|=4)}else O=(B.nodeType===9?B:B.ownerDocument).createTextNode(O),O[xa]=g,g.stateNode=O}return Ts(g),null;case 13:if(fr(Ir),O=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(We&&Ge!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Zt(),qt(),g.flags|=98560,se=!1;else if(se=rr(g),O!==null&&O.dehydrated!==null){if(d===null){if(!se)throw Error(t(318));if(se=g.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(t(317));se[xa]=g}else qt(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ts(g),se=!1}else $e!==null&&(Wx($e),$e=null),se=!0;if(!se)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=B,g):(O=O!==null,O!==(d!==null&&d.memoizedState!==null)&&O&&(g.child.flags|=8192,(g.mode&1)!==0&&(d===null||(Ir.current&1)!==0?Kn===0&&(Kn=3):Yx())),g.updateQueue!==null&&(g.flags|=4),Ts(g),null);case 4:return va(),Ux(d,g),d===null&&ql(g.stateNode.containerInfo),Ts(g),null;case 10:return Fs(g.type._context),Ts(g),null;case 17:return ks(g.type)&&BA(),Ts(g),null;case 19:if(fr(Ir),se=g.memoizedState,se===null)return Ts(g),null;if(O=(g.flags&128)!==0,ye=se.rendering,ye===null)if(O)bf(se,!1);else{if(Kn!==0||d!==null&&(d.flags&128)!==0)for(d=g.child;d!==null;){if(ye=Zi(d),ye!==null){for(g.flags|=128,bf(se,!1),O=ye.updateQueue,O!==null&&(g.updateQueue=O,g.flags|=4),g.subtreeFlags=0,O=B,B=g.child;B!==null;)se=B,d=O,se.flags&=14680066,ye=se.alternate,ye===null?(se.childLanes=0,se.lanes=d,se.child=null,se.subtreeFlags=0,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=ye.childLanes,se.lanes=ye.lanes,se.child=ye.child,se.subtreeFlags=0,se.deletions=null,se.memoizedProps=ye.memoizedProps,se.memoizedState=ye.memoizedState,se.updateQueue=ye.updateQueue,se.type=ye.type,d=ye.dependencies,se.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),B=B.sibling;return gr(Ir,Ir.current&1|2),g.child}d=d.sibling}se.tail!==null&&qr()>RA&&(g.flags|=128,O=!0,bf(se,!1),g.lanes=4194304)}else{if(!O)if(d=Zi(ye),d!==null){if(g.flags|=128,O=!0,B=d.updateQueue,B!==null&&(g.updateQueue=B,g.flags|=4),bf(se,!0),se.tail===null&&se.tailMode==="hidden"&&!ye.alternate&&!We)return Ts(g),null}else 2*qr()-se.renderingStartTime>RA&&B!==1073741824&&(g.flags|=128,O=!0,bf(se,!1),g.lanes=4194304);se.isBackwards?(ye.sibling=g.child,g.child=ye):(B=se.last,B!==null?B.sibling=ye:g.child=ye,se.last=ye)}return se.tail!==null?(g=se.tail,se.rendering=g,se.tail=g.sibling,se.renderingStartTime=qr(),g.sibling=null,B=Ir.current,gr(Ir,O?B&1|2:B&1),g):(Ts(g),null);case 22:case 23:return $x(),O=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==O&&(g.flags|=8192),O&&(g.mode&1)!==0?(ra&1073741824)!==0&&(Ts(g),g.subtreeFlags&6&&(g.flags|=8192)):Ts(g),null;case 24:return null;case 25:return null}throw Error(t(156,g.tag))}function nI(d,g){switch(Le(g),g.tag){case 1:return ks(g.type)&&BA(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return va(),fr(Ss),fr(qn),xf(),d=g.flags,(d&65536)!==0&&(d&128)===0?(g.flags=d&-65537|128,g):null;case 5:return pf(g),null;case 13:if(fr(Ir),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(t(340));qt()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return fr(Ir),null;case 4:return va(),null;case 10:return Fs(g.type._context),null;case 22:case 23:return $x(),null;case 24:return null;default:return null}}var mp=!1,Is=!1,sI=typeof WeakSet=="function"?WeakSet:Set,yt=null;function OA(d,g){var B=d.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(O){fn(d,g,O)}else B.current=null}function Ox(d,g,B){try{B()}catch(O){fn(d,g,O)}}var DN=!1;function iI(d,g){if(pd=Ic,d=cd(),Rl(d)){if("selectionStart"in d)var B={start:d.selectionStart,end:d.selectionEnd};else e:{B=(B=d.ownerDocument)&&B.defaultView||window;var O=B.getSelection&&B.getSelection();if(O&&O.rangeCount!==0){B=O.anchorNode;var Y=O.anchorOffset,se=O.focusNode;O=O.focusOffset;try{B.nodeType,se.nodeType}catch{B=null;break e}var ye=0,Se=-1,Ie=-1,ze=0,it=0,lt=d,nt=null;t:for(;;){for(var gt;lt!==B||Y!==0&&lt.nodeType!==3||(Se=ye+Y),lt!==se||O!==0&&lt.nodeType!==3||(Ie=ye+O),lt.nodeType===3&&(ye+=lt.nodeValue.length),(gt=lt.firstChild)!==null;)nt=lt,lt=gt;for(;;){if(lt===d)break t;if(nt===B&&++ze===Y&&(Se=ye),nt===se&&++it===O&&(Ie=ye),(gt=lt.nextSibling)!==null)break;lt=nt,nt=lt.parentNode}lt=gt}B=Se===-1||Ie===-1?null:{start:Se,end:Ie}}else B=null}B=B||{start:0,end:0}}else B=null;for(Kl={focusedElem:d,selectionRange:B},Ic=!1,yt=g;yt!==null;)if(g=yt,d=g.child,(g.subtreeFlags&1028)!==0&&d!==null)d.return=g,yt=d;else for(;yt!==null;){g=yt;try{var bt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Nt=bt.memoizedProps,Bn=bt.memoizedState,Qe=g.stateNode,Ue=Qe.getSnapshotBeforeUpdate(g.elementType===g.type?Nt:so(g.type,Nt),Bn);Qe.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:var qe=g.stateNode.containerInfo;qe.nodeType===1?qe.textContent="":qe.nodeType===9&&qe.documentElement&&qe.removeChild(qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ct){fn(g,g.return,ct)}if(d=g.sibling,d!==null){d.return=g.return,yt=d;break}yt=g.return}return bt=DN,DN=!1,bt}function wf(d,g,B){var O=g.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var Y=O=O.next;do{if((Y.tag&d)===d){var se=Y.destroy;Y.destroy=void 0,se!==void 0&&Ox(g,B,se)}Y=Y.next}while(Y!==O)}}function pp(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var B=g=g.next;do{if((B.tag&d)===d){var O=B.create;B.destroy=O()}B=B.next}while(B!==g)}}function Px(d){var g=d.ref;if(g!==null){var B=d.stateNode;switch(d.tag){case 5:d=B;break;default:d=B}typeof g=="function"?g(d):g.current=d}}function UN(d){var g=d.alternate;g!==null&&(d.alternate=null,UN(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&(delete g[xa],delete g[Zc],delete g[Es],delete g[wx],delete g[Nx])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function ON(d){return d.tag===5||d.tag===3||d.tag===4}function PN(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||ON(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Rx(d,g,B){var O=d.tag;if(O===5||O===6)d=d.stateNode,g?B.nodeType===8?B.parentNode.insertBefore(d,g):B.insertBefore(d,g):(B.nodeType===8?(g=B.parentNode,g.insertBefore(d,B)):(g=B,g.appendChild(d)),B=B._reactRootContainer,B!=null||g.onclick!==null||(g.onclick=Jc));else if(O!==4&&(d=d.child,d!==null))for(Rx(d,g,B),d=d.sibling;d!==null;)Rx(d,g,B),d=d.sibling}function Mx(d,g,B){var O=d.tag;if(O===5||O===6)d=d.stateNode,g?B.insertBefore(d,g):B.appendChild(d);else if(O!==4&&(d=d.child,d!==null))for(Mx(d,g,B),d=d.sibling;d!==null;)Mx(d,g,B),d=d.sibling}var gs=null,io=!1;function lu(d,g,B){for(B=B.child;B!==null;)RN(d,g,B),B=B.sibling}function RN(d,g,B){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(jl,B)}catch{}switch(B.tag){case 5:Is||OA(B,g);case 6:var O=gs,Y=io;gs=null,lu(d,g,B),gs=O,io=Y,gs!==null&&(io?(d=gs,B=B.stateNode,d.nodeType===8?d.parentNode.removeChild(B):d.removeChild(B)):gs.removeChild(B.stateNode));break;case 18:gs!==null&&(io?(d=gs,B=B.stateNode,d.nodeType===8?Af(d.parentNode,B):d.nodeType===1&&Af(d,B),Gi(d)):Af(gs,B.stateNode));break;case 4:O=gs,Y=io,gs=B.stateNode.containerInfo,io=!0,lu(d,g,B),gs=O,io=Y;break;case 0:case 11:case 14:case 15:if(!Is&&(O=B.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){Y=O=O.next;do{var se=Y,ye=se.destroy;se=se.tag,ye!==void 0&&((se&2)!==0||(se&4)!==0)&&Ox(B,g,ye),Y=Y.next}while(Y!==O)}lu(d,g,B);break;case 1:if(!Is&&(OA(B,g),O=B.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=B.memoizedProps,O.state=B.memoizedState,O.componentWillUnmount()}catch(Se){fn(B,g,Se)}lu(d,g,B);break;case 21:lu(d,g,B);break;case 22:B.mode&1?(Is=(O=Is)||B.memoizedState!==null,lu(d,g,B),Is=O):lu(d,g,B);break;default:lu(d,g,B)}}function MN(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var B=d.stateNode;B===null&&(B=d.stateNode=new sI),g.forEach(function(O){var Y=fI.bind(null,d,O);B.has(O)||(B.add(O),O.then(Y,Y))})}}function ao(d,g){var B=g.deletions;if(B!==null)for(var O=0;O<B.length;O++){var Y=B[O];try{var se=d,ye=g,Se=ye;e:for(;Se!==null;){switch(Se.tag){case 5:gs=Se.stateNode,io=!1;break e;case 3:gs=Se.stateNode.containerInfo,io=!0;break e;case 4:gs=Se.stateNode.containerInfo,io=!0;break e}Se=Se.return}if(gs===null)throw Error(t(160));RN(se,ye,Y),gs=null,io=!1;var Ie=Y.alternate;Ie!==null&&(Ie.return=null),Y.return=null}catch(ze){fn(Y,g,ze)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)QN(g,d),g=g.sibling}function QN(d,g){var B=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ao(g,d),$o(d),O&4){try{wf(3,d,d.return),pp(3,d)}catch(Nt){fn(d,d.return,Nt)}try{wf(5,d,d.return)}catch(Nt){fn(d,d.return,Nt)}}break;case 1:ao(g,d),$o(d),O&512&&B!==null&&OA(B,B.return);break;case 5:if(ao(g,d),$o(d),O&512&&B!==null&&OA(B,B.return),d.flags&32){var Y=d.stateNode;try{At(Y,"")}catch(Nt){fn(d,d.return,Nt)}}if(O&4&&(Y=d.stateNode,Y!=null)){var se=d.memoizedProps,ye=B!==null?B.memoizedProps:se,Se=d.type,Ie=d.updateQueue;if(d.updateQueue=null,Ie!==null)try{Se==="input"&&se.type==="radio"&&se.name!=null&&$(Y,se),us(Se,ye);var ze=us(Se,se);for(ye=0;ye<Ie.length;ye+=2){var it=Ie[ye],lt=Ie[ye+1];it==="style"?Mn(Y,lt):it==="dangerouslySetInnerHTML"?ft(Y,lt):it==="children"?At(Y,lt):N(Y,it,lt,ze)}switch(Se){case"input":q(Y,se);break;case"textarea":Ee(Y,se);break;case"select":var nt=Y._wrapperState.wasMultiple;Y._wrapperState.wasMultiple=!!se.multiple;var gt=se.value;gt!=null?fe(Y,!!se.multiple,gt,!1):nt!==!!se.multiple&&(se.defaultValue!=null?fe(Y,!!se.multiple,se.defaultValue,!0):fe(Y,!!se.multiple,se.multiple?[]:"",!1))}Y[Zc]=se}catch(Nt){fn(d,d.return,Nt)}}break;case 6:if(ao(g,d),$o(d),O&4){if(d.stateNode===null)throw Error(t(162));Y=d.stateNode,se=d.memoizedProps;try{Y.nodeValue=se}catch(Nt){fn(d,d.return,Nt)}}break;case 3:if(ao(g,d),$o(d),O&4&&B!==null&&B.memoizedState.isDehydrated)try{Gi(g.containerInfo)}catch(Nt){fn(d,d.return,Nt)}break;case 4:ao(g,d),$o(d);break;case 13:ao(g,d),$o(d),Y=d.child,Y.flags&8192&&(se=Y.memoizedState!==null,Y.stateNode.isHidden=se,!se||Y.alternate!==null&&Y.alternate.memoizedState!==null||(qx=qr())),O&4&&MN(d);break;case 22:if(it=B!==null&&B.memoizedState!==null,d.mode&1?(Is=(ze=Is)||it,ao(g,d),Is=ze):ao(g,d),$o(d),O&8192){if(ze=d.memoizedState!==null,(d.stateNode.isHidden=ze)&&!it&&(d.mode&1)!==0)for(yt=d,it=d.child;it!==null;){for(lt=yt=it;yt!==null;){switch(nt=yt,gt=nt.child,nt.tag){case 0:case 11:case 14:case 15:wf(4,nt,nt.return);break;case 1:OA(nt,nt.return);var bt=nt.stateNode;if(typeof bt.componentWillUnmount=="function"){O=nt,B=nt.return;try{g=O,bt.props=g.memoizedProps,bt.state=g.memoizedState,bt.componentWillUnmount()}catch(Nt){fn(O,B,Nt)}}break;case 5:OA(nt,nt.return);break;case 22:if(nt.memoizedState!==null){zN(lt);continue}}gt!==null?(gt.return=nt,yt=gt):zN(lt)}it=it.sibling}e:for(it=null,lt=d;;){if(lt.tag===5){if(it===null){it=lt;try{Y=lt.stateNode,ze?(se=Y.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none"):(Se=lt.stateNode,Ie=lt.memoizedProps.style,ye=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null,Se.style.display=_t("display",ye))}catch(Nt){fn(d,d.return,Nt)}}}else if(lt.tag===6){if(it===null)try{lt.stateNode.nodeValue=ze?"":lt.memoizedProps}catch(Nt){fn(d,d.return,Nt)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===d)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===d)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===d)break e;it===lt&&(it=null),lt=lt.return}it===lt&&(it=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:ao(g,d),$o(d),O&4&&MN(d);break;case 21:break;default:ao(g,d),$o(d)}}function $o(d){var g=d.flags;if(g&2){try{e:{for(var B=d.return;B!==null;){if(ON(B)){var O=B;break e}B=B.return}throw Error(t(160))}switch(O.tag){case 5:var Y=O.stateNode;O.flags&32&&(At(Y,""),O.flags&=-33);var se=PN(d);Mx(d,se,Y);break;case 3:case 4:var ye=O.stateNode.containerInfo,Se=PN(d);Rx(d,Se,ye);break;default:throw Error(t(161))}}catch(Ie){fn(d,d.return,Ie)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function aI(d,g,B){yt=d,HN(d)}function HN(d,g,B){for(var O=(d.mode&1)!==0;yt!==null;){var Y=yt,se=Y.child;if(Y.tag===22&&O){var ye=Y.memoizedState!==null||mp;if(!ye){var Se=Y.alternate,Ie=Se!==null&&Se.memoizedState!==null||Is;Se=mp;var ze=Is;if(mp=ye,(Is=Ie)&&!ze)for(yt=Y;yt!==null;)ye=yt,Ie=ye.child,ye.tag===22&&ye.memoizedState!==null?KN(Y):Ie!==null?(Ie.return=ye,yt=Ie):KN(Y);for(;se!==null;)yt=se,HN(se),se=se.sibling;yt=Y,mp=Se,Is=ze}qN(d)}else(Y.subtreeFlags&8772)!==0&&se!==null?(se.return=Y,yt=se):qN(d)}}function qN(d){for(;yt!==null;){var g=yt;if((g.flags&8772)!==0){var B=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Is||pp(5,g);break;case 1:var O=g.stateNode;if(g.flags&4&&!Is)if(B===null)O.componentDidMount();else{var Y=g.elementType===g.type?B.memoizedProps:so(g.type,B.memoizedProps);O.componentDidUpdate(Y,B.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var se=g.updateQueue;se!==null&&Yl(g,se,O);break;case 3:var ye=g.updateQueue;if(ye!==null){if(B=null,g.child!==null)switch(g.child.tag){case 5:B=g.child.stateNode;break;case 1:B=g.child.stateNode}Yl(g,ye,B)}break;case 5:var Se=g.stateNode;if(B===null&&g.flags&4){B=Se;var Ie=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Ie.autoFocus&&B.focus();break;case"img":Ie.src&&(B.src=Ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var ze=g.alternate;if(ze!==null){var it=ze.memoizedState;if(it!==null){var lt=it.dehydrated;lt!==null&&Gi(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Is||g.flags&512&&Px(g)}catch(nt){fn(g,g.return,nt)}}if(g===d){yt=null;break}if(B=g.sibling,B!==null){B.return=g.return,yt=B;break}yt=g.return}}function zN(d){for(;yt!==null;){var g=yt;if(g===d){yt=null;break}var B=g.sibling;if(B!==null){B.return=g.return,yt=B;break}yt=g.return}}function KN(d){for(;yt!==null;){var g=yt;try{switch(g.tag){case 0:case 11:case 15:var B=g.return;try{pp(4,g)}catch(Ie){fn(g,B,Ie)}break;case 1:var O=g.stateNode;if(typeof O.componentDidMount=="function"){var Y=g.return;try{O.componentDidMount()}catch(Ie){fn(g,Y,Ie)}}var se=g.return;try{Px(g)}catch(Ie){fn(g,se,Ie)}break;case 5:var ye=g.return;try{Px(g)}catch(Ie){fn(g,ye,Ie)}}}catch(Ie){fn(g,g.return,Ie)}if(g===d){yt=null;break}var Se=g.sibling;if(Se!==null){Se.return=g.return,yt=Se;break}yt=g.return}}var oI=Math.ceil,gp=w.ReactCurrentDispatcher,Qx=w.ReactCurrentOwner,Na=w.ReactCurrentBatchConfig,lr=0,rs=null,Un=null,xs=0,ra=0,PA=Ji(0),Kn=0,Nf=null,wd=0,xp=0,Hx=0,jf=null,Ci=null,qx=0,RA=1/0,Zl=null,yp=!1,zx=null,cu=null,vp=!1,uu=null,bp=0,Bf=0,Kx=null,wp=-1,Np=0;function ci(){return(lr&6)!==0?qr():wp!==-1?wp:wp=qr()}function du(d){return(d.mode&1)===0?1:(lr&2)!==0&&xs!==0?xs&-xs:xr.transition!==null?(Np===0&&(Np=Ju()),Np):(d=ar,d!==0||(d=window.event,d=d===void 0?16:nd(d.type)),d)}function oo(d,g,B,O){if(50<Bf)throw Bf=0,Kx=null,Error(t(185));Fo(d,B,O),((lr&2)===0||d!==rs)&&(d===rs&&((lr&2)===0&&(xp|=B),Kn===4&&Au(d,xs)),Ei(d,O),B===1&&lr===0&&(g.mode&1)===0&&(RA=qr()+500,xd&&oe()))}function Ei(d,g){var B=d.callbackNode;js(d,g);var O=Ns(d,d===rs?xs:0);if(O===0)B!==null&&Nl(B),d.callbackNode=null,d.callbackPriority=0;else if(g=O&-O,d.callbackPriority!==g){if(B!=null&&Nl(B),g===1)d.tag===0?J(WN.bind(null,d)):R(WN.bind(null,d)),vx(function(){(lr&6)===0&&oe()}),B=null;else{switch(Sc(O)){case 1:B=So;break;case 4:B=Yu;break;case 16:B=Bc;break;case 536870912:B=AA;break;default:B=Bc}B=tj(B,VN.bind(null,d))}d.callbackPriority=g,d.callbackNode=B}}function VN(d,g){if(wp=-1,Np=0,(lr&6)!==0)throw Error(t(327));var B=d.callbackNode;if(MA()&&d.callbackNode!==B)return null;var O=Ns(d,d===rs?xs:0);if(O===0)return null;if((O&30)!==0||(O&d.expiredLanes)!==0||g)g=jp(d,O);else{g=O;var Y=lr;lr|=2;var se=$N();(rs!==d||xs!==g)&&(Zl=null,RA=qr()+500,jd(d,g));do try{uI();break}catch(Se){GN(d,Se)}while(!0);zn(),gp.current=se,lr=Y,Un!==null?g=0:(rs=null,xs=0,g=Kn)}if(g!==0){if(g===2&&(Y=Cl(d),Y!==0&&(O=Y,g=Vx(d,Y))),g===1)throw B=Nf,jd(d,0),Au(d,O),Ei(d,qr()),B;if(g===6)Au(d,O);else{if(Y=d.current.alternate,(O&30)===0&&!lI(Y)&&(g=jp(d,O),g===2&&(se=Cl(d),se!==0&&(O=se,g=Vx(d,se))),g===1))throw B=Nf,jd(d,0),Au(d,O),Ei(d,qr()),B;switch(d.finishedWork=Y,d.finishedLanes=O,g){case 0:case 1:throw Error(t(345));case 2:Bd(d,Ci,Zl);break;case 3:if(Au(d,O),(O&130023424)===O&&(g=qx+500-qr(),10<g)){if(Ns(d,0)!==0)break;if(Y=d.suspendedLanes,(Y&O)!==O){ci(),d.pingedLanes|=d.suspendedLanes&Y;break}d.timeoutHandle=df(Bd.bind(null,d,Ci,Zl),g);break}Bd(d,Ci,Zl);break;case 4:if(Au(d,O),(O&4194240)===O)break;for(g=d.eventTimes,Y=-1;0<O;){var ye=31-Zs(O);se=1<<ye,ye=g[ye],ye>Y&&(Y=ye),O&=~se}if(O=Y,O=qr()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*oI(O/1960))-O,10<O){d.timeoutHandle=df(Bd.bind(null,d,Ci,Zl),O);break}Bd(d,Ci,Zl);break;case 5:Bd(d,Ci,Zl);break;default:throw Error(t(329))}}}return Ei(d,qr()),d.callbackNode===B?VN.bind(null,d):null}function Vx(d,g){var B=jf;return d.current.memoizedState.isDehydrated&&(jd(d,g).flags|=256),d=jp(d,g),d!==2&&(g=Ci,Ci=B,g!==null&&Wx(g)),d}function Wx(d){Ci===null?Ci=d:Ci.push.apply(Ci,d)}function lI(d){for(var g=d;;){if(g.flags&16384){var B=g.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var O=0;O<B.length;O++){var Y=B[O],se=Y.getSnapshot;Y=Y.value;try{if(!or(se(),Y))return!1}catch{return!1}}}if(B=g.child,g.subtreeFlags&16384&&B!==null)B.return=g,g=B;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Au(d,g){for(g&=~Hx,g&=~xp,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var B=31-Zs(g),O=1<<B;d[B]=-1,g&=~O}}function WN(d){if((lr&6)!==0)throw Error(t(327));MA();var g=Ns(d,0);if((g&1)===0)return Ei(d,qr()),null;var B=jp(d,g);if(d.tag!==0&&B===2){var O=Cl(d);O!==0&&(g=O,B=Vx(d,O))}if(B===1)throw B=Nf,jd(d,0),Au(d,g),Ei(d,qr()),B;if(B===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,Bd(d,Ci,Zl),Ei(d,qr()),null}function Gx(d,g){var B=lr;lr|=1;try{return d(g)}finally{lr=B,lr===0&&(RA=qr()+500,xd&&oe())}}function Nd(d){uu!==null&&uu.tag===0&&(lr&6)===0&&MA();var g=lr;lr|=1;var B=Na.transition,O=ar;try{if(Na.transition=null,ar=1,d)return d()}finally{ar=O,Na.transition=B,lr=g,(lr&6)===0&&oe()}}function $x(){ra=PA.current,fr(PA)}function jd(d,g){d.finishedWork=null,d.finishedLanes=0;var B=d.timeoutHandle;if(B!==-1&&(d.timeoutHandle=-1,rp(B)),Un!==null)for(B=Un.return;B!==null;){var O=B;switch(Le(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&BA();break;case 3:va(),fr(Ss),fr(qn),xf();break;case 5:pf(O);break;case 4:va();break;case 13:fr(Ir);break;case 19:fr(Ir);break;case 10:Fs(O.type._context);break;case 22:case 23:$x()}B=B.return}if(rs=d,Un=d=hu(d.current,null),xs=ra=g,Kn=0,Nf=null,Hx=xp=wd=0,Ci=jf=null,si!==null){for(g=0;g<si.length;g++)if(B=si[g],O=B.interleaved,O!==null){B.interleaved=null;var Y=O.next,se=B.pending;if(se!==null){var ye=se.next;se.next=Y,O.next=ye}B.pending=O}si=null}return d}function GN(d,g){do{var B=Un;try{if(zn(),CA.current=dp,iu){for(var O=Or.memoizedState;O!==null;){var Y=O.queue;Y!==null&&(Y.pending=null),O=O.next}iu=!1}if(ba=0,ln=hn=Or=null,ro=!1,au=0,Qx.current=null,B===null||B.return===null){Kn=1,Nf=g,Un=null;break}e:{var se=d,ye=B.return,Se=B,Ie=g;if(g=xs,Se.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var ze=Ie,it=Se,lt=it.tag;if((it.mode&1)===0&&(lt===0||lt===11||lt===15)){var nt=it.alternate;nt?(it.updateQueue=nt.updateQueue,it.memoizedState=nt.memoizedState,it.lanes=nt.lanes):(it.updateQueue=null,it.memoizedState=null)}var gt=yN(ye);if(gt!==null){gt.flags&=-257,vN(gt,ye,Se,se,g),gt.mode&1&&xN(se,ze,g),g=gt,Ie=ze;var bt=g.updateQueue;if(bt===null){var Nt=new Set;Nt.add(Ie),g.updateQueue=Nt}else bt.add(Ie);break e}else{if((g&1)===0){xN(se,ze,g),Yx();break e}Ie=Error(t(426))}}else if(We&&Se.mode&1){var Bn=yN(ye);if(Bn!==null){(Bn.flags&65536)===0&&(Bn.flags|=256),vN(Bn,ye,Se,se,g),mr(UA(Ie,Se));break e}}se=Ie=UA(Ie,Se),Kn!==4&&(Kn=2),jf===null?jf=[se]:jf.push(se),se=ye;do{switch(se.tag){case 3:se.flags|=65536,g&=-g,se.lanes|=g;var Qe=pN(se,Ie,g);Bi(se,Qe);break e;case 1:Se=Ie;var Ue=se.type,qe=se.stateNode;if((se.flags&128)===0&&(typeof Ue.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(cu===null||!cu.has(qe)))){se.flags|=65536,g&=-g,se.lanes|=g;var ct=gN(se,Se,g);Bi(se,ct);break e}}se=se.return}while(se!==null)}XN(B)}catch(jt){g=jt,Un===B&&B!==null&&(Un=B=B.return);continue}break}while(!0)}function $N(){var d=gp.current;return gp.current=dp,d===null?dp:d}function Yx(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),rs===null||(wd&268435455)===0&&(xp&268435455)===0||Au(rs,xs)}function jp(d,g){var B=lr;lr|=2;var O=$N();(rs!==d||xs!==g)&&(Zl=null,jd(d,g));do try{cI();break}catch(Y){GN(d,Y)}while(!0);if(zn(),lr=B,gp.current=O,Un!==null)throw Error(t(261));return rs=null,xs=0,Kn}function cI(){for(;Un!==null;)YN(Un)}function uI(){for(;Un!==null&&!jc();)YN(Un)}function YN(d){var g=ej(d.alternate,d,ra);d.memoizedProps=d.pendingProps,g===null?XN(d):Un=g,Qx.current=null}function XN(d){var g=d;do{var B=g.alternate;if(d=g.return,(g.flags&32768)===0){if(B=rI(B,g,ra),B!==null){Un=B;return}}else{if(B=nI(B,g),B!==null){B.flags&=32767,Un=B;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Kn=6,Un=null;return}}if(g=g.sibling,g!==null){Un=g;return}Un=g=d}while(g!==null);Kn===0&&(Kn=5)}function Bd(d,g,B){var O=ar,Y=Na.transition;try{Na.transition=null,ar=1,dI(d,g,B,O)}finally{Na.transition=Y,ar=O}return null}function dI(d,g,B,O){do MA();while(uu!==null);if((lr&6)!==0)throw Error(t(327));B=d.finishedWork;var Y=d.finishedLanes;if(B===null)return null;if(d.finishedWork=null,d.finishedLanes=0,B===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var se=B.lanes|B.childLanes;if(of(d,se),d===rs&&(Un=rs=null,xs=0),(B.subtreeFlags&2064)===0&&(B.flags&2064)===0||vp||(vp=!0,tj(Bc,function(){return MA(),null})),se=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||se){se=Na.transition,Na.transition=null;var ye=ar;ar=1;var Se=lr;lr|=4,Qx.current=null,iI(d,B),QN(B,d),Ml(Kl),Ic=!!pd,Kl=pd=null,d.current=B,aI(B),dA(),lr=Se,ar=ye,Na.transition=se}else d.current=B;if(vp&&(vp=!1,uu=d,bp=Y),se=d.pendingLanes,se===0&&(cu=null),_c(B.stateNode),Ei(d,qr()),g!==null)for(O=d.onRecoverableError,B=0;B<g.length;B++)Y=g[B],O(Y.value,{componentStack:Y.stack,digest:Y.digest});if(yp)throw yp=!1,d=zx,zx=null,d;return(bp&1)!==0&&d.tag!==0&&MA(),se=d.pendingLanes,(se&1)!==0?d===Kx?Bf++:(Bf=0,Kx=d):Bf=0,oe(),null}function MA(){if(uu!==null){var d=Sc(bp),g=Na.transition,B=ar;try{if(Na.transition=null,ar=16>d?16:d,uu===null)var O=!1;else{if(d=uu,uu=null,bp=0,(lr&6)!==0)throw Error(t(331));var Y=lr;for(lr|=4,yt=d.current;yt!==null;){var se=yt,ye=se.child;if((yt.flags&16)!==0){var Se=se.deletions;if(Se!==null){for(var Ie=0;Ie<Se.length;Ie++){var ze=Se[Ie];for(yt=ze;yt!==null;){var it=yt;switch(it.tag){case 0:case 11:case 15:wf(8,it,se)}var lt=it.child;if(lt!==null)lt.return=it,yt=lt;else for(;yt!==null;){it=yt;var nt=it.sibling,gt=it.return;if(UN(it),it===ze){yt=null;break}if(nt!==null){nt.return=gt,yt=nt;break}yt=gt}}}var bt=se.alternate;if(bt!==null){var Nt=bt.child;if(Nt!==null){bt.child=null;do{var Bn=Nt.sibling;Nt.sibling=null,Nt=Bn}while(Nt!==null)}}yt=se}}if((se.subtreeFlags&2064)!==0&&ye!==null)ye.return=se,yt=ye;else e:for(;yt!==null;){if(se=yt,(se.flags&2048)!==0)switch(se.tag){case 0:case 11:case 15:wf(9,se,se.return)}var Qe=se.sibling;if(Qe!==null){Qe.return=se.return,yt=Qe;break e}yt=se.return}}var Ue=d.current;for(yt=Ue;yt!==null;){ye=yt;var qe=ye.child;if((ye.subtreeFlags&2064)!==0&&qe!==null)qe.return=ye,yt=qe;else e:for(ye=Ue;yt!==null;){if(Se=yt,(Se.flags&2048)!==0)try{switch(Se.tag){case 0:case 11:case 15:pp(9,Se)}}catch(jt){fn(Se,Se.return,jt)}if(Se===ye){yt=null;break e}var ct=Se.sibling;if(ct!==null){ct.return=Se.return,yt=ct;break e}yt=Se.return}}if(lr=Y,oe(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(jl,d)}catch{}O=!0}return O}finally{ar=B,Na.transition=g}}return!1}function JN(d,g,B){g=UA(B,g),g=pN(d,g,1),d=ji(d,g,1),g=ci(),d!==null&&(Fo(d,1,g),Ei(d,g))}function fn(d,g,B){if(d.tag===3)JN(d,d,B);else for(;g!==null;){if(g.tag===3){JN(g,d,B);break}else if(g.tag===1){var O=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(cu===null||!cu.has(O))){d=UA(B,d),d=gN(g,d,1),g=ji(g,d,1),d=ci(),g!==null&&(Fo(g,1,d),Ei(g,d));break}}g=g.return}}function AI(d,g,B){var O=d.pingCache;O!==null&&O.delete(g),g=ci(),d.pingedLanes|=d.suspendedLanes&B,rs===d&&(xs&B)===B&&(Kn===4||Kn===3&&(xs&130023424)===xs&&500>qr()-qx?jd(d,0):Hx|=B),Ei(d,g)}function ZN(d,g){g===0&&((d.mode&1)===0?g=1:(g=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var B=ci();d=dr(d,g),d!==null&&(Fo(d,g,B),Ei(d,B))}function hI(d){var g=d.memoizedState,B=0;g!==null&&(B=g.retryLane),ZN(d,B)}function fI(d,g){var B=0;switch(d.tag){case 13:var O=d.stateNode,Y=d.memoizedState;Y!==null&&(B=Y.retryLane);break;case 19:O=d.stateNode;break;default:throw Error(t(314))}O!==null&&O.delete(g),ZN(d,B)}var ej;ej=function(d,g,B){if(d!==null)if(d.memoizedProps!==g.pendingProps||Ss.current)_i=!0;else{if((d.lanes&B)===0&&(g.flags&128)===0)return _i=!1,tI(d,g,B);_i=(d.flags&131072)!==0}else _i=!1,We&&(g.flags&1048576)!==0&&Xe(g,we,g.index);switch(g.lanes=0,g.tag){case 2:var O=g.type;fp(d,g),d=g.pendingProps;var Y=tu(g,qn.current);Gr(g,B),Y=yd(null,g,O,d,Y,B);var se=wa();return g.flags|=1,typeof Y=="object"&&Y!==null&&typeof Y.render=="function"&&Y.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,ks(O)?(se=!0,Gl(g)):se=!1,g.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,_A(g),Y.updater=Ap,g.stateNode=Y,Y._reactInternals=g,Cx(g,O,d,B),g=Fx(null,g,O,!0,se,B)):(g.tag=0,We&&se&&Ke(g),li(null,g,Y,B),g=g.child),g;case 16:O=g.elementType;e:{switch(fp(d,g),d=g.pendingProps,Y=O._init,O=Y(O._payload),g.type=O,Y=g.tag=pI(O),d=so(O,d),Y){case 0:g=kx(null,g,O,d,B);break e;case 1:g=_N(null,g,O,d,B);break e;case 11:g=bN(null,g,O,d,B);break e;case 14:g=wN(null,g,O,so(O.type,d),B);break e}throw Error(t(306,O,""))}return g;case 0:return O=g.type,Y=g.pendingProps,Y=g.elementType===O?Y:so(O,Y),kx(d,g,O,Y,B);case 1:return O=g.type,Y=g.pendingProps,Y=g.elementType===O?Y:so(O,Y),_N(d,g,O,Y,B);case 3:e:{if(CN(g),d===null)throw Error(t(387));O=g.pendingProps,se=g.memoizedState,Y=se.element,mf(d,g),eo(g,O,null,B);var ye=g.memoizedState;if(O=ye.element,se.isDehydrated)if(se={element:O,isDehydrated:!1,cache:ye.cache,pendingSuspenseBoundaries:ye.pendingSuspenseBoundaries,transitions:ye.transitions},g.updateQueue.baseState=se,g.memoizedState=se,g.flags&256){Y=UA(Error(t(423)),g),g=EN(d,g,O,B,Y);break e}else if(O!==Y){Y=UA(Error(t(424)),g),g=EN(d,g,O,B,Y);break e}else for(Ge=ms(g.stateNode.containerInfo.firstChild),De=g,We=!0,$e=null,B=ur(g,null,O,B),g.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(qt(),O===Y){g=Jl(d,g,B);break e}li(d,g,O,B)}g=g.child}return g;case 5:return ap(g),d===null&&dt(g),O=g.type,Y=g.pendingProps,se=d!==null?d.memoizedProps:null,ye=Y.children,uf(O,Y)?ye=null:se!==null&&uf(O,se)&&(g.flags|=32),BN(d,g),li(d,g,ye,B),g.child;case 6:return d===null&&dt(g),null;case 13:return SN(d,g,B);case 4:return su(g,g.stateNode.containerInfo),O=g.pendingProps,d===null?g.child=wn(g,null,O,B):li(d,g,O,B),g.child;case 11:return O=g.type,Y=g.pendingProps,Y=g.elementType===O?Y:so(O,Y),bN(d,g,O,Y,B);case 7:return li(d,g,g.pendingProps,B),g.child;case 8:return li(d,g,g.pendingProps.children,B),g.child;case 12:return li(d,g,g.pendingProps.children,B),g.child;case 10:e:{if(O=g.type._context,Y=g.pendingProps,se=g.memoizedProps,ye=Y.value,gr(es,O._currentValue),O._currentValue=ye,se!==null)if(or(se.value,ye)){if(se.children===Y.children&&!Ss.current){g=Jl(d,g,B);break e}}else for(se=g.child,se!==null&&(se.return=g);se!==null;){var Se=se.dependencies;if(Se!==null){ye=se.child;for(var Ie=Se.firstContext;Ie!==null;){if(Ie.context===O){if(se.tag===1){Ie=Ni(-1,B&-B),Ie.tag=2;var ze=se.updateQueue;if(ze!==null){ze=ze.shared;var it=ze.pending;it===null?Ie.next=Ie:(Ie.next=it.next,it.next=Ie),ze.pending=Ie}}se.lanes|=B,Ie=se.alternate,Ie!==null&&(Ie.lanes|=B),wi(se.return,B,g),Se.lanes|=B;break}Ie=Ie.next}}else if(se.tag===10)ye=se.type===g.type?null:se.child;else if(se.tag===18){if(ye=se.return,ye===null)throw Error(t(341));ye.lanes|=B,Se=ye.alternate,Se!==null&&(Se.lanes|=B),wi(ye,B,g),ye=se.sibling}else ye=se.child;if(ye!==null)ye.return=se;else for(ye=se;ye!==null;){if(ye===g){ye=null;break}if(se=ye.sibling,se!==null){se.return=ye.return,ye=se;break}ye=ye.return}se=ye}li(d,g,Y.children,B),g=g.child}return g;case 9:return Y=g.type,O=g.pendingProps.children,Gr(g,B),Y=An(Y),O=O(Y),g.flags|=1,li(d,g,O,B),g.child;case 14:return O=g.type,Y=so(O,g.pendingProps),Y=so(O.type,Y),wN(d,g,O,Y,B);case 15:return NN(d,g,g.type,g.pendingProps,B);case 17:return O=g.type,Y=g.pendingProps,Y=g.elementType===O?Y:so(O,Y),fp(d,g),g.tag=1,ks(O)?(d=!0,Gl(g)):d=!1,Gr(g,B),fN(g,O,Y),Cx(g,O,Y,B),Fx(null,g,O,!0,d,B);case 19:return FN(d,g,B);case 22:return jN(d,g,B)}throw Error(t(156,g.tag))};function tj(d,g){return wl(d,g)}function mI(d,g,B,O){this.tag=d,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(d,g,B,O){return new mI(d,g,B,O)}function Xx(d){return d=d.prototype,!(!d||!d.isReactComponent)}function pI(d){if(typeof d=="function")return Xx(d)?1:0;if(d!=null){if(d=d.$$typeof,d===_)return 11;if(d===X)return 14}return 2}function hu(d,g){var B=d.alternate;return B===null?(B=ja(d.tag,g,d.key,d.mode),B.elementType=d.elementType,B.type=d.type,B.stateNode=d.stateNode,B.alternate=d,d.alternate=B):(B.pendingProps=g,B.type=d.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=d.flags&14680064,B.childLanes=d.childLanes,B.lanes=d.lanes,B.child=d.child,B.memoizedProps=d.memoizedProps,B.memoizedState=d.memoizedState,B.updateQueue=d.updateQueue,g=d.dependencies,B.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},B.sibling=d.sibling,B.index=d.index,B.ref=d.ref,B}function Bp(d,g,B,O,Y,se){var ye=2;if(O=d,typeof d=="function")Xx(d)&&(ye=1);else if(typeof d=="string")ye=5;else e:switch(d){case I:return _d(B.children,Y,se,g);case F:ye=8,Y|=8;break;case C:return d=ja(12,B,g,Y|2),d.elementType=C,d.lanes=se,d;case U:return d=ja(13,B,g,Y),d.elementType=U,d.lanes=se,d;case S:return d=ja(19,B,g,Y),d.elementType=S,d.lanes=se,d;case Z:return _p(B,Y,se,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case P:ye=10;break e;case T:ye=9;break e;case _:ye=11;break e;case X:ye=14;break e;case ie:ye=16,O=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return g=ja(ye,B,g,Y),g.elementType=d,g.type=O,g.lanes=se,g}function _d(d,g,B,O){return d=ja(7,d,O,g),d.lanes=B,d}function _p(d,g,B,O){return d=ja(22,d,O,g),d.elementType=Z,d.lanes=B,d.stateNode={isHidden:!1},d}function Jx(d,g,B){return d=ja(6,d,null,g),d.lanes=B,d}function Zx(d,g,B){return g=ja(4,d.children!==null?d.children:[],d.key,g),g.lanes=B,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function gI(d,g,B,O,Y){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zu(0),this.expirationTimes=Zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.identifierPrefix=O,this.onRecoverableError=Y,this.mutableSourceEagerHydrationData=null}function ey(d,g,B,O,Y,se,ye,Se,Ie){return d=new gI(d,g,B,Se,Ie),g===1?(g=1,se===!0&&(g|=8)):g=0,se=ja(3,null,null,g),d.current=se,se.stateNode=d,se.memoizedState={element:O,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},_A(se),d}function xI(d,g,B){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:O==null?null:""+O,children:d,containerInfo:g,implementation:B}}function rj(d){if(!d)return Ko;d=d._reactInternals;e:{if(Qn(d)!==d||d.tag!==1)throw Error(t(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(ks(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(t(171))}if(d.tag===1){var B=d.type;if(ks(B))return ff(d,B,g)}return g}function nj(d,g,B,O,Y,se,ye,Se,Ie){return d=ey(B,O,!0,d,Y,se,ye,Se,Ie),d.context=rj(null),B=d.current,O=ci(),Y=du(B),se=Ni(O,Y),se.callback=g??null,ji(B,se,Y),d.current.lanes=Y,Fo(d,Y,O),Ei(d,O),d}function Cp(d,g,B,O){var Y=g.current,se=ci(),ye=du(Y);return B=rj(B),g.context===null?g.context=B:g.pendingContext=B,g=Ni(se,ye),g.payload={element:d},O=O===void 0?null:O,O!==null&&(g.callback=O),d=ji(Y,g,ye),d!==null&&(oo(d,Y,ye,se),$l(d,Y,ye)),ye}function Ep(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function sj(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var B=d.retryLane;d.retryLane=B!==0&&B<g?B:g}}function ty(d,g){sj(d,g),(d=d.alternate)&&sj(d,g)}function yI(){return null}var ij=typeof reportError=="function"?reportError:function(d){console.error(d)};function ry(d){this._internalRoot=d}Sp.prototype.render=ry.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(t(409));Cp(d,g,null,null)},Sp.prototype.unmount=ry.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;Nd(function(){Cp(null,d,null,null)}),g[Zn]=null}};function Sp(d){this._internalRoot=d}Sp.prototype.unstable_scheduleHydration=function(d){if(d){var g=ca();d={blockedOn:null,target:d,priority:g};for(var B=0;B<da.length&&g!==0&&g<da[B].priority;B++);da.splice(B,0,d),B===0&&Fc(d)}};function ny(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function kp(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function aj(){}function vI(d,g,B,O,Y){if(Y){if(typeof O=="function"){var se=O;O=function(){var ze=Ep(ye);se.call(ze)}}var ye=nj(g,O,d,0,null,!1,!1,"",aj);return d._reactRootContainer=ye,d[Zn]=ye.current,ql(d.nodeType===8?d.parentNode:d),Nd(),ye}for(;Y=d.lastChild;)d.removeChild(Y);if(typeof O=="function"){var Se=O;O=function(){var ze=Ep(Ie);Se.call(ze)}}var Ie=ey(d,0,!1,null,null,!1,!1,"",aj);return d._reactRootContainer=Ie,d[Zn]=Ie.current,ql(d.nodeType===8?d.parentNode:d),Nd(function(){Cp(g,Ie,B,O)}),Ie}function Fp(d,g,B,O,Y){var se=B._reactRootContainer;if(se){var ye=se;if(typeof Y=="function"){var Se=Y;Y=function(){var Ie=Ep(ye);Se.call(Ie)}}Cp(g,ye,d,Y)}else ye=vI(B,g,d,Y,O);return Ep(ye)}mA=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var B=_l(g.pendingLanes);B!==0&&(Ec(g,B|1),Ei(g,qr()),(lr&6)===0&&(RA=qr()+500,oe()))}break;case 13:Nd(function(){var O=dr(d,1);if(O!==null){var Y=ci();oo(O,d,1,Y)}}),ty(d,1)}},ed=function(d){if(d.tag===13){var g=dr(d,134217728);if(g!==null){var B=ci();oo(g,d,134217728,B)}ty(d,134217728)}},pA=function(d){if(d.tag===13){var g=du(d),B=dr(d,g);if(B!==null){var O=ci();oo(B,d,g,O)}ty(d,g)}},ca=function(){return ar},El=function(d,g){var B=ar;try{return ar=d,g()}finally{ar=B}},Sr=function(d,g,B){switch(g){case"input":if(q(d,B),g=B.name,B.type==="radio"&&g!=null){for(B=d;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<B.length;g++){var O=B[g];if(O!==d&&O.form===d.form){var Y=gd(O);if(!Y)throw Error(t(90));he(O),q(O,Y)}}}break;case"textarea":Ee(d,B);break;case"select":g=B.value,g!=null&&fe(d,!!B.multiple,g,!1)}},_o=Gx,Ln=Nd;var bI={usingClientEntryPoint:!1,Events:[eu,Vl,gd,Ot,ir,Gx]},_f={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wI={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Eo(d),d===null?null:d.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||yI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{jl=Tp.inject(wI),pi=Tp}catch{}}return Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bI,Si.createPortal=function(d,g){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(g))throw Error(t(200));return xI(d,g,null,B)},Si.createRoot=function(d,g){if(!ny(d))throw Error(t(299));var B=!1,O="",Y=ij;return g!=null&&(g.unstable_strictMode===!0&&(B=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(Y=g.onRecoverableError)),g=ey(d,1,!1,null,null,B,!1,O,Y),d[Zn]=g.current,ql(d.nodeType===8?d.parentNode:d),new ry(g)},Si.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=Eo(g),d=d===null?null:d.stateNode,d},Si.flushSync=function(d){return Nd(d)},Si.hydrate=function(d,g,B){if(!kp(g))throw Error(t(200));return Fp(null,d,g,!0,B)},Si.hydrateRoot=function(d,g,B){if(!ny(d))throw Error(t(405));var O=B!=null&&B.hydratedSources||null,Y=!1,se="",ye=ij;if(B!=null&&(B.unstable_strictMode===!0&&(Y=!0),B.identifierPrefix!==void 0&&(se=B.identifierPrefix),B.onRecoverableError!==void 0&&(ye=B.onRecoverableError)),g=nj(g,null,d,1,B??null,Y,!1,se,ye),d[Zn]=g.current,ql(d),O)for(d=0;d<O.length;d++)B=O[d],Y=B._getVersion,Y=Y(B._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[B,Y]:g.mutableSourceEagerHydrationData.push(B,Y);return new Sp(g)},Si.render=function(d,g,B){if(!kp(g))throw Error(t(200));return Fp(null,d,g,!1,B)},Si.unmountComponentAtNode=function(d){if(!kp(d))throw Error(t(40));return d._reactRootContainer?(Nd(function(){Fp(null,null,d,!1,function(){d._reactRootContainer=null,d[Zn]=null})}),!0):!1},Si.unstable_batchedUpdates=Gx,Si.unstable_renderSubtreeIntoContainer=function(d,g,B,O){if(!kp(B))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return Fp(d,g,B,!1,O)},Si.version="18.3.1-next-f1338f8080-20240426",Si}var fj;function L3(){if(fj)return ay.exports;fj=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ay.exports=kI(),ay.exports}var mj;function FI(){if(mj)return Ip;mj=1;var r=L3();return Ip.createRoot=r.createRoot,Ip.hydrateRoot=r.hydrateRoot,Ip}var TI=FI();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pj="popstate";function II(r={}){function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Fw("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:_m(i)}return DI(e,t,null,r)}function nn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ia(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substring(2,10)}function gj(r,e){return{usr:r.state,key:r.key,idx:e}}function Fw(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wh(e):e,state:t,key:e&&e.key||n||LI()}}function _m({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Wh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function DI(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l="POP",c=null,u=A();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function A(){return(o.state||{idx:null}).idx}function f(){l="POP";let b=A(),p=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:p})}function m(b,p){l="PUSH";let y=Fw(x.location,b,p);u=A()+1;let N=gj(y,u),w=x.createHref(y);try{o.pushState(N,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(w)}a&&c&&c({action:l,location:x.location,delta:1})}function h(b,p){l="REPLACE";let y=Fw(x.location,b,p);u=A();let N=gj(y,u),w=x.createHref(y);o.replaceState(N,"",w),a&&c&&c({action:l,location:x.location,delta:0})}function v(b){return UI(b)}let x={get action(){return l},get location(){return r(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(pj,f),c=b,()=>{i.removeEventListener(pj,f),c=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let p=v(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:h,go(b){return o.go(b)}};return x}function UI(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nn(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:_m(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function D3(r,e,t="/"){return OI(r,e,t,!1)}function OI(r,e,t,n){let i=typeof e=="string"?Wh(e):e,a=gc(i.pathname||"/",t);if(a==null)return null;let o=U3(r);PI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=$I(a);l=WI(o[c],u,n)}return l}function U3(r,e=[],t=[],n=""){let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(nn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=mc([n,c.relativePath]),A=t.concat(c);a.children&&a.children.length>0&&(nn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),U3(a.children,e,A,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:KI(u,a.index),routesMeta:A})};return r.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let l of O3(a.path))i(a,o,l)}),e}function O3(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=O3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function PI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:VI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var RI=/^:[\w-]+$/,MI=3,QI=2,HI=1,qI=10,zI=-2,xj=r=>r==="*";function KI(r,e){let t=r.split("/"),n=t.length;return t.some(xj)&&(n+=zI),e&&(n+=QI),t.filter(i=>!xj(i)).reduce((i,a)=>i+(RI.test(a)?MI:a===""?HI:qI),n)}function VI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function WI(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=a==="/"?e:e.slice(a.length)||"/",f=n0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),m=c.route;if(!f&&u&&t&&!n[n.length-1].route.index&&(f=n0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},A)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:mc([a,f.pathname]),pathnameBase:ZI(mc([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=mc([a,f.pathnameBase]))}return o}function n0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=GI(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:A,isOptional:f},m)=>{if(A==="*"){let v=l[m]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[A]=void 0:u[A]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:r}}function GI(r,e=!1,t=!0){Ia(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $I(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ia(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gc(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function YI(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Wh(r):r;return{pathname:t?t.startsWith("/")?t:XI(t,e):e,search:eL(n),hash:tL(i)}}function XI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cy(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G2(r){let e=JI(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function $2(r,e,t,n=!1){let i;typeof r=="string"?i=Wh(r):(i={...r},nn(!i.pathname||!i.pathname.includes("?"),cy("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),cy("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),cy("#","search","hash",i)));let a=r===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=t;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=YI(i,l),u=o&&o!=="/"&&o.endsWith("/"),A=(a||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}var mc=r=>r.join("/").replace(/\/\/+/g,"/"),ZI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eL=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tL=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rL(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var P3=["POST","PUT","PATCH","DELETE"];new Set(P3);var nL=["GET",...P3];new Set(nL);var Gh=Ae.createContext(null);Gh.displayName="DataRouter";var T0=Ae.createContext(null);T0.displayName="DataRouterState";Ae.createContext(!1);var R3=Ae.createContext({isTransitioning:!1});R3.displayName="ViewTransition";var sL=Ae.createContext(new Map);sL.displayName="Fetchers";var iL=Ae.createContext(null);iL.displayName="Await";var wo=Ae.createContext(null);wo.displayName="Navigation";var Qm=Ae.createContext(null);Qm.displayName="Location";var ml=Ae.createContext({outlet:null,matches:[],isDataRoute:!1});ml.displayName="Route";var Y2=Ae.createContext(null);Y2.displayName="RouteError";function aL(r,{relative:e}={}){nn($h(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Ae.useContext(wo),{hash:i,pathname:a,search:o}=Hm(r,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:mc([t,a])),n.createHref({pathname:l,search:o,hash:i})}function $h(){return Ae.useContext(Qm)!=null}function vc(){return nn($h(),"useLocation() may be used only in the context of a <Router> component."),Ae.useContext(Qm).location}var M3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q3(r){Ae.useContext(wo).static||Ae.useLayoutEffect(r)}function pl(){let{isDataRoute:r}=Ae.useContext(ml);return r?yL():oL()}function oL(){nn($h(),"useNavigate() may be used only in the context of a <Router> component.");let r=Ae.useContext(Gh),{basename:e,navigator:t}=Ae.useContext(wo),{matches:n}=Ae.useContext(ml),{pathname:i}=vc(),a=JSON.stringify(G2(n)),o=Ae.useRef(!1);return Q3(()=>{o.current=!0}),Ae.useCallback((c,u={})=>{if(Ia(o.current,M3),!o.current)return;if(typeof c=="number"){t.go(c);return}let A=$2(c,JSON.parse(a),i,u.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:mc([e,A.pathname])),(u.replace?t.replace:t.push)(A,u.state,u)},[e,t,a,i,r])}Ae.createContext(null);function Hm(r,{relative:e}={}){let{matches:t}=Ae.useContext(ml),{pathname:n}=vc(),i=JSON.stringify(G2(t));return Ae.useMemo(()=>$2(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function lL(r,e){return H3(r,e)}function H3(r,e,t,n){nn($h(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=Ae.useContext(wo),{matches:a}=Ae.useContext(ml),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",A=o&&o.route;{let p=A&&A.path||"";q3(c,!A||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=vc(),m;if(e){let p=typeof e=="string"?Wh(e):e;nn(u==="/"||p.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=f;let h=m.pathname||"/",v=h;if(u!=="/"){let p=u.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=D3(r,{pathname:v});Ia(A||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ia(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=hL(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:mc([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:mc([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,t,n);return e&&b?Ae.createElement(Qm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function cL(){let r=xL(),e=rL(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=Ae.createElement(Ae.Fragment,null,Ae.createElement("p",null,"💿 Hey developer 👋"),Ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ae.createElement("code",{style:a},"ErrorBoundary")," or"," ",Ae.createElement("code",{style:a},"errorElement")," prop on your route.")),Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ae.createElement("pre",{style:i},t):null,o)}var uL=Ae.createElement(cL,null),dL=class extends Ae.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Ae.createElement(ml.Provider,{value:this.props.routeContext},Ae.createElement(Y2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AL({routeContext:r,match:e,children:t}){let n=Ae.useContext(Gh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Ae.createElement(ml.Provider,{value:r},t)}function hL(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t?.errors;if(a!=null){let c=i.findIndex(u=>u.route.id&&a?.[u.route.id]!==void 0);nn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:A,errors:f}=t,m=u.route.loader&&!A.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||m){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,u,A)=>{let f,m=!1,h=null,v=null;t&&(f=a&&u.route.id?a[u.route.id]:void 0,h=u.route.errorElement||uL,o&&(l<0&&A===0?(q3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):l===A&&(m=!0,v=u.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,A+1)),b=()=>{let p;return f?p=h:m?p=v:u.route.Component?p=Ae.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=c,Ae.createElement(AL,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:t!=null},children:p})};return t&&(u.route.ErrorBoundary||u.route.errorElement||A===0)?Ae.createElement(dL,{location:t.location,revalidation:t.revalidation,component:h,error:f,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function X2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fL(r){let e=Ae.useContext(Gh);return nn(e,X2(r)),e}function mL(r){let e=Ae.useContext(T0);return nn(e,X2(r)),e}function pL(r){let e=Ae.useContext(ml);return nn(e,X2(r)),e}function J2(r){let e=pL(r),t=e.matches[e.matches.length-1];return nn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function gL(){return J2("useRouteId")}function xL(){let r=Ae.useContext(Y2),e=mL("useRouteError"),t=J2("useRouteError");return r!==void 0?r:e.errors?.[t]}function yL(){let{router:r}=fL("useNavigate"),e=J2("useNavigate"),t=Ae.useRef(!1);return Q3(()=>{t.current=!0}),Ae.useCallback(async(i,a={})=>{Ia(t.current,M3),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var yj={};function q3(r,e,t){!e&&!yj[r]&&(yj[r]=!0,Ia(!1,t))}Ae.memo(vL);function vL({routes:r,future:e,state:t}){return H3(r,void 0,t,e)}function Qg({to:r,replace:e,state:t,relative:n}){nn($h(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Ae.useContext(wo);Ia(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Ae.useContext(ml),{pathname:o}=vc(),l=pl(),c=$2(r,G2(a),o,n==="path"),u=JSON.stringify(c);return Ae.useEffect(()=>{l(JSON.parse(u),{replace:e,state:t,relative:n})},[l,u,n,e,t]),null}function Xf(r){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bL({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){nn(!$h(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=Ae.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof t=="string"&&(t=Wh(t));let{pathname:c="/",search:u="",hash:A="",state:f=null,key:m="default"}=t,h=Ae.useMemo(()=>{let v=gc(c,o);return v==null?null:{location:{pathname:v,search:u,hash:A,state:f,key:m},navigationType:n}},[o,c,u,A,f,m,n]);return Ia(h!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${A}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:Ae.createElement(wo.Provider,{value:l},Ae.createElement(Qm.Provider,{children:e,value:h}))}function wL({children:r,location:e}){return lL(Tw(r),e)}function Tw(r,e=[]){let t=[];return Ae.Children.forEach(r,(n,i)=>{if(!Ae.isValidElement(n))return;let a=[...e,i];if(n.type===Ae.Fragment){t.push.apply(t,Tw(n.props.children,a));return}nn(n.type===Xf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tw(n.props.children,a)),t.push(o)}),t}var Hg="get",qg="application/x-www-form-urlencoded";function I0(r){return r!=null&&typeof r.tagName=="string"}function NL(r){return I0(r)&&r.tagName.toLowerCase()==="button"}function jL(r){return I0(r)&&r.tagName.toLowerCase()==="form"}function BL(r){return I0(r)&&r.tagName.toLowerCase()==="input"}function _L(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CL(r,e){return r.button===0&&(!e||e==="_self")&&!_L(r)}function Iw(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function EL(r,e){let t=Iw(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(a=>{t.append(i,a)})}),t}var Lp=null;function SL(){if(Lp===null)try{new FormData(document.createElement("form"),0),Lp=!1}catch{Lp=!0}return Lp}var kL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uy(r){return r!=null&&!kL.has(r)?(Ia(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qg}"`),null):r}function FL(r,e){let t,n,i,a,o;if(jL(r)){let l=r.getAttribute("action");n=l?gc(l,e):null,t=r.getAttribute("method")||Hg,i=uy(r.getAttribute("enctype"))||qg,a=new FormData(r)}else if(NL(r)||BL(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||l.getAttribute("action");if(n=c?gc(c,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||Hg,i=uy(r.getAttribute("formenctype"))||uy(l.getAttribute("enctype"))||qg,a=new FormData(l,r),!SL()){let{name:u,type:A,value:f}=r;if(A==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(I0(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hg,n=null,i=qg,o=r}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Z2(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function TL(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&gc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function IL(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LL(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DL(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await IL(a,t);return o.links?o.links():[]}return[]}));return RL(n.flat(1).filter(LL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vj(r,e,t,n,i,a){let o=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,l=(c,u)=>t[u].pathname!==c.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):a==="data"?e.filter((c,u)=>{let A=n.routes[c.route.id];if(!A||!A.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function UL(r,e,{includeHydrateFallback:t}={}){return OL(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function OL(r){return[...new Set(r)]}function PL(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function RL(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(PL(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function z3(){let r=Ae.useContext(Gh);return Z2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ML(){let r=Ae.useContext(T0);return Z2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var e5=Ae.createContext(void 0);e5.displayName="FrameworkContext";function K3(){let r=Ae.useContext(e5);return Z2(r,"You must render this element inside a <HydratedRouter> element"),r}function QL(r,e){let t=Ae.useContext(e5),[n,i]=Ae.useState(!1),[a,o]=Ae.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:A,onTouchStart:f}=e,m=Ae.useRef(null);Ae.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let x=p=>{p.forEach(y=>{o(y.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[r]),Ae.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let h=()=>{i(!0)},v=()=>{i(!1),o(!1)};return t?r!=="intent"?[a,m,{}]:[a,m,{onFocus:Ef(l,h),onBlur:Ef(c,v),onMouseEnter:Ef(u,h),onMouseLeave:Ef(A,v),onTouchStart:Ef(f,h)}]:[!1,m,{}]}function Ef(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function HL({page:r,...e}){let{router:t}=z3(),n=Ae.useMemo(()=>D3(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?Ae.createElement(zL,{page:r,matches:n,...e}):null}function qL(r){let{manifest:e,routeModules:t}=K3(),[n,i]=Ae.useState([]);return Ae.useEffect(()=>{let a=!1;return DL(r,e,t).then(o=>{a||i(o)}),()=>{a=!0}},[r,e,t]),n}function zL({page:r,matches:e,...t}){let n=vc(),{manifest:i,routeModules:a}=K3(),{basename:o}=z3(),{loaderData:l,matches:c}=ML(),u=Ae.useMemo(()=>vj(r,e,c,i,n,"data"),[r,e,c,i,n]),A=Ae.useMemo(()=>vj(r,e,c,i,n,"assets"),[r,e,c,i,n]),f=Ae.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(e.forEach(p=>{let y=i.routes[p.route.id];!y||!y.hasLoader||(!u.some(N=>N.route.id===p.route.id)&&p.route.id in l&&a[p.route.id]?.shouldRevalidate||y.hasClientLoader?x=!0:v.add(p.route.id))}),v.size===0)return[];let b=TL(r,o,"data");return x&&v.size>0&&b.searchParams.set("_routes",e.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[o,l,n,i,u,e,r,a]),m=Ae.useMemo(()=>UL(A,i),[A,i]),h=qL(A);return Ae.createElement(Ae.Fragment,null,f.map(v=>Ae.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),m.map(v=>Ae.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),h.map(({key:v,link:x})=>Ae.createElement("link",{key:v,...x})))}function KL(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var V3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V3&&(window.__reactRouterVersion="7.7.0")}catch{}function VL({basename:r,children:e,window:t}){let n=Ae.useRef();n.current==null&&(n.current=II({window:t,v5Compat:!0}));let i=n.current,[a,o]=Ae.useState({action:i.action,location:i.location}),l=Ae.useCallback(c=>{Ae.startTransition(()=>o(c))},[o]);return Ae.useLayoutEffect(()=>i.listen(l),[i,l]),Ae.createElement(bL,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var W3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ll=Ae.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:A,viewTransition:f,...m},h){let{basename:v}=Ae.useContext(wo),x=typeof u=="string"&&W3.test(u),b,p=!1;if(typeof u=="string"&&x&&(b=u,V3))try{let C=new URL(window.location.href),P=u.startsWith("//")?new URL(C.protocol+u):new URL(u),T=gc(P.pathname,v);P.origin===C.origin&&T!=null?u=T+P.search+P.hash:p=!0}catch{Ia(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=aL(u,{relative:i}),[N,w,j]=QL(n,m),k=YL(u,{replace:o,state:l,target:c,preventScrollReset:A,relative:i,viewTransition:f});function I(C){e&&e(C),C.defaultPrevented||k(C)}let F=Ae.createElement("a",{...m,...j,href:b||y,onClick:p||a?e:I,ref:KL(h,w),target:c,"data-discover":!x&&t==="render"?"true":void 0});return N&&!x?Ae.createElement(Ae.Fragment,null,F,Ae.createElement(HL,{page:y})):F});ll.displayName="Link";var WL=Ae.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:l,children:c,...u},A){let f=Hm(o,{relative:u.relative}),m=vc(),h=Ae.useContext(T0),{navigator:v,basename:x}=Ae.useContext(wo),b=h!=null&&r8(f)&&l===!0,p=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=m.pathname,N=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(y=y.toLowerCase(),N=N?N.toLowerCase():null,p=p.toLowerCase()),N&&x&&(N=gc(N,x)||N);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=y===p||!i&&y.startsWith(p)&&y.charAt(w)==="/",k=N!=null&&(N===p||!i&&N.startsWith(p)&&N.charAt(p.length)==="/"),I={isActive:j,isPending:k,isTransitioning:b},F=j?e:void 0,C;typeof n=="function"?C=n(I):C=[n,j?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(I):a;return Ae.createElement(ll,{...u,"aria-current":F,className:C,ref:A,style:P,to:o,viewTransition:l},typeof c=="function"?c(I):c)});WL.displayName="NavLink";var GL=Ae.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:o=Hg,action:l,onSubmit:c,relative:u,preventScrollReset:A,viewTransition:f,...m},h)=>{let v=e8(),x=t8(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&W3.test(l),y=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let w=N.nativeEvent.submitter,j=w?.getAttribute("formmethod")||o;v(w||N.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:a,relative:u,preventScrollReset:A,viewTransition:f})};return Ae.createElement("form",{ref:h,method:b,action:x,onSubmit:n?c:y,...m,"data-discover":!p&&r==="render"?"true":void 0})});GL.displayName="Form";function $L(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G3(r){let e=Ae.useContext(Gh);return nn(e,$L(r)),e}function YL(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let l=pl(),c=vc(),u=Hm(r,{relative:a});return Ae.useCallback(A=>{if(CL(A,e)){A.preventDefault();let f=t!==void 0?t:_m(c)===_m(u);l(r,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,t,n,e,r,i,a,o])}function XL(r){Ia(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=Ae.useRef(Iw(r)),t=Ae.useRef(!1),n=vc(),i=Ae.useMemo(()=>EL(n.search,t.current?null:e.current),[n.search]),a=pl(),o=Ae.useCallback((l,c)=>{const u=Iw(typeof l=="function"?l(new URLSearchParams(i)):l);t.current=!0,a("?"+u,c)},[a,i]);return[i,o]}var JL=0,ZL=()=>`__${String(++JL)}__`;function e8(){let{router:r}=G3("useSubmit"),{basename:e}=Ae.useContext(wo),t=gL();return Ae.useCallback(async(n,i={})=>{let{action:a,method:o,encType:l,formData:c,body:u}=FL(n,e);if(i.navigate===!1){let A=i.fetcherKey||ZL();await r.fetch(A,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function t8(r,{relative:e}={}){let{basename:t}=Ae.useContext(wo),n=Ae.useContext(ml);nn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Hm(r||".",{relative:e})},o=vc();if(r==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(A=>A==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let A=l.toString();a.search=A?`?${A}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:mc([t,a.pathname])),_m(a)}function r8(r,e={}){let t=Ae.useContext(R3);nn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=G3("useViewTransitionState"),i=Hm(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=gc(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=gc(t.nextLocation.pathname,n)||t.nextLocation.pathname;return n0(i.pathname,o)!=null||n0(i.pathname,a)!=null}const n8="modulepreload",s8=function(r){return"/"+r},bj={},La=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(u){return Promise.all(u.map(A=>Promise.resolve(A).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(t.map(u=>{if(u=s8(u),u in bj)return;bj[u]=!0;const A=u.endsWith(".css"),f=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=A?"stylesheet":n8,A||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),A)return new Promise((h,v)=>{m.addEventListener("load",h),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},i8=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>Yh);return{default:n}},[]).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class t5 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class a8 extends t5{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wj extends t5{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nj extends t5{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lw;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Lw||(Lw={}));var o8=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class l8{constructor(e,{headers:t={},customFetch:n,region:i=Lw.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=i8(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return o8(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=t;let l={},{region:c}=t;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let A;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",A=o):typeof o=="string"?(l["Content-Type"]="text/plain",A=o):typeof FormData<"u"&&o instanceof FormData?A=o:(l["Content-Type"]="application/json",A=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:A}).catch(x=>{throw new a8(x)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new wj(f);if(!f.ok)throw new Nj(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield f.json():h==="application/octet-stream"?v=yield f.blob():h==="text/event-stream"?v=f:h==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Nj||i instanceof wj?i.context:void 0}}})}}var ss={},QA={},HA={},qA={},zA={},KA={},c8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uh=c8();const u8=Uh.fetch,$3=Uh.fetch.bind(Uh),Y3=Uh.Headers,d8=Uh.Request,A8=Uh.Response,Yh=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y3,Request:d8,Response:A8,default:$3,fetch:u8},Symbol.toStringTag,{value:"Module"})),h8=jI(Yh);var Dp={},jj;function X3(){if(jj)return Dp;jj=1,Object.defineProperty(Dp,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Dp.default=r,Dp}var Bj;function J3(){if(Bj)return KA;Bj=1;var r=KA&&KA.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(KA,"__esModule",{value:!0});const e=r(h8),t=r(X3());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var A,f,m;let h=null,v=null,x=null,b=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=j:v=JSON.parse(j))}const N=(A=this.headers.Prefer)===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),w=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");N&&w&&w.length>1&&(x=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(h={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,x=null,b=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const N=await u.text();try{h=JSON.parse(N),Array.isArray(h)&&u.status===404&&(v=[],h=null,b=200,p="OK")}catch{u.status===404&&N===""?(b=204,p="No Content"):h={message:N}}if(h&&this.isMaybeSingle&&(!((m=h?.details)===null||m===void 0)&&m.includes("0 rows"))&&(h=null,b=200,p="OK"),h&&this.shouldThrowOnError)throw new t.default(h)}return{error:h,data:v,count:x,status:b,statusText:p}});return this.shouldThrowOnError||(c=c.catch(u=>{var A,f,m;return{error:{message:`${(A=u?.name)!==null&&A!==void 0?A:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return KA.default=n,KA}var _j;function Z3(){if(_j)return zA;_j=1;var r=zA&&zA.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zA,"__esModule",{value:!0});const e=r(J3());class t extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",A=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${A?`${A},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var A;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(A=this.headers.Accept)!==null&&A!==void 0?A:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return zA.default=t,zA}var Cj;function r5(){if(Cj)return qA;Cj=1;var r=qA&&qA.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qA,"__esModule",{value:!0});const e=r(Z3());class t extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return qA.default=t,qA}var Ej;function e6(){if(Ej)return HA;Ej=1;var r=HA&&HA.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(HA,"__esModule",{value:!0});const e=r(r5());class t{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=a,this.schema=o,this.fetch=l}select(i,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(A=>/\s/.test(A)&&!c?"":(A==='"'&&(c=!c),A)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((A,f)=>A.concat(Object.keys(f)),[]);if(u.length>0){const A=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",A.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",A=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&A.push(this.headers.Prefer),l&&A.push(`count=${l}`),c||A.push("missing=default"),this.headers.Prefer=A.join(","),Array.isArray(i)){const f=i.reduce((m,h)=>m.concat(Object.keys(h)),[]);if(f.length>0){const m=[...new Set(f)].map(h=>`"${h}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return HA.default=t,HA}var Sf={},kf={},Sj;function f8(){return Sj||(Sj=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.version=void 0,kf.version="0.0.0-automated"),kf}var kj;function m8(){if(kj)return Sf;kj=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.DEFAULT_HEADERS=void 0;const r=f8();return Sf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Sf}var Fj;function p8(){if(Fj)return QA;Fj=1;var r=QA&&QA.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(QA,"__esModule",{value:!0});const e=r(e6()),t=r(r5()),n=m8();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:A}={}){let f;const m=new URL(`${this.url}/rpc/${o}`);let h;c||u?(f=c?"HEAD":"GET",Object.entries(l).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{m.searchParams.append(x,b)})):(f="POST",h=l);const v=Object.assign({},this.headers);return A&&(v.Prefer=`count=${A}`),new t.default({method:f,url:m,headers:v,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return QA.default=i,QA}var Tj;function g8(){if(Tj)return ss;Tj=1;var r=ss&&ss.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ss,"__esModule",{value:!0}),ss.PostgrestError=ss.PostgrestBuilder=ss.PostgrestTransformBuilder=ss.PostgrestFilterBuilder=ss.PostgrestQueryBuilder=ss.PostgrestClient=void 0;const e=r(p8());ss.PostgrestClient=e.default;const t=r(e6());ss.PostgrestQueryBuilder=t.default;const n=r(r5());ss.PostgrestFilterBuilder=n.default;const i=r(Z3());ss.PostgrestTransformBuilder=i.default;const a=r(J3());ss.PostgrestBuilder=a.default;const o=r(X3());return ss.PostgrestError=o.default,ss.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},ss}var x8=g8();const y8=W2(x8),{PostgrestClient:v8,PostgrestQueryBuilder:iZ,PostgrestFilterBuilder:aZ,PostgrestTransformBuilder:oZ,PostgrestBuilder:lZ,PostgrestError:cZ}=y8;function b8(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const w8=b8(),N8="2.11.15",j8=`realtime-js/${N8}`,B8="1.0.0",t6=1e4,_8=1e3;var dm;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(dm||(dm={}));var Rs;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Rs||(Rs={}));var go;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(go||(go={}));var Dw;(function(r){r.websocket="websocket"})(Dw||(Dw={}));var Qd;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Qd||(Qd={}));class C8{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const i=t.getUint8(1),a=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class r6{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Pr||(Pr={}));const Ij=(r,e,t={})=>{var n;const i=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=E8(o,r,e,i),a),{})},E8=(r,e,t,n)=>{const i=e.find(l=>l.name===r),a=i?.type,o=t[r];return a&&!n.includes(a)?n6(a,o):Uw(o)},n6=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return T8(e,t)}switch(r){case Pr.bool:return S8(e);case Pr.float4:case Pr.float8:case Pr.int2:case Pr.int4:case Pr.int8:case Pr.numeric:case Pr.oid:return k8(e);case Pr.json:case Pr.jsonb:return F8(e);case Pr.timestamp:return I8(e);case Pr.abstime:case Pr.date:case Pr.daterange:case Pr.int4range:case Pr.int8range:case Pr.money:case Pr.reltime:case Pr.text:case Pr.time:case Pr.timestamptz:case Pr.timetz:case Pr.tsrange:case Pr.tstzrange:return Uw(e);default:return Uw(e)}},Uw=r=>r,S8=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},k8=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},F8=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},T8=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let a;const o=r.slice(1,t);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>n6(e,l))}return r},I8=r=>typeof r=="string"?r.replace(" ","T"):r,s6=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class dy{constructor(e,t,n={},i=t6){this.channel=e,this.event=t,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lj;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Lj||(Lj={}));class Am{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Am.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Am.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Am.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,i){const a=this.cloneDeep(e),o=this.transformState(t),l={},c={};return this.map(a,(u,A)=>{o[u]||(c[u]=A)}),this.map(o,(u,A)=>{const f=a[u];if(f){const m=A.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),v=A.filter(b=>h.indexOf(b.presence_ref)<0),x=f.filter(b=>m.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=A}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,t,n,i){const{joins:a,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const A=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),A.length>0){const f=e[l].map(h=>h.presence_ref),m=A.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...m)}n(l,A,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const A=c.map(f=>f.presence_ref);u=u.filter(f=>A.indexOf(f.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const i=e[n];return"metas"in i?t[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dj;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Dj||(Dj={}));var Uj;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Uj||(Uj={}));var cc;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(cc||(cc={}));class n5{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Rs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new dy(this,go.join,this.params,this.timeout),this.rejoinTimer=new r6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rs.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(go.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Am(this),this.broadcastEndpointURL=s6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Rs.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(A=>e?.(cc.CHANNEL_ERROR,A)),this._onClose(()=>e?.(cc.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(A=>A.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:A})=>{var f;if(this.socket.setAuth(),A===void 0){e?.(cc.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,h=(f=m?.length)!==null&&f!==void 0?f:0,v=[];for(let x=0;x<h;x++){const b=m[x],{filter:{event:p,schema:y,table:N,filter:w}}=b,j=A&&A[x];if(j&&j.event===p&&j.schema===y&&j.table===N&&j.filter===w)v.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=Rs.errored,e?.(cc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(cc.SUBSCRIBED);return}}).receive("error",A=>{this.state=Rs.errored,e?.(cc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e?.(cc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rs.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(go.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new dy(this,go.leave,{},e),n.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new dy(this,e,t,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:A}=go;if(n&&[l,c,u,A].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,t,n);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,x,b;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=h.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var v,x,b,p,y,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,j=(v=h.filter)===null||v===void 0?void 0:v.event;return w&&((x=t.ids)===null||x===void 0?void 0:x.includes(w))&&(j==="*"||j?.toLocaleLowerCase()===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(y=(p=h?.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((N=t?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:x,table:b,commit_timestamp:p,type:y,errors:N}=v;m=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:p,eventType:y,new:{},old:{},errors:N}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===Rs.closed}_isJoined(){return this.state===Rs.joined}_isJoining(){return this.state===Rs.joining}_isLeaving(){return this.state===Rs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&n5.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(go.close,{},e)}_onError(e){this._on(go.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ij(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ij(e.columns,e.old_record)),t}}const Oj=()=>{},L8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D8{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t6,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Oj,this.ref=0,this.logger=Oj,this.conn=null,this.sendBuffer=[],this.serializer=new C8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>La(async()=>{const{default:c}=await Promise.resolve().then(()=>Yh);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Dw.websocket}`,this.httpEndpoint=s6(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(n=t?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=t?.encode?t.encode:(a,o)=>o(JSON.stringify(a)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new r6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=w8),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B8}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dm.connecting:return Qd.Connecting;case dm.open:return Qd.Open;case dm.closing:return Qd.Closing;default:return Qd.Closed}}isConnected(){return this.connectionState()===Qd.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new n5(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${t} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const i={access_token:t,version:j8};t&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(go.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(_8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:i,payload:a,ref:o}=t;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(go.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${n}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([L8],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class s5 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function as(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class U8 extends s5{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ow extends s5{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var O8=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const i6=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>Yh);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},P8=()=>O8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield La(()=>Promise.resolve().then(()=>Yh),void 0)).Response:Response}),Pw=r=>{if(Array.isArray(r))return r.map(t=>Pw(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Pw(n)}),e};var aA=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const Ay=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),R8=(r,e,t)=>aA(void 0,void 0,void 0,function*(){const n=yield P8();r instanceof n&&!t?.noResolveJson?r.json().then(i=>{e(new U8(Ay(i),r.status||500))}).catch(i=>{e(new Ow(Ay(i),i))}):e(new Ow(Ay(r),r))}),M8=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),t))};function qm(r,e,t,n,i,a){return aA(this,void 0,void 0,function*(){return new Promise((o,l)=>{r(t,M8(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>R8(c,l,n))})})}function s0(r,e,t,n){return aA(this,void 0,void 0,function*(){return qm(r,"GET",e,t,n)})}function Nu(r,e,t,n,i){return aA(this,void 0,void 0,function*(){return qm(r,"POST",e,n,i,t)})}function Q8(r,e,t,n,i){return aA(this,void 0,void 0,function*(){return qm(r,"PUT",e,n,i,t)})}function H8(r,e,t,n){return aA(this,void 0,void 0,function*(){return qm(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function a6(r,e,t,n,i){return aA(this,void 0,void 0,function*(){return qm(r,"DELETE",e,n,i,t)})}var ki=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const q8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class z8{constructor(e,t={},n,i){this.url=e,this.headers=t,this.bucketId=n,this.fetch=i6(i)}uploadOrUpdate(e,t,n,i){return ki(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Pj),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(t),A=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:e,body:a,headers:l},o?.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(as(a))return{data:null,error:a};throw a}})}upload(e,t,n){return ki(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,i){return ki(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:Pj.upsert},i),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,A["cache-control"]=`max-age=${u.cacheControl}`,A["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:A}),m=yield f.json();return f.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(as(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return ki(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const a=yield Nu(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new s5("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(as(n))return{data:null,error:n};throw n}})}update(e,t,n){return ki(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ki(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(as(i))return{data:null,error:i};throw i}})}copy(e,t,n){return ki(this,void 0,void 0,function*(){try{return{data:{path:(yield Nu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(as(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,n){return ki(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Nu(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(as(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,n){return ki(this,void 0,void 0,function*(){try{const i=yield Nu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(as(i))return{data:null,error:i};throw i}})}download(e,t){return ki(this,void 0,void 0,function*(){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield s0(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(as(l))return{data:null,error:l};throw l}})}info(e){return ki(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield s0(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Pw(n),error:null}}catch(n){if(as(n))return{data:null,error:n};throw n}})}exists(e){return ki(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield H8(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(as(n)&&n instanceof Ow){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const l=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ki(this,void 0,void 0,function*(){try{return{data:yield a6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(as(t))return{data:null,error:t};throw t}})}list(e,t,n){return ki(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},q8),t),{prefix:e||""});return{data:yield Nu(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(as(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const K8="2.7.1",V8={"X-Client-Info":`storage-js/${K8}`};var VA=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class W8{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},V8),t),this.fetch=i6(n)}listBuckets(){return VA(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(as(e))return{data:null,error:e};throw e}})}getBucket(e){return VA(this,void 0,void 0,function*(){try{return{data:yield s0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(as(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return VA(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(as(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return VA(this,void 0,void 0,function*(){try{return{data:yield Q8(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(as(n))return{data:null,error:n};throw n}})}emptyBucket(e){return VA(this,void 0,void 0,function*(){try{return{data:yield Nu(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(as(t))return{data:null,error:t};throw t}})}deleteBucket(e){return VA(this,void 0,void 0,function*(){try{return{data:yield a6(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(as(t))return{data:null,error:t};throw t}})}}class G8 extends W8{constructor(e,t={},n){super(e,t,n)}from(e){return new z8(this.url,this.headers,e,this.fetch)}}const $8="2.52.0";let Jf="";typeof Deno<"u"?Jf="deno":typeof document<"u"?Jf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jf="react-native":Jf="node";const Y8={"X-Client-Info":`supabase-js-${Jf}/${$8}`},X8={headers:Y8},J8={schema:"public"},Z8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eD={};var tD=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};const rD=r=>{let e;return r?e=r:typeof fetch>"u"?e=$3:e=fetch,(...t)=>e(...t)},nD=()=>typeof Headers>"u"?Y3:Headers,sD=(r,e,t)=>{const n=rD(t),i=nD();return(a,o)=>tD(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:r;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var iD=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};function aD(r){return r.endsWith("/")?r:r+"/"}function oD(r,e){var t,n;const{db:i,auth:a,realtime:o,global:l}=r,{db:c,auth:u,realtime:A,global:f}=e,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},A),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(t=f?.headers)!==null&&t!==void 0?t:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>iD(this,void 0,void 0,function*(){return""})};return r.accessToken?m.accessToken=r.accessToken:delete m.accessToken,m}const o6="2.71.1",dh=30*1e3,Rw=3,hy=Rw*dh,lD="http://localhost:9999",cD="supabase.auth.token",uD={"X-Client-Info":`gotrue-js/${o6}`},Mw="X-Supabase-Api-Version",l6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AD=600*1e3;class i5 extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function zt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class hD extends i5{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function fD(r){return zt(r)&&r.name==="AuthApiError"}class c6 extends i5{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Vu extends i5{constructor(e,t,n,i){super(e,n,i),this.name=t,this.status=n}}class vu extends Vu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mD(r){return zt(r)&&r.name==="AuthSessionMissingError"}class Up extends Vu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Op extends Vu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pp extends Vu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pD(r){return zt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Rj extends Vu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qw extends Vu{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function fy(r){return zt(r)&&r.name==="AuthRetryableFetchError"}class Mj extends Vu{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Hw extends Vu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const i0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qj=` 	
\r=`.split(""),gD=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Qj.length;e+=1)r[Qj[e].charCodeAt(0)]=-2;for(let e=0;e<i0.length;e+=1)r[i0[e].charCodeAt(0)]=e;return r})();function Hj(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(i0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(i0[n]),e.queuedBits-=6}}function u6(r,e,t){const n=gD[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function qj(r){const e=[],t=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{vD(o,n,t)};for(let o=0;o<r.length;o+=1)u6(r.charCodeAt(o),i,a);return e.join("")}function xD(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function yD(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}xD(n,e)}}function vD(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function bD(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<r.length;i+=1)u6(r.charCodeAt(i),t,n);return new Uint8Array(e)}function wD(r){const e=[];return yD(r,t=>e.push(t)),new Uint8Array(e)}function ND(r){const e=[],t={queue:0,queuedBits:0},n=i=>{e.push(i)};return r.forEach(i=>Hj(i,t,n)),Hj(null,t,n),e.join("")}function jD(r){return Math.round(Date.now()/1e3)+r}function BD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const ho=()=>typeof window<"u"&&typeof document<"u",Cd={tested:!1,writable:!1},d6=()=>{if(!ho())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cd.tested)return Cd.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Cd.tested=!0,Cd.writable=!0}catch{Cd.tested=!0,Cd.writable=!1}return Cd.writable};function _D(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((n,i)=>{e[i]=n}),e}const A6=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>La(async()=>{const{default:n}=await Promise.resolve().then(()=>Yh);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},CD=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Ah=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Ed=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},mu=async(r,e)=>{await r.removeItem(e)};class L0{constructor(){this.promise=new L0.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}L0.promiseConstructor=Promise;function my(r){const e=r.split(".");if(e.length!==3)throw new Hw("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!dD.test(e[n]))throw new Hw("JWT not in base64url format");return{header:JSON.parse(qj(e[0])),payload:JSON.parse(qj(e[1])),signature:bD(e[2]),raw:{header:e[0],payload:e[1]}}}async function ED(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function SD(r,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await r(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function kD(r){return("0"+r.toString(16)).substr(-2)}function FD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,kD).join("")}async function TD(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ID(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await TD(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function WA(r,e,t=!1){const n=FD();let i=n;t&&(i+="/PASSWORD_RECOVERY"),await Ah(r,`${e}-code-verifier`,i);const a=await ID(n);return[a,n===a?"plain":"s256"]}const LD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DD(r){const e=r.headers.get(Mw);if(!e||!e.match(LD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function UD(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function OD(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function GA(r){if(!PD.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function py(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zj(r){return JSON.parse(JSON.stringify(r))}var RD=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Ud=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),MD=[502,503,504];async function Kj(r){var e;if(!CD(r))throw new Qw(Ud(r),0);if(MD.includes(r.status))throw new Qw(Ud(r),r.status);let t;try{t=await r.json()}catch(a){throw new c6(Ud(a),a)}let n;const i=DD(r);if(i&&i.getTime()>=l6["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Mj(Ud(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new vu}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Mj(Ud(t),r.status,t.weak_password.reasons);throw new hD(Ud(t),r.status||500,n)}const QD=(r,e,t,n)=>{const i={method:r,headers:e?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),t))};async function Xt(r,e,t,n){var i;const a=Object.assign({},n?.headers);a[Mw]||(a[Mw]=l6["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await HD(r,e,t+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function HD(r,e,t,n,i,a){const o=QD(e,n,i,a);let l;try{l=await r(t,Object.assign({},o))}catch(c){throw console.error(c),new Qw(Ud(c),0)}if(l.ok||await Kj(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await Kj(c)}}function ac(r){var e;let t=null;VD(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=jD(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Vj(r){const e=ac(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Bu(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function qD(r){return{data:r,error:null}}function zD(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:a}=r,o=RD(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function KD(r){return r}function VD(r){return r.access_token&&r.refresh_token&&r.expires_in}const gy=["global","local","others"];var WD=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};class GD{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=A6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=gy[0]){if(gy.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gy.join(", ")}`);try{return await Xt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Bu})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=WD(e,["options"]),i=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zD,redirectTo:t?.redirectTo})}catch(t){if(zt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Xt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bu})}catch(t){if(zt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=await Xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:KD});if(A.error)throw A.error;const f=await A.json(),m=(o=A.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=A.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(zt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){GA(e);try{return await Xt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bu})}catch(t){if(zt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){GA(e);try{return await Xt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Bu})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){GA(e);try{return await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Bu})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){GA(e.userId);try{const{data:t,error:n}=await Xt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:n}}catch(t){if(zt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){GA(e.userId),GA(e.id);try{return{data:await Xt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(zt(t))return{data:null,error:t};throw t}}}function Wj(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function $D(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $A={debug:!!(globalThis&&d6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YD extends h6{}async function XD(r,e,t){$A.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),$A.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){$A.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await t()}finally{$A.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(e===0)throw $A.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new YD(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if($A.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}$D();const JD={url:lD,storageKey:cD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gj(r,e,t){return await t()}const YA={};class Cm{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cm.nextInstanceID,Cm.nextInstanceID+=1,this.instanceID>0&&ho()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},JD),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=A6(i.fetch),this.lock=i.lock||Gj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ho()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=XD:this.lock=Gj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:d6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wj(this.memoryStorage)),ho()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=YA[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){YA[this.storageKey]=Object.assign(Object.assign({},YA[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=YA[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){YA[this.storageKey]=Object.assign(Object.assign({},YA[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o6}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=_D(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),ho()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),pD(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return zt(t)?{error:t}:{error:new c6("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,i;try{const a=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ac}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(zt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,i;try{let a;if("email"in e){const{email:A,password:f,options:m}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await WA(this.storage,this.storageKey)),a=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:A,password:f,data:(t=m?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:h,code_challenge_method:v},xform:ac})}else if("phone"in e){const{phone:A,password:f,options:m}=e;a=await Xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ac})}else throw new Op("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(zt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:o,options:l}=e;t=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vj})}else if("phone"in e){const{phone:a,password:o,options:l}=e;t=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vj})}else throw new Op("You must provide either an email or phone number and a password");const{data:n,error:i}=t;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Up}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(t){if(zt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,i,a,o,l,c,u,A,f,m,h;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:p,statement:y,options:N}=e;let w;if(ho())if(typeof p=="object")w=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const j=new URL((t=N?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let I;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")I=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)I=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)v=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),x=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=N?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((f=(A=N?.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||f===void 0)&&f.length?["Resources",...N.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:b,error:p}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ND(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ac});if(p)throw p;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Up}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:p})}catch(b){if(zt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const t=await Ed(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(t??"").split("/");try{const{data:a,error:o}=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ac});if(await mu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Up}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(zt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:i,access_token:a,nonce:o}=e,l=await Xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:ac}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Up}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(zt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,A=null;this.flowType==="pkce"&&([u,A]=await WA(this.storage,this.storageKey));const{error:f}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=c?.data)!==null&&t!==void 0?t:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:A},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:A}=await Xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:A}}throw new Op("You must provide either an email or phone number.")}catch(l){if(zt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,n;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ac});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(zt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await WA(this.storage,this.storageKey)),await Xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:qD})}catch(a){if(zt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new vu;const{error:i}=await Xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(zt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await Xt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Op("You must provide either an email or phone number and a type")}catch(t){if(zt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ed(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ed(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=py()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,A)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,A))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bu}):await this._useSession(async t=>{var n,i,a;const{data:o,error:l}=t;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vu}:await Xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Bu})})}catch(t){if(zt(t))return mD(t)&&(await this._removeSession(),await mu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new vu;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await WA(this.storage,this.storageKey));const{data:u,error:A}=await Xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Bu});if(A)throw A;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(zt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vu;const t=Date.now()/1e3;let n=t,i=!0,a=null;const{payload:o}=my(e.access_token);if(o.exp&&(n=o.exp,i=n<=t),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(zt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new vu;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(zt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ho())throw new Pp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Rj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pp("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rj("No code detected.");const{data:y,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new Pp("No session defined in URL");const A=Math.round(Date.now()/1e3),f=parseInt(l);let m=A+f;c&&(m=parseInt(c));const h=m-A;h*1e3<=dh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;A-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,A):A-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,A);const{data:x,error:b}=await this._getUser(a);if(b)throw b;const p={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ed(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(fD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await mu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=BD(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,i;try{const{data:{session:a},error:o}=t;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await WA(this.storage,this.storageKey,!0));try{return await Xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(zt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(zt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,A;const{data:f,error:m}=a;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Xt(this.fetch,"GET",h,{headers:this.headers,jwt:(A=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&A!==void 0?A:void 0})});if(i)throw i;return ho()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(zt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,i;const{data:a,error:o}=t;if(o)throw o;return await Xt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(zt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await SD(async i=>(i>0&&await ED(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ac})),(i,a)=>{const o=200*Math.pow(2,i);return a&&fy(a)&&Date.now()+o-n<dh})}catch(n){if(this._debug(t,"error",n),zt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),ho()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ed(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ed(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ah(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:py()}else if(i&&!i.user&&!i.user){const o=await Ed(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await mu(this.storage,this.storageKey+"-user"),await Ah(this.storage,this.storageKey,i)):i.user=py()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hy;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${hy}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fy(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new vu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new L0;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new vu;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),zt(a)){const o={session:null,error:a};return fy(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await Ah(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=zj(i);await Ah(this.storage,this.storageKey,a)}else{const i=zj(t);await Ah(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await mu(this.storage,this.storageKey),await mu(this.storage,this.storageKey+"-code-verifier"),await mu(this.storage,this.storageKey+"-user"),this.userStorage&&await mu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ho()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dh);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/dh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dh}ms, refresh threshold is ${Rw} ticks`),i<=Rw&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof h6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ho()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await WA(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;return a?{data:null,error:a}:await Xt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(zt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,i;const{data:a,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Xt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(zt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;if(a)return{data:null,error:a};const{data:o,error:l}=await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(t){if(zt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:i,error:a}=t;return a?{data:null,error:a}:await Xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(zt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=my(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const A=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+AD>i)return n;const{data:a,error:o}=await Xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=my(n);t?.allowExpired||UD(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const A=OD(i.alg),f=await crypto.subtle.importKey("jwk",u,A,!0,["verify"]);if(!await crypto.subtle.verify(A,f,o,wD(`${l}.${c}`)))throw new Hw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}}}Cm.nextInstanceID=0;const ZD=Cm;class eU extends ZD{constructor(e){super(e)}}var tU=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,e||[])).next())})};class rU{constructor(e,t,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=aD(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,A={db:J8,realtime:eD,auth:Object.assign(Object.assign({},Z8),{storageKey:u}),global:X8},f=oD(n??{},A);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=sD(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new v8(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new l8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new G8(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return tU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,A){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new D8(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f6=(r,e,t)=>new rU(r,e,t),Yo=(r,e)=>{const t=r?.message||"",n=r?.status||r?.code,i=typeof n=="string"?parseInt(n):n,a=t.includes("Failed to fetch")||t.includes("timeout")||t.includes("upstream connect error")||t.includes("signal timed out")||t.includes("connection timeout")||t.includes("disconnect/reset before headers")||i===503||i===500||i===544||i===23;return a?console.warn(`Supabase connection issue during ${e}:`,r.message||r):r?.code==="42P01"?console.warn(`Table does not exist during ${e}. Please run database migrations.`):console.error(`Error during ${e}:`,r),a},$j=r=>({id:r.id,type:r.type,action:r.action,title:r.title,description:r.description,entityId:r.entity_id,entityType:r.entity_type,entityName:r.entity_name,userId:r.user_id,metadata:r.metadata,createdAt:new Date(r.created_at),readAt:r.read_at?new Date(r.read_at):void 0,priority:r.priority,category:r.category});class nU{activities=[];constructor(){}async addActivity(e){try{const{data:t}=await Je.auth.getUser();if(!t?.user)return console.warn("User not connected, cannot log activity"),{id:"offline_"+Date.now(),...e,createdAt:new Date};const n={type:e.type,action:e.action,title:e.title,description:e.description,entity_id:e.entityId,entity_type:e.entityType,entity_name:e.entityName,user_id:t.user.id,metadata:e.metadata,priority:e.priority,category:e.category,read_at:null},{data:i,error:a}=await Je.from("activities").insert(n).select().single();if(a)throw a;return $j(i)}catch(t){return console.warn("Could not save activity to database:",t),{id:"offline_"+Date.now(),...e,createdAt:new Date}}}async getActivities(e,t){try{const n="https://knkutxcpjrpcpeicibnf.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(n&&i&&!n.includes("your-project-id")&&!i.includes("your-anon-key")))return console.warn("Supabase not configured for activities. Using mock data."),{data:[],error:null};const{data:o}=await Je.auth.getUser();if(!o?.user)return console.warn("Utilisateur non connecté"),{data:[],error:null};let l=Je.from("activities").select("*").eq("user_id",o.user.id).order("created_at",{ascending:!1});e&&(e.type&&(l=l.eq("type",e.type)),e.category&&(l=l.eq("category",e.category)),e.entityType&&(l=l.eq("entity_type",e.entityType)),e.unreadOnly&&(l=l.is("read_at",null)),e.dateRange&&(l=l.gte("created_at",e.dateRange.start.toISOString()).lte("created_at",e.dateRange.end.toISOString()))),t&&(l=l.limit(t));const{data:c,error:u}=await l;return u?(Yo(u,"getActivities"),{data:[],error:null}):{data:(c||[]).map(A=>$j(A)),error:null}}catch(n){return Yo(n,"getActivities")?{data:[],error:n}:{data:[],error:null}}}async markAsRead(e){try{const{error:t}=await Je.from("activities").update({read_at:new Date().toISOString()}).eq("id",e);if(t)throw t}catch(t){throw Yo(t,"markAsRead"),t}}async markAllAsRead(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)throw new Error("Utilisateur non connecté");const{error:t}=await Je.from("activities").update({read_at:new Date().toISOString()}).eq("user_id",e.user.id).is("read_at",null);if(t)throw t}catch(e){throw Yo(e,"markAllAsRead"),e}}async getStats(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)return console.warn("Utilisateur non connecté pour les statistiques"),{data:{total:0,unread:0,byType:{},byCategory:{},recent:0},error:null};const{count:t,error:n}=await Je.from("activities").select("*",{count:"exact",head:!0}).eq("user_id",e.user.id);if(n)return Yo(n,"getStats - total count"),{data:{total:0,unread:0,byType:{},byCategory:{},recent:0},error:null};const{count:i,error:a}=await Je.from("activities").select("*",{count:"exact",head:!0}).eq("user_id",e.user.id).is("read_at",null);if(a)return Yo(a,"getStats - unread count"),{data:{total:t||0,unread:0,byType:{},byCategory:{},recent:0},error:null};const o=new Date;o.setDate(o.getDate()-1);const{count:l,error:c}=await Je.from("activities").select("*",{count:"exact",head:!0}).eq("user_id",e.user.id).gte("created_at",o.toISOString());if(c)return Yo(c,"getStats - recent count"),{data:{total:t||0,unread:i||0,byType:{},byCategory:{},recent:0},error:null};const{data:u,error:A}=await Je.from("activities").select("type, category").eq("user_id",e.user.id);if(A)return Yo(A,"getStats - activities for stats"),{data:{total:t||0,unread:i||0,byType:{},byCategory:{},recent:l||0},error:null};const f={},m={};return u?.forEach(h=>{f[h.type]=(f[h.type]||0)+1,m[h.category]=(m[h.category]||0)+1}),{data:{total:t||0,unread:i||0,byType:f,byCategory:m,recent:l||0},error:null}}catch(e){return Yo(e,"getStats")?{data:{total:0,unread:0,byType:{},byCategory:{},recent:0},error:e}:{data:{total:0,unread:0,byType:{},byCategory:{},recent:0},error:null}}}async cleanOldActivities(e=30){try{const{data:t}=await Je.auth.getUser();if(!t?.user)throw new Error("Utilisateur non connecté");const n=new Date;n.setDate(n.getDate()-e);const{count:i,error:a}=await Je.from("activities").select("*",{count:"exact",head:!0}).eq("user_id",t.user.id).lt("created_at",n.toISOString());if(a)throw a;const{error:o}=await Je.from("activities").delete().eq("user_id",t.user.id).lt("created_at",n.toISOString());if(o)throw o;return i||0}catch(t){if(Yo(t,"cleanOldActivities"))throw t;return 0}}}const Fr=new nU,m6="https://knkutxcpjrpcpeicibnf.supabase.co",p6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g",hh=!m6.includes("your-project-id")&&!p6.includes("your-anon-key");let wh=hh;wh||console.warn("Les variables d'environnement Supabase ne sont pas correctement définies. Certaines fonctionnalités seront limitées.");const Je=f6(m6,p6,{auth:{persistSession:!0,autoRefreshToken:!0},global:{fetch:(...r)=>{const[e,t]=r;return fetch(e,{...t,signal:AbortSignal.timeout(3e4)}).catch(n=>{if(n.name==="TimeoutError"||n.name==="AbortError"||n.message==="Failed to fetch"||n.message.includes("fetch")||n instanceof TypeError)return wh=!1,Promise.reject(n);throw n})}}}),pu={async signUp(r,e,t){try{if(!hh)return console.warn("Supabase not configured. Using mock authentication."),{data:{user:{id:"mock-user-id",email:r,user_metadata:{first_name:t.firstName,last_name:t.lastName,company_name:t.companyName,phone:t.phone}},session:{access_token:"mock-token",refresh_token:"mock-refresh-token",expires_at:Date.now()+36e5}},error:null};const{data:n,error:i}=await Je.auth.signUp({email:r,password:e,options:{data:{first_name:t.firstName,last_name:t.lastName,company_name:t.companyName,phone:t.phone}}});if(i)throw i;return{data:n,error:null}}catch(n){const i=n.message;return console.warn("Sign up error:",n),i.includes("Failed to fetch")||i.includes("TimeoutError")||i.includes("signal timed out")||i.includes("NetworkError")||i.includes("timeout")?(console.warn("Network error detected. Switching to demo mode for sign up."),wh=!1,{data:{user:{id:"demo-user-id",email:r,user_metadata:{first_name:t.firstName,last_name:t.lastName,company_name:t.companyName,phone:t.phone}},session:{access_token:"demo-token",refresh_token:"demo-refresh-token",expires_at:Date.now()+36e5}},error:null}):{data:{user:null,session:null},error:{message:i}}}if(data?.user)try{await Fr.addActivity({type:"system",action:"user_signup",title:"Nouveau compte créé",description:`Compte créé pour ${t.firstName} ${t.lastName}`,userId:data.user.id,priority:"medium",category:"success"})}catch(n){console.warn("Could not log signup activity:",n)}},async signIn(r,e){try{if(!hh)return console.warn("Supabase not configured. Using mock authentication."),{data:{user:{id:"mock-user-id",email:r,user_metadata:{first_name:"User",last_name:"Demo"}},session:{access_token:"mock-token",refresh_token:"mock-refresh-token",expires_at:Date.now()+36e5}},error:null};const{data:t,error:n}=await Je.auth.signInWithPassword({email:r,password:e});if(n)throw n;return{data:t,error:null}}catch(t){const n=t.message;return console.warn("Sign in error:",t),n.includes("Failed to fetch")||n.includes("TimeoutError")||n.includes("signal timed out")||n.includes("NetworkError")||n.includes("timeout")?(console.warn("Network error detected. Switching to demo mode for sign in."),wh=!1,{data:{user:{id:"demo-user-id",email:r,user_metadata:{first_name:"Demo",last_name:"User"}},session:{access_token:"demo-token",refresh_token:"demo-refresh-token",expires_at:Date.now()+36e5}},error:null}):{data:{user:null,session:null},error:{message:n}}}if(data?.user)try{await Fr.addActivity({type:"login",action:"user_signin",title:"Connexion utilisateur",description:`Connexion réussie pour ${r}`,userId:data.user.id,priority:"low",category:"info"})}catch(t){console.warn("Could not log signin activity:",t)}},async signOut(){try{if(!hh)return console.warn("Supabase not configured. Using mock authentication."),{error:null};const{error:r}=await Je.auth.signOut();if(r)throw r;return{error:null}}catch(r){const e=r.message;return console.warn("Sign out error:",r),e.includes("Failed to fetch")||e.includes("TimeoutError")||e.includes("signal timed out")||e.includes("NetworkError")||e.includes("timeout")?(console.warn("Network error during sign out. Proceeding with local sign out."),wh=!1,{error:null}):{error:{message:e}}}},async getSession(){try{if(!hh)return console.warn("Supabase not configured. Using mock authentication."),{data:{session:{user:{id:"mock-user-id",email:"user@example.com",user_metadata:{first_name:"User",last_name:"Demo"}},access_token:"mock-token",refresh_token:"mock-refresh-token",expires_at:Date.now()+36e5}},error:null};const{data:r,error:e}=await Je.auth.getSession();return{data:r,error:null}}catch(r){const e=r.message;return console.warn("Get session error:",r),e.includes("Failed to fetch")||e.includes("TimeoutError")||e.includes("signal timed out")||e.includes("NetworkError")||e.includes("timeout")?(console.warn("Network error detected. Returning demo session."),wh=!1,{data:{session:{user:{id:"demo-user-id",email:"demo@example.com",user_metadata:{first_name:"Demo",last_name:"User"}},access_token:"demo-token",refresh_token:"demo-refresh-token",expires_at:Date.now()+36e5}},error:null}):{data:{session:null},error:{message:e}}}},async getProfile(r){try{if(!hh)return console.warn("Supabase not configured. Using mock profile data."),{data:{id:r,email:"user@example.com",first_name:"User",last_name:"Demo",company_name:"Demo Company",phone:"0123456789",plan:"starter",trial_ends_at:new Date(Date.now()+336*60*60*1e3).toISOString(),subscription_status:"trial",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},error:null};const{data:e,error:t}=await Je.auth.getSession();if(t)throw t;if(e&&e.session?.user.id===r){const{data:n,error:i}=await Je.from("profiles").select("*").eq("id",r).single();if(i)throw i;return{data:n,error:null}}throw new Error("Utilisateur non trouvé")}catch(e){return{data:null,error:{message:e.message}}}},async updateProfile(r,e){try{const{data:t,error:n}=await Je.from("profiles").update(e).eq("id",r).select().single();if(n)throw n;return{data:t,error:null}}catch(t){return{data:null,error:{message:t.message}}}},async resetPassword(r){try{const{error:e}=await Je.auth.resetPasswordForEmail(r);if(e)throw e;return{data:{},error:null}}catch(e){return{data:null,error:{message:e.message}}}}},Xh=()=>{const[r,e]=Ae.useState(null),[t,n]=Ae.useState(null),[i,a]=Ae.useState(null),[o,l]=Ae.useState(!0);Ae.useEffect(()=>{(async()=>{try{const{data:{session:p},error:y}=await Je.auth.getSession();if(y&&(y.message.includes("User from sub claim in JWT does not exist")||y.message.includes("user_not_found")||y.message.includes("Invalid Refresh Token")||y.message.includes("refresh_token_not_found")||y.code==="refresh_token_not_found")){await Je.auth.signOut(),a(null),e(null);return}if(y&&(y.message.includes("User from sub claim in JWT does not exist")||y.message.includes("user_not_found")||y.message.includes("Invalid Refresh Token")||y.message.includes("refresh_token_not_found")||y.code==="refresh_token_not_found")){await Je.auth.signOut(),a(null),e(null);return}a(p),e(p?.user||null),p?.user&&c(p.user.id)}catch(p){let y=p instanceof Error?p.message:"Erreur lors de la connexion";if(p instanceof Error&&(p.message.includes("Failed to fetch")||p.message.includes("timeout")||p.message.includes("NetworkError"))){console.warn("Network error during sign in. Attempting to use demo mode.");try{const N=await pu.signIn(email,password);if(N.data?.user){e(N.data.user),a(N.data.session);return}}catch(N){console.error("Failed to use demo mode:",N)}}throw new Error(y)}})();const{data:{subscription:b}}=Je.auth.onAuthStateChange(async(p,y)=>{a(y),e(y?.user||null),y?.user?c(y.user.id):n(null),l(!1)});return()=>b.unsubscribe()},[]);const c=async x=>{try{const{data:b,error:p}=await pu.getProfile(x);if(p){console.error("Error fetching user profile:",p);return}if(b&&b.email==="admin@easybail.pro"&&b.role!=="admin")try{await pu.updateProfile(x,{role:"admin",plan:"expert",subscription_status:"active"}),b.role="admin",b.plan="expert",b.subscription_status="active"}catch(y){console.warn("Could not update admin role:",y)}n(b)}catch(b){console.error("Error in fetchUserProfile:",b)}};return{user:r,session:i,profile:t,loading:o,signUp:async(x,b,p)=>{l(!0);try{const{data:y,error:N}=await pu.signUp(x,b,{firstName:p.firstName,lastName:p.lastName,companyName:p.companyName,phone:p.phone});if(N)throw N;e(y.user),n(null),a(y.session)}catch(y){let N=y.message||"Erreur lors de l'inscription";throw y.message?.includes("User already registered")?N="Un compte avec cette adresse email existe déjà":y.message?.includes("Database error saving new user")?N="Erreur de configuration de la base de données. Veuillez contacter le support.":y.message?.includes("Password should be at least")?N="Le mot de passe doit contenir au moins 6 caractères":y.message?.includes("Invalid email")&&(N="Format d'email invalide"),new Error(N)}finally{l(!1)}},signIn:async(x,b)=>{l(!0);try{const{data:p,error:y}=await pu.signIn(x,b);if(y)throw y;e(p.user),n(null),a(p.session);try{localStorage.removeItem("easybail_activities_loaded"),Fr.getActivities().catch(N=>console.warn("Error refreshing activities after login:",N))}catch(N){console.warn("Error refreshing activities after login:",N)}}catch(p){let y=p.message||"Erreur lors de la connexion";if(p.message?.includes("Invalid login credentials")?y="Email ou mot de passe incorrect":p.message?.includes("Email not confirmed")?y="Veuillez confirmer votre email avant de vous connecter":p.message?.includes("Too many requests")&&(y="Trop de tentatives. Veuillez réessayer dans quelques minutes"),p instanceof Error&&(p.message.includes("Failed to fetch")||p.message.includes("timeout")||p.message.includes("NetworkError"))){console.warn("Network error during sign in. Attempting to use demo mode.");try{const N=await pu.signIn(x,b);if(N.data?.user){e(N.data.user),a(N.data.session);return}}catch(N){console.error("Failed to use demo mode:",N)}}throw new Error(y)}finally{l(!1)}},signOut:async()=>{l(!0);try{const{error:x}=await Je.auth.signOut();if(x)throw x;e(null),n(null),a(null)}catch(x){if(console.warn("Error signing out:",x),e(null),n(null),a(null),!(x.message?.includes("Failed to fetch")||x.message?.includes("timeout")||x.message?.includes("NetworkError")))throw new Error("Erreur lors de la déconnexion")}finally{l(!1)}},updateProfile:async x=>{if(!r)throw new Error("Utilisateur non connecté");l(!0);try{const{data:b,error:p}=await pu.updateProfile(r.id,x);if(p)throw p;e(y=>y?{...y,user_metadata:{...y.user_metadata,...x}}:null)}catch(b){throw new Error(b.message||"Erreur lors de la mise à jour du profil")}finally{l(!1)}},resetPassword:async x=>{try{const{error:b}=await pu.resetPassword(x);if(b)throw b}catch(b){throw new Error(b.message||"Erreur lors de la réinitialisation du mot de passe")}},showLoginPage:()=>{}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),tt=(r,e)=>{const t=Ae.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},A)=>Ae.createElement("svg",{ref:A,...sU,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${iU(r)}`,l].join(" "),...u},[...e.map(([f,m])=>Ae.createElement(f,m)),...Array.isArray(c)?c:[c]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=tt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=tt("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=tt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=tt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=tt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=tt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=tt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=tt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=tt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=tt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=tt("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=tt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=tt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=tt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=tt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=tt("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=tt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=tt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=tt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=tt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=tt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=tt("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=tt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=tt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=tt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=tt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=tt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=tt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=tt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=tt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=tt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=tt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=tt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=tt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=tt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=tt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=tt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=tt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=tt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=tt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=tt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=tt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=tt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=tt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=tt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=tt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=tt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=tt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=tt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=tt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=tt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=tt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),IU=({onLoginClick:r,onSignupClick:e})=>{const[t,n]=Ae.useState(!1),[i,a]=Ae.useState(!1);return s.jsx("header",{className:"bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100 sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-20",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-7 w-7 text-white"})}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"EasyBail"})]}),s.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"flex items-center text-gray-700 hover:text-blue-600 transition-colors font-semibold",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:["Produit",s.jsx(D0,{className:"ml-1 h-4 w-4"})]}),i&&s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-gray-100 py-4 z-50",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[s.jsxs("a",{href:"#fonctionnalites",className:"block px-6 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"font-medium",children:"Fonctionnalités"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Découvrez toutes nos fonctionnalités"})]}),s.jsxs("a",{href:"#",className:"block px-6 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"font-medium",children:"Intégrations"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Connectez vos outils favoris"})]}),s.jsxs("a",{href:"#",className:"block px-6 py-3 text-gray-700 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"font-medium",children:"API"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Développez avec notre API"})]})]})]}),s.jsx("a",{href:"#tarifs",className:"text-gray-700 hover:text-blue-600 transition-colors font-semibold",children:"Tarifs"}),s.jsx("a",{href:"#",className:"text-gray-700 hover:text-blue-600 transition-colors font-semibold",children:"Ressources"}),s.jsx("a",{href:"#",className:"text-gray-700 hover:text-blue-600 transition-colors font-semibold",children:"Blog"}),s.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 transition-colors font-semibold",children:"Contact"})]}),s.jsxs("nav",{className:"hidden md:flex lg:hidden items-center space-x-6",children:[s.jsx("a",{href:"#fonctionnalites",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium",children:"Fonctionnalités"}),s.jsx("a",{href:"#tarifs",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium",children:"Tarifs"}),s.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium",children:"Contact"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsxs("button",{className:"flex items-center text-gray-700 hover:text-blue-600 transition-colors font-medium",children:[s.jsx(Mu,{className:"h-4 w-4 mr-2"}),"Voir la démo"]}),s.jsx(ll,{to:"/login",className:"text-gray-700 hover:text-blue-600 font-semibold transition-colors",children:"Se connecter"}),s.jsx(ll,{to:"/login?mode=signup",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center",children:"Essai gratuit"})]}),s.jsx("button",{className:"md:hidden",onClick:()=>n(!t),children:t?s.jsx(sn,{className:"h-6 w-6 text-gray-700"}):s.jsx(pU,{className:"h-6 w-6 text-gray-700"})})]}),t&&s.jsx("div",{className:"md:hidden py-6 border-t border-gray-100 bg-white",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx("a",{href:"#fonctionnalites",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium py-2",children:"Fonctionnalités"}),s.jsx("a",{href:"#tarifs",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium py-2",children:"Tarifs"}),s.jsx("a",{href:"#",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium py-2",children:"Ressources"}),s.jsx("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium py-2",children:"Contact"}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-6 border-t border-gray-100",children:[s.jsxs("button",{className:"flex items-center text-gray-700 hover:text-blue-600 transition-colors font-medium py-2",children:[s.jsx(Mu,{className:"h-4 w-4 mr-2"}),"Voir la démo"]}),s.jsx(ll,{to:"/login",className:"text-gray-700 hover:text-blue-600 font-semibold transition-colors text-left py-2",children:"Se connecter"}),s.jsx(ll,{to:"/login?mode=signup",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold text-center",children:"Essai gratuit"})]})]})})]})})},LU=({onLoginClick:r,onSignupClick:e})=>s.jsxs("section",{className:"relative bg-gradient-to-br from-gray-50 via-blue-50 to-gray-50 py-20 lg:py-32 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-600 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gray-400 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob animation-delay-2000"}),s.jsx("div",{className:"absolute top-40 left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob animation-delay-4000"})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"relative text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg text-sm font-semibold mb-8 shadow-sm",children:[s.jsx(rA,{className:"h-4 w-4 mr-2 fill-current"}),"🚀 Nouvelle version 2.0 disponible"]}),s.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold text-gray-900 mb-8 leading-tight",children:["Simplifiez votre",s.jsx("span",{className:"text-blue-600 block",children:"gestion locative"})]}),s.jsxs("p",{className:"text-xl lg:text-2xl text-gray-600 mb-12 max-w-4xl mx-auto leading-relaxed",children:["Plateforme complète de gestion locative pour",s.jsx("span",{className:"font-semibold text-gray-900",children:" gérer vos biens"}),",",s.jsx("span",{className:"font-semibold text-gray-900",children:" automatiser vos tâches"})," et",s.jsx("span",{className:"font-semibold text-gray-900",children:" optimiser votre rentabilité"}),"."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ui,{className:"h-5 w-5 text-blue-600"})}),s.jsx("span",{className:"font-semibold text-gray-900",children:"Automatisation"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Bt,{className:"h-5 w-5 text-green-600"})}),s.jsx("span",{className:"font-semibold text-gray-900",children:"Conformité garantie"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3 bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(ls,{className:"h-5 w-5 text-gray-600"})}),s.jsx("span",{className:"font-semibold text-gray-900",children:"Sécurité maximale"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-12",children:[s.jsxs(ll,{to:"/login?mode=signup",className:"bg-blue-600 text-white px-10 py-4 rounded-lg hover:bg-blue-700 transition-all duration-200 font-semibold text-lg shadow-sm hover:shadow-md flex items-center group",children:[s.jsx("span",{children:"Démarrer gratuitement"}),s.jsx(Jh,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),s.jsxs("button",{className:"border border-gray-300 text-gray-700 px-10 py-4 rounded-lg hover:bg-gray-50 hover:text-blue-600 transition-all duration-200 font-semibold text-lg flex items-center group",children:[s.jsx(Mu,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform"}),s.jsx("span",{children:"Voir la démo"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-6 font-medium",children:"Rejoignez plus de 50 000 propriétaires qui nous font confiance"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 items-center opacity-70",children:[s.jsx("div",{className:"text-gray-500 font-bold text-lg",children:"ORPI"}),s.jsx("div",{className:"text-gray-500 font-bold text-lg",children:"CENTURY 21"}),s.jsx("div",{className:"text-gray-500 font-bold text-lg",children:"FONCIA"}),s.jsx("div",{className:"text-gray-500 font-bold text-lg",children:"NEXITY"})]}),s.jsxs("div",{className:"mt-6 flex justify-center items-center space-x-6 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rA,{className:"h-4 w-4 text-yellow-400 mr-1"}),s.jsx("span",{className:"font-semibold",children:"4.9/5"}),s.jsx("span",{className:"ml-1",children:"sur Trustpilot"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{children:"99.9% de disponibilité"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ls,{className:"h-4 w-4 text-blue-500 mr-1"}),s.jsx("span",{children:"Certifié ISO 27001"})]})]})]})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]}),DU=({icon:r,title:e,description:t,features:n,color:i})=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 p-6 border border-gray-200 hover:border-blue-300 group",children:[s.jsx("div",{className:`w-12 h-12 ${i} rounded-lg flex items-center justify-center mb-4`,children:s.jsx(r,{className:"h-7 w-7 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:e}),s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed text-sm",children:t}),s.jsx("ul",{className:"space-y-2",children:n.map((a,o)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 leading-relaxed text-sm",children:a})]},o))})]}),UU=()=>{const r=[{icon:Et,title:"Documents locatifs",description:"Plus de 50 modèles de documents conformes à la législation française",color:"bg-blue-600",features:["Contrats de bail conformes loi ALUR","États des lieux numériques","Quittances automatisées","Signature électronique certifiée","Archivage sécurisé illimité"]},{icon:Mu,title:"Mise en location",description:"Processus guidé de A à Z pour vos nouvelles locations",color:"bg-green-600",features:["Dossier locataire complet","Vérification des pièces justificatives","Calcul automatique des garanties","Planification des visites","Onboarding locataire personnalisé"]},{icon:Ui,title:"Automatisations",description:"Automatisez vos tâches répétitives et gagnez du temps",color:"bg-orange-600",features:["Génération automatique des quittances","Révision des loyers selon l'IRL","Rappels de paiement intelligents","Alertes de fin de bail","Suivi des échéances automatique"]},{icon:Ai,title:"Suivi financier",description:"Tableau de bord financier complet et rapports détaillés",color:"bg-purple-600",features:["Dashboard temps réel","Prévisions de rentabilité","Optimisation fiscale","Rapports personnalisables","Intégration comptable"]},{icon:yn,title:"Espace locataire",description:"Application mobile dédiée pour vos locataires",color:"bg-blue-500",features:["App mobile iOS et Android","Paiement en ligne sécurisé","Signalement d'incidents","Messagerie intégrée","Historique complet"]},{icon:vt,title:"Résolution d'incidents",description:"Plateforme complète de gestion des problèmes locatifs",color:"bg-yellow-600",features:["Ticketing intelligent","Réseau d'artisans partenaires","Suivi en temps réel","Procédures juridiques guidées","Médiation automatisée"]},{icon:ls,title:"Sécurité & Conformité",description:"Sécurité bancaire et conformité réglementaire garanties",color:"bg-gray-600",features:["Chiffrement AES-256","Hébergement France (OVH)","Certification ISO 27001","Conformité RGPD","Sauvegarde quotidienne"]},{icon:aU,title:"Accompagnement Expert",description:"Formation et support par des experts de l'immobilier",color:"bg-green-500",features:["Onboarding personnalisé","Webinaires mensuels","Support juridique inclus","Veille réglementaire","Communauté d'experts"]},{icon:O0,title:"Applications mobiles",description:"Gérez votre patrimoine depuis votre smartphone",color:"bg-indigo-600",features:["App iOS et Android natives","Synchronisation temps réel","Mode hors ligne","Notifications push","Interface optimisée mobile"]},{icon:tA,title:"API & Intégrations",description:"Connectez EasyBail à vos outils existants",color:"bg-teal-600",features:["API REST complète","Webhooks en temps réel","Intégration comptable","Connecteurs bancaires","Marketplace d'extensions"]},{icon:Ur,title:"Gestion du temps",description:"Optimisez votre temps avec la planification intelligente",color:"bg-red-600",features:["Planification intelligente","Priorisation automatique","Calendrier unifié","Rappels contextuels","Optimisation des déplacements"]},{icon:x6,title:"Certification & Audit",description:"Outils professionnels pour la certification",color:"bg-pink-600",features:["Audit de conformité","Certification qualité","Rapports d'expertise","Validation juridique","Accompagnement certification"]}];return s.jsx("section",{id:"fonctionnalites",className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["Toutes les fonctionnalités pour",s.jsx("span",{className:"text-blue-600 block",children:"gérer vos biens"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Plateforme complète pour simplifier votre gestion locative et optimiser votre rentabilité immobilière."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((e,t)=>s.jsx(DU,{icon:e.icon,title:e.title,description:e.description,features:e.features,color:e.color},t))}),s.jsx("div",{className:"text-center mt-16",children:s.jsxs("div",{className:"bg-blue-600 rounded-xl p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Prêt à révolutionner votre gestion locative ?"}),s.jsx("p",{className:"text-lg mb-6 text-blue-100",children:"Rejoignez plus de 50 000 propriétaires qui ont choisi EasyBail"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"bg-white text-blue-600 px-8 py-3 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:"Démarrer l'essai gratuit"}),s.jsx("button",{className:"border border-white text-white px-8 py-3 rounded-lg hover:bg-white hover:text-blue-600 transition-colors font-semibold",children:"Voir la démo"})]})]})})]})})},OU=()=>{const[r,e]=Ae.useState(null),t=[{id:"ai-assistant",icon:oU,title:"Assistant Intelligent",description:"Assistant qui apprend de vos habitudes pour optimiser votre gestion",status:"new",color:"from-blue-500 to-blue-600",details:["Prédictions de rentabilité en temps réel","Suggestions d'optimisation automatiques","Analyse des risques locataires","Recommandations personnalisées"]},{id:"mobile-app",icon:O0,title:"Applications Mobiles Natives",description:"Apps iOS et Android pour gérer votre patrimoine en déplacement",status:"new",color:"from-green-500 to-green-600",details:["Interface native optimisée","Synchronisation temps réel","Mode hors ligne","Notifications push"]},{id:"marketplace",icon:tA,title:"Marketplace Partenaires",description:"Écosystème d'artisans, experts et services pour vos biens",status:"beta",color:"from-orange-500 to-orange-600",details:["Réseau d'artisans certifiés","Devis automatiques","Suivi des interventions","Garantie qualité"]},{id:"automation-2",icon:Ui,title:"Automatisations Avancées",description:"Workflows pour automatiser 95% de vos tâches",status:"improved",color:"from-purple-500 to-purple-600",details:["Workflows visuels drag & drop","Conditions complexes","Intégrations tierces","Déclencheurs automatiques"]},{id:"security-plus",icon:ls,title:"Sécurité Renforcée",description:"Certification ISO 27001 et chiffrement de niveau bancaire",status:"improved",color:"from-gray-500 to-gray-600",details:["Chiffrement AES-256","Authentification biométrique","Audit de sécurité continu","Conformité RGPD+"]},{id:"analytics-pro",icon:xc,title:"Analytics Professionnels",description:"Tableaux de bord avancés avec analyses prédictives",status:"new",color:"from-teal-500 to-teal-600",details:["Prévisions de cash-flow","Analyse de marché automatique","Benchmarking automatique","Rapports personnalisables"]}],n=i=>{switch(i){case"new":return s.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full",children:"Nouveau"});case"beta":return s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full",children:"Bêta"});case"improved":return s.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-semibold px-2 py-1 rounded-full",children:"Amélioré"});default:return null}};return s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold mb-6",children:[s.jsx(jU,{className:"h-4 w-4 mr-2"}),"Nouvelles fonctionnalités 2025"]}),s.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["L'avenir de la gestion locative",s.jsx("span",{className:"block text-blue-600",children:"est déjà là"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Découvrez les innovations révolutionnaires qui transforment la façon dont vous gérez votre patrimoine immobilier."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:t.map(i=>{const a=i.icon;return s.jsxs("div",{className:"group relative bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer border border-gray-200 hover:border-blue-300",onClick:()=>e(i.id),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-r ${i.color} flex items-center justify-center`,children:s.jsx(a,{className:"h-7 w-7 text-white"})}),n(i.status)]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors",children:i.title}),s.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:i.description}),s.jsxs("div",{className:"flex items-center text-blue-600 font-semibold group-hover:text-blue-700 transition-colors",children:[s.jsx("span",{children:"En savoir plus"}),s.jsx(Jh,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]},i.id)})}),s.jsxs("div",{className:"bg-blue-600 rounded-xl p-8 text-center text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Accédez en avant-première à ces fonctionnalités"}),s.jsx("p",{className:"text-lg mb-6 text-blue-100 max-w-2xl mx-auto",children:"Rejoignez notre programme bêta et découvrez l'avenir de la gestion locative"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"bg-white text-blue-600 px-6 py-3 rounded-lg hover:bg-gray-50 transition-colors font-semibold flex items-center justify-center",children:"Rejoindre la bêta"}),s.jsx("button",{className:"border border-white text-white px-6 py-3 rounded-lg hover:bg-white hover:text-blue-600 transition-colors font-semibold flex items-center justify-center",children:"Voir la démo"})]})]}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-8 relative",children:[s.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})}),(()=>{const i=t.find(o=>o.id===r);if(!i)return null;const a=i.icon;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-xl bg-gradient-to-r ${i.color} flex items-center justify-center`,children:s.jsx(a,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i.title}),n(i.status)]})]}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:i.description}),s.jsx("div",{className:"space-y-3",children:i.details.map((o,l)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:o})]},l))}),s.jsxs("div",{className:"mt-8 flex space-x-4",children:[s.jsx("button",{className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:"Essayer maintenant"}),s.jsx("button",{className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-semibold",children:"En savoir plus"})]})]})})()]})})]})})},PU=()=>{const r=[{id:1,name:"Marie Dubois",role:"Propriétaire de 12 biens",company:"Paris 11ème",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",rating:5,text:"EasyBail a révolutionné ma gestion locative. L'IA prédit les problèmes avant qu'ils n'arrivent et j'ai économisé 15h par semaine. Mon ROI a augmenté de 23% en 6 mois !",metrics:{timesSaved:"15h/semaine",roiIncrease:"+23%"}},{id:2,name:"Pierre Martin",role:"Gestionnaire immobilier",company:"Lyon Patrimoine",avatar:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",rating:5,text:"Avec 45 biens à gérer, EasyBail est devenu indispensable. Les automatisations IA gèrent 90% de mes tâches répétitives. Mes clients sont ravis de la réactivité !",metrics:{properties:"45 biens",automation:"90%"}},{id:3,name:"Sophie Bernard",role:"Investisseuse immobilière",company:"SCI Bernard & Associés",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",rating:5,text:"L'analyse prédictive d'EasyBail m'a permis d'identifier les meilleurs investissements. J'ai doublé mon portefeuille en 18 mois grâce aux insights IA !",metrics:{growth:"x2 en 18 mois",accuracy:"94%"}},{id:4,name:"Thomas Leroy",role:"Propriétaire débutant",company:"Marseille",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",rating:5,text:"En tant que débutant, EasyBail m'a guidé pas à pas. L'assistant IA répond à toutes mes questions et la conformité légale est garantie. Je me sens en sécurité !",metrics:{experience:"Débutant",confidence:"100%"}},{id:5,name:"Isabelle Moreau",role:"Gestionnaire de patrimoine",company:"Bordeaux Gestion",avatar:"https://images.pexels.com/photos/762020/pexels-photo-762020.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",rating:5,text:"La migration depuis mon ancien logiciel s'est faite en 24h. L'équipe EasyBail a tout géré et maintenant je gagne 3h par jour. Le ROI est immédiat !",metrics:{migration:"24h",dailySavings:"3h/jour"}},{id:6,name:"Jean-Claude Petit",role:"Propriétaire retraité",company:"Nice",avatar:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&dpr=2",rating:5,text:"À 68 ans, je pensais que la technologie n'était pas pour moi. EasyBail est si simple que même ma petite-fille est impressionnée ! Tout est automatisé.",metrics:{age:"68 ans",satisfaction:"100%"}}],[e,t]=iA.useState(0),n=()=>{t(o=>(o+1)%r.length)},i=()=>{t(o=>(o-1+r.length)%r.length)},a=()=>{const o=[];for(let l=0;l<3;l++){const c=(e+l)%r.length;o.push(r[c])}return o};return s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["Ils ont transformé leur",s.jsx("span",{className:"block text-blue-600",children:"gestion locative"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Découvrez comment nos clients ont révolutionné leur activité et multiplié leur rentabilité grâce à EasyBail."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:a().map((o,l)=>s.jsxs("div",{className:`bg-white rounded-xl p-6 shadow-sm border border-gray-200 transition-all duration-200 ${l===1?"ring-2 ring-blue-200":""}`,children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center mb-4",children:s.jsx(vU,{className:"h-6 w-6 text-white"})}),s.jsx("div",{className:"flex items-center mb-4",children:[...Array(o.rating)].map((c,u)=>s.jsx(rA,{className:"h-5 w-5 text-yellow-400 fill-current"},u))}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-6 italic",children:['"',o.text,'"']}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:Object.entries(o.metrics).map(([c,u])=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:u}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:c.replace(/([A-Z])/g," $1").toLowerCase()})]},c))}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:o.avatar,alt:o.name,className:"w-10 h-10 rounded-full object-cover mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-900",children:o.name}),s.jsx("div",{className:"text-sm text-gray-600",children:o.role}),s.jsx("div",{className:"text-sm text-blue-600",children:o.company})]})]})]},o.id))}),s.jsxs("div",{className:"flex items-center justify-center mt-12 space-x-4",children:[s.jsx("button",{onClick:i,className:"w-10 h-10 bg-white rounded-lg shadow-sm flex items-center justify-center hover:bg-gray-50 transition-colors border border-gray-200",children:s.jsx(g6,{className:"h-5 w-5 text-gray-600"})}),s.jsx("div",{className:"flex space-x-2",children:r.map((o,l)=>s.jsx("button",{onClick:()=>t(l),className:`w-3 h-3 rounded-full transition-colors ${l===e?"bg-blue-600":"bg-gray-300"}`},l))}),s.jsx("button",{onClick:n,className:"w-10 h-10 bg-white rounded-lg shadow-sm flex items-center justify-center hover:bg-gray-50 transition-colors border border-gray-200",children:s.jsx(Jh,{className:"h-5 w-5 text-gray-600"})})]})]}),s.jsx("div",{className:"text-center mt-16",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 max-w-2xl mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Rejoignez plus de 50 000 propriétaires satisfaits"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez votre transformation dès aujourd'hui avec un essai gratuit de 30 jours"}),s.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Démarrer mon essai gratuit"})]})})]})})},RU=()=>{const[r,e]=Ae.useState(0),t=[{question:"Comment EasyBail utilise-t-il l'intelligence artificielle ?",answer:"Notre IA analyse vos données pour prédire les tendances, optimiser vos revenus, automatiser les tâches répétitives et vous alerter sur les risques potentiels. Elle apprend de vos habitudes pour personnaliser votre expérience et maximiser votre rentabilité."},{question:"Mes données sont-elles sécurisées ?",answer:"Absolument. Nous utilisons un chiffrement AES-256 de niveau bancaire, nos serveurs sont hébergés en France (OVH), et nous sommes certifiés ISO 27001. Vos données ne sont jamais partagées et nous respectons strictement le RGPD."},{question:"Puis-je migrer depuis mon ancien logiciel ?",answer:"Oui, notre équipe gère gratuitement la migration de vos données depuis n'importe quel logiciel (Excel, Word, autres solutions). Le processus prend généralement 24-48h et nous nous occupons de tout."},{question:"Combien de temps faut-il pour maîtriser EasyBail ?",answer:"La plupart de nos utilisateurs sont opérationnels en moins d'une heure grâce à notre interface intuitive. Nous proposons également un onboarding personnalisé et des formations gratuites pour vous accompagner."},{question:"EasyBail fonctionne-t-il sur mobile ?",answer:"Oui ! Nous proposons des applications natives iOS et Android avec toutes les fonctionnalités. Vous pouvez gérer vos biens, signer des documents et communiquer avec vos locataires depuis votre smartphone."},{question:"Quels types de biens puis-je gérer ?",answer:"EasyBail gère tous types de biens : appartements, maisons, studios, locaux commerciaux, parkings, meublés, non-meublés, colocation, etc. Notre solution s'adapte à tous les profils d'investisseurs."},{question:"Y a-t-il des frais cachés ?",answer:"Aucun frais caché. Le prix affiché inclut toutes les fonctionnalités, le support, les mises à jour et la formation. Pas de frais de setup, de migration ou de résiliation."},{question:"Que se passe-t-il si je ne suis pas satisfait ?",answer:"Nous offrons une garantie satisfait ou remboursé de 30 jours. Si EasyBail ne répond pas à vos attentes, nous vous remboursons intégralement, sans question."},{question:"Comment fonctionne le support client ?",answer:"Notre support expert est disponible 24/7 par chat, email et téléphone. Temps de réponse moyen : 2 minutes en chat, 1h par email. Nous proposons aussi des formations personnalisées et un accompagnement dédié."},{question:"Puis-je essayer EasyBail gratuitement ?",answer:"Oui ! Nous proposons un essai gratuit de 30 jours avec accès à toutes les fonctionnalités. Aucune carte bancaire requise pour commencer. Vous pouvez également demander une démo personnalisée."}],n=i=>{e(r===i?null:i)};return s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm font-semibold mb-6",children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Questions fréquentes"]}),s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Tout ce que vous devez savoir"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Retrouvez les réponses aux questions les plus fréquentes sur EasyBail"})]}),s.jsx("div",{className:"space-y-4 mb-16",children:t.map((i,a)=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-sm transition-all duration-200",children:[s.jsxs("button",{onClick:()=>n(a),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:i.question}),r===a?s.jsx(qw,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}):s.jsx(D0,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]}),r===a&&s.jsx("div",{className:"px-6 pb-4",children:s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.answer})})})]},a))}),s.jsxs("div",{className:"bg-blue-600 rounded-xl p-6 text-center text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas la réponse à votre question ?"}),s.jsx("p",{className:"text-blue-100 mb-6",children:"Notre équipe d'experts est là pour vous aider"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{className:"bg-white text-blue-600 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors font-semibold flex items-center justify-center",children:[s.jsx(Kw,{className:"h-5 w-5 mr-2"}),"Chat en direct"]}),s.jsxs("button",{className:"border border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-blue-600 transition-colors font-semibold flex items-center justify-center",children:[s.jsx(Ru,{className:"h-5 w-5 mr-2"}),"01 80 91 42 82"]}),s.jsxs("button",{className:"border border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-blue-600 transition-colors font-semibold flex items-center justify-center",children:[s.jsx(Wt,{className:"h-5 w-5 mr-2"}),"contact@easybail.fr"]})]})]})]})})},MU=()=>{const r=[{icon:yn,number:"50,000+",label:"Propriétaires actifs",description:"Nous font confiance",color:"text-blue-600"},{icon:Ai,number:"€2.5Md",label:"Patrimoine géré",description:"Sur la plateforme",color:"text-green-600"},{icon:Et,number:"5M+",label:"Documents générés",description:"Chaque année",color:"text-orange-600"},{icon:Ui,number:"95%",label:"Temps économisé",description:"Vs gestion manuelle",color:"text-purple-600"},{icon:ls,number:"99.9%",label:"Disponibilité",description:"Garantie SLA",color:"text-gray-600"},{icon:x6,number:"4.9/5",label:"Satisfaction client",description:"Note moyenne",color:"text-yellow-600"},{icon:tA,number:"24/7",label:"Support expert",description:"Disponible",color:"text-teal-600"},{icon:Ur,number:"< 2min",label:"Temps de réponse",description:"Support moyen",color:"text-red-600"}];return s.jsxs("section",{className:"py-20 bg-gray-900 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6",children:"L'impact EasyBail en chiffres"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Découvrez pourquoi nous sommes la référence de la gestion locative digitale"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:r.map((e,t)=>s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"bg-white bg-opacity-10 w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-6",children:s.jsx(e.icon,{className:`h-8 w-8 ${e.color}`})}),s.jsx("div",{className:"text-4xl font-bold text-white mb-3",children:e.number}),s.jsx("div",{className:"text-lg font-semibold text-gray-300 mb-2",children:e.label}),s.jsx("div",{className:"text-gray-400 text-sm",children:e.description})]},t))}),s.jsx("div",{className:"bg-white bg-opacity-10 rounded-xl p-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"€127M"}),s.jsx("div",{className:"text-gray-300",children:"Économies générées pour nos clients"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"15 pays"}),s.jsx("div",{className:"text-gray-300",children:"Présence internationale"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"2019"}),s.jsx("div",{className:"text-gray-300",children:"Année de création"})]})]})})]})]})},QU=({onLoginClick:r,onSignupClick:e})=>{const t=[{icon:Ui,name:"Starter",price:"19",originalPrice:"29",period:"/mois",description:"Idéal pour commencer",features:["Jusqu'à 3 biens","50+ modèles de documents","Signature électronique","Automatisations de base","Support email","App mobile incluse"],popular:!1,cta:"Commencer l'essai",color:"border-gray-200"},{icon:cU,name:"Professionnel",price:"49",originalPrice:"79",period:"/mois",description:"Le plus populaire",features:["Jusqu'à 15 biens","Tous les documents","Automatisations avancées","Support prioritaire","Analytics avancés","API & intégrations","Formation personnalisée"],popular:!0,cta:"Choisir Professionnel",color:"border-blue-500"},{icon:bU,name:"Expert",price:"99",originalPrice:"149",period:"/mois",description:"Pour les pros de l'immobilier",features:["Biens illimités","Automatisations personnalisées","Support dédié 24/7","Onboarding VIP","Développements sur mesure","Account manager dédié","SLA garantie 99.9%"],popular:!1,cta:"Contacter l'équipe",color:"border-gray-300"}];return s.jsx("section",{id:"tarifs",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-lg text-sm font-semibold mb-6",children:[s.jsx(rA,{className:"h-4 w-4 mr-2 fill-current"}),"Offre de lancement - 50% de réduction"]}),s.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["Tarifs transparents,",s.jsx("span",{className:"text-blue-600 block",children:"résultats garantis"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Essai gratuit de 30 jours, puis choisissez la formule qui correspond à la taille de votre patrimoine. Changement possible à tout moment."})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:t.map((n,i)=>s.jsxs("div",{className:`relative bg-white rounded-xl shadow-sm border-2 p-6 ${n.popular?"border-blue-500 shadow-md ring-2 ring-blue-100":n.color} transition-all duration-200 hover:shadow-md`,children:[n.popular&&s.jsx("div",{className:"absolute -top-5 left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center shadow-sm",children:[s.jsx(rA,{className:"h-4 w-4 mr-1 fill-current"}),"Le plus choisi"]})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(n.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:n.name}),s.jsx("p",{className:"text-gray-600 mb-6",children:n.description}),s.jsxs("div",{className:"flex items-baseline justify-center mb-2",children:[n.originalPrice&&s.jsxs("span",{className:"text-2xl text-gray-400 line-through mr-2",children:[n.originalPrice,"€"]}),s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:[n.price,"€"]}),s.jsx("span",{className:"text-xl text-gray-500 ml-1",children:n.period})]}),n.originalPrice&&s.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-semibold",children:["Économisez ",parseInt(n.originalPrice)-parseInt(n.price),"€/mois"]})]}),s.jsx("ul",{className:"space-y-4 mb-10",children:n.features.map((a,o)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:s.jsx(fh,{className:"h-3 w-3 text-green-600"})}),s.jsx("span",{className:"text-gray-700 font-medium",children:a})]},o))}),s.jsx("button",{className:`w-full py-4 px-6 rounded-lg font-semibold text-lg transition-all duration-200 ${n.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:s.jsx(ll,{to:n.cta.includes("Commencer")||n.cta.includes("Choisir")?"/login?mode=signup":"/login",className:"block w-full h-full",children:n.cta})})]},i))}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center border border-gray-200",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Garantie satisfait ou remboursé 30 jours"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Essayez EasyBail sans risque. Si vous n'êtes pas entièrement satisfait, nous vous remboursons intégralement."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Sans engagement"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Migration gratuite"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Formation incluse"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(fh,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"font-medium",children:"Support expert 24/7"})]})]})]})]})})},HU=({onLoginClick:r,onSignupClick:e})=>s.jsxs("section",{className:"py-20 bg-blue-600 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden",children:s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-xl"})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 text-white rounded-lg text-sm font-semibold mb-8",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Plus de 50 000 propriétaires nous font confiance"]}),s.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-white mb-6 leading-tight",children:["Transformez votre gestion locative",s.jsx("span",{className:"block text-blue-100",children:"dès aujourd'hui"})]}),s.jsxs("p",{className:"text-xl text-blue-100 mb-12 max-w-3xl mx-auto leading-relaxed",children:["Rejoignez les milliers de propriétaires qui ont choisi EasyBail pour",s.jsx("span",{className:"font-semibold text-white",children:" simplifier leur gestion"})," et",s.jsx("span",{className:"font-semibold text-white",children:" optimiser leur rentabilité"}),"."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",children:[s.jsxs(ll,{to:"/login?mode=signup",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-gray-50 transition-colors font-semibold text-lg flex items-center group",children:[s.jsx("span",{children:"Démarrer gratuitement"}),s.jsx(Jh,{className:"ml-3 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(ll,{to:"/login",className:"border border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-colors font-semibold text-lg",children:"Se connecter"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Bt,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"30 jours gratuits"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Essai complet sans engagement"})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(rA,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Migration gratuite"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Nous importons vos données"})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-6",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(ls,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sécurité garantie"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Certification ISO 27001"})]})]})]})]}),qU=()=>s.jsxs("footer",{className:"bg-gray-900 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20c0-11.046-8.954-20-20-20v20h20z'/%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-7 w-7 text-white"})}),s.jsx("span",{className:"text-2xl font-bold",children:"EasyBail"})]}),s.jsx("p",{className:"text-gray-300 leading-relaxed text-lg",children:"La plateforme complète de gestion locative qui simplifie votre quotidien de propriétaire."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-600 transition-colors",children:s.jsx(uU,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-400 transition-colors",children:s.jsx(CU,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-700 transition-colors",children:s.jsx(mU,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-pink-600 transition-colors",children:s.jsx(AU,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-red-600 transition-colors",children:s.jsx(kU,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"pt-6 border-t border-gray-800",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Certifications & Partenaires"}),s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full",children:"ISO 27001"}),s.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full",children:"RGPD"}),s.jsx("span",{className:"bg-gray-800 px-3 py-1 rounded-full",children:"HDS"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-6 text-white",children:"Produit"}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Fonctionnalités"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Tarifs"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"API"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Intégrations"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Sécurité"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Roadmap"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-6 text-white",children:"Ressources"}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Centre d'aide"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Blog"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Guides"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Webinaires"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Cas clients"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Livre blanc"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-6 text-white",children:"Entreprise"}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"À propos"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Équipe"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Carrières"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Presse"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Investisseurs"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors",children:"Contact"})})]})]})]}),s.jsx("div",{className:"mt-16 pt-8 border-t border-gray-800",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 bg-opacity-20 rounded-lg flex items-center justify-center",children:s.jsx(Wt,{className:"h-5 w-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Email"}),s.jsx("a",{href:"mailto:contact@easybail.fr",className:"text-gray-300 hover:text-blue-400 transition-colors",children:"contact@easybail.fr"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-600 bg-opacity-20 rounded-lg flex items-center justify-center",children:s.jsx(Ru,{className:"h-5 w-5 text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Téléphone"}),s.jsx("a",{href:"tel:0180914282",className:"text-gray-300 hover:text-green-400 transition-colors",children:"01 80 91 42 82"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-600 bg-opacity-20 rounded-lg flex items-center justify-center",children:s.jsx(U0,{className:"h-5 w-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Adresse"}),s.jsx("span",{className:"text-gray-300",children:"Paris, France"})]})]})]})}),s.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center",children:[s.jsx("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:"© 2025 EasyBail SAS. Tous droits réservés. | RCS Paris 123 456 789"}),s.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end space-x-6 text-sm text-gray-400",children:[s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Mentions légales"}),s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Confidentialité"}),s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"CGU"}),s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookies"}),s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Plan du site"})]})]})]})]}),zU=()=>{const r=pl(),e=()=>{r("/login")},t=()=>{r("/login?mode=signup")};return s.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden",children:[s.jsx(IU,{onLoginClick:e,onSignupClick:t}),s.jsx(LU,{onLoginClick:e,onSignupClick:t}),s.jsx(UU,{}),s.jsx(OU,{}),s.jsx(PU,{}),s.jsx(RU,{}),s.jsx(MU,{}),s.jsx(QU,{onLoginClick:e,onSignupClick:t}),s.jsx(HU,{onLoginClick:e,onSignupClick:t}),s.jsx(qU,{})]})},KU=()=>{const r=pl(),[e]=XL(),{signIn:t,signUp:n,resetPassword:i,loading:a}=Xh(),o=e.get("mode")==="signup"?"signup":"login",[l,c]=Ae.useState(o),[u,A]=Ae.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",companyName:"",phone:""}),[f,m]=Ae.useState(!1),[h,v]=Ae.useState(!1),[x,b]=Ae.useState({}),[p,y]=Ae.useState(null),N=()=>{r("/")},w=_=>{const{name:U,value:S}=_.target;A(X=>({...X,[U]:S})),x[U]&&b(X=>({...X,[U]:void 0}))},j=()=>{const _={};return u.email?/\S+@\S+\.\S+/.test(u.email)||(_.email="Format d'email invalide"):_.email="L'email est requis",u.password?u.password.length<6&&(_.password="Le mot de passe doit contenir au moins 6 caractères"):_.password="Le mot de passe est requis",l==="signup"&&(u.firstName||(_.firstName="Le prénom est requis"),u.lastName||(_.lastName="Le nom est requis"),u.confirmPassword?u.password!==u.confirmPassword&&(_.confirmPassword="Les mots de passe ne correspondent pas"):_.confirmPassword="Confirmez votre mot de passe"),l==="reset"&&!u.email&&(_.email="L'email est requis pour la réinitialisation"),b(_),Object.keys(_).length===0},k=async _=>{if(_.preventDefault(),y(null),!!j())try{l==="login"?(await t(u.email,u.password),r("/dashboard")):l==="signup"?(await n(u.email,u.password,{firstName:u.firstName,lastName:u.lastName,companyName:u.companyName||void 0,phone:u.phone||void 0}),r("/dashboard"),y({type:"success",text:"Compte créé avec succès ! Vous êtes maintenant connecté."})):l==="reset"&&(await i(u.email),y({type:"success",text:"Email de réinitialisation envoyé ! Vérifiez votre boîte mail."}))}catch(U){let S=U.message;S.includes("Invalid login credentials")?S="Email ou mot de passe incorrect":S.includes("Email not confirmed")?S="Veuillez confirmer votre email avant de vous connecter":S.includes("Too many requests")&&(S="Trop de tentatives. Veuillez réessayer dans quelques minutes"),y({type:"error",text:S})}},I=()=>{A({...u,email:"test@example.com",password:"password123"})},F=()=>{A({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",companyName:"",phone:""}),b({}),y(null)},C=_=>{c(_),F()},P=[{icon:ls,title:"Sécurité maximale",description:"Chiffrement TLS 1.2 et authentification JWT"},{icon:Et,title:"+50 documents",description:"Tous vos contrats et documents légaux"},{icon:yn,title:"Support 7j/7",description:"Équipe d'experts à votre service"}],T=[{number:"50,000+",label:"Propriétaires"},{number:"2M+",label:"Documents"},{number:"100%",label:"Conformité"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("button",{onClick:N,className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors mb-4",children:[s.jsx(g6,{className:"h-4 w-4 mr-2"}),"Retour à l'accueil"]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:s.jsx(Et,{className:"h-7 w-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"EasyBail"})]}),l==="login"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bon retour !"}),s.jsx("p",{className:"text-gray-600",children:"Connectez-vous à votre espace de gestion locative"})]}),l==="signup"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Créer votre compte"}),s.jsx("p",{className:"text-gray-600",children:"Commencez votre essai gratuit de 14 jours"})]}),l==="reset"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oublié"}),s.jsx("p",{className:"text-gray-600",children:"Saisissez votre email pour recevoir un lien de réinitialisation"})]})]}),p&&s.jsx("div",{className:`rounded-lg p-4 ${p.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsx("p",{className:"text-sm font-medium",children:p.text})}),l==="login"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:"Note :"})," Pour tester l'application, créez un nouveau compte ou utilisez vos propres identifiants."]})}),s.jsx("button",{type:"button",onClick:I,className:"text-sm text-gray-600 hover:text-gray-700 font-medium border border-gray-200 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Remplir avec des identifiants d'exemple"})]}),l==="signup"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[s.jsx(Bt,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Créez votre compte et commencez votre essai gratuit de 14 jours"}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Aucune carte bancaire requise"})]}),l==="login"&&s.jsxs("button",{type:"button",onClick:()=>c("signup"),className:"w-full text-center py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-300 hover:text-blue-600 transition-colors",children:[s.jsx(Ww,{className:"h-5 w-5 mx-auto mb-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Nouveau sur EasyBail ? Créer un compte"})]}),s.jsxs("form",{className:"space-y-6",onSubmit:k,children:[l==="signup"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom"}),s.jsx("input",{id:"firstName",name:"firstName",type:"text",value:u.firstName,onChange:w,className:`block w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${x.firstName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Jean"}),x.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.firstName})]}),l==="signup"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),s.jsx("input",{id:"lastName",name:"lastName",type:"text",value:u.lastName,onChange:w,className:`block w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${x.lastName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Dupont"}),x.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.lastName})]}),l==="signup"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Société (optionnel)"}),s.jsx("input",{id:"companyName",name:"companyName",type:"text",value:u.companyName,onChange:w,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Ma société immobilière"})]}),l==="signup"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone (optionnel)"}),s.jsx("input",{id:"phone",name:"phone",type:"tel",value:u.phone,onChange:w,className:"block w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"06 12 34 56 78"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Wt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:u.email,onChange:w,className:`block w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${x.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"votre@email.com"})]}),x.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.email})]}),l!=="reset"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Sm,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:f?"text":"password",autoComplete:l==="signup"?"new-password":"current-password",value:u.password,onChange:w,className:`block w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${x.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"••••••••"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!f),children:f?s.jsx(eA,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(Pi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),x.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.password})]}),l==="signup"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Sm,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",autoComplete:"new-password",value:u.confirmPassword,onChange:w,className:`block w-full pl-10 pr-10 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${x.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"••••••••"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>v(!h),children:h?s.jsx(eA,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(Pi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),x.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.confirmPassword})]}),l==="login"&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Se souvenir de moi"})]}),s.jsx("button",{type:"button",onClick:()=>C("reset"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Mot de passe oublié ?"})]}),l==="signup"&&s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),s.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["J'accepte les"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"conditions d'utilisation"})," ","et la"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"politique de confidentialité"})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 font-semibold flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:[l==="login"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Se connecter"}),s.jsx(Jh,{className:"h-5 w-5"})]}),l==="signup"&&s.jsxs(s.Fragment,{children:[s.jsx(Ww,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer mon compte"})]}),l==="reset"&&s.jsxs(s.Fragment,{children:[s.jsx(Wt,{className:"h-5 w-5"}),s.jsx("span",{children:"Envoyer le lien"})]})]})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[l==="login"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",s.jsx("button",{onClick:()=>C("login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Se connecter ici"})]}),l==="signup"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Déjà un compte ?"," ",s.jsx("button",{onClick:()=>C("login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Se connecter"})]}),l==="reset"&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Retour à la"," ",s.jsx("button",{onClick:()=>C("login"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"connexion"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(ls,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Connexion sécurisée - Données chiffrées et hébergées en France"})]})})]})}),s.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[s.jsx(Ws,{className:"absolute top-20 left-20 h-32 w-32 text-white opacity-20"}),s.jsx(Et,{className:"absolute top-40 right-32 h-24 w-24 text-white opacity-20"}),s.jsx(yn,{className:"absolute bottom-32 left-32 h-28 w-28 text-white opacity-20"})]})}),s.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 py-16 text-white",children:s.jsxs("div",{className:"max-w-lg",children:[l==="signup"&&s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-white bg-opacity-20 rounded-full text-sm font-medium mb-4",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Essai gratuit 14 jours"]})}),s.jsx("h3",{className:"text-4xl font-bold mb-6",children:l==="signup"?"Rejoignez plus de 50 000 propriétaires":"La solution de gestion locative de référence"}),s.jsx("p",{className:"text-xl text-blue-100 mb-12 leading-relaxed",children:l==="signup"?"Commencez votre essai gratuit dès aujourd'hui et découvrez pourquoi EasyBail est la solution préférée des propriétaires.":"Rejoignez plus de 50 000 propriétaires qui font confiance à EasyBail pour simplifier leur gestion locative."}),s.jsx("div",{className:"space-y-6 mb-12",children:P.map((_,U)=>s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(_.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:_.title}),s.jsx("p",{className:"text-blue-100 text-sm",children:_.description})]})]},U))}),s.jsx("div",{className:"grid grid-cols-3 gap-6",children:T.map((_,U)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:_.number}),s.jsx("div",{className:"text-blue-200 text-sm",children:_.label})]},U))}),s.jsxs("div",{className:"mt-12 pt-8 border-t border-blue-500 border-opacity-30",children:[l==="signup"&&s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"14 jours"}),s.jsx("div",{className:"text-blue-200 text-sm",children:"Essai gratuit"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"0€"}),s.jsx("div",{className:"text-blue-200 text-sm",children:"Sans engagement"})]})]})}),s.jsxs("div",{className:"flex items-center space-x-2 text-blue-100 text-sm",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Conforme RGPD • Hébergé en France • Support 7j/7"})]})]})]})})]})]})},VU=({activeTab:r,onTabChange:e})=>{const t=[{id:"dashboard",label:"Tableau de bord",icon:Lu},{id:"properties",label:"Mes biens",icon:Lu},{id:"tenants",label:"Locataires",icon:yn},{id:"documents",label:"Documents",icon:Et},{id:"tasks",label:"Tâches",icon:zd},{id:"finances",label:"Finances",icon:Xr},{id:"automations",label:"Automatisations",icon:Ui},{id:"incidents",label:"Incidents",icon:vt},{id:"activities",label:"Activités",icon:Oi},{id:"settings",label:"Paramètres",icon:Ri}];return s.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 h-screen sticky top-0 overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(Lu,{className:"h-6 w-6 text-white"})}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"EasyBail"})]}),s.jsx("nav",{className:"space-y-2",children:t.map(n=>{const i=n.icon,a=r===n.id;return s.jsxs("button",{onClick:()=>e(n.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${a?"bg-blue-50 text-blue-700 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(i,{className:`h-5 w-5 ${a?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:n.label})]},n.id)})})]})})},Ls=(r,e)=>{r?.message?.includes("Failed to fetch")||r?.message?.includes("timeout")||r?.message?.includes("upstream connect error")||r?.message?.includes("signal timed out")||r?.code===23||r?.code==="503"||r?.code==="500"||r?.code==="544"||r?.status===503||r?.status===500||r?.status===544?console.warn(`Supabase connection issue during ${e}:`,r.message||r):r?.code==="42P01"?console.warn(`Table does not exist during ${e}. Please run database migrations.`):console.error(`Error during ${e}:`,r)},Ff=r=>({id:r.id,title:r.title,message:r.message,type:r.type,priority:r.priority,read:r.read,createdAt:new Date(r.created_at),actionUrl:r.action_url});class WU{notifications=[];constructor(){}async getAllNotifications(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)return console.warn("Utilisateur non connecté"),{data:[],error:null};const{data:t,error:n}=await Je.from("notifications").select("*").eq("user_id",e.user.id).order("created_at",{ascending:!1});return n?(Ls(n,"getAllNotifications"),{data:[],error:null}):{data:(t||[]).map(i=>Ff(i)),error:null}}catch(e){return Ls(e,"getAllNotifications")?{data:[],error:e}:{data:[],error:null}}}async getUnreadNotifications(){try{const e="https://knkutxcpjrpcpeicibnf.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(e&&t&&!e.includes("your-project-id")&&!t.includes("your-anon-key")))return console.warn("Supabase not configured for notifications. Using mock data."),{data:[],error:null};const{data:i}=await Je.auth.getUser();if(!i?.user)return console.warn("Utilisateur non connecté"),{data:[],error:null};const{data:a,error:o}=await Je.from("notifications").select("*").eq("user_id",i.user.id).eq("read",!1).order("created_at",{ascending:!1});return o?(Ls(o,"getUnreadNotifications"),{data:[],error:null}):{data:(a||[]).map(l=>Ff(l)),error:null}}catch(e){return Ls(e,"getUnreadNotifications")?{data:[],error:e}:{data:[],error:null}}}async getNotificationsByType(e){try{const{data:t}=await Je.auth.getUser();if(!t?.user)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Je.from("notifications").select("*").eq("user_id",t.user.id).eq("type",e).order("created_at",{ascending:!1});if(i)throw i;return{data:(n||[]).map(a=>Ff(a)),error:null}}catch(t){return Ls(t,"getNotificationsByType")?{data:[],error:t}:{data:[],error:null}}}async getNotificationsByPriority(e){try{const{data:t}=await Je.auth.getUser();if(!t?.user)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Je.from("notifications").select("*").eq("user_id",t.user.id).eq("priority",e).order("created_at",{ascending:!1});if(i)throw i;return{data:(n||[]).map(a=>Ff(a)),error:null}}catch(t){return Ls(t,"getNotificationsByPriority")?{data:[],error:t}:{data:[],error:null}}}async addNotification(e){try{const{data:t}=await Je.auth.getUser();if(!t?.user)throw new Error("Utilisateur non connecté");const n={title:e.title,message:e.message,type:e.type,priority:e.priority,read:!1,action_url:e.actionUrl,user_id:t.user.id},{data:i,error:a}=await Je.from("notifications").insert(n).select().single();if(a)throw a;return await Fr.addActivity({type:"system",action:"notification",title:"Nouvelle notification",description:e.title,userId:t.user.id,priority:e.priority,category:this.mapTypeToCategory(e.type)}),Ff(i)}catch(t){throw Ls(t,"addNotification"),t}}async markAsRead(e){try{const{error:t}=await Je.from("notifications").update({read:!0}).eq("id",e);if(t)throw t}catch(t){throw Ls(t,"markAsRead"),t}}async markAllAsRead(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)throw new Error("Utilisateur non connecté");const{error:t}=await Je.from("notifications").update({read:!0}).eq("user_id",e.user.id).eq("read",!1);if(t)throw t}catch(e){throw Ls(e,"markAllAsRead"),e}}async deleteNotification(e){try{const{error:t}=await Je.from("notifications").delete().eq("id",e);if(t)throw t}catch(t){throw Ls(t,"deleteNotification"),t}}async deleteAllNotifications(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)throw new Error("Utilisateur non connecté");const{error:t}=await Je.from("notifications").delete().eq("user_id",e.user.id);if(t)throw t}catch(e){throw Ls(e,"deleteAllNotifications"),e}}async deleteReadNotifications(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)throw new Error("Utilisateur non connecté");const{error:t}=await Je.from("notifications").delete().eq("user_id",e.user.id).eq("read",!0);if(t)throw t}catch(e){throw Ls(e,"deleteReadNotifications"),e}}async getNotificationStats(){try{const e="https://knkutxcpjrpcpeicibnf.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(e&&t&&!e.includes("your-project-id")&&!t.includes("your-anon-key")))return console.warn("Supabase not configured for notification stats. Using mock data."),{data:{total:0,unread:0,byType:{},byPriority:{}},error:null};const{data:i}=await Je.auth.getUser();if(!i?.user)return console.warn("Utilisateur non connecté pour les statistiques de notifications"),{data:{total:0,unread:0,byType:{},byPriority:{}},error:null};const{count:a,error:o}=await Je.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",i.user.id);if(o)return Ls(o,"getNotificationStats - total count"),{data:{total:0,unread:0,byType:{},byPriority:{}},error:null};const{count:l,error:c}=await Je.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",i.user.id).eq("read",!1);if(c)return Ls(c,"getNotificationStats - unread count"),{data:{total:a||0,unread:0,byType:{},byPriority:{}},error:null};const{data:u,error:A}=await Je.from("notifications").select("type, priority").eq("user_id",i.user.id);if(A)return Ls(A,"getNotificationStats - notifications for stats"),{data:{total:a||0,unread:l||0,byType:{},byPriority:{}},error:null};const f={},m={};return u?.forEach(h=>{f[h.type]=(f[h.type]||0)+1,m[h.priority]=(m[h.priority]||0)+1}),{data:{total:a||0,unread:l||0,byType:f,byPriority:m},error:null}}catch(e){return Ls(e,"getNotificationStats"),{data:{total:0,unread:0,byType:{},byPriority:{}},error:null}}}mapTypeToCategory(e){switch(e){case"success":return"success";case"warning":return"warning";case"error":return"error";default:return"info"}}}const gu=new WU,P0=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState({total:0,unread:0,byType:{},byPriority:{}}),[i,a]=Ae.useState(!0),[o,l]=Ae.useState(null),c=()=>{a(!0),l(null),Promise.all([gu.getAllNotifications(),gu.getNotificationStats()]).then(([b,p])=>{if(b.error||p.error){const y=[{id:"1",title:"Assurance habitation à renouveler",message:"L'assurance habitation de Marie Martin expire le 15 décembre 2024",type:"warning",priority:"high",read:!1,createdAt:new Date("2024-12-01"),actionUrl:"/documents"},{id:"2",title:"Nouveau locataire potentiel",message:"Une demande de visite a été reçue pour le Studio Montmartre",type:"info",priority:"medium",read:!1,createdAt:new Date("2024-11-28")},{id:"3",title:"Quittance générée automatiquement",message:"La quittance de novembre 2024 a été générée et envoyée à Marie Martin",type:"success",priority:"low",read:!0,createdAt:new Date("2024-11-05")}],N={total:y.length,unread:y.filter(w=>!w.read).length,byType:{warning:y.filter(w=>w.type==="warning").length,info:y.filter(w=>w.type==="info").length,success:y.filter(w=>w.type==="success").length,error:y.filter(w=>w.type==="error").length},byPriority:{high:y.filter(w=>w.priority==="high").length,medium:y.filter(w=>w.priority==="medium").length,low:y.filter(w=>w.priority==="low").length}};e(y),n(N),l("Impossible de se connecter à la base de données. Affichage des données de démonstration.")}else e(b.data),n(p.data);a(!1)}).catch(b=>{console.error("Erreur lors du chargement des notifications:",b),l("Les tables de base de données ne sont pas encore configurées. Veuillez utiliser le menu d'administration pour configurer Supabase."),a(!1)})},u=b=>{try{const p={...b,id:"temp_"+Date.now(),createdAt:new Date,read:!1};return e(y=>[p,...y]),gu.addNotification(b).then(()=>{c()}),p}catch(p){throw l(p instanceof Error?p.message:"Erreur lors de l'ajout de la notification"),p}},A=b=>{try{e(p=>p.map(y=>y.id===b?{...y,read:!0}:y)),gu.markAsRead(b).then(()=>{c()})}catch(p){l(p instanceof Error?p.message:"Erreur lors du marquage comme lu")}},f=()=>{try{e(b=>b.map(p=>({...p,read:!0}))),gu.markAllAsRead().then(()=>{c()})}catch(b){l(b instanceof Error?b.message:"Erreur lors du marquage global comme lu")}},m=b=>{try{e(p=>p.filter(y=>y.id!==b)),gu.deleteNotification(b).then(()=>{c()})}catch(p){l(p instanceof Error?p.message:"Erreur lors de la suppression")}},h=()=>{try{e([]),gu.deleteAllNotifications().then(()=>{c()})}catch(b){l(b instanceof Error?b.message:"Erreur lors de la suppression globale")}},v=()=>{try{e(b=>b.filter(p=>!p.read)),gu.deleteReadNotifications().then(()=>{c()})}catch(b){l(b instanceof Error?b.message:"Erreur lors de la suppression des notifications lues")}},x=()=>{c()};return Ae.useEffect(()=>{c()},[]),{notifications:r,unreadCount:t.unread,stats:t,loading:i,error:o,addNotification:u,markAsRead:A,markAllAsRead:f,deleteNotification:m,deleteAllNotifications:h,deleteReadNotifications:v,refreshNotifications:x}},GU=({isOpen:r,onClose:e})=>{const t=pl(),{notifications:n,unreadCount:i,stats:a,markAsRead:o,markAllAsRead:l,deleteReadNotifications:c}=P0(),[u,A]=Ae.useState("all"),[f,m]=Ae.useState("all"),[h,v]=Ae.useState(!1),x=n.filter(j=>{const k=u==="all"||j.type===u,I=f==="all"||j.priority===f,F=!h||!j.read;return k&&I&&F}),b=j=>{switch(j){case"success":return s.jsx(Bt,{className:"h-5 w-5 text-green-600"});case"warning":return s.jsx(vt,{className:"h-5 w-5 text-yellow-600"});case"error":return s.jsx(a0,{className:"h-5 w-5 text-red-600"});case"info":default:return s.jsx(hl,{className:"h-5 w-5 text-blue-600"})}},p=j=>{switch(j){case"high":return"Haute";case"medium":return"Moyenne";case"low":return"Basse";default:return j}},y=j=>{switch(j){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},N=j=>{const I=Math.floor((new Date().getTime()-j.getTime())/(1e3*60));if(I<1)return"À l'instant";if(I<60)return`Il y a ${I}min`;const F=Math.floor(I/60);if(F<24)return`Il y a ${F}h`;const C=Math.floor(F/24);return C<7?`Il y a ${C}j`:j.toLocaleDateString()},w=j=>{j.read||o(j.id),j.actionUrl&&(t(j.actionUrl),e())};return r?s.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:e}),s.jsxs("div",{className:"absolute inset-y-0 right-0 max-w-md w-full bg-white shadow-xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Da,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Notifications"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[i," non lues"]})]})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Filtres"}),s.jsx("button",{onClick:()=>{A("all"),m("all"),v(!1)},className:"text-xs text-blue-600 hover:text-blue-700",children:"Réinitialiser"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("select",{value:u,onChange:j=>A(j.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"info",children:"Informations"}),s.jsx("option",{value:"success",children:"Succès"}),s.jsx("option",{value:"warning",children:"Avertissements"}),s.jsx("option",{value:"error",children:"Erreurs"})]}),s.jsxs("select",{value:f,onChange:j=>m(j.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Toutes priorités"}),s.jsx("option",{value:"high",children:"Haute"}),s.jsx("option",{value:"medium",children:"Moyenne"}),s.jsx("option",{value:"low",children:"Basse"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:j=>v(j.target.checked),className:"h-3 w-3 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-1 text-xs text-gray-700",children:"Non lues uniquement"})]})]})]}),s.jsxs("div",{className:"p-2 border-b border-gray-200 bg-gray-50 flex justify-between",children:[s.jsxs("button",{onClick:l,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[s.jsx(eA,{className:"h-3 w-3"}),s.jsx("span",{children:"Tout marquer comme lu"})]}),s.jsxs("button",{onClick:c,className:"px-3 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center space-x-1",children:[s.jsx(Mr,{className:"h-3 w-3"}),s.jsx("span",{children:"Supprimer lues"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:x.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:x.map(j=>s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${j.read?"":"bg-blue-50"}`,onClick:()=>w(j),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:b(j.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.title}),s.jsx("span",{className:"text-xs text-gray-500",children:N(j.createdAt)})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.message}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${y(j.priority)}`,children:p(j.priority)}),s.jsxs("div",{className:"flex items-center space-x-2",children:[j.actionUrl&&s.jsx(zw,{className:"h-3 w-3 text-blue-600"}),!j.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]})]})]})]})},j.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[s.jsx(Da,{className:"h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Aucune notification"}),s.jsx("p",{className:"text-sm text-gray-500",children:h?"Vous n'avez aucune notification non lue.":u!=="all"||f!=="all"?"Aucune notification ne correspond à vos filtres.":"Vous n'avez aucune notification pour le moment."})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Total: ",a.total," notifications"]}),s.jsxs("span",{children:["Dernière mise à jour: ",new Date().toLocaleTimeString()]})]})})]})]}):null},$U=()=>{const{unreadCount:r}=P0(),[e,t]=Ae.useState(!1),n=()=>{t(!e)};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:n,className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Notifications",children:[s.jsx(Da,{className:"h-6 w-6"}),r>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:r>9?"9+":r})]}),s.jsx(GU,{isOpen:e,onClose:()=>t(!1)})]})};async function YU(){const r="https://knkutxcpjrpcpeicibnf.supabase.co",e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(!r.includes("your-project-id")&&!e.includes("your-anon-key")))return{connected:!1,error:"Variables d'environnement manquantes ou incorrectes. Cliquez sur le bouton 'Connect to Supabase' dans la barre d'outils pour configurer votre projet Supabase."};try{const n=f6(r,e,{global:{fetch:(...u)=>{const[A,f]=u;return fetch(A,{...f,signal:AbortSignal.timeout(15e3)})}}}),{data:i,error:a}=await n.auth.getSession();if(a)return a.message.includes("timeout")||a.message.includes("Failed to fetch")||a.message.includes("connect error")?{connected:!1,error:"Impossible de se connecter à Supabase: problème de connexion ou timeout. Vérifiez votre connexion internet et l'état de votre projet Supabase."}:{connected:!1,error:`Erreur d'authentification: ${a.message}`};const o=["profiles","properties","tenants"],l={};let c=!0;for(const u of o)try{const{count:A,error:f}=await n.from(u).select("*",{count:"exact",head:!0});f?(l[u]=!1,c=!1):l[u]=!0}catch(A){if(A instanceof Error&&(A.message.includes("timeout")||A.message.includes("Failed to fetch")||A.message.includes("connect error")))return{connected:!1,error:`Impossible de vérifier la table ${u}: problème de connexion ou timeout. Vérifiez votre connexion internet et l'état de votre projet Supabase.`};l[u]=!1,c=!1}return{connected:!0,authenticated:!!i.session,tables:l,allTablesExist:c}}catch(n){return n instanceof Error&&(n.message.includes("timeout")||n.message.includes("Failed to fetch")||n.message.includes("connect error"))?{connected:!1,error:"Impossible de se connecter à Supabase: problème de connexion ou timeout. Vérifiez votre connexion internet et l'état de votre projet Supabase."}:{connected:!1,error:`Erreur de connexion: ${n.message}`}}}const XU=()=>{const[r,e]=Ae.useState(null),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(navigator.onLine),o=async()=>{n(!0);try{if(!navigator.onLine){e({connected:!1,error:"Pas de connexion internet. Veuillez vérifier votre connexion réseau."}),n(!1);return}const l=await YU();e(l)}catch(l){e({connected:!1,error:`Erreur inattendue: ${l.message}`})}finally{n(!1)}};return Ae.useEffect(()=>{const l=()=>a(!0),c=()=>a(!1);return window.addEventListener("online",l),window.addEventListener("offline",c),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}},[]),Ae.useEffect(()=>{o()},[]),t?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Sa,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-pulse"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Vérification de la connexion..."}),s.jsx("p",{className:"text-gray-600",children:"Nous vérifions la connexion à Supabase"})]})}):i?r.connected?s.jsxs("div",{className:"bg-green-50 rounded-xl shadow-sm border border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Connexion à Supabase établie"}),s.jsx("p",{className:"text-green-700",children:r.authenticated?"Authentification réussie":"Connexion établie mais non authentifié"})]}),s.jsx(l5,{className:"h-5 w-5 text-green-600 ml-2"})]}),s.jsxs("div",{className:"bg-white bg-opacity-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"État des tables :"}),s.jsx("div",{className:"space-y-2",children:r.tables&&Object.entries(r.tables).map(([l,c])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[c?s.jsx(Bt,{className:"h-4 w-4 text-green-600"}):s.jsx(vt,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{className:c?"text-green-700":"text-red-700",children:["Table ",s.jsx("code",{className:"font-mono",children:l}),": ",c?"OK":"Non trouvée"]})]},l))})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:`text-sm font-medium ${r.allTablesExist?"text-green-700":"text-red-700"}`,children:r.allTablesExist?"Toutes les tables sont correctement configurées":"Certaines tables sont manquantes"}),s.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ua,{className:"h-4 w-4"}),s.jsx("span",{children:"Rafraîchir"})]})]})]}):s.jsxs("div",{className:"bg-red-50 rounded-xl shadow-sm border border-red-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(vt,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-red-900",children:"Erreur de connexion à Supabase"}),s.jsx("p",{className:"text-red-700",children:r.error})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Solutions possibles :"}),s.jsxs("ul",{className:"list-disc list-inside text-red-700 space-y-1",children:[s.jsx("li",{children:`Vérifiez que vous avez cliqué sur "Connect to Supabase" dans la barre d'outils`}),s.jsx("li",{children:"Vérifiez votre connexion internet et assurez-vous qu'elle est stable"}),s.jsx("li",{children:"Si le problème persiste, le service Supabase peut être temporairement indisponible"}),s.jsx("li",{children:"Vérifiez que votre projet Supabase est actif et accessible"})]})]}),s.jsxs("button",{onClick:o,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ua,{className:"h-4 w-4"}),s.jsx("span",{children:"Réessayer"})]})]}):s.jsxs("div",{className:"bg-red-50 rounded-xl shadow-sm border border-red-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(EU,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-red-900",children:"Pas de connexion internet"})]}),s.jsx("p",{className:"text-red-700",children:"Veuillez vérifier votre connexion réseau et réessayer."})]})},XA={MAIL_CONFIG:"easybail_mail_config",EMAIL_TEMPLATES:"easybail_email_templates",EMAIL_QUEUE:"easybail_email_queue",SENT_EMAILS:"easybail_sent_emails"};class JU{config=null;emailQueue=[];sentEmails=[];isInitialized=!1;constructor(){this.initialize()}initialize(){try{const e=localStorage.getItem(XA.MAIL_CONFIG);e&&(this.config=JSON.parse(e));const t=localStorage.getItem(XA.EMAIL_QUEUE);if(t){const i=JSON.parse(t);this.emailQueue=i.map(a=>({...a,createdAt:new Date(a.createdAt),lastAttempt:a.lastAttempt?new Date(a.lastAttempt):void 0}))}const n=localStorage.getItem(XA.SENT_EMAILS);if(n){const i=JSON.parse(n);this.sentEmails=i.map(a=>({...a,sentAt:new Date(a.sentAt)}))}this.isInitialized=!0}catch(e){console.error("Erreur lors de l'initialisation du service email local:",e)}}saveData(){try{this.config&&localStorage.setItem(XA.MAIL_CONFIG,JSON.stringify(this.config)),localStorage.setItem(XA.EMAIL_QUEUE,JSON.stringify(this.emailQueue)),localStorage.setItem(XA.SENT_EMAILS,JSON.stringify(this.sentEmails))}catch(e){console.error("Erreur lors de la sauvegarde des données email:",e)}}isConfigured(){return!!this.config&&this.config.enabled}getConfig(){return this.config}saveConfig(e){try{return this.config=e,this.saveData(),!0}catch(t){return console.error("Erreur lors de la sauvegarde de la configuration mail:",t),!1}}async verifyConnection(){return this.config?this.config.enabled?{success:!0,message:"Connexion simulée en mode local"}:{success:!1,error:"Le service mail n'est pas activé"}:{success:!1,error:"Configuration mail non trouvée"}}async queueEmail(e){try{if(!this.config)return{success:!1,error:"Configuration mail non trouvée"};if(!this.config.enabled)return{success:!1,error:"Le service mail n'est pas activé"};const t={id:`email_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,options:e,createdAt:new Date,attempts:0};return this.emailQueue.push(t),this.saveData(),{success:!0,messageId:t.id,message:"Email ajouté à la file d'attente locale"}}catch(t){return console.error("Erreur lors de l'ajout de l'email à la file d'attente:",t),{success:!1,error:t instanceof Error?t.message:"Erreur inconnue"}}}async sendEmail(e){return this.queueEmail(e)}async sendTestEmail(e){return this.sendEmail({to:e,subject:"Email de test (mode local)",text:"Ceci est un email de test envoyé depuis votre application de gestion locative en mode local.",html:"<p>Ceci est un email de test envoyé depuis votre application de gestion locative en mode local.</p>"})}getEmailQueue(){return this.emailQueue}getSentEmails(){return this.sentEmails}async processEmailQueue(){if(!this.config||!this.config.enabled)return 0;let e=0;for(const t of[...this.emailQueue])try{const n=Math.random()>.1;t.attempts+=1,t.lastAttempt=new Date,n?(this.sentEmails.push({id:t.id,to:t.options.to,subject:t.options.subject,sentAt:new Date,success:!0}),this.emailQueue=this.emailQueue.filter(i=>i.id!==t.id),e++):(t.error="Échec simulé de l'envoi en mode local",t.attempts>=3&&(this.sentEmails.push({id:t.id,to:t.options.to,subject:t.options.subject,sentAt:new Date,success:!1,error:"Nombre maximum de tentatives atteint"}),this.emailQueue=this.emailQueue.filter(i=>i.id!==t.id)))}catch(n){console.error(`Erreur lors du traitement de l'email ${t.id}:`,n),t.error=n instanceof Error?n.message:"Erreur inconnue"}return this.saveData(),e}clearEmailQueue(){this.emailQueue=[],this.saveData()}clearSentEmails(){this.sentEmails=[],this.saveData()}}const qs=new JU;class ZU{STORAGE_KEY="mail_config";isConfigured(){const e=this.getConfig();return!!e&&e.enabled}getConfig(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Erreur lors de la récupération de la configuration mail:",e),null}}saveConfig(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(t){throw console.error("Erreur lors de la sauvegarde de la configuration mail:",t),t}}async verifyConnection(){const e=this.getConfig();if(!e)return{success:!1,error:"Configuration mail non trouvée"};try{const t="https://knkutxcpjrpcpeicibnf.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(t&&n&&!t.includes("your-project-id")&&!n.includes("your-anon-key")))return console.warn("Supabase not configured. Using local email service."),await qs.verifyConnection();console.log("Test de connexion SMTP...");const{data:a,error:o}=await Je.functions.invoke("send-email",{body:{config:e,action:"verify"}});return o?(console.error("Erreur lors du test de connexion:",o),{success:!1,error:o.message||"Erreur lors du test de connexion"}):a&&a.success?(console.log("Test de connexion réussi"),{success:!0}):{success:!1,error:a?.error||"Échec de la vérification de connexion"}}catch(t){return console.error("Erreur lors du test de connexion:",t),{success:!1,error:t instanceof Error?t.message:"Erreur inconnue"}}}async sendEmail(e){try{const t=this.getConfig();if(!t)return{success:!1,error:"Configuration mail non trouvée"};const n="https://knkutxcpjrpcpeicibnf.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(n&&i&&!n.includes("your-project-id")&&!i.includes("your-anon-key")))return console.warn("Supabase not configured. Using local email service."),await qs.sendEmail(e);console.log("Envoi d'email...",{to:e.to,subject:e.subject,hasAttachments:e.attachments&&e.attachments.length>0});const{data:o,error:l}=await Je.functions.invoke("send-email",{body:{config:t,emailOptions:e}});return l?(console.error("Erreur lors de l'envoi de l'email:",l),{success:!1,error:l.message||"Erreur lors de l'envoi de l'email"}):o&&o.success?(console.log("Email envoyé avec succès",o),{success:!0,messageId:o.messageId}):{success:!1,error:o?.error||"Échec de l'envoi de l'email"}}catch(t){console.warn("Erreur lors de l'envoi de l'email via Supabase, utilisation du service local:",t);try{return await qs.sendEmail(e)}catch(n){return console.error("Erreur lors de l'envoi de l'email via le service local:",n),{success:!1,error:n instanceof Error?n.message:"Erreur inconnue"}}}}async sendTestEmail(e){return this.sendEmail({to:e,subject:"Email de test",text:"Ceci est un email de test envoyé depuis votre application de gestion locative.",html:"<p>Ceci est un email de test envoyé depuis votre application de gestion locative.</p>"})}}const aa=new ZU,eO=()=>{const[r,e]=Ae.useState({host:"ssl0.ovh.net",port:465,secure:!0,username:"",password:"",from:"",replyTo:"",enabled:!1,provider:"ovh"}),[t,n]=Ae.useState(!1),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(""),[c,u]=Ae.useState(null),[A,f]=Ae.useState(null),[m,h]=Ae.useState(""),[v,x]=Ae.useState([]),[b,p]=Ae.useState(!1),[y,N]=Ae.useState(!1);Ae.useEffect(()=>{const C=aa.getConfig();C&&e(C);try{const P=qs.getEmailQueue();x(P)}catch(P){console.error("Erreur lors du chargement de la file d'attente:",P)}},[]);const w=C=>{const{name:P,value:T,type:_}=C.target;e(_==="checkbox"?U=>({...U,[P]:C.target.checked}):P==="port"?U=>({...U,[P]:parseInt(T,10)||0}):U=>({...U,[P]:T}))},j=C=>{e(C==="ovh"?P=>({...P,provider:C,host:"ssl0.ovh.net",port:465,secure:!0}):P=>({...P,provider:C,host:"",port:587,secure:!1}))},k=async()=>{n(!0),f(null);try{const C=aa.saveConfig(r);f(C?{type:"success",text:"Configuration du serveur mail enregistrée avec succès"}:{type:"error",text:"Erreur lors de l'enregistrement de la configuration"})}catch{f({type:"error",text:"Erreur lors de l'enregistrement de la configuration"})}finally{n(!1)}},I=async()=>{p(!0);try{const C=await qs.processEmailQueue();alert(`${C} email(s) traité(s) avec succès`);const P=qs.getEmailQueue();x(P)}catch(C){console.error("Erreur lors du traitement de la file d'attente:",C),alert("Erreur lors du traitement de la file d'attente")}finally{p(!1)}},F=async()=>{if(!o){u({success:!1,message:"Veuillez saisir une adresse email de test",details:"Une adresse email valide est requise pour effectuer le test"});return}if(!r.enabled){u({success:!1,message:"L'envoi d'emails n'est pas activé",details:"Veuillez activer l'envoi d'emails dans les paramètres"});return}a(!0),u(null),h("");try{aa.saveConfig(r);const C=await aa.verifyConnection();if(!C.success){u({success:!1,message:"Erreur de connexion au serveur SMTP",details:`Impossible de se connecter au serveur SMTP: ${C.error||"Erreur inconnue"}`}),C.error&&h(C.error),a(!1);return}const P=await aa.sendTestEmail(o);P.success?u({success:!0,message:`Email de test envoyé avec succès à ${o}`,details:P.messageId?`ID du message: ${P.messageId}. Vérifiez votre boîte de réception (et dossier spam) pour confirmer la réception.`:"Vérifiez votre boîte de réception (et dossier spam) pour confirmer la réception."}):(u({success:!1,message:"Échec de l'envoi de l'email de test",details:`Erreur: ${P.error||"Erreur inconnue"}`}),P.error&&h(P.error))}catch(C){console.error("Exception lors de l'envoi de l'email de test:",C),u({success:!1,message:"Erreur lors de l'envoi de l'email de test",details:`Exception: ${C instanceof Error?C.message:"Erreur inconnue"}`}),h(C instanceof Error?`${C.message}
${C.stack}`:JSON.stringify(C))}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[A&&s.jsx("div",{className:`rounded-lg p-4 ${A.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[A.type==="success"?s.jsx(Bt,{className:"h-5 w-5"}):s.jsx(vt,{className:"h-5 w-5"}),s.jsx("p",{className:"text-sm font-medium",children:A.text})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Fournisseur de service mail"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("button",{type:"button",onClick:()=>j("ovh"),className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-colors ${r.provider==="ovh"?"border-blue-600 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(tA,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:`font-medium ${r.provider==="ovh"?"text-blue-900":"text-gray-900"}`,children:"OVH Cloud"}),s.jsx("p",{className:`text-sm ${r.provider==="ovh"?"text-blue-700":"text-gray-500"}`,children:"Configuration automatique pour OVH"})]})]}),s.jsxs("button",{type:"button",onClick:()=>j("other"),className:`flex items-center space-x-3 p-4 rounded-lg border-2 transition-colors ${r.provider==="other"?"border-blue-600 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(u0,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:`font-medium ${r.provider==="other"?"text-blue-900":"text-gray-900"}`,children:"Autre fournisseur"}),s.jsx("p",{className:`text-sm ${r.provider==="other"?"text-blue-700":"text-gray-500"}`,children:"Configuration manuelle"})]})]})]}),r.provider==="ovh"&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Configuration OVH Cloud"}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Les paramètres du serveur SMTP sont pré-configurés pour OVH Cloud. Vous devez uniquement renseigner vos identifiants et adresses email."})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Configuration du serveur SMTP"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serveur SMTP (host) *"}),s.jsxs("div",{className:"relative",children:[s.jsx(u0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"host",value:r.host,onChange:w,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ssl0.ovh.net",disabled:r.provider==="ovh"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port *"}),s.jsxs("div",{className:"relative",children:[s.jsx(tA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",name:"port",value:r.port,onChange:w,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"465",disabled:r.provider==="ovh"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("input",{type:"checkbox",id:"secure",name:"secure",checked:r.secure,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:r.provider==="ovh"}),s.jsx("label",{htmlFor:"secure",className:"ml-2 block text-sm text-gray-700",children:"Connexion sécurisée (SSL/TLS)"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Activez cette option si votre serveur SMTP nécessite une connexion sécurisée (recommandé)."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'utilisateur *"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"username",value:r.username,onChange:w,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"votre-email@ovh.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Sm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:y?"text":"password",name:"password",value:r.password,onChange:w,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••••••"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>N(!y),children:s.jsx(Pi,{className:"h-5 w-5 text-gray-400"})})]}),s.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[s.jsx("strong",{children:"Note importante"}),": Pour les comptes OVH, utilisez le mot de passe de votre adresse email. Dans certains cas, vous devrez générer un mot de passe d'application spécifique dans votre espace client OVH."]}),s.jsxs("div",{className:"mt-3 text-blue-700 text-sm",children:[s.jsx("p",{className:"font-medium",children:"Paramètres SMTP OVH :"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Nom d'utilisateur"}),": Votre adresse e-mail complète"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Mot de passe"}),": Le mot de passe de votre adresse e-mail"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Serveur EUROPE"}),": smtp.mail.ovh.net ou ssl0.ovh.net"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Serveur AMERIQUE / ASIE-PACIFIQUE"}),": smtp.mail.ovh.ca"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Port"}),": 465"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Type de sécurité"}),": SSL/TLS"]})]})]})]})]})]}),v.length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-yellow-600"}),s.jsx("h4",{className:"font-medium text-yellow-900",children:"File d'attente des emails"})]}),s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",children:[v.length," email(s) en attente"]})]}),s.jsx("p",{className:"text-yellow-700 mb-4",children:"Des emails sont en attente d'envoi. Vous pouvez les traiter maintenant ou configurer le serveur mail pour les envoyer automatiquement."}),s.jsxs("button",{onClick:I,disabled:b,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[b?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Mu,{className:"h-5 w-5"}),s.jsx("span",{children:"Traiter la file d'attente"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Configuration des emails"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse d'expédition (From) *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",name:"from",value:r.from,onChange:w,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"votre-email@votre-domaine.fr"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cette adresse apparaîtra comme expéditeur des emails."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse de réponse (Reply-To)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",name:"replyTo",value:r.replyTo,onChange:w,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"support@votre-domaine.fr"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour utiliser l'adresse d'expédition."})]})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("input",{type:"checkbox",id:"enabled",name:"enabled",checked:r.enabled,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"enabled",className:"ml-2 block text-sm text-gray-700",children:"Activer l'envoi d'emails"})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(v6,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-800 font-medium",children:"Sécurité des identifiants"}),s.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Vos identifiants sont stockés de manière sécurisée et ne sont utilisés que pour l'envoi d'emails. Pour plus de sécurité, nous vous recommandons de créer un compte email dédié à cette application."})]})]})}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-4",children:"Tester la configuration"}),s.jsxs("div",{className:"flex items-end space-x-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email de test"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:o,onChange:C=>l(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"votre-email@example.com"})]})]}),s.jsxs("button",{type:"button",onClick:F,disabled:i||!r.enabled,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[i?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Qu,{className:"h-5 w-5"}),s.jsx("span",{children:"Envoyer un email de test"})]})]}),c&&s.jsx("div",{className:`mt-4 p-4 rounded-lg ${c.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-start space-x-2",children:[c.success?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${c.success?"text-green-800":"text-red-800"}`,children:c.message}),c.details&&s.jsx("p",{className:`text-xs mt-1 ${c.success?"text-green-700":"text-red-700"}`,children:c.details}),!c.success&&s.jsxs("div",{className:"mt-3 text-xs text-red-700",children:[s.jsx("p",{className:"font-medium",children:"Suggestions de dépannage :"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"Vérifiez que le serveur SMTP est correctement configuré"}),s.jsx("li",{children:"Assurez-vous que le mot de passe est correct"}),s.jsx("li",{children:"Vérifiez que le port 465 n'est pas bloqué par votre réseau"}),s.jsx("li",{children:"Pour OVH, vérifiez que votre adresse email est bien activée"}),s.jsx("li",{children:"Essayez de désactiver temporairement votre antivirus ou pare-feu"}),s.jsx("li",{children:"Vérifiez que l'adresse d'expédition correspond à votre compte OVH"}),s.jsx("li",{children:"Assurez-vous que votre compte OVH autorise l'envoi d'emails via SMTP"}),s.jsx("li",{children:"Vérifiez que vous n'avez pas atteint votre limite d'envoi d'emails"}),s.jsx("li",{children:"Essayez avec une autre adresse email de test"})]})]}),!c.success&&m&&s.jsxs("div",{className:"mt-3 p-2 bg-gray-100 rounded text-xs font-mono text-gray-800 overflow-auto max-h-40",children:[s.jsx("p",{className:"font-medium mb-1",children:"Informations de débogage:"}),s.jsx("pre",{children:m})]})]})]})})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"button",disabled:t,onClick:k,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[t?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Enregistrer la configuration"})]})})]})};var yy,Zj;function tO(){if(Zj)return yy;Zj=1;function r(){this.__data__=[],this.size=0}return yy=r,yy}var vy,eB;function B6(){if(eB)return vy;eB=1;function r(e,t){return e===t||e!==e&&t!==t}return vy=r,vy}var by,tB;function R0(){if(tB)return by;tB=1;var r=B6();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return by=e,by}var wy,rB;function rO(){if(rB)return wy;rB=1;var r=R0(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,o=r(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():t.call(a,o,1),--this.size,!0}return wy=n,wy}var Ny,nB;function nO(){if(nB)return Ny;nB=1;var r=R0();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return Ny=e,Ny}var jy,sB;function sO(){if(sB)return jy;sB=1;var r=R0();function e(t){return r(this.__data__,t)>-1}return jy=e,jy}var By,iB;function iO(){if(iB)return By;iB=1;var r=R0();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return By=e,By}var _y,aB;function M0(){if(aB)return _y;aB=1;var r=tO(),e=rO(),t=nO(),n=sO(),i=iO();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,_y=a,_y}var Cy,oB;function aO(){if(oB)return Cy;oB=1;var r=M0();function e(){this.__data__=new r,this.size=0}return Cy=e,Cy}var Ey,lB;function oO(){if(lB)return Ey;lB=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return Ey=r,Ey}var Sy,cB;function lO(){if(cB)return Sy;cB=1;function r(e){return this.__data__.get(e)}return Sy=r,Sy}var ky,uB;function cO(){if(uB)return ky;uB=1;function r(e){return this.__data__.has(e)}return ky=r,ky}var Fy,dB;function _6(){if(dB)return Fy;dB=1;var r=typeof _u=="object"&&_u&&_u.Object===Object&&_u;return Fy=r,Fy}var Ty,AB;function bc(){if(AB)return Ty;AB=1;var r=_6(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Ty=t,Ty}var Iy,hB;function c5(){if(hB)return Iy;hB=1;var r=bc(),e=r.Symbol;return Iy=e,Iy}var Ly,fB;function uO(){if(fB)return Ly;fB=1;var r=c5(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(o){var l=t.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var A=n.call(o);return u&&(l?o[i]=c:delete o[i]),A}return Ly=a,Ly}var Dy,mB;function dO(){if(mB)return Dy;mB=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return Dy=t,Dy}var Uy,pB;function Q0(){if(pB)return Uy;pB=1;var r=c5(),e=uO(),t=dO(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):t(l)}return Uy=o,Uy}var Oy,gB;function C6(){if(gB)return Oy;gB=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Oy=r,Oy}var Py,xB;function E6(){if(xB)return Py;xB=1;var r=Q0(),e=C6(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=r(l);return c==n||c==i||c==t||c==a}return Py=o,Py}var Ry,yB;function AO(){if(yB)return Ry;yB=1;var r=bc(),e=r["__core-js_shared__"];return Ry=e,Ry}var My,vB;function hO(){if(vB)return My;vB=1;var r=AO(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return My=t,My}var Qy,bB;function S6(){if(bB)return Qy;bB=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Qy=t,Qy}var Hy,wB;function fO(){if(wB)return Hy;wB=1;var r=E6(),e=hO(),t=C6(),n=S6(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,A=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!t(m)||e(m))return!1;var h=r(m)?A:a;return h.test(n(m))}return Hy=f,Hy}var qy,NB;function mO(){if(NB)return qy;NB=1;function r(e,t){return e?.[t]}return qy=r,qy}var zy,jB;function Zh(){if(jB)return zy;jB=1;var r=fO(),e=mO();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return zy=t,zy}var Ky,BB;function u5(){if(BB)return Ky;BB=1;var r=Zh(),e=bc(),t=r(e,"Map");return Ky=t,Ky}var Vy,_B;function H0(){if(_B)return Vy;_B=1;var r=Zh(),e=r(Object,"create");return Vy=e,Vy}var Wy,CB;function pO(){if(CB)return Wy;CB=1;var r=H0();function e(){this.__data__=r?r(null):{},this.size=0}return Wy=e,Wy}var Gy,EB;function gO(){if(EB)return Gy;EB=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Gy=r,Gy}var $y,SB;function xO(){if(SB)return $y;SB=1;var r=H0(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var o=this.__data__;if(r){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return $y=i,$y}var Yy,kB;function yO(){if(kB)return Yy;kB=1;var r=H0(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return Yy=n,Yy}var Xy,FB;function vO(){if(FB)return Xy;FB=1;var r=H0(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return Xy=t,Xy}var Jy,TB;function bO(){if(TB)return Jy;TB=1;var r=pO(),e=gO(),t=xO(),n=yO(),i=vO();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Jy=a,Jy}var Zy,IB;function wO(){if(IB)return Zy;IB=1;var r=bO(),e=M0(),t=u5();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Zy=n,Zy}var ev,LB;function NO(){if(LB)return ev;LB=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return ev=r,ev}var tv,DB;function q0(){if(DB)return tv;DB=1;var r=NO();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return tv=e,tv}var rv,UB;function jO(){if(UB)return rv;UB=1;var r=q0();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return rv=e,rv}var nv,OB;function BO(){if(OB)return nv;OB=1;var r=q0();function e(t){return r(this,t).get(t)}return nv=e,nv}var sv,PB;function _O(){if(PB)return sv;PB=1;var r=q0();function e(t){return r(this,t).has(t)}return sv=e,sv}var iv,RB;function CO(){if(RB)return iv;RB=1;var r=q0();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return iv=e,iv}var av,MB;function k6(){if(MB)return av;MB=1;var r=wO(),e=jO(),t=BO(),n=_O(),i=CO();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,av=a,av}var ov,QB;function EO(){if(QB)return ov;QB=1;var r=M0(),e=u5(),t=k6(),n=200;function i(a,o){var l=this.__data__;if(l instanceof r){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new t(c)}return l.set(a,o),this.size=l.size,this}return ov=i,ov}var lv,HB;function SO(){if(HB)return lv;HB=1;var r=M0(),e=aO(),t=oO(),n=lO(),i=cO(),a=EO();function o(l){var c=this.__data__=new r(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,lv=o,lv}var cv,qB;function kO(){if(qB)return cv;qB=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return cv=e,cv}var uv,zB;function FO(){if(zB)return uv;zB=1;function r(e){return this.__data__.has(e)}return uv=r,uv}var dv,KB;function TO(){if(KB)return dv;KB=1;var r=k6(),e=kO(),t=FO();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new r;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,dv=n,dv}var Av,VB;function IO(){if(VB)return Av;VB=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return Av=r,Av}var hv,WB;function LO(){if(WB)return hv;WB=1;function r(e,t){return e.has(t)}return hv=r,hv}var fv,GB;function F6(){if(GB)return fv;GB=1;var r=TO(),e=IO(),t=LO(),n=1,i=2;function a(o,l,c,u,A,f){var m=c&n,h=o.length,v=l.length;if(h!=v&&!(m&&v>h))return!1;var x=f.get(o),b=f.get(l);if(x&&b)return x==l&&b==o;var p=-1,y=!0,N=c&i?new r:void 0;for(f.set(o,l),f.set(l,o);++p<h;){var w=o[p],j=l[p];if(u)var k=m?u(j,w,p,l,o,f):u(w,j,p,o,l,f);if(k!==void 0){if(k)continue;y=!1;break}if(N){if(!e(l,function(I,F){if(!t(N,F)&&(w===I||A(w,I,c,u,f)))return N.push(F)})){y=!1;break}}else if(!(w===j||A(w,j,c,u,f))){y=!1;break}}return f.delete(o),f.delete(l),y}return fv=a,fv}var mv,$B;function DO(){if($B)return mv;$B=1;var r=bc(),e=r.Uint8Array;return mv=e,mv}var pv,YB;function UO(){if(YB)return pv;YB=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return pv=r,pv}var gv,XB;function OO(){if(XB)return gv;XB=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return gv=r,gv}var xv,JB;function PO(){if(JB)return xv;JB=1;var r=c5(),e=DO(),t=B6(),n=F6(),i=UO(),a=OO(),o=1,l=2,c="[object Boolean]",u="[object Date]",A="[object Error]",f="[object Map]",m="[object Number]",h="[object RegExp]",v="[object Set]",x="[object String]",b="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",N=r?r.prototype:void 0,w=N?N.valueOf:void 0;function j(k,I,F,C,P,T,_){switch(F){case y:if(k.byteLength!=I.byteLength||k.byteOffset!=I.byteOffset)return!1;k=k.buffer,I=I.buffer;case p:return!(k.byteLength!=I.byteLength||!T(new e(k),new e(I)));case c:case u:case m:return t(+k,+I);case A:return k.name==I.name&&k.message==I.message;case h:case x:return k==I+"";case f:var U=i;case v:var S=C&o;if(U||(U=a),k.size!=I.size&&!S)return!1;var X=_.get(k);if(X)return X==I;C|=l,_.set(k,I);var ie=n(U(k),U(I),C,P,T,_);return _.delete(k),ie;case b:if(w)return w.call(k)==w.call(I)}return!1}return xv=j,xv}var yv,ZB;function RO(){if(ZB)return yv;ZB=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return yv=r,yv}var vv,e4;function d5(){if(e4)return vv;e4=1;var r=Array.isArray;return vv=r,vv}var bv,t4;function MO(){if(t4)return bv;t4=1;var r=RO(),e=d5();function t(n,i,a){var o=i(n);return e(n)?o:r(o,a(n))}return bv=t,bv}var wv,r4;function QO(){if(r4)return wv;r4=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];t(l,n,e)&&(o[a++]=l)}return o}return wv=r,wv}var Nv,n4;function HO(){if(n4)return Nv;n4=1;function r(){return[]}return Nv=r,Nv}var jv,s4;function qO(){if(s4)return jv;s4=1;var r=QO(),e=HO(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),r(i(o),function(l){return n.call(o,l)}))}:e;return jv=a,jv}var Bv,i4;function zO(){if(i4)return Bv;i4=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return Bv=r,Bv}var _v,a4;function z0(){if(a4)return _v;a4=1;function r(e){return e!=null&&typeof e=="object"}return _v=r,_v}var Cv,o4;function KO(){if(o4)return Cv;o4=1;var r=Q0(),e=z0(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return Cv=n,Cv}var Ev,l4;function VO(){if(l4)return Ev;l4=1;var r=KO(),e=z0(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Ev=a,Ev}var Zf={exports:{}},Sv,c4;function WO(){if(c4)return Sv;c4=1;function r(){return!1}return Sv=r,Sv}Zf.exports;var u4;function T6(){return u4||(u4=1,function(r,e){var t=bc(),n=WO(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,o=a&&a.exports===i,l=o?t.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;r.exports=u}(Zf,Zf.exports)),Zf.exports}var kv,d4;function GO(){if(d4)return kv;d4=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return kv=t,kv}var Fv,A4;function I6(){if(A4)return Fv;A4=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return Fv=e,Fv}var Tv,h4;function $O(){if(h4)return Tv;h4=1;var r=Q0(),e=I6(),t=z0(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",A="[object Number]",f="[object Object]",m="[object RegExp]",h="[object Set]",v="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",p="[object DataView]",y="[object Float32Array]",N="[object Float64Array]",w="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",I="[object Uint8Array]",F="[object Uint8ClampedArray]",C="[object Uint16Array]",P="[object Uint32Array]",T={};T[y]=T[N]=T[w]=T[j]=T[k]=T[I]=T[F]=T[C]=T[P]=!0,T[n]=T[i]=T[b]=T[a]=T[p]=T[o]=T[l]=T[c]=T[u]=T[A]=T[f]=T[m]=T[h]=T[v]=T[x]=!1;function _(U){return t(U)&&e(U.length)&&!!T[r(U)]}return Tv=_,Tv}var Iv,f4;function YO(){if(f4)return Iv;f4=1;function r(e){return function(t){return e(t)}}return Iv=r,Iv}var em={exports:{}};em.exports;var m4;function XO(){return m4||(m4=1,function(r,e){var t=_6(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a&&t.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();r.exports=l}(em,em.exports)),em.exports}var Lv,p4;function L6(){if(p4)return Lv;p4=1;var r=$O(),e=YO(),t=XO(),n=t&&t.isTypedArray,i=n?e(n):r;return Lv=i,Lv}var Dv,g4;function JO(){if(g4)return Dv;g4=1;var r=zO(),e=VO(),t=d5(),n=T6(),i=GO(),a=L6(),o=Object.prototype,l=o.hasOwnProperty;function c(u,A){var f=t(u),m=!f&&e(u),h=!f&&!m&&n(u),v=!f&&!m&&!h&&a(u),x=f||m||h||v,b=x?r(u.length,String):[],p=b.length;for(var y in u)(A||l.call(u,y))&&!(x&&(y=="length"||h&&(y=="offset"||y=="parent")||v&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,p)))&&b.push(y);return b}return Dv=c,Dv}var Uv,x4;function ZO(){if(x4)return Uv;x4=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return Uv=e,Uv}var Ov,y4;function eP(){if(y4)return Ov;y4=1;function r(e,t){return function(n){return e(t(n))}}return Ov=r,Ov}var Pv,v4;function tP(){if(v4)return Pv;v4=1;var r=eP(),e=r(Object.keys,Object);return Pv=e,Pv}var Rv,b4;function rP(){if(b4)return Rv;b4=1;var r=ZO(),e=tP(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return Rv=i,Rv}var Mv,w4;function nP(){if(w4)return Mv;w4=1;var r=E6(),e=I6();function t(n){return n!=null&&e(n.length)&&!r(n)}return Mv=t,Mv}var Qv,N4;function sP(){if(N4)return Qv;N4=1;var r=JO(),e=rP(),t=nP();function n(i){return t(i)?r(i):e(i)}return Qv=n,Qv}var Hv,j4;function iP(){if(j4)return Hv;j4=1;var r=MO(),e=qO(),t=sP();function n(i){return r(i,t,e)}return Hv=n,Hv}var qv,B4;function aP(){if(B4)return qv;B4=1;var r=iP(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,o,l,c,u,A){var f=l&e,m=r(a),h=m.length,v=r(o),x=v.length;if(h!=x&&!f)return!1;for(var b=h;b--;){var p=m[b];if(!(f?p in o:n.call(o,p)))return!1}var y=A.get(a),N=A.get(o);if(y&&N)return y==o&&N==a;var w=!0;A.set(a,o),A.set(o,a);for(var j=f;++b<h;){p=m[b];var k=a[p],I=o[p];if(c)var F=f?c(I,k,p,o,a,A):c(k,I,p,a,o,A);if(!(F===void 0?k===I||u(k,I,l,c,A):F)){w=!1;break}j||(j=p=="constructor")}if(w&&!j){var C=a.constructor,P=o.constructor;C!=P&&"constructor"in a&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(w=!1)}return A.delete(a),A.delete(o),w}return qv=i,qv}var zv,_4;function oP(){if(_4)return zv;_4=1;var r=Zh(),e=bc(),t=r(e,"DataView");return zv=t,zv}var Kv,C4;function lP(){if(C4)return Kv;C4=1;var r=Zh(),e=bc(),t=r(e,"Promise");return Kv=t,Kv}var Vv,E4;function cP(){if(E4)return Vv;E4=1;var r=Zh(),e=bc(),t=r(e,"Set");return Vv=t,Vv}var Wv,S4;function uP(){if(S4)return Wv;S4=1;var r=Zh(),e=bc(),t=r(e,"WeakMap");return Wv=t,Wv}var Gv,k4;function dP(){if(k4)return Gv;k4=1;var r=oP(),e=u5(),t=lP(),n=cP(),i=uP(),a=Q0(),o=S6(),l="[object Map]",c="[object Object]",u="[object Promise]",A="[object Set]",f="[object WeakMap]",m="[object DataView]",h=o(r),v=o(e),x=o(t),b=o(n),p=o(i),y=a;return(r&&y(new r(new ArrayBuffer(1)))!=m||e&&y(new e)!=l||t&&y(t.resolve())!=u||n&&y(new n)!=A||i&&y(new i)!=f)&&(y=function(N){var w=a(N),j=w==c?N.constructor:void 0,k=j?o(j):"";if(k)switch(k){case h:return m;case v:return l;case x:return u;case b:return A;case p:return f}return w}),Gv=y,Gv}var $v,F4;function AP(){if(F4)return $v;F4=1;var r=SO(),e=F6(),t=PO(),n=aP(),i=dP(),a=d5(),o=T6(),l=L6(),c=1,u="[object Arguments]",A="[object Array]",f="[object Object]",m=Object.prototype,h=m.hasOwnProperty;function v(x,b,p,y,N,w){var j=a(x),k=a(b),I=j?A:i(x),F=k?A:i(b);I=I==u?f:I,F=F==u?f:F;var C=I==f,P=F==f,T=I==F;if(T&&o(x)){if(!o(b))return!1;j=!0,C=!1}if(T&&!C)return w||(w=new r),j||l(x)?e(x,b,p,y,N,w):t(x,b,I,p,y,N,w);if(!(p&c)){var _=C&&h.call(x,"__wrapped__"),U=P&&h.call(b,"__wrapped__");if(_||U){var S=_?x.value():x,X=U?b.value():b;return w||(w=new r),N(S,X,p,y,w)}}return T?(w||(w=new r),n(x,b,p,y,N,w)):!1}return $v=v,$v}var Yv,T4;function hP(){if(T4)return Yv;T4=1;var r=AP(),e=z0();function t(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,o,t,l)}return Yv=t,Yv}var Xv,I4;function fP(){if(I4)return Xv;I4=1;var r=hP();function e(t,n){return r(t,n)}return Xv=e,Xv}var zg={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var mP=zg.exports,L4;function pP(){return L4||(L4=1,function(r,e){(function(n,i){r.exports=i()})(typeof self<"u"?self:mP,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),l=i(19),c=i(45),u=i(46),A=i(47),f=i(48),m=i(49),h=i(12),v=i(32),x=i(33),b=i(31),p=i(1),y={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:a.default,Format:o.default,Leaf:l.default,Embed:f.default,Scroll:c.default,Block:A.default,Inline:u.default,Text:m.default,Attributor:{Attribute:h.default,Class:v.default,Style:x.default,Store:b.default}};n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var N in y)y.hasOwnProperty(N)&&(p[N]=y[N])};return function(p,y){b(p,y);function N(){this.constructor=p}p.prototype=y===null?Object.create(y):(N.prototype=y.prototype,new N)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(b){a(p,b);function p(y){var N=this;return y="[Parchment] "+y,N=b.call(this,y)||this,N.message=y,N.name=N.constructor.name,N}return p}(Error);n.ParchmentError=o;var l={},c={},u={},A={};n.DATA_KEY="__blot";var f;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function m(b,p){var y=v(b);if(y==null)throw new o("Unable to create "+b+" blot");var N=y,w=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:N.create(p);return new N(w,p)}n.create=m;function h(b,p){return p===void 0&&(p=!1),b==null?null:b[n.DATA_KEY]!=null?b[n.DATA_KEY].blot:p?h(b.parentNode,p):null}n.find=h;function v(b,p){p===void 0&&(p=f.ANY);var y;if(typeof b=="string")y=A[b]||l[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)y=A.text;else if(typeof b=="number")b&f.LEVEL&f.BLOCK?y=A.block:b&f.LEVEL&f.INLINE&&(y=A.inline);else if(b instanceof HTMLElement){var N=(b.getAttribute("class")||"").split(/\s+/);for(var w in N)if(y=c[N[w]],y)break;y=y||u[b.tagName]}return y==null?null:p&f.LEVEL&y.scope&&p&f.TYPE&y.scope?y:null}n.query=v;function x(){for(var b=[],p=0;p<arguments.length;p++)b[p]=arguments[p];if(b.length>1)return b.map(function(w){return x(w)});var y=b[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new o("Invalid definition");if(y.blotName==="abstract")throw new o("Cannot register abstract class");if(A[y.blotName||y.attrName]=y,typeof y.keyName=="string")l[y.keyName]=y;else if(y.className!=null&&(c[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(w){return w.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var N=Array.isArray(y.tagName)?y.tagName:[y.tagName];N.forEach(function(w){(u[w]==null||y.className==null)&&(u[w]=y)})}return y}n.register=x},function(t,n,i){var a=i(51),o=i(11),l=i(3),c=i(20),u="\0",A=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};A.prototype.insert=function(f,m){var h={};return f.length===0?this:(h.insert=f,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(h.attributes=m),this.push(h))},A.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},A.prototype.retain=function(f,m){if(f<=0)return this;var h={retain:f};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(h.attributes=m),this.push(h)},A.prototype.push=function(f){var m=this.ops.length,h=this.ops[m-1];if(f=l(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[m-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(m-=1,h=this.ops[m-1],typeof h!="object"))return this.ops.unshift(f),this;if(o(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[m-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[m-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[m-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[m-1].attributes=f.attributes),this}}return m===this.ops.length?this.ops.push(f):this.ops.splice(m,0,f),this},A.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},A.prototype.filter=function(f){return this.ops.filter(f)},A.prototype.forEach=function(f){this.ops.forEach(f)},A.prototype.map=function(f){return this.ops.map(f)},A.prototype.partition=function(f){var m=[],h=[];return this.forEach(function(v){var x=f(v)?m:h;x.push(v)}),[m,h]},A.prototype.reduce=function(f,m){return this.ops.reduce(f,m)},A.prototype.changeLength=function(){return this.reduce(function(f,m){return m.insert?f+c.length(m):m.delete?f-m.delete:f},0)},A.prototype.length=function(){return this.reduce(function(f,m){return f+c.length(m)},0)},A.prototype.slice=function(f,m){f=f||0,typeof m!="number"&&(m=1/0);for(var h=[],v=c.iterator(this.ops),x=0;x<m&&v.hasNext();){var b;x<f?b=v.next(f-x):(b=v.next(m-x),h.push(b)),x+=c.length(b)}return new A(h)},A.prototype.compose=function(f){var m=c.iterator(this.ops),h=c.iterator(f.ops),v=[],x=h.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){for(var b=x.retain;m.peekType()==="insert"&&m.peekLength()<=b;)b-=m.peekLength(),v.push(m.next());x.retain-b>0&&h.next(x.retain-b)}for(var p=new A(v);m.hasNext()||h.hasNext();)if(h.peekType()==="insert")p.push(h.next());else if(m.peekType()==="delete")p.push(m.next());else{var y=Math.min(m.peekLength(),h.peekLength()),N=m.next(y),w=h.next(y);if(typeof w.retain=="number"){var j={};typeof N.retain=="number"?j.retain=y:j.insert=N.insert;var k=c.attributes.compose(N.attributes,w.attributes,typeof N.retain=="number");if(k&&(j.attributes=k),p.push(j),!h.hasNext()&&o(p.ops[p.ops.length-1],j)){var I=new A(m.rest());return p.concat(I).chop()}}else typeof w.delete=="number"&&typeof N.retain=="number"&&p.push(w)}return p.chop()},A.prototype.concat=function(f){var m=new A(this.ops.slice());return f.ops.length>0&&(m.push(f.ops[0]),m.ops=m.ops.concat(f.ops.slice(1))),m},A.prototype.diff=function(f,m){if(this.ops===f.ops)return new A;var h=[this,f].map(function(y){return y.map(function(N){if(N.insert!=null)return typeof N.insert=="string"?N.insert:u;var w=y===f?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),v=new A,x=a(h[0],h[1],m),b=c.iterator(this.ops),p=c.iterator(f.ops);return x.forEach(function(y){for(var N=y[1].length;N>0;){var w=0;switch(y[0]){case a.INSERT:w=Math.min(p.peekLength(),N),v.push(p.next(w));break;case a.DELETE:w=Math.min(N,b.peekLength()),b.next(w),v.delete(w);break;case a.EQUAL:w=Math.min(b.peekLength(),p.peekLength(),N);var j=b.next(w),k=p.next(w);o(j.insert,k.insert)?v.retain(w,c.attributes.diff(j.attributes,k.attributes)):v.push(k).delete(w);break}N-=w}}),v.chop()},A.prototype.eachLine=function(f,m){m=m||`
`;for(var h=c.iterator(this.ops),v=new A,x=0;h.hasNext();){if(h.peekType()!=="insert")return;var b=h.peek(),p=c.length(b)-h.peekLength(),y=typeof b.insert=="string"?b.insert.indexOf(m,p)-p:-1;if(y<0)v.push(h.next());else if(y>0)v.push(h.next(y));else{if(f(v,h.next(1).attributes||{},x)===!1)return;x+=1,v=new A}}v.length()>0&&f(v,{},x)},A.prototype.transform=function(f,m){if(m=!!m,typeof f=="number")return this.transformPosition(f,m);for(var h=c.iterator(this.ops),v=c.iterator(f.ops),x=new A;h.hasNext()||v.hasNext();)if(h.peekType()==="insert"&&(m||v.peekType()!=="insert"))x.retain(c.length(h.next()));else if(v.peekType()==="insert")x.push(v.next());else{var b=Math.min(h.peekLength(),v.peekLength()),p=h.next(b),y=v.next(b);if(p.delete)continue;y.delete?x.push(y):x.retain(b,c.attributes.transform(p.attributes,y.attributes,m))}return x.chop()},A.prototype.transformPosition=function(f,m){m=!!m;for(var h=c.iterator(this.ops),v=0;h.hasNext()&&v<=f;){var x=h.peekLength(),b=h.peekType();if(h.next(),b==="delete"){f-=Math.min(x,f-v);continue}else b==="insert"&&(v<f||!m)&&(f+=x);v+=x}return f},t.exports=A},function(t,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(h){return typeof Array.isArray=="function"?Array.isArray(h):a.call(h)==="[object Array]"},u=function(h){if(!h||a.call(h)!=="[object Object]")return!1;var v=i.call(h,"constructor"),x=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!v&&!x)return!1;var b;for(b in h);return typeof b>"u"||i.call(h,b)},A=function(h,v){o&&v.name==="__proto__"?o(h,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):h[v.name]=v.newValue},f=function(h,v){if(v==="__proto__")if(i.call(h,v)){if(l)return l(h,v).value}else return;return h[v]};t.exports=function m(){var h,v,x,b,p,y,N=arguments[0],w=1,j=arguments.length,k=!1;for(typeof N=="boolean"&&(k=N,N=arguments[1]||{},w=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});w<j;++w)if(h=arguments[w],h!=null)for(v in h)x=f(N,v),b=f(h,v),N!==b&&(k&&b&&(u(b)||(p=c(b)))?(p?(p=!1,y=x&&c(x)?x:[]):y=x&&u(x)?x:{},A(N,{name:v,newValue:m(k,y,b)})):typeof b<"u"&&A(N,{name:v,newValue:b}));return N}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function T(_,U){for(var S=0;S<U.length;S++){var X=U[S];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(_,X.key,X)}}return function(_,U,S){return U&&T(_.prototype,U),S&&T(_,S),_}}(),o=function T(_,U,S){_===null&&(_=Function.prototype);var X=Object.getOwnPropertyDescriptor(_,U);if(X===void 0){var ie=Object.getPrototypeOf(_);return ie===null?void 0:T(ie,U,S)}else{if("value"in X)return X.value;var Z=X.get;return Z===void 0?void 0:Z.call(S)}},l=i(3),c=N(l),u=i(2),A=N(u),f=i(0),m=N(f),h=i(16),v=N(h),x=i(6),b=N(x),p=i(7),y=N(p);function N(T){return T&&T.__esModule?T:{default:T}}function w(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function j(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function k(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var I=1,F=function(T){k(_,T);function _(){return w(this,_),j(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"attach",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new A.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(S,X){var ie=m.default.query(S,m.default.Scope.BLOCK_ATTRIBUTE);ie!=null&&this.attributes.attribute(ie,X)}},{key:"formatAt",value:function(S,X,ie,Z){this.format(ie,Z)}},{key:"insertAt",value:function(S,X,ie){if(typeof X=="string"&&X.endsWith(`
`)){var Z=m.default.create(C.blotName);this.parent.insertBefore(Z,S===0?this:this.next),Z.insertAt(0,X.slice(0,-1))}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,S,X,ie)}}]),_}(m.default.Embed);F.scope=m.default.Scope.BLOCK_BLOT;var C=function(T){k(_,T);function _(U){w(this,_);var S=j(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,U));return S.cache={},S}return a(_,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(S,X){return X.length()===0?S:S.insert(X.value(),P(X))},new A.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(S,X){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,S,X),this.cache={}}},{key:"formatAt",value:function(S,X,ie,Z){X<=0||(m.default.query(ie,m.default.Scope.BLOCK)?S+X===this.length()&&this.format(ie,Z):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,S,Math.min(X,this.length()-S-1),ie,Z),this.cache={})}},{key:"insertAt",value:function(S,X,ie){if(ie!=null)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,S,X,ie);if(X.length!==0){var Z=X.split(`
`),ce=Z.shift();ce.length>0&&(S<this.length()-1||this.children.tail==null?o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,Math.min(S,this.length()-1),ce):this.children.tail.insertAt(this.children.tail.length(),ce),this.cache={});var re=this;Z.reduce(function(ae,M){return re=re.split(ae,!0),re.insertAt(0,M),M.length},S+ce.length)}}},{key:"insertBefore",value:function(S,X){var ie=this.children.head;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,S,X),ie instanceof v.default&&ie.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"length",this).call(this)+I),this.cache.length}},{key:"moveChildren",value:function(S,X){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"moveChildren",this).call(this,S,X),this.cache={}}},{key:"optimize",value:function(S){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,S),this.cache={}}},{key:"path",value:function(S){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,S,!0)}},{key:"removeChild",value:function(S){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"removeChild",this).call(this,S),this.cache={}}},{key:"split",value:function(S){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X&&(S===0||S>=this.length()-I)){var ie=this.clone();return S===0?(this.parent.insertBefore(ie,this),this):(this.parent.insertBefore(ie,this.next),ie)}else{var Z=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"split",this).call(this,S,X);return this.cache={},Z}}}]),_}(m.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[b.default,m.default.Embed,y.default];function P(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(_=(0,c.default)(_,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?_:P(T.parent,_)}n.bubbleFormats=P,n.BlockEmbed=F,n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},o=function(){function re(ae,M){var L=[],V=!0,K=!1,ee=void 0;try{for(var z=ae[Symbol.iterator](),D;!(V=(D=z.next()).done)&&(L.push(D.value),!(M&&L.length===M));V=!0);}catch(H){K=!0,ee=H}finally{try{!V&&z.return&&z.return()}finally{if(K)throw ee}}return L}return function(ae,M){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return re(ae,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function re(ae,M){for(var L=0;L<M.length;L++){var V=M[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(ae,V.key,V)}}return function(ae,M,L){return M&&re(ae.prototype,M),L&&re(ae,L),ae}}();i(50);var c=i(2),u=P(c),A=i(14),f=P(A),m=i(8),h=P(m),v=i(9),x=P(v),b=i(0),p=P(b),y=i(15),N=P(y),w=i(3),j=P(w),k=i(10),I=P(k),F=i(34),C=P(F);function P(re){return re&&re.__esModule?re:{default:re}}function T(re,ae,M){return ae in re?Object.defineProperty(re,ae,{value:M,enumerable:!0,configurable:!0,writable:!0}):re[ae]=M,re}function _(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}var U=(0,I.default)("quill"),S=function(){l(re,null,[{key:"debug",value:function(M){M===!0&&(M="log"),I.default.level(M)}},{key:"find",value:function(M){return M.__quill||p.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&U.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,L){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var ee=M.attrName||M.blotName;typeof ee=="string"?this.register("formats/"+ee,M,L):Object.keys(M).forEach(function(z){V.register(z,M[z],L)})}else this.imports[M]!=null&&!K&&U.warn("Overwriting "+M+" with",L),this.imports[M]=L,(M.startsWith("blots/")||M.startsWith("formats/"))&&L.blotName!=="abstract"?p.default.register(L):M.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function re(ae){var M=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_(this,re),this.options=X(ae,L),this.container=this.options.container,this.container==null)return U.error("Invalid Quill container",ae);this.options.debug&&re.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new N.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(ee){ee===h.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(ee,z){var D=M.selection.lastRange,H=D&&D.length===0?D.index:void 0;ie.call(M,function(){return M.editor.update(null,z,H)},ee)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(re,[{key:"addContainer",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var V=M;M=document.createElement("div"),M.classList.add(V)}return this.container.insertBefore(M,L),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,L,V){var K=this,ee=Z(M,L,V),z=o(ee,4);return M=z[0],L=z[1],V=z[3],ie.call(this,function(){return K.editor.deleteText(M,L)},V,M,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,L){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return ie.call(this,function(){var ee=V.getSelection(!0),z=new u.default;if(ee==null)return z;if(p.default.query(M,p.default.Scope.BLOCK))z=V.editor.formatLine(ee.index,ee.length,T({},M,L));else{if(ee.length===0)return V.selection.format(M,L),z;z=V.editor.formatText(ee.index,ee.length,T({},M,L))}return V.setSelection(ee,h.default.sources.SILENT),z},K)}},{key:"formatLine",value:function(M,L,V,K,ee){var z=this,D=void 0,H=Z(M,L,V,K,ee),ne=o(H,4);return M=ne[0],L=ne[1],D=ne[2],ee=ne[3],ie.call(this,function(){return z.editor.formatLine(M,L,D)},ee,M,0)}},{key:"formatText",value:function(M,L,V,K,ee){var z=this,D=void 0,H=Z(M,L,V,K,ee),ne=o(H,4);return M=ne[0],L=ne[1],D=ne[2],ee=ne[3],ie.call(this,function(){return z.editor.formatText(M,L,D)},ee,M,0)}},{key:"getBounds",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof M=="number"?V=this.selection.getBounds(M,L):V=this.selection.getBounds(M.index,M.length);var K=this.container.getBoundingClientRect();return{bottom:V.bottom-K.top,height:V.height,left:V.left-K.left,right:V.right-K.left,top:V.top-K.top,width:V.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,V=Z(M,L),K=o(V,2);return M=K[0],L=K[1],this.editor.getContents(M,L)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,L):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,L)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,V=Z(M,L),K=o(V,2);return M=K[0],L=K[1],this.editor.getText(M,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,L,V){var K=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:re.sources.API;return ie.call(this,function(){return K.editor.insertEmbed(M,L,V)},ee,M)}},{key:"insertText",value:function(M,L,V,K,ee){var z=this,D=void 0,H=Z(M,0,V,K,ee),ne=o(H,4);return M=ne[0],D=ne[2],ee=ne[3],ie.call(this,function(){return z.editor.insertText(M,L,D)},ee,M,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,L,V){this.clipboard.dangerouslyPasteHTML(M,L,V)}},{key:"removeFormat",value:function(M,L,V){var K=this,ee=Z(M,L,V),z=o(ee,4);return M=z[0],L=z[1],V=z[3],ie.call(this,function(){return K.editor.removeFormat(M,L)},V,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var L=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return ie.call(this,function(){M=new u.default(M);var K=L.getLength(),ee=L.editor.deleteText(0,K),z=L.editor.applyDelta(M),D=z.ops[z.ops.length-1];D!=null&&typeof D.insert=="string"&&D.insert[D.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),z.delete(1));var H=ee.compose(z);return H},V)}},{key:"setSelection",value:function(M,L,V){if(M==null)this.selection.setRange(null,L||re.sources.API);else{var K=Z(M,L,V),ee=o(K,4);M=ee[0],L=ee[1],V=ee[3],this.selection.setRange(new y.Range(M,L),V),V!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,V=new u.default().insert(M);return this.setContents(V,L)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,L=this.scroll.update(M);return this.selection.update(M),L}},{key:"updateContents",value:function(M){var L=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return ie.call(this,function(){return M=new u.default(M),L.editor.applyDelta(M,V)},V,!0)}}]),re}();S.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},S.events=h.default.events,S.sources=h.default.sources,S.version="1.3.7",S.imports={delta:u.default,parchment:p.default,"core/module":x.default,"core/theme":C.default};function X(re,ae){if(ae=(0,j.default)(!0,{container:re,modules:{clipboard:!0,keyboard:!0,history:!0}},ae),!ae.theme||ae.theme===S.DEFAULTS.theme)ae.theme=C.default;else if(ae.theme=S.import("themes/"+ae.theme),ae.theme==null)throw new Error("Invalid theme "+ae.theme+". Did you register it?");var M=(0,j.default)(!0,{},ae.theme.DEFAULTS);[M,ae].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(ee){K.modules[ee]===!0&&(K.modules[ee]={})})});var L=Object.keys(M.modules).concat(Object.keys(ae.modules)),V=L.reduce(function(K,ee){var z=S.import("modules/"+ee);return z==null?U.error("Cannot load "+ee+" module. Are you sure you registered it?"):K[ee]=z.DEFAULTS||{},K},{});return ae.modules!=null&&ae.modules.toolbar&&ae.modules.toolbar.constructor!==Object&&(ae.modules.toolbar={container:ae.modules.toolbar}),ae=(0,j.default)(!0,{},S.DEFAULTS,{modules:V},M,ae),["bounds","container","scrollingContainer"].forEach(function(K){typeof ae[K]=="string"&&(ae[K]=document.querySelector(ae[K]))}),ae.modules=Object.keys(ae.modules).reduce(function(K,ee){return ae.modules[ee]&&(K[ee]=ae.modules[ee]),K},{}),ae}function ie(re,ae,M,L){if(this.options.strict&&!this.isEnabled()&&ae===h.default.sources.USER)return new u.default;var V=M==null?null:this.getSelection(),K=this.editor.delta,ee=re();if(V!=null&&(M===!0&&(M=V.index),L==null?V=ce(V,ee,ae):L!==0&&(V=ce(V,M,L,ae)),this.setSelection(V,h.default.sources.SILENT)),ee.length()>0){var z,D=[h.default.events.TEXT_CHANGE,ee,K,ae];if((z=this.emitter).emit.apply(z,[h.default.events.EDITOR_CHANGE].concat(D)),ae!==h.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,D)}}return ee}function Z(re,ae,M,L,V){var K={};return typeof re.index=="number"&&typeof re.length=="number"?typeof ae!="number"?(V=L,L=M,M=ae,ae=re.length,re=re.index):(ae=re.length,re=re.index):typeof ae!="number"&&(V=L,L=M,M=ae,ae=0),(typeof M>"u"?"undefined":a(M))==="object"?(K=M,V=L):typeof M=="string"&&(L!=null?K[M]=L:V=M),V=V||h.default.sources.API,[re,ae,K,V]}function ce(re,ae,M,L){if(re==null)return null;var V=void 0,K=void 0;if(ae instanceof u.default){var ee=[re.index,re.index+re.length].map(function(ne){return ae.transformPosition(ne,L!==h.default.sources.USER)}),z=o(ee,2);V=z[0],K=z[1]}else{var D=[re.index,re.index+re.length].map(function(ne){return ne<ae||ne===ae&&L===h.default.sources.USER?ne:M>=0?ne+M:Math.max(ae,ne+M)}),H=o(D,2);V=H[0],K=H[1]}return new y.Range(V,K-V)}n.expandConfig=X,n.overload=Z,n.default=S},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(p,y){for(var N=0;N<y.length;N++){var w=y[N];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,y,N){return y&&b(p.prototype,y),N&&b(p,N),p}}(),o=function b(p,y,N){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,y);if(w===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,y,N)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(N)}},l=i(7),c=f(l),u=i(0),A=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function m(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function h(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function v(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var x=function(b){v(p,b);function p(){return m(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"formatAt",value:function(N,w,j,k){if(p.compare(this.statics.blotName,j)<0&&A.default.query(j,A.default.Scope.BLOT)){var I=this.isolate(N,w);k&&I.wrap(j,k)}else o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,N,w,j,k)}},{key:"optimize",value:function(N){if(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,N),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(N,w){var j=p.order.indexOf(N),k=p.order.indexOf(w);return j>=0||k>=0?j-k:N===w?0:N<w?-1:1}}]),p}(A.default.Inline);x.allowedChildren=[x,A.default.Embed,c.default],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function u(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function A(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var f=function(m){A(h,m);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Text);n.default=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(N,w){for(var j=0;j<w.length;j++){var k=w[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,w,j){return w&&y(N.prototype,w),j&&y(N,j),N}}(),o=function y(N,w,j){N===null&&(N=Function.prototype);var k=Object.getOwnPropertyDescriptor(N,w);if(k===void 0){var I=Object.getPrototypeOf(N);return I===null?void 0:y(I,w,j)}else{if("value"in k)return k.value;var F=k.get;return F===void 0?void 0:F.call(j)}},l=i(54),c=f(l),u=i(10),A=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function m(y,N){if(!(y instanceof N))throw new TypeError("Cannot call a class as a function")}function h(y,N){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:y}function v(y,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);y.prototype=Object.create(N&&N.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(y,N):y.__proto__=N)}var x=(0,A.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(y){document.addEventListener(y,function(){for(var N=arguments.length,w=Array(N),j=0;j<N;j++)w[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var I;(I=k.__quill.emitter).handleDOM.apply(I,w)}})})});var p=function(y){v(N,y);function N(){m(this,N);var w=h(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return w.listeners={},w.on("error",x.error),w}return a(N,[{key:"emit",value:function(){x.log.apply(x,arguments),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var k=arguments.length,I=Array(k>1?k-1:0),F=1;F<k;F++)I[F-1]=arguments[F];(this.listeners[j.type]||[]).forEach(function(C){var P=C.node,T=C.handler;(j.target===P||P.contains(j.target))&&T.apply(void 0,[j].concat(I))})}},{key:"listenDOM",value:function(j,k,I){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:k,handler:I})}}]),N}(c.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},n.default=p},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,l),this.quill=c,this.options=u};o.DEFAULTS={},n.default=o},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function l(u){if(a.indexOf(u)<=a.indexOf(o)){for(var A,f=arguments.length,m=Array(f>1?f-1:0),h=1;h<f;h++)m[h-1]=arguments[h];(A=console)[u].apply(A,m)}}function c(u){return a.reduce(function(A,f){return A[f]=l.bind(console,f,u),A},{})}l.level=c.level=function(u){o=u},n.default=c},function(t,n,i){var a=Array.prototype.slice,o=i(52),l=i(53),c=t.exports=function(m,h,v){return v||(v={}),m===h?!0:m instanceof Date&&h instanceof Date?m.getTime()===h.getTime():!m||!h||typeof m!="object"&&typeof h!="object"?v.strict?m===h:m==h:f(m,h,v)};function u(m){return m==null}function A(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function f(m,h,v){var x,b;if(u(m)||u(h)||m.prototype!==h.prototype)return!1;if(l(m))return l(h)?(m=a.call(m),h=a.call(h),c(m,h,v)):!1;if(A(m)){if(!A(h)||m.length!==h.length)return!1;for(x=0;x<m.length;x++)if(m[x]!==h[x])return!1;return!0}try{var p=o(m),y=o(h)}catch{return!1}if(p.length!=y.length)return!1;for(p.sort(),y.sort(),x=p.length-1;x>=0;x--)if(p[x]!=y[x])return!1;for(x=p.length-1;x>=0;x--)if(b=p[x],!c(m[b],h[b],v))return!1;return typeof m==typeof h}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function l(c,u,A){A===void 0&&(A={}),this.attrName=c,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;A.scope!=null?this.scope=A.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,A.whitelist!=null&&(this.whitelist=A.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var A=a.query(c,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return A==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();n.default=o},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function F(C,P){var T=[],_=!0,U=!1,S=void 0;try{for(var X=C[Symbol.iterator](),ie;!(_=(ie=X.next()).done)&&(T.push(ie.value),!(P&&T.length===P));_=!0);}catch(Z){U=!0,S=Z}finally{try{!_&&X.return&&X.return()}finally{if(U)throw S}}return T}return function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return F(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function F(C,P){for(var T=0;T<P.length;T++){var _=P[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,P,T){return P&&F(C.prototype,P),T&&F(C,T),C}}(),l=function F(C,P,T){C===null&&(C=Function.prototype);var _=Object.getOwnPropertyDescriptor(C,P);if(_===void 0){var U=Object.getPrototypeOf(C);return U===null?void 0:F(U,P,T)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(T)}},c=i(2),u=y(c),A=i(0),f=y(A),m=i(4),h=y(m),v=i(6),x=y(v),b=i(7),p=y(b);function y(F){return F&&F.__esModule?F:{default:F}}function N(F,C){if(!(F instanceof C))throw new TypeError("Cannot call a class as a function")}function w(F,C){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:F}function j(F,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);F.prototype=Object.create(C&&C.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(F,C):F.__proto__=C)}var k=function(F){j(C,F);function C(){return N(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(x.default);k.blotName="code",k.tagName="CODE";var I=function(F){j(C,F);function C(){return N(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"delta",value:function(){var T=this,_=this.domNode.textContent;return _.endsWith(`
`)&&(_=_.slice(0,-1)),_.split(`
`).reduce(function(U,S){return U.insert(S).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,_){if(!(T===this.statics.blotName&&_)){var U=this.descendant(p.default,this.length()-1),S=a(U,1),X=S[0];X?.deleteAt(X.length()-1,1),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,T,_)}}},{key:"formatAt",value:function(T,_,U,S){if(_!==0&&!(f.default.query(U,f.default.Scope.BLOCK)==null||U===this.statics.blotName&&S===this.statics.formats(this.domNode))){var X=this.newlineIndex(T);if(!(X<0||X>=T+_)){var ie=this.newlineIndex(T,!0)+1,Z=X-ie+1,ce=this.isolate(ie,Z),re=ce.next;ce.format(U,S),re instanceof C&&re.formatAt(0,T-ie+_-Z,U,S)}}}},{key:"insertAt",value:function(T,_,U){if(U==null){var S=this.descendant(p.default,T),X=a(S,2),ie=X[0],Z=X[1];ie.insertAt(Z,_)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var U=this.domNode.textContent.slice(T).indexOf(`
`);return U>-1?T+U:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,T);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===_.statics.formats(_.domNode)&&(_.optimize(T),_.moveChildren(this),_.remove())}},{key:"replace",value:function(T){l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(_){var U=f.default.find(_);U==null?_.parentNode.removeChild(_):U instanceof f.default.Embed?U.remove():U.unwrap()})}}],[{key:"create",value:function(T){var _=l(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,T);return _.setAttribute("spellcheck",!1),_}},{key:"formats",value:function(){return!0}}]),C}(h.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",n.Code=k,n.default=I},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},o=function(){function re(ae,M){var L=[],V=!0,K=!1,ee=void 0;try{for(var z=ae[Symbol.iterator](),D;!(V=(D=z.next()).done)&&(L.push(D.value),!(M&&L.length===M));V=!0);}catch(H){K=!0,ee=H}finally{try{!V&&z.return&&z.return()}finally{if(K)throw ee}}return L}return function(ae,M){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return re(ae,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function re(ae,M){for(var L=0;L<M.length;L++){var V=M[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(ae,V.key,V)}}return function(ae,M,L){return M&&re(ae.prototype,M),L&&re(ae,L),ae}}(),c=i(2),u=_(c),A=i(20),f=_(A),m=i(0),h=_(m),v=i(13),x=_(v),b=i(24),p=_(b),y=i(4),N=_(y),w=i(16),j=_(w),k=i(21),I=_(k),F=i(11),C=_(F),P=i(3),T=_(P);function _(re){return re&&re.__esModule?re:{default:re}}function U(re,ae,M){return ae in re?Object.defineProperty(re,ae,{value:M,enumerable:!0,configurable:!0,writable:!0}):re[ae]=M,re}function S(re,ae){if(!(re instanceof ae))throw new TypeError("Cannot call a class as a function")}var X=/^[ -~]*$/,ie=function(){function re(ae){S(this,re),this.scroll=ae,this.delta=this.getDelta()}return l(re,[{key:"applyDelta",value:function(M){var L=this,V=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),M=ce(M),M.reduce(function(ee,z){var D=z.retain||z.delete||z.insert.length||1,H=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var ne=z.insert;ne.endsWith(`
`)&&V&&(V=!1,ne=ne.slice(0,-1)),ee>=K&&!ne.endsWith(`
`)&&(V=!0),L.scroll.insertAt(ee,ne);var ue=L.scroll.line(ee),le=o(ue,2),he=le[0],Be=le[1],te=(0,T.default)({},(0,y.bubbleFormats)(he));if(he instanceof N.default){var je=he.descendant(h.default.Leaf,Be),$=o(je,1),q=$[0];te=(0,T.default)(te,(0,y.bubbleFormats)(q))}H=f.default.attributes.diff(te,H)||{}}else if(a(z.insert)==="object"){var Q=Object.keys(z.insert)[0];if(Q==null)return ee;L.scroll.insertAt(ee,Q,z.insert[Q])}K+=D}return Object.keys(H).forEach(function(G){L.scroll.formatAt(ee,D,G,H[G])}),ee+D},0),M.reduce(function(ee,z){return typeof z.delete=="number"?(L.scroll.deleteAt(ee,z.delete),ee):ee+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,L){return this.scroll.deleteAt(M,L),this.update(new u.default().retain(M).delete(L))}},{key:"formatLine",value:function(M,L){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(ee){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[ee])){var z=V.scroll.lines(M,Math.max(L,1)),D=L;z.forEach(function(H){var ne=H.length();if(!(H instanceof x.default))H.format(ee,K[ee]);else{var ue=M-H.offset(V.scroll),le=H.newlineIndex(ue+D)-ue+1;H.formatAt(ue,le,ee,K[ee])}D-=ne})}}),this.scroll.optimize(),this.update(new u.default().retain(M).retain(L,(0,I.default)(K)))}},{key:"formatText",value:function(M,L){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(ee){V.scroll.formatAt(M,L,ee,K[ee])}),this.update(new u.default().retain(M).retain(L,(0,I.default)(K)))}},{key:"getContents",value:function(M,L){return this.delta.slice(M,M+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,L){return M.concat(L.delta())},new u.default)}},{key:"getFormat",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],K=[];L===0?this.scroll.path(M).forEach(function(z){var D=o(z,1),H=D[0];H instanceof N.default?V.push(H):H instanceof h.default.Leaf&&K.push(H)}):(V=this.scroll.lines(M,L),K=this.scroll.descendants(h.default.Leaf,M,L));var ee=[V,K].map(function(z){if(z.length===0)return{};for(var D=(0,y.bubbleFormats)(z.shift());Object.keys(D).length>0;){var H=z.shift();if(H==null)return D;D=Z((0,y.bubbleFormats)(H),D)}return D});return T.default.apply(T.default,ee)}},{key:"getText",value:function(M,L){return this.getContents(M,L).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(M,L,V){return this.scroll.insertAt(M,L,V),this.update(new u.default().retain(M).insert(U({},L,V)))}},{key:"insertText",value:function(M,L){var V=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,L),Object.keys(K).forEach(function(ee){V.scroll.formatAt(M,L.length,ee,K[ee])}),this.update(new u.default().retain(M).insert(L,(0,I.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==N.default.blotName||M.children.length>1?!1:M.children.head instanceof j.default}},{key:"removeFormat",value:function(M,L){var V=this.getText(M,L),K=this.scroll.line(M+L),ee=o(K,2),z=ee[0],D=ee[1],H=0,ne=new u.default;z!=null&&(z instanceof x.default?H=z.newlineIndex(D)-D+1:H=z.length()-D,ne=z.delta().slice(D,D+H-1).insert(`
`));var ue=this.getContents(M,L+H),le=ue.diff(new u.default().insert(V).concat(ne)),he=new u.default().retain(M).concat(le);return this.applyDelta(he)}},{key:"update",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(X)&&h.default.find(L[0].target)){var ee=h.default.find(L[0].target),z=(0,y.bubbleFormats)(ee),D=ee.offset(this.scroll),H=L[0].oldValue.replace(p.default.CONTENTS,""),ne=new u.default().insert(H),ue=new u.default().insert(ee.value()),le=new u.default().retain(D).concat(ne.diff(ue,V));M=le.reduce(function(he,Be){return Be.insert?he.insert(Be.insert,z):he.push(Be)},new u.default),this.delta=K.compose(M)}else this.delta=this.getDelta(),(!M||!(0,C.default)(K.compose(M),this.delta))&&(M=K.diff(this.delta,V));return M}}]),re}();function Z(re,ae){return Object.keys(ae).reduce(function(M,L){return re[L]==null||(ae[L]===re[L]?M[L]=ae[L]:Array.isArray(ae[L])?ae[L].indexOf(re[L])<0&&(M[L]=ae[L].concat([re[L]])):M[L]=[ae[L],re[L]]),M},{})}function ce(re){return re.reduce(function(ae,M){if(M.insert===1){var L=(0,I.default)(M.attributes);return delete L.image,ae.insert({image:M.attributes.image},L)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,I.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var V=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return ae.insert(V,M.attributes)}return ae.push(M)},new u.default)}n.default=ie},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function F(C,P){var T=[],_=!0,U=!1,S=void 0;try{for(var X=C[Symbol.iterator](),ie;!(_=(ie=X.next()).done)&&(T.push(ie.value),!(P&&T.length===P));_=!0);}catch(Z){U=!0,S=Z}finally{try{!_&&X.return&&X.return()}finally{if(U)throw S}}return T}return function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return F(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function F(C,P){for(var T=0;T<P.length;T++){var _=P[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,P,T){return P&&F(C.prototype,P),T&&F(C,T),C}}(),l=i(0),c=p(l),u=i(21),A=p(u),f=i(11),m=p(f),h=i(8),v=p(h),x=i(10),b=p(x);function p(F){return F&&F.__esModule?F:{default:F}}function y(F){if(Array.isArray(F)){for(var C=0,P=Array(F.length);C<F.length;C++)P[C]=F[C];return P}else return Array.from(F)}function N(F,C){if(!(F instanceof C))throw new TypeError("Cannot call a class as a function")}var w=(0,b.default)("quill:selection"),j=function F(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;N(this,F),this.index=C,this.length=P},k=function(){function F(C,P){var T=this;N(this,F),this.emitter=P,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(_,U){_===v.default.events.TEXT_CHANGE&&U.length()>0&&T.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var _=T.getNativeRange();_!=null&&_.start.node!==T.cursor.textNode&&T.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(_.start.node,_.start.offset,_.end.node,_.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(_,U){if(U.range){var S=U.range,X=S.startNode,ie=S.startOffset,Z=S.endNode,ce=S.endOffset;T.setNativeRange(X,ie,Z,ce)}}),this.update(v.default.sources.SILENT)}return o(F,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var T=P.cursor.restore();if(!T)return;setTimeout(function(){P.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var _=this.getNativeRange();if(!(_==null||!_.native.collapsed||c.default.query(P,c.default.Scope.BLOCK))){if(_.start.node!==this.cursor.textNode){var U=c.default.find(_.start.node,!1);if(U==null)return;if(U instanceof c.default.Leaf){var S=U.split(_.start.offset);U.parent.insertBefore(this.cursor,S)}else U.insertBefore(this.cursor,_.start.node);this.cursor.attach()}this.cursor.format(P,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=this.scroll.length();P=Math.min(P,_-1),T=Math.min(P+T,_-1)-P;var U=void 0,S=this.scroll.leaf(P),X=a(S,2),ie=X[0],Z=X[1];if(ie==null)return null;var ce=ie.position(Z,!0),re=a(ce,2);U=re[0],Z=re[1];var ae=document.createRange();if(T>0){ae.setStart(U,Z);var M=this.scroll.leaf(P+T),L=a(M,2);if(ie=L[0],Z=L[1],ie==null)return null;var V=ie.position(Z,!0),K=a(V,2);return U=K[0],Z=K[1],ae.setEnd(U,Z),ae.getBoundingClientRect()}else{var ee="left",z=void 0;return U instanceof Text?(Z<U.data.length?(ae.setStart(U,Z),ae.setEnd(U,Z+1)):(ae.setStart(U,Z-1),ae.setEnd(U,Z),ee="right"),z=ae.getBoundingClientRect()):(z=ie.domNode.getBoundingClientRect(),Z>0&&(ee="right")),{bottom:z.top+z.height,height:z.height,left:z[ee],right:z[ee],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var T=P.getRangeAt(0);if(T==null)return null;var _=this.normalizeNative(T);return w.info("getNativeRange",_),_}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var T=this.normalizedToRange(P);return[T,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var T=this,_=[[P.start.node,P.start.offset]];P.native.collapsed||_.push([P.end.node,P.end.offset]);var U=_.map(function(ie){var Z=a(ie,2),ce=Z[0],re=Z[1],ae=c.default.find(ce,!0),M=ae.offset(T.scroll);return re===0?M:ae instanceof c.default.Container?M+ae.length():M+ae.index(ce,re)}),S=Math.min(Math.max.apply(Math,y(U)),this.scroll.length()-1),X=Math.min.apply(Math,[S].concat(y(U)));return new j(X,S-X)}},{key:"normalizeNative",value:function(P){if(!I(this.root,P.startContainer)||!P.collapsed&&!I(this.root,P.endContainer))return null;var T={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[T.start,T.end].forEach(function(_){for(var U=_.node,S=_.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>S)U=U.childNodes[S],S=0;else if(U.childNodes.length===S)U=U.lastChild,S=U instanceof Text?U.data.length:U.childNodes.length+1;else break;_.node=U,_.offset=S}),T}},{key:"rangeToNative",value:function(P){var T=this,_=P.collapsed?[P.index]:[P.index,P.index+P.length],U=[],S=this.scroll.length();return _.forEach(function(X,ie){X=Math.min(S-1,X);var Z=void 0,ce=T.scroll.leaf(X),re=a(ce,2),ae=re[0],M=re[1],L=ae.position(M,ie!==0),V=a(L,2);Z=V[0],M=V[1],U.push(Z,M)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(P){var T=this.lastRange;if(T!=null){var _=this.getBounds(T.index,T.length);if(_!=null){var U=this.scroll.length()-1,S=this.scroll.line(Math.min(T.index,U)),X=a(S,1),ie=X[0],Z=ie;if(T.length>0){var ce=this.scroll.line(Math.min(T.index+T.length,U)),re=a(ce,1);Z=re[0]}if(!(ie==null||Z==null)){var ae=P.getBoundingClientRect();_.top<ae.top?P.scrollTop-=ae.top-_.top:_.bottom>ae.bottom&&(P.scrollTop+=_.bottom-ae.bottom)}}}}},{key:"setNativeRange",value:function(P,T){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",P,T,_,U),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||_.parentNode==null))){var X=document.getSelection();if(X!=null)if(P!=null){this.hasFocus()||this.root.focus();var ie=(this.getNativeRange()||{}).native;if(ie==null||S||P!==ie.startContainer||T!==ie.startOffset||_!==ie.endContainer||U!==ie.endOffset){P.tagName=="BR"&&(T=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),_.tagName=="BR"&&(U=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode);var Z=document.createRange();Z.setStart(P,T),Z.setEnd(_,U),X.removeAllRanges(),X.addRange(Z)}}else X.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof T=="string"&&(_=T,T=!1),w.info("setRange",P),P!=null){var U=this.rangeToNative(P);this.setNativeRange.apply(this,y(U).concat([T]))}else this.setNativeRange(null);this.update(_)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,T=this.lastRange,_=this.getRange(),U=a(_,2),S=U[0],X=U[1];if(this.lastRange=S,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(T,this.lastRange)){var ie;!this.composing&&X!=null&&X.native.collapsed&&X.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[v.default.events.SELECTION_CHANGE,(0,A.default)(this.lastRange),(0,A.default)(T),P];if((ie=this.emitter).emit.apply(ie,[v.default.events.EDITOR_CHANGE].concat(Z)),P!==v.default.sources.SILENT){var ce;(ce=this.emitter).emit.apply(ce,Z)}}}}]),F}();function I(F,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),F.contains(C)}n.Range=j,n.default=k},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(x,b){for(var p=0;p<b.length;p++){var y=b[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(x,y.key,y)}}return function(x,b,p){return b&&v(x.prototype,b),p&&v(x,p),x}}(),o=function v(x,b,p){x===null&&(x=Function.prototype);var y=Object.getOwnPropertyDescriptor(x,b);if(y===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:v(N,b,p)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(p)}},l=i(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function A(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=function(v){m(x,v);function x(){return A(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"insertInto",value:function(p,y){p.children.length===0?o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertInto",this).call(this,p,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),x}(c.default.Embed);h.blotName="break",h.tagName="BR",n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var v in h)h.hasOwnProperty(v)&&(m[v]=h[v])};return function(m,h){f(m,h);function v(){this.constructor=m}m.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),l=i(30),c=i(1),u=function(f){a(m,f);function m(h){var v=f.call(this,h)||this;return v.build(),v}return m.prototype.appendChild=function(h){this.insertBefore(h)},m.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},m.prototype.build=function(){var h=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var x=A(v);h.insertBefore(x,h.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},m.prototype.deleteAt=function(h,v){if(h===0&&v===this.length())return this.remove();this.children.forEachAt(h,v,function(x,b,p){x.deleteAt(b,p)})},m.prototype.descendant=function(h,v){var x=this.children.find(v),b=x[0],p=x[1];return h.blotName==null&&h(b)||h.blotName!=null&&b instanceof h?[b,p]:b instanceof m?b.descendant(h,p):[null,-1]},m.prototype.descendants=function(h,v,x){v===void 0&&(v=0),x===void 0&&(x=Number.MAX_VALUE);var b=[],p=x;return this.children.forEachAt(v,x,function(y,N,w){(h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h)&&b.push(y),y instanceof m&&(b=b.concat(y.descendants(h,N,p))),p-=w}),b},m.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},m.prototype.formatAt=function(h,v,x,b){this.children.forEachAt(h,v,function(p,y,N){p.formatAt(y,N,x,b)})},m.prototype.insertAt=function(h,v,x){var b=this.children.find(h),p=b[0],y=b[1];if(p)p.insertAt(y,v,x);else{var N=x==null?c.create("text",v):c.create(v,x);this.appendChild(N)}},m.prototype.insertBefore=function(h,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return h instanceof x}))throw new c.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,v)},m.prototype.length=function(){return this.children.reduce(function(h,v){return h+v.length()},0)},m.prototype.moveChildren=function(h,v){this.children.forEach(function(x){h.insertBefore(x,v)})},m.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var v=c.create(this.statics.defaultChild);this.appendChild(v),v.optimize(h)}else this.remove()},m.prototype.path=function(h,v){v===void 0&&(v=!1);var x=this.children.find(h,v),b=x[0],p=x[1],y=[[this,h]];return b instanceof m?y.concat(b.path(p,v)):(b!=null&&y.push([b,p]),y)},m.prototype.removeChild=function(h){this.children.remove(h)},m.prototype.replace=function(h){h instanceof m&&h.moveChildren(this),f.prototype.replace.call(this,h)},m.prototype.split=function(h,v){if(v===void 0&&(v=!1),!v){if(h===0)return this;if(h===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(h,this.length(),function(b,p,y){b=b.split(p,v),x.appendChild(b)}),x},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(h,v){var x=this,b=[],p=[];h.forEach(function(y){y.target===x.domNode&&y.type==="childList"&&(b.push.apply(b,y.addedNodes),p.push.apply(p,y.removedNodes))}),p.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var N=c.find(y);N!=null&&(N.domNode.parentNode==null||N.domNode.parentNode===x.domNode)&&N.detach()}}),b.filter(function(y){return y.parentNode==x.domNode}).sort(function(y,N){return y===N?0:y.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var N=null;y.nextSibling!=null&&(N=c.find(y.nextSibling));var w=A(y);(w.next!=N||w.next==null)&&(w.parent!=null&&w.parent.removeChild(x),x.insertBefore(w,N||void 0))})},m}(l.default);function A(f){var m=c.find(f);if(m==null)try{m=c.create(f)}catch{m=c.create(c.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){m.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(m.domNode,f),m.attach()}return m}n.default=u},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var v in h)h.hasOwnProperty(v)&&(m[v]=h[v])};return function(m,h){f(m,h);function v(){this.constructor=m}m.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),l=i(31),c=i(17),u=i(1),A=function(f){a(m,f);function m(h){var v=f.call(this,h)||this;return v.attributes=new l.default(v.domNode),v}return m.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},m.prototype.format=function(h,v){var x=u.query(h);x instanceof o.default?this.attributes.attribute(x,v):v&&x!=null&&(h!==this.statics.blotName||this.formats()[h]!==v)&&this.replaceWith(h,v)},m.prototype.formats=function(){var h=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(h[this.statics.blotName]=v),h},m.prototype.replaceWith=function(h,v){var x=f.prototype.replaceWith.call(this,h,v);return this.attributes.copy(x),x},m.prototype.update=function(h,v){var x=this;f.prototype.update.call(this,h,v),h.some(function(b){return b.target===x.domNode&&b.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(h,v){var x=f.prototype.wrap.call(this,h,v);return x instanceof m&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},m}(c.default);n.default=A},function(t,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,f){A.__proto__=f}||function(A,f){for(var m in f)f.hasOwnProperty(m)&&(A[m]=f[m])};return function(A,f){u(A,f);function m(){this.constructor=A}A.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),l=i(1),c=function(u){a(A,u);function A(){return u!==null&&u.apply(this,arguments)||this}return A.value=function(f){return!0},A.prototype.index=function(f,m){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},A.prototype.position=function(f,m){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},A.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},A.scope=l.Scope.INLINE_BLOT,A}(o.default);n.default=c},function(t,n,i){var a=i(11),o=i(3),l={attributes:{compose:function(u,A,f){typeof u!="object"&&(u={}),typeof A!="object"&&(A={});var m=o(!0,{},A);f||(m=Object.keys(m).reduce(function(v,x){return m[x]!=null&&(v[x]=m[x]),v},{}));for(var h in u)u[h]!==void 0&&A[h]===void 0&&(m[h]=u[h]);return Object.keys(m).length>0?m:void 0},diff:function(u,A){typeof u!="object"&&(u={}),typeof A!="object"&&(A={});var f=Object.keys(u).concat(Object.keys(A)).reduce(function(m,h){return a(u[h],A[h])||(m[h]=A[h]===void 0?null:A[h]),m},{});return Object.keys(f).length>0?f:void 0},transform:function(u,A,f){if(typeof u!="object")return A;if(typeof A=="object"){if(!f)return A;var m=Object.keys(A).reduce(function(h,v){return u[v]===void 0&&(h[v]=A[v]),h},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var A=this.ops[this.index];if(A){var f=this.offset,m=l.length(A);if(u>=m-f?(u=m-f,this.index+=1,this.offset=0):this.offset+=u,typeof A.delete=="number")return{delete:u};var h={};return A.attributes&&(h.attributes=A.attributes),typeof A.retain=="number"?h.retain=u:typeof A.insert=="string"?h.insert=A.insert.substr(f,u):h.insert=A.insert,h}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,A=this.index,f=this.next(),m=this.ops.slice(this.index);return this.offset=u,this.index=A,[f].concat(m)}else return[]},t.exports=l},function(t,n){var i=function(){function a(x,b){return b!=null&&x instanceof b}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(x,b,p,y,N){typeof b=="object"&&(p=b.depth,y=b.prototype,N=b.includeNonEnumerable,b=b.circular);var w=[],j=[],k=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof p>"u"&&(p=1/0);function I(F,C){if(F===null)return null;if(C===0)return F;var P,T;if(typeof F!="object")return F;if(a(F,o))P=new o;else if(a(F,l))P=new l;else if(a(F,c))P=new c(function(ae,M){F.then(function(L){ae(I(L,C-1))},function(L){M(I(L,C-1))})});else if(u.__isArray(F))P=[];else if(u.__isRegExp(F))P=new RegExp(F.source,v(F)),F.lastIndex&&(P.lastIndex=F.lastIndex);else if(u.__isDate(F))P=new Date(F.getTime());else{if(k&&Buffer.isBuffer(F))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(F.length):P=new Buffer(F.length),F.copy(P),P;a(F,Error)?P=Object.create(F):typeof y>"u"?(T=Object.getPrototypeOf(F),P=Object.create(T)):(P=Object.create(y),T=y)}if(b){var _=w.indexOf(F);if(_!=-1)return j[_];w.push(F),j.push(P)}a(F,o)&&F.forEach(function(ae,M){var L=I(M,C-1),V=I(ae,C-1);P.set(L,V)}),a(F,l)&&F.forEach(function(ae){var M=I(ae,C-1);P.add(M)});for(var U in F){var S;T&&(S=Object.getOwnPropertyDescriptor(T,U)),!(S&&S.set==null)&&(P[U]=I(F[U],C-1))}if(Object.getOwnPropertySymbols)for(var X=Object.getOwnPropertySymbols(F),U=0;U<X.length;U++){var ie=X[U],Z=Object.getOwnPropertyDescriptor(F,ie);Z&&!Z.enumerable&&!N||(P[ie]=I(F[ie],C-1),Z.enumerable||Object.defineProperty(P,ie,{enumerable:!1}))}if(N)for(var ce=Object.getOwnPropertyNames(F),U=0;U<ce.length;U++){var re=ce[U],Z=Object.getOwnPropertyDescriptor(F,re);Z&&Z.enumerable||(P[re]=I(F[re],C-1),Object.defineProperty(P,re,{enumerable:!1}))}return P}return I(x,p)}u.clonePrototype=function(b){if(b===null)return null;var p=function(){};return p.prototype=b,new p};function A(x){return Object.prototype.toString.call(x)}u.__objToStr=A;function f(x){return typeof x=="object"&&A(x)==="[object Date]"}u.__isDate=f;function m(x){return typeof x=="object"&&A(x)==="[object Array]"}u.__isArray=m;function h(x){return typeof x=="object"&&A(x)==="[object RegExp]"}u.__isRegExp=h;function v(x){var b="";return x.global&&(b+="g"),x.ignoreCase&&(b+="i"),x.multiline&&(b+="m"),b}return u.__getRegExpFlags=v,u}();typeof t=="object"&&t.exports&&(t.exports=i)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function P(T,_){var U=[],S=!0,X=!1,ie=void 0;try{for(var Z=T[Symbol.iterator](),ce;!(S=(ce=Z.next()).done)&&(U.push(ce.value),!(_&&U.length===_));S=!0);}catch(re){X=!0,ie=re}finally{try{!S&&Z.return&&Z.return()}finally{if(X)throw ie}}return U}return function(T,_){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return P(T,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(T,_){for(var U=0;U<_.length;U++){var S=_[U];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,U){return _&&P(T.prototype,_),U&&P(T,U),T}}(),l=function P(T,_,U){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var X=Object.getPrototypeOf(T);return X===null?void 0:P(X,_,U)}else{if("value"in S)return S.value;var ie=S.get;return ie===void 0?void 0:ie.call(U)}},c=i(0),u=w(c),A=i(8),f=w(A),m=i(4),h=w(m),v=i(16),x=w(v),b=i(13),p=w(b),y=i(25),N=w(y);function w(P){return P&&P.__esModule?P:{default:P}}function j(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function k(P,T){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:P}function I(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(P,T):P.__proto__=T)}function F(P){return P instanceof h.default||P instanceof m.BlockEmbed}var C=function(P){I(T,P);function T(_,U){j(this,T);var S=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.emitter=U.emitter,Array.isArray(U.whitelist)&&(S.whitelist=U.whitelist.reduce(function(X,ie){return X[ie]=!0,X},{})),S.domNode.addEventListener("DOMNodeInserted",function(){}),S.optimize(),S.enable(),S}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(U,S){var X=this.line(U),ie=a(X,2),Z=ie[0],ce=ie[1],re=this.line(U+S),ae=a(re,1),M=ae[0];if(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,U,S),M!=null&&Z!==M&&ce>0){if(Z instanceof m.BlockEmbed||M instanceof m.BlockEmbed){this.optimize();return}if(Z instanceof p.default){var L=Z.newlineIndex(Z.length(),!0);if(L>-1&&(Z=Z.split(L+1),Z===M)){this.optimize();return}}else if(M instanceof p.default){var V=M.newlineIndex(0);V>-1&&M.split(V+1)}var K=M.children.head instanceof x.default?null:M.children.head;Z.moveChildren(M,K),Z.remove()}this.optimize()}},{key:"enable",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",U)}},{key:"formatAt",value:function(U,S,X,ie){this.whitelist!=null&&!this.whitelist[X]||(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,U,S,X,ie),this.optimize())}},{key:"insertAt",value:function(U,S,X){if(!(X!=null&&this.whitelist!=null&&!this.whitelist[S])){if(U>=this.length())if(X==null||u.default.query(S,u.default.Scope.BLOCK)==null){var ie=u.default.create(this.statics.defaultChild);this.appendChild(ie),X==null&&S.endsWith(`
`)&&(S=S.slice(0,-1)),ie.insertAt(0,S,X)}else{var Z=u.default.create(S,X);this.appendChild(Z)}else l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,U,S,X);this.optimize()}}},{key:"insertBefore",value:function(U,S){if(U.statics.scope===u.default.Scope.INLINE_BLOT){var X=u.default.create(this.statics.defaultChild);X.appendChild(U),U=X}l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,U,S)}},{key:"leaf",value:function(U){return this.path(U).pop()||[null,-1]}},{key:"line",value:function(U){return U===this.length()?this.line(U-1):this.descendant(F,U)}},{key:"lines",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,X=function ie(Z,ce,re){var ae=[],M=re;return Z.children.forEachAt(ce,re,function(L,V,K){F(L)?ae.push(L):L instanceof u.default.Container&&(ae=ae.concat(ie(L,V,M))),M-=K}),ae};return X(this,U,S)}},{key:"optimize",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,U,S),U.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,U,S))}},{key:"path",value:function(U){return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,U).slice(1)}},{key:"update",value:function(U){if(this.batch!==!0){var S=f.default.sources.USER;typeof U=="string"&&(S=U),Array.isArray(U)||(U=this.observer.takeRecords()),U.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,S,U),l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,U.concat([])),U.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,S,U)}}}]),T}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[h.default,m.BlockEmbed,N.default],n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(D,H){var ne=[],ue=!0,le=!1,he=void 0;try{for(var Be=D[Symbol.iterator](),te;!(ue=(te=Be.next()).done)&&(ne.push(te.value),!(H&&ne.length===H));ue=!0);}catch(je){le=!0,he=je}finally{try{!ue&&Be.return&&Be.return()}finally{if(le)throw he}}return ne}return function(D,H){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return z(D,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function z(D,H){for(var ne=0;ne<H.length;ne++){var ue=H[ne];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(D,ue.key,ue)}}return function(D,H,ne){return H&&z(D.prototype,H),ne&&z(D,ne),D}}(),c=i(21),u=P(c),A=i(11),f=P(A),m=i(3),h=P(m),v=i(2),x=P(v),b=i(20),p=P(b),y=i(0),N=P(y),w=i(5),j=P(w),k=i(10),I=P(k),F=i(9),C=P(F);function P(z){return z&&z.__esModule?z:{default:z}}function T(z,D,H){return D in z?Object.defineProperty(z,D,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[D]=H,z}function _(z,D){if(!(z instanceof D))throw new TypeError("Cannot call a class as a function")}function U(z,D){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:z}function S(z,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);z.prototype=Object.create(D&&D.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(z,D):z.__proto__=D)}var X=(0,I.default)("quill:keyboard"),ie=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function(z){S(D,z),l(D,null,[{key:"match",value:function(ne,ue){return ue=ee(ue),["altKey","ctrlKey","metaKey","shiftKey"].some(function(le){return!!ue[le]!==ne[le]&&ue[le]!==null})?!1:ue.key===(ne.which||ne.keyCode)}}]);function D(H,ne){_(this,D);var ue=U(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,H,ne));return ue.bindings={},Object.keys(ue.options.bindings).forEach(function(le){le==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||ue.options.bindings[le]&&ue.addBinding(ue.options.bindings[le])}),ue.addBinding({key:D.keys.ENTER,shiftKey:null},L),ue.addBinding({key:D.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ue.addBinding({key:D.keys.BACKSPACE},{collapsed:!0},re),ue.addBinding({key:D.keys.DELETE},{collapsed:!0},ae)):(ue.addBinding({key:D.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},re),ue.addBinding({key:D.keys.DELETE},{collapsed:!0,suffix:/^.?$/},ae)),ue.addBinding({key:D.keys.BACKSPACE},{collapsed:!1},M),ue.addBinding({key:D.keys.DELETE},{collapsed:!1},M),ue.addBinding({key:D.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},re),ue.listen(),ue}return l(D,[{key:"addBinding",value:function(ne){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=ee(ne);if(he==null||he.key==null)return X.warn("Attempted to add invalid keyboard binding",he);typeof ue=="function"&&(ue={handler:ue}),typeof le=="function"&&(le={handler:le}),he=(0,h.default)(he,ue,le),this.bindings[he.key]=this.bindings[he.key]||[],this.bindings[he.key].push(he)}},{key:"listen",value:function(){var ne=this;this.quill.root.addEventListener("keydown",function(ue){if(!ue.defaultPrevented){var le=ue.which||ue.keyCode,he=(ne.bindings[le]||[]).filter(function(At){return D.match(ue,At)});if(he.length!==0){var Be=ne.quill.getSelection();if(!(Be==null||!ne.quill.hasFocus())){var te=ne.quill.getLine(Be.index),je=o(te,2),$=je[0],q=je[1],Q=ne.quill.getLeaf(Be.index),G=o(Q,2),me=G[0],fe=G[1],de=Be.length===0?[me,fe]:ne.quill.getLeaf(Be.index+Be.length),be=o(de,2),Ee=be[0],ke=be[1],He=me instanceof N.default.Text?me.value().slice(0,fe):"",Ye=Ee instanceof N.default.Text?Ee.value().slice(ke):"",et={collapsed:Be.length===0,empty:Be.length===0&&$.length()<=1,format:ne.quill.getFormat(Be),offset:q,prefix:He,suffix:Ye},ft=he.some(function(At){if(At.collapsed!=null&&At.collapsed!==et.collapsed||At.empty!=null&&At.empty!==et.empty||At.offset!=null&&At.offset!==et.offset)return!1;if(Array.isArray(At.format)){if(At.format.every(function(ot){return et.format[ot]==null}))return!1}else if(a(At.format)==="object"&&!Object.keys(At.format).every(function(ot){return At.format[ot]===!0?et.format[ot]!=null:At.format[ot]===!1?et.format[ot]==null:(0,f.default)(At.format[ot],et.format[ot])}))return!1;return At.prefix!=null&&!At.prefix.test(et.prefix)||At.suffix!=null&&!At.suffix.test(et.suffix)?!1:At.handler.call(ne,Be,et)!==!0});ft&&ue.preventDefault()}}}})}}]),D}(C.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(D,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(D,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(D,H){H.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(D){this.quill.deleteText(D.index-1,1,j.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(D){this.quill.history.cutoff();var H=new x.default().retain(D.index).delete(D.length).insert("	");this.quill.updateContents(H,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(D.index+1,j.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(D,H){this.quill.format("list",!1,j.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(D){var H=this.quill.getLine(D.index),ne=o(H,2),ue=ne[0],le=ne[1],he=(0,h.default)({},ue.formats(),{list:"checked"}),Be=new x.default().retain(D.index).insert(`
`,he).retain(ue.length()-le-1).retain(1,{list:"unchecked"});this.quill.updateContents(Be,j.default.sources.USER),this.quill.setSelection(D.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(D,H){var ne=this.quill.getLine(D.index),ue=o(ne,2),le=ue[0],he=ue[1],Be=new x.default().retain(D.index).insert(`
`,H.format).retain(le.length()-he-1).retain(1,{header:null});this.quill.updateContents(Be,j.default.sources.USER),this.quill.setSelection(D.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(D,H){var ne=H.prefix.length,ue=this.quill.getLine(D.index),le=o(ue,2),he=le[0],Be=le[1];if(Be>ne)return!0;var te=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":te="unchecked";break;case"[x]":te="checked";break;case"-":case"*":te="bullet";break;default:te="ordered"}this.quill.insertText(D.index," ",j.default.sources.USER),this.quill.history.cutoff();var je=new x.default().retain(D.index-Be).delete(ne+1).retain(he.length()-2-Be).retain(1,{list:te});this.quill.updateContents(je,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(D.index-ne,j.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(D){var H=this.quill.getLine(D.index),ne=o(H,2),ue=ne[0],le=ne[1],he=new x.default().retain(D.index+ue.length()-le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(he,j.default.sources.USER)}},"embed left":ce(Z.keys.LEFT,!1),"embed left shift":ce(Z.keys.LEFT,!0),"embed right":ce(Z.keys.RIGHT,!1),"embed right shift":ce(Z.keys.RIGHT,!0)}};function ce(z,D){var H,ne=z===Z.keys.LEFT?"prefix":"suffix";return H={key:z,shiftKey:D,altKey:null},T(H,ne,/^$/),T(H,"handler",function(le){var he=le.index;z===Z.keys.RIGHT&&(he+=le.length+1);var Be=this.quill.getLeaf(he),te=o(Be,1),je=te[0];return je instanceof N.default.Embed?(z===Z.keys.LEFT?D?this.quill.setSelection(le.index-1,le.length+1,j.default.sources.USER):this.quill.setSelection(le.index-1,j.default.sources.USER):D?this.quill.setSelection(le.index,le.length+1,j.default.sources.USER):this.quill.setSelection(le.index+le.length+1,j.default.sources.USER),!1):!0}),H}function re(z,D){if(!(z.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(z.index),ne=o(H,1),ue=ne[0],le={};if(D.offset===0){var he=this.quill.getLine(z.index-1),Be=o(he,1),te=Be[0];if(te!=null&&te.length()>1){var je=ue.formats(),$=this.quill.getFormat(z.index-1,1);le=p.default.attributes.diff(je,$)||{}}}var q=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(D.prefix)?2:1;this.quill.deleteText(z.index-q,q,j.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(z.index-q,q,le,j.default.sources.USER),this.quill.focus()}}function ae(z,D){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(D.suffix)?2:1;if(!(z.index>=this.quill.getLength()-H)){var ne={},ue=0,le=this.quill.getLine(z.index),he=o(le,1),Be=he[0];if(D.offset>=Be.length()-1){var te=this.quill.getLine(z.index+1),je=o(te,1),$=je[0];if($){var q=Be.formats(),Q=this.quill.getFormat(z.index,1);ne=p.default.attributes.diff(q,Q)||{},ue=$.length()}}this.quill.deleteText(z.index,H,j.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(z.index+ue-1,H,ne,j.default.sources.USER)}}function M(z){var D=this.quill.getLines(z),H={};if(D.length>1){var ne=D[0].formats(),ue=D[D.length-1].formats();H=p.default.attributes.diff(ue,ne)||{}}this.quill.deleteText(z,j.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(z.index,1,H,j.default.sources.USER),this.quill.setSelection(z.index,j.default.sources.SILENT),this.quill.focus()}function L(z,D){var H=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var ne=Object.keys(D.format).reduce(function(ue,le){return N.default.query(le,N.default.Scope.BLOCK)&&!Array.isArray(D.format[le])&&(ue[le]=D.format[le]),ue},{});this.quill.insertText(z.index,`
`,ne,j.default.sources.USER),this.quill.setSelection(z.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(D.format).forEach(function(ue){ne[ue]==null&&(Array.isArray(D.format[ue])||ue!=="link"&&H.quill.format(ue,D.format[ue],j.default.sources.USER))})}function V(z){return{key:Z.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(H){var ne=N.default.query("code-block"),ue=H.index,le=H.length,he=this.quill.scroll.descendant(ne,ue),Be=o(he,2),te=Be[0],je=Be[1];if(te!=null){var $=this.quill.getIndex(te),q=te.newlineIndex(je,!0)+1,Q=te.newlineIndex($+je+le),G=te.domNode.textContent.slice(q,Q).split(`
`);je=0,G.forEach(function(me,fe){z?(te.insertAt(q+je,ne.TAB),je+=ne.TAB.length,fe===0?ue+=ne.TAB.length:le+=ne.TAB.length):me.startsWith(ne.TAB)&&(te.deleteAt(q+je,ne.TAB.length),je-=ne.TAB.length,fe===0?ue-=ne.TAB.length:le-=ne.TAB.length),je+=me.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(ue,le,j.default.sources.SILENT)}}}}function K(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(H,ne){this.quill.format(z,!ne.format[z],j.default.sources.USER)}}}function ee(z){if(typeof z=="string"||typeof z=="number")return ee({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,u.default)(z,!1)),typeof z.key=="string")if(Z.keys[z.key.toUpperCase()]!=null)z.key=Z.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[ie]=z.shortKey,delete z.shortKey),z}n.default=Z,n.SHORTKEY=ie},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(y,N){var w=[],j=!0,k=!1,I=void 0;try{for(var F=y[Symbol.iterator](),C;!(j=(C=F.next()).done)&&(w.push(C.value),!(N&&w.length===N));j=!0);}catch(P){k=!0,I=P}finally{try{!j&&F.return&&F.return()}finally{if(k)throw I}}return w}return function(y,N){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return p(y,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function p(y,N,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,N);if(j===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:p(k,N,w)}else{if("value"in j)return j.value;var I=j.get;return I===void 0?void 0:I.call(w)}},l=function(){function p(y,N){for(var w=0;w<N.length;w++){var j=N[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,N,w){return N&&p(y.prototype,N),w&&p(y,w),y}}(),c=i(0),u=m(c),A=i(7),f=m(A);function m(p){return p&&p.__esModule?p:{default:p}}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function v(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function x(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var b=function(p){x(y,p),l(y,null,[{key:"value",value:function(){}}]);function y(N,w){h(this,y);var j=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N));return j.selection=w,j.textNode=document.createTextNode(y.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return l(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,j){if(this._length!==0)return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j);for(var k=this,I=0;k!=null&&k.statics.scope!==u.default.Scope.BLOCK_BLOT;)I+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=y.CONTENTS.length,k.optimize(),k.formatAt(I,y.CONTENTS.length,w,j),this._length=0)}},{key:"index",value:function(w,j){return w===this.textNode?0:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,w,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,j=this.selection.getNativeRange(),k=void 0,I=void 0,F=void 0;if(j!=null&&j.start.node===w&&j.end.node===w){var C=[w,j.start.offset,j.end.offset];k=C[0],I=C[1],F=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var P=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof f.default?(k=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=y.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),I!=null){var T=[I,F].map(function(U){return Math.max(0,Math.min(k.data.length,U-1))}),_=a(T,2);return I=_[0],F=_[1],{startNode:k,startOffset:I,endNode:k,endOffset:F}}}}},{key:"update",value:function(w,j){var k=this;if(w.some(function(F){return F.type==="characterData"&&F.target===k.textNode})){var I=this.restore();I&&(j.range=I)}}},{key:"value",value:function(){return""}}]),y}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),l=i(4),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function A(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=function(v){m(x,v);function x(){return A(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(o.default.Container);h.allowedChildren=[c.default,l.BlockEmbed,h],n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function b(p,y){for(var N=0;N<y.length;N++){var w=y[N];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,y,N){return y&&b(p.prototype,y),N&&b(p,N),p}}(),o=function b(p,y,N){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,y);if(w===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,y,N)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(N)}},l=i(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function A(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function f(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function m(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var h=function(b){m(p,b);function p(){return A(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"value",value:function(N){var w=o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,N);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):w}}]),p}(c.default.Attributor.Style),v=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),x=new h("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=h,n.ColorClass=v,n.ColorStyle=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function x(b,p){for(var y=0;y<p.length;y++){var N=p[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,p,y){return p&&x(b.prototype,p),y&&x(b,y),b}}(),o=function x(b,p,y){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,p);if(N===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:x(w,p,y)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(y)}},l=i(6),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function A(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function f(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function m(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var h=function(x){m(b,x);function b(){return A(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(y,N){if(y!==this.statics.blotName||!N)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,N);N=this.constructor.sanitize(N),this.domNode.setAttribute("href",N)}}],[{key:"create",value:function(y){var N=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y);return y=this.sanitize(y),N.setAttribute("href",y),N.setAttribute("rel","noopener noreferrer"),N.setAttribute("target","_blank"),N}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return v(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),b}(c.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(x,b){var p=document.createElement("a");p.href=x;var y=p.href.slice(0,p.href.indexOf(":"));return b.indexOf(y)>-1}n.default=h,n.sanitize=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(p,y){for(var N=0;N<y.length;N++){var w=y[N];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,y,N){return y&&b(p.prototype,y),N&&b(p,N),p}}(),l=i(23),c=f(l),u=i(107),A=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function m(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}var h=0;function v(b,p){b.setAttribute(p,b.getAttribute(p)!=="true")}var x=function(){function b(p){var y=this;m(this,b),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:y.togglePicker();break;case c.default.keys.ESCAPE:y.escape(),N.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var N=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),y.hasAttribute("value")&&w.setAttribute("data-value",y.getAttribute("value")),y.textContent&&w.setAttribute("data-label",y.textContent),w.addEventListener("click",function(){N.selectItem(w,!0)}),w.addEventListener("keydown",function(j){switch(j.keyCode){case c.default.keys.ENTER:N.selectItem(w,!0),j.preventDefault();break;case c.default.keys.ESCAPE:N.escape(),j.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=A.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,N=document.createElement("span");N.classList.add("ql-picker-options"),N.setAttribute("aria-hidden","true"),N.tabIndex="-1",N.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",N.id),this.options=N,[].slice.call(this.select.options).forEach(function(w){var j=y.buildItem(w);N.appendChild(j),w.selected===!0&&y.selectItem(j)}),this.container.appendChild(N)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(N){y.container.setAttribute(N.name,N.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(y!==w&&(w?.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),N))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var N=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(N)}else this.selectItem(null);var w=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),b}();n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=X(a),l=i(5),c=X(l),u=i(4),A=X(u),f=i(16),m=X(f),h=i(25),v=X(h),x=i(24),b=X(x),p=i(35),y=X(p),N=i(6),w=X(N),j=i(22),k=X(j),I=i(7),F=X(I),C=i(55),P=X(C),T=i(42),_=X(T),U=i(23),S=X(U);function X(ie){return ie&&ie.__esModule?ie:{default:ie}}c.default.register({"blots/block":A.default,"blots/block/embed":u.BlockEmbed,"blots/break":m.default,"blots/container":v.default,"blots/cursor":b.default,"blots/embed":y.default,"blots/inline":w.default,"blots/scroll":k.default,"blots/text":F.default,"modules/clipboard":P.default,"modules/history":_.default,"modules/keyboard":S.default}),o.default.register(A.default,m.default,b.default,w.default,k.default,F.default),n.default=c.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function l(c){this.domNode=c,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return a.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},l.prototype.deleteAt=function(c,u){var A=this.isolate(c,u);A.remove()},l.prototype.formatAt=function(c,u,A,f){var m=this.isolate(c,u);if(a.query(A,a.Scope.BLOT)!=null&&f)m.wrap(A,f);else if(a.query(A,a.Scope.ATTRIBUTE)!=null){var h=a.create(this.statics.scope);m.wrap(h),h.format(A,f)}},l.prototype.insertAt=function(c,u,A){var f=A==null?a.create("text",u):a.create(u,A),m=this.split(c);this.parent.insertBefore(f,m)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var A=null;c.children.insertBefore(this,u),u!=null&&(A=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=A)&&c.domNode.insertBefore(this.domNode,A),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var A=this.split(c);return A.split(u),A},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var A=typeof c=="string"?a.create(c,u):c;return A.replace(this),A},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var A=typeof c=="string"?a.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(A,this.next),A.appendChild(this),A},l.blotName="abstract",l}();n.default=o},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),l=i(33),c=i(1),u=function(){function A(f){this.attributes={},this.domNode=f,this.build()}return A.prototype.attribute=function(f,m){m?f.add(this.domNode,m)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},A.prototype.build=function(){var f=this;this.attributes={};var m=a.default.keys(this.domNode),h=o.default.keys(this.domNode),v=l.default.keys(this.domNode);m.concat(h).concat(v).forEach(function(x){var b=c.query(x,c.Scope.ATTRIBUTE);b instanceof a.default&&(f.attributes[b.attrName]=b)})},A.prototype.copy=function(f){var m=this;Object.keys(this.attributes).forEach(function(h){var v=m.attributes[h].value(m.domNode);f.format(h,v)})},A.prototype.move=function(f){var m=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){m.attributes[h].remove(m.domNode)}),this.attributes={}},A.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(m,h){return m[h]=f.attributes[h].value(f.domNode),m},{})},A}();n.default=u},function(t,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,f){A.__proto__=f}||function(A,f){for(var m in f)f.hasOwnProperty(m)&&(A[m]=f[m])};return function(A,f){u(A,f);function m(){this.constructor=A}A.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function l(u,A){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(m){return m.indexOf(A+"-")===0})}var c=function(u){a(A,u);function A(){return u!==null&&u.apply(this,arguments)||this}return A.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},A.prototype.add=function(f,m){return this.canAdd(f,m)?(this.remove(f),f.classList.add(this.keyName+"-"+m),!0):!1},A.prototype.remove=function(f){var m=l(f,this.keyName);m.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},A.prototype.value=function(f){var m=l(f,this.keyName)[0]||"",h=m.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},A}(o.default);n.default=c},function(t,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,f){A.__proto__=f}||function(A,f){for(var m in f)f.hasOwnProperty(m)&&(A[m]=f[m])};return function(A,f){u(A,f);function m(){this.constructor=A}A.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function l(u){var A=u.split("-"),f=A.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return A[0]+f}var c=function(u){a(A,u);function A(){return u!==null&&u.apply(this,arguments)||this}return A.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(m){var h=m.split(":");return h[0].trim()})},A.prototype.add=function(f,m){return this.canAdd(f,m)?(f.style[l(this.keyName)]=m,!0):!1},A.prototype.remove=function(f){f.style[l(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},A.prototype.value=function(f){var m=f.style[l(this.keyName)];return this.canAdd(f,m)?m:""},A}(o.default);n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(u,A){for(var f=0;f<A.length;f++){var m=A[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,A,f){return A&&c(u.prototype,A),f&&c(u,f),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,A){o(this,c),this.quill=u,this.options=A,this.modules={}}return a(c,[{key:"init",value:function(){var A=this;Object.keys(this.options.modules).forEach(function(f){A.modules[f]==null&&A.addModule(f)})}},{key:"addModule",value:function(A){var f=this.quill.constructor.import("modules/"+A);return this.modules[A]=new f(this.quill,this.options.modules[A]||{}),this.modules[A]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(y,N){for(var w=0;w<N.length;w++){var j=N[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,N,w){return N&&p(y.prototype,N),w&&p(y,w),y}}(),o=function p(y,N,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,N);if(j===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:p(k,N,w)}else{if("value"in j)return j.value;var I=j.get;return I===void 0?void 0:I.call(w)}},l=i(0),c=f(l),u=i(7),A=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function m(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function h(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function v(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var x="\uFEFF",b=function(p){v(y,p);function y(N){m(this,y);var w=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(j){w.contentNode.appendChild(j)}),w.leftGuard=document.createTextNode(x),w.rightGuard=document.createTextNode(x),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return a(y,[{key:"index",value:function(w,j){return w===this.leftGuard?0:w===this.rightGuard?1:o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,w,j)}},{key:"restore",value:function(w){var j=void 0,k=void 0,I=w.data.split(x).join("");if(w===this.leftGuard)if(this.prev instanceof A.default){var F=this.prev.length();this.prev.insertAt(F,I),j={startNode:this.prev.domNode,startOffset:F+I.length}}else k=document.createTextNode(I),this.parent.insertBefore(c.default.create(k),this),j={startNode:k,startOffset:I.length};else w===this.rightGuard&&(this.next instanceof A.default?(this.next.insertAt(0,I),j={startNode:this.next.domNode,startOffset:I.length}):(k=document.createTextNode(I),this.parent.insertBefore(c.default.create(k),this.next),j={startNode:k,startOffset:I.length}));return w.data=x,j}},{key:"update",value:function(w,j){var k=this;w.forEach(function(I){if(I.type==="characterData"&&(I.target===k.leftGuard||I.target===k.rightGuard)){var F=k.restore(I.target);F&&(j.range=F)}})}}]),y}(c.default.Embed);n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",c),A=new o.default.Attributor.Class("align","ql-align",c),f=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=A,n.AlignStyle=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=c(a),l=i(26);function c(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),A=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",c),A=new o.default.Attributor.Class("direction","ql-direction",c),f=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=A,n.DirectionStyle=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function p(y,N){for(var w=0;w<N.length;w++){var j=N[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,N,w){return N&&p(y.prototype,N),w&&p(y,w),y}}(),o=function p(y,N,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,N);if(j===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:p(k,N,w)}else{if("value"in j)return j.value;var I=j.get;return I===void 0?void 0:I.call(w)}},l=i(0),c=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function A(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function f(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function m(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var h={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new c.default.Attributor.Class("font","ql-font",h),x=function(p){m(y,p);function y(){return A(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(w){return o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),y}(c.default.Attributor.Style),b=new x("font","font-family",h);n.FontStyle=b,n.FontClass=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=l(a);function l(A){return A&&A.__esModule?A:{default:A}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u},function(t,n,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function N(w,j){for(var k=0;k<j.length;k++){var I=j[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,j,k){return j&&N(w.prototype,j),k&&N(w,k),w}}(),o=i(0),l=m(o),c=i(5),u=m(c),A=i(9),f=m(A);function m(N){return N&&N.__esModule?N:{default:N}}function h(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function v(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function x(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var b=function(N){x(w,N);function w(j,k){h(this,w);var I=v(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,j,k));return I.lastRecorded=0,I.ignoreChange=!1,I.clear(),I.quill.on(u.default.events.EDITOR_CHANGE,function(F,C,P,T){F!==u.default.events.TEXT_CHANGE||I.ignoreChange||(!I.options.userOnly||T===u.default.sources.USER?I.record(C,P):I.transform(C))}),I.quill.keyboard.addBinding({key:"Z",shortKey:!0},I.undo.bind(I)),I.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},I.redo.bind(I)),/Win/i.test(navigator.platform)&&I.quill.keyboard.addBinding({key:"Y",shortKey:!0},I.redo.bind(I)),I}return a(w,[{key:"change",value:function(k,I){if(this.stack[k].length!==0){var F=this.stack[k].pop();this.stack[I].push(F),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(F[k],u.default.sources.USER),this.ignoreChange=!1;var C=y(F[k]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,I){if(k.ops.length!==0){this.stack.redo=[];var F=this.quill.getContents().diff(I),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var P=this.stack.undo.pop();F=F.compose(P.undo),k=P.redo.compose(k)}else this.lastRecorded=C;this.stack.undo.push({redo:k,undo:F}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(I){I.undo=k.transform(I.undo,!0),I.redo=k.transform(I.redo,!0)}),this.stack.redo.forEach(function(I){I.undo=k.transform(I.undo,!0),I.redo=k.transform(I.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(f.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(N){var w=N.ops[N.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(j){return l.default.query(j,l.default.Scope.BLOCK)!=null}):!1}function y(N){var w=N.reduce(function(k,I){return k+=I.delete||0,k},0),j=N.length()-w;return p(N)&&(j-=1),j}n.default=b,n.getLastChangeIndex=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function L(V,K){for(var ee=0;ee<K.length;ee++){var z=K[ee];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(V,z.key,z)}}return function(V,K,ee){return K&&L(V.prototype,K),ee&&L(V,ee),V}}(),o=function L(V,K,ee){V===null&&(V=Function.prototype);var z=Object.getOwnPropertyDescriptor(V,K);if(z===void 0){var D=Object.getPrototypeOf(V);return D===null?void 0:L(D,K,ee)}else{if("value"in z)return z.value;var H=z.get;return H===void 0?void 0:H.call(ee)}},l=i(3),c=C(l),u=i(2),A=C(u),f=i(8),m=C(f),h=i(23),v=C(h),x=i(34),b=C(x),p=i(59),y=C(p),N=i(60),w=C(N),j=i(28),k=C(j),I=i(61),F=C(I);function C(L){return L&&L.__esModule?L:{default:L}}function P(L,V){if(!(L instanceof V))throw new TypeError("Cannot call a class as a function")}function T(L,V){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:L}function _(L,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);L.prototype=Object.create(V&&V.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(L,V):L.__proto__=V)}var U=[!1,"center","right","justify"],S=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],X=[!1,"serif","monospace"],ie=["1","2","3",!1],Z=["small",!1,"large","huge"],ce=function(L){_(V,L);function V(K,ee){P(this,V);var z=T(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,ee)),D=function H(ne){if(!document.body.contains(K.root))return document.body.removeEventListener("click",H);z.tooltip!=null&&!z.tooltip.root.contains(ne.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(ue){ue.container.contains(ne.target)||ue.close()})};return K.emitter.listenDOM("click",document.body,D),z}return a(V,[{key:"addModule",value:function(ee){var z=o(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(ee,z){ee.forEach(function(D){var H=D.getAttribute("class")||"";H.split(/\s+/).forEach(function(ne){if(ne.startsWith("ql-")&&(ne=ne.slice(3),z[ne]!=null))if(ne==="direction")D.innerHTML=z[ne][""]+z[ne].rtl;else if(typeof z[ne]=="string")D.innerHTML=z[ne];else{var ue=D.value||"";ue!=null&&z[ne][ue]&&(D.innerHTML=z[ne][ue])}})})}},{key:"buildPickers",value:function(ee,z){var D=this;this.pickers=ee.map(function(ne){if(ne.classList.contains("ql-align"))return ne.querySelector("option")==null&&M(ne,U),new w.default(ne,z.align);if(ne.classList.contains("ql-background")||ne.classList.contains("ql-color")){var ue=ne.classList.contains("ql-background")?"background":"color";return ne.querySelector("option")==null&&M(ne,S,ue==="background"?"#ffffff":"#000000"),new y.default(ne,z[ue])}else return ne.querySelector("option")==null&&(ne.classList.contains("ql-font")?M(ne,X):ne.classList.contains("ql-header")?M(ne,ie):ne.classList.contains("ql-size")&&M(ne,Z)),new k.default(ne)});var H=function(){D.pickers.forEach(function(ue){ue.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,H)}}]),V}(b.default);ce.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var ee=new FileReader;ee.onload=function(z){var D=V.quill.getSelection(!0);V.quill.updateContents(new A.default().retain(D.index).delete(D.length).insert({image:z.target.result}),m.default.sources.USER),V.quill.setSelection(D.index+1,m.default.sources.SILENT),K.value=""},ee.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var re=function(L){_(V,L);function V(K,ee){P(this,V);var z=T(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,K,ee));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(V,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function(z){v.default.match(z,"enter")?(ee.save(),z.preventDefault()):v.default.match(z,"escape")&&(ee.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,m.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":ee=ae(ee);case"formula":{if(!ee)break;var D=this.quill.getSelection(!0);if(D!=null){var H=D.index+D.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),ee,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",m.default.sources.USER),this.quill.setSelection(H+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(F.default);function ae(L){var V=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":L}function M(L,V){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(ee){var z=document.createElement("option");ee===K?z.setAttribute("selected","selected"):z.setAttribute("value",ee),L.appendChild(z)})}n.BaseTooltip=re,n.default=ce},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,A=this.iterator();u=A();){var f=u.length();if(l<f||c&&l===f&&(u.next==null||u.next.length()!==0))return[u,l];l-=f}return[null,0]},o.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},o.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var A=this.find(l),f=A[0],m=A[1],h,v=l-m,x=this.iterator(f);(h=x())&&v<l+c;){var b=h.length();l>v?u(h,l-v,Math.min(c,v+b-l)):u(h,0,Math.min(b,l+c-v)),v+=b}},o.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},o.prototype.reduce=function(l,c){for(var u,A=this.iterator();u=A();)c=l(c,u);return c},o}();n.default=a},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var v in h)h.hasOwnProperty(v)&&(m[v]=h[v])};return function(m,h){f(m,h);function v(){this.constructor=m}m.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),l=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,A=function(f){a(m,f);function m(h){var v=f.call(this,h)||this;return v.scroll=v,v.observer=new MutationObserver(function(x){v.update(x)}),v.observer.observe(v.domNode,c),v.attach(),v}return m.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(h,v){this.update(),h===0&&v===this.length()?this.children.forEach(function(x){x.remove()}):f.prototype.deleteAt.call(this,h,v)},m.prototype.formatAt=function(h,v,x,b){this.update(),f.prototype.formatAt.call(this,h,v,x,b)},m.prototype.insertAt=function(h,v,x){this.update(),f.prototype.insertAt.call(this,h,v,x)},m.prototype.optimize=function(h,v){var x=this;h===void 0&&(h=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)h.push(b.pop());for(var p=function(j,k){k===void 0&&(k=!0),!(j==null||j===x)&&j.domNode.parentNode!=null&&(j.domNode[l.DATA_KEY].mutations==null&&(j.domNode[l.DATA_KEY].mutations=[]),k&&p(j.parent))},y=function(j){j.domNode[l.DATA_KEY]==null||j.domNode[l.DATA_KEY].mutations==null||(j instanceof o.default&&j.children.forEach(y),j.optimize(v))},N=h,w=0;N.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(N.forEach(function(j){var k=l.find(j.target,!0);k!=null&&(k.domNode===j.target&&(j.type==="childList"?(p(l.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(I){var F=l.find(I,!1);p(F,!1),F instanceof o.default&&F.children.forEach(function(C){p(C,!1)})})):j.type==="attributes"&&p(k.prev)),p(k))}),this.children.forEach(y),N=[].slice.call(this.observer.takeRecords()),b=N.slice();b.length>0;)h.push(b.pop())}},m.prototype.update=function(h,v){var x=this;v===void 0&&(v={}),h=h||this.observer.takeRecords(),h.map(function(b){var p=l.find(b.target,!0);return p==null?null:p.domNode[l.DATA_KEY].mutations==null?(p.domNode[l.DATA_KEY].mutations=[b],p):(p.domNode[l.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===x||b.domNode[l.DATA_KEY]==null||b.update(b.domNode[l.DATA_KEY].mutations||[],v)}),this.domNode[l.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,v),this.optimize(h,v)},m.blotName="scroll",m.defaultChild="block",m.scope=l.Scope.BLOCK_BLOT,m.tagName="DIV",m}(o.default);n.default=A},function(t,n,i){var a=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var h in m)m.hasOwnProperty(h)&&(f[h]=m[h])};return function(f,m){A(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),l=i(1);function c(A,f){if(Object.keys(A).length!==Object.keys(f).length)return!1;for(var m in A)if(A[m]!==f[m])return!1;return!0}var u=function(A){a(f,A);function f(){return A!==null&&A.apply(this,arguments)||this}return f.formats=function(m){if(m.tagName!==f.tagName)return A.formats.call(this,m)},f.prototype.format=function(m,h){var v=this;m===this.statics.blotName&&!h?(this.children.forEach(function(x){x instanceof o.default||(x=x.wrap(f.blotName,!0)),v.attributes.copy(x)}),this.unwrap()):A.prototype.format.call(this,m,h)},f.prototype.formatAt=function(m,h,v,x){if(this.formats()[v]!=null||l.query(v,l.Scope.ATTRIBUTE)){var b=this.isolate(m,h);b.format(v,x)}else A.prototype.formatAt.call(this,m,h,v,x)},f.prototype.optimize=function(m){A.prototype.optimize.call(this,m);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&c(h,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=l.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(t,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,f){A.__proto__=f}||function(A,f){for(var m in f)f.hasOwnProperty(m)&&(A[m]=f[m])};return function(A,f){u(A,f);function m(){this.constructor=A}A.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),l=i(1),c=function(u){a(A,u);function A(){return u!==null&&u.apply(this,arguments)||this}return A.formats=function(f){var m=l.query(A.blotName).tagName;if(f.tagName!==m)return u.formats.call(this,f)},A.prototype.format=function(f,m){l.query(f,l.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!m?this.replaceWith(A.blotName):u.prototype.format.call(this,f,m))},A.prototype.formatAt=function(f,m,h,v){l.query(h,l.Scope.BLOCK)!=null?this.format(h,v):u.prototype.formatAt.call(this,f,m,h,v)},A.prototype.insertAt=function(f,m,h){if(h==null||l.query(m,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,m,h);else{var v=this.split(f),x=l.create(m,h);v.parent.insertBefore(x,v)}},A.prototype.update=function(f,m){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,m)},A.blotName="block",A.scope=l.Scope.BLOCK_BLOT,A.tagName="P",A}(o.default);n.default=c},function(t,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,A){u.__proto__=A}||function(u,A){for(var f in A)A.hasOwnProperty(f)&&(u[f]=A[f])};return function(u,A){c(u,A);function f(){this.constructor=u}u.prototype=A===null?Object.create(A):(f.prototype=A.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(A){},u.prototype.format=function(A,f){c.prototype.formatAt.call(this,0,this.length(),A,f)},u.prototype.formatAt=function(A,f,m,h){A===0&&f===this.length()?this.format(m,h):c.prototype.formatAt.call(this,A,f,m,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=l},function(t,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,f){A.__proto__=f}||function(A,f){for(var m in f)f.hasOwnProperty(m)&&(A[m]=f[m])};return function(A,f){u(A,f);function m(){this.constructor=A}A.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),l=i(1),c=function(u){a(A,u);function A(f){var m=u.call(this,f)||this;return m.text=m.statics.value(m.domNode),m}return A.create=function(f){return document.createTextNode(f)},A.value=function(f){var m=f.data;return m.normalize&&(m=m.normalize()),m},A.prototype.deleteAt=function(f,m){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+m)},A.prototype.index=function(f,m){return this.domNode===f?m:-1},A.prototype.insertAt=function(f,m,h){h==null?(this.text=this.text.slice(0,f)+m+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,m,h)},A.prototype.length=function(){return this.text.length},A.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof A&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},A.prototype.position=function(f,m){return[this.domNode,f]},A.prototype.split=function(f,m){if(m===void 0&&(m=!1),!m){if(f===0)return this;if(f===this.length())return this.next}var h=l.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},A.prototype.update=function(f,m){var h=this;f.some(function(v){return v.type==="characterData"&&v.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},A.prototype.value=function(){return this.text},A.blotName="text",A.scope=l.Scope.INLINE_BLOT,A}(o.default);n.default=c},function(t,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var A=u.indexOf(l,c);return A!==-1&&A===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),A=u.length>>>0,f=arguments[1],m,h=0;h<A;h++)if(m=u[h],c.call(f,m,h,u))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var i=-1,a=1,o=0;function l(w,j,k){if(w==j)return w?[[o,w]]:[];(k<0||w.length<k)&&(k=null);var I=f(w,j),F=w.substring(0,I);w=w.substring(I),j=j.substring(I),I=m(w,j);var C=w.substring(w.length-I);w=w.substring(0,w.length-I),j=j.substring(0,j.length-I);var P=c(w,j);return F&&P.unshift([o,F]),C&&P.push([o,C]),v(P),k!=null&&(P=p(P,k)),P=y(P),P}function c(w,j){var k;if(!w)return[[a,j]];if(!j)return[[i,w]];var I=w.length>j.length?w:j,F=w.length>j.length?j:w,C=I.indexOf(F);if(C!=-1)return k=[[a,I.substring(0,C)],[o,F],[a,I.substring(C+F.length)]],w.length>j.length&&(k[0][0]=k[2][0]=i),k;if(F.length==1)return[[i,w],[a,j]];var P=h(w,j);if(P){var T=P[0],_=P[1],U=P[2],S=P[3],X=P[4],ie=l(T,U),Z=l(_,S);return ie.concat([[o,X]],Z)}return u(w,j)}function u(w,j){for(var k=w.length,I=j.length,F=Math.ceil((k+I)/2),C=F,P=2*F,T=new Array(P),_=new Array(P),U=0;U<P;U++)T[U]=-1,_[U]=-1;T[C+1]=0,_[C+1]=0;for(var S=k-I,X=S%2!=0,ie=0,Z=0,ce=0,re=0,ae=0;ae<F;ae++){for(var M=-ae+ie;M<=ae-Z;M+=2){var L=C+M,V;M==-ae||M!=ae&&T[L-1]<T[L+1]?V=T[L+1]:V=T[L-1]+1;for(var K=V-M;V<k&&K<I&&w.charAt(V)==j.charAt(K);)V++,K++;if(T[L]=V,V>k)Z+=2;else if(K>I)ie+=2;else if(X){var ee=C+S-M;if(ee>=0&&ee<P&&_[ee]!=-1){var z=k-_[ee];if(V>=z)return A(w,j,V,K)}}}for(var D=-ae+ce;D<=ae-re;D+=2){var ee=C+D,z;D==-ae||D!=ae&&_[ee-1]<_[ee+1]?z=_[ee+1]:z=_[ee-1]+1;for(var H=z-D;z<k&&H<I&&w.charAt(k-z-1)==j.charAt(I-H-1);)z++,H++;if(_[ee]=z,z>k)re+=2;else if(H>I)ce+=2;else if(!X){var L=C+S-D;if(L>=0&&L<P&&T[L]!=-1){var V=T[L],K=C+V-L;if(z=k-z,V>=z)return A(w,j,V,K)}}}}return[[i,w],[a,j]]}function A(w,j,k,I){var F=w.substring(0,k),C=j.substring(0,I),P=w.substring(k),T=j.substring(I),_=l(F,C),U=l(P,T);return _.concat(U)}function f(w,j){if(!w||!j||w.charAt(0)!=j.charAt(0))return 0;for(var k=0,I=Math.min(w.length,j.length),F=I,C=0;k<F;)w.substring(C,F)==j.substring(C,F)?(k=F,C=k):I=F,F=Math.floor((I-k)/2+k);return F}function m(w,j){if(!w||!j||w.charAt(w.length-1)!=j.charAt(j.length-1))return 0;for(var k=0,I=Math.min(w.length,j.length),F=I,C=0;k<F;)w.substring(w.length-F,w.length-C)==j.substring(j.length-F,j.length-C)?(k=F,C=k):I=F,F=Math.floor((I-k)/2+k);return F}function h(w,j){var k=w.length>j.length?w:j,I=w.length>j.length?j:w;if(k.length<4||I.length*2<k.length)return null;function F(Z,ce,re){for(var ae=Z.substring(re,re+Math.floor(Z.length/4)),M=-1,L="",V,K,ee,z;(M=ce.indexOf(ae,M+1))!=-1;){var D=f(Z.substring(re),ce.substring(M)),H=m(Z.substring(0,re),ce.substring(0,M));L.length<H+D&&(L=ce.substring(M-H,M)+ce.substring(M,M+D),V=Z.substring(0,re-H),K=Z.substring(re+D),ee=ce.substring(0,M-H),z=ce.substring(M+D))}return L.length*2>=Z.length?[V,K,ee,z,L]:null}var C=F(k,I,Math.ceil(k.length/4)),P=F(k,I,Math.ceil(k.length/2)),T;if(!C&&!P)return null;P?C?T=C[4].length>P[4].length?C:P:T=P:T=C;var _,U,S,X;w.length>j.length?(_=T[0],U=T[1],S=T[2],X=T[3]):(S=T[0],X=T[1],_=T[2],U=T[3]);var ie=T[4];return[_,U,S,X,ie]}function v(w){w.push([o,""]);for(var j=0,k=0,I=0,F="",C="",P;j<w.length;)switch(w[j][0]){case a:I++,C+=w[j][1],j++;break;case i:k++,F+=w[j][1],j++;break;case o:k+I>1?(k!==0&&I!==0&&(P=f(C,F),P!==0&&(j-k-I>0&&w[j-k-I-1][0]==o?w[j-k-I-1][1]+=C.substring(0,P):(w.splice(0,0,[o,C.substring(0,P)]),j++),C=C.substring(P),F=F.substring(P)),P=m(C,F),P!==0&&(w[j][1]=C.substring(C.length-P)+w[j][1],C=C.substring(0,C.length-P),F=F.substring(0,F.length-P))),k===0?w.splice(j-I,k+I,[a,C]):I===0?w.splice(j-k,k+I,[i,F]):w.splice(j-k-I,k+I,[i,F],[a,C]),j=j-k-I+(k?1:0)+(I?1:0)+1):j!==0&&w[j-1][0]==o?(w[j-1][1]+=w[j][1],w.splice(j,1)):j++,I=0,k=0,F="",C="";break}w[w.length-1][1]===""&&w.pop();var T=!1;for(j=1;j<w.length-1;)w[j-1][0]==o&&w[j+1][0]==o&&(w[j][1].substring(w[j][1].length-w[j-1][1].length)==w[j-1][1]?(w[j][1]=w[j-1][1]+w[j][1].substring(0,w[j][1].length-w[j-1][1].length),w[j+1][1]=w[j-1][1]+w[j+1][1],w.splice(j-1,1),T=!0):w[j][1].substring(0,w[j+1][1].length)==w[j+1][1]&&(w[j-1][1]+=w[j+1][1],w[j][1]=w[j][1].substring(w[j+1][1].length)+w[j+1][1],w.splice(j+1,1),T=!0)),j++;T&&v(w)}var x=l;x.INSERT=a,x.DELETE=i,x.EQUAL=o,t.exports=x;function b(w,j){if(j===0)return[o,w];for(var k=0,I=0;I<w.length;I++){var F=w[I];if(F[0]===i||F[0]===o){var C=k+F[1].length;if(j===C)return[I+1,w];if(j<C){w=w.slice();var P=j-k,T=[F[0],F[1].slice(0,P)],_=[F[0],F[1].slice(P)];return w.splice(I,1,T,_),[I+1,w]}else k=C}}throw new Error("cursor_pos is out of bounds!")}function p(w,j){var k=b(w,j),I=k[1],F=k[0],C=I[F],P=I[F+1];if(C==null)return w;if(C[0]!==o)return w;if(P!=null&&C[1]+P[1]===P[1]+C[1])return I.splice(F,2,P,C),N(I,F,2);if(P!=null&&P[1].indexOf(C[1])===0){I.splice(F,2,[P[0],C[1]],[0,C[1]]);var T=P[1].slice(C[1].length);return T.length>0&&I.splice(F+2,0,[P[0],T]),N(I,F,3)}else return w}function y(w){for(var j=!1,k=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},I=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},F=2;F<w.length;F+=1)w[F-2][0]===o&&I(w[F-2][1])&&w[F-1][0]===i&&k(w[F-1][1])&&w[F][0]===a&&k(w[F][1])&&(j=!0,w[F-1][1]=w[F-2][1].slice(-1)+w[F-1][1],w[F][1]=w[F-2][1].slice(-1)+w[F][1],w[F-2][1]=w[F-2][1].slice(0,-1));if(!j)return w;for(var C=[],F=0;F<w.length;F+=1)w[F][1].length>0&&C.push(w[F]);return C}function N(w,j,k){for(var I=j+k-1;I>=0&&I>=j-1;I--)if(I+1<w.length){var F=w[I],C=w[I+1];F[0]===C[1]&&w.splice(I,2,[F[0],F[1]+C[1]])}return w}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var l in a)o.push(l);return o}},function(t,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=i?a:o,n.supported=a;function a(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(t,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function l(u,A,f){this.fn=u,this.context=A,this.once=f||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var A=[],f,m;if(this._eventsCount===0)return A;for(m in f=this._events)i.call(f,m)&&A.push(a?m.slice(1):m);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(f)):A},c.prototype.listeners=function(A,f){var m=a?a+A:A,h=this._events[m];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var v=0,x=h.length,b=new Array(x);v<x;v++)b[v]=h[v].fn;return b},c.prototype.emit=function(A,f,m,h,v,x){var b=a?a+A:A;if(!this._events[b])return!1;var p=this._events[b],y=arguments.length,N,w;if(p.fn){switch(p.once&&this.removeListener(A,p.fn,void 0,!0),y){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,m),!0;case 4:return p.fn.call(p.context,f,m,h),!0;case 5:return p.fn.call(p.context,f,m,h,v),!0;case 6:return p.fn.call(p.context,f,m,h,v,x),!0}for(w=1,N=new Array(y-1);w<y;w++)N[w-1]=arguments[w];p.fn.apply(p.context,N)}else{var j=p.length,k;for(w=0;w<j;w++)switch(p[w].once&&this.removeListener(A,p[w].fn,void 0,!0),y){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,f);break;case 3:p[w].fn.call(p[w].context,f,m);break;case 4:p[w].fn.call(p[w].context,f,m,h);break;default:if(!N)for(k=1,N=new Array(y-1);k<y;k++)N[k-1]=arguments[k];p[w].fn.apply(p[w].context,N)}}return!0},c.prototype.on=function(A,f,m){var h=new l(f,m||this),v=a?a+A:A;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],h]:this._events[v].push(h):(this._events[v]=h,this._eventsCount++),this},c.prototype.once=function(A,f,m){var h=new l(f,m||this,!0),v=a?a+A:A;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],h]:this._events[v].push(h):(this._events[v]=h,this._eventsCount++),this},c.prototype.removeListener=function(A,f,m,h){var v=a?a+A:A;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var x=this._events[v];if(x.fn)x.fn===f&&(!h||x.once)&&(!m||x.context===m)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var b=0,p=[],y=x.length;b<y;b++)(x[b].fn!==f||h&&!x[b].once||m&&x[b].context!==m)&&p.push(x[b]);p.length?this._events[v]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},c.prototype.removeAllListeners=function(A){var f;return A?(f=a?a+A:A,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=a,c.EventEmitter=c,typeof t<"u"&&(t.exports=c)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},o=function(){function Q(G,me){var fe=[],de=!0,be=!1,Ee=void 0;try{for(var ke=G[Symbol.iterator](),He;!(de=(He=ke.next()).done)&&(fe.push(He.value),!(me&&fe.length===me));de=!0);}catch(Ye){be=!0,Ee=Ye}finally{try{!de&&ke.return&&ke.return()}finally{if(be)throw Ee}}return fe}return function(G,me){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,me);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function Q(G,me){for(var fe=0;fe<me.length;fe++){var de=me[fe];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(G,de.key,de)}}return function(G,me,fe){return me&&Q(G.prototype,me),fe&&Q(G,fe),G}}(),c=i(3),u=_(c),A=i(2),f=_(A),m=i(0),h=_(m),v=i(5),x=_(v),b=i(10),p=_(b),y=i(9),N=_(y),w=i(36),j=i(37),k=i(13),I=_(k),F=i(26),C=i(38),P=i(39),T=i(40);function _(Q){return Q&&Q.__esModule?Q:{default:Q}}function U(Q,G,me){return G in Q?Object.defineProperty(Q,G,{value:me,enumerable:!0,configurable:!0,writable:!0}):Q[G]=me,Q}function S(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function X(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function ie(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var Z=(0,p.default)("quill:clipboard"),ce="__ql-matcher",re=[[Node.TEXT_NODE,q],[Node.TEXT_NODE,te],["br",le],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,$],["li",Be],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",he]],ae=[w.AlignAttribute,C.DirectionAttribute].reduce(function(Q,G){return Q[G.keyName]=G,Q},{}),M=[w.AlignStyle,j.BackgroundStyle,F.ColorStyle,C.DirectionStyle,P.FontStyle,T.SizeStyle].reduce(function(Q,G){return Q[G.keyName]=G,Q},{}),L=function(Q){ie(G,Q);function G(me,fe){S(this,G);var de=X(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,me,fe));return de.quill.root.addEventListener("paste",de.onPaste.bind(de)),de.container=de.quill.addContainer("ql-clipboard"),de.container.setAttribute("contenteditable",!0),de.container.setAttribute("tabindex",-1),de.matchers=[],re.concat(de.options.matchers).forEach(function(be){var Ee=o(be,2),ke=Ee[0],He=Ee[1];!fe.matchVisual&&He===je||de.addMatcher(ke,He)}),de}return l(G,[{key:"addMatcher",value:function(fe,de){this.matchers.push([fe,de])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var de=this.quill.getFormat(this.quill.selection.savedRange.index);if(de[I.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new f.default().insert(be,U({},I.default.blotName,de[I.default.blotName]))}var Ee=this.prepareMatching(),ke=o(Ee,2),He=ke[0],Ye=ke[1],et=D(this.container,He,Ye);return ee(et,`
`)&&et.ops[et.ops.length-1].attributes==null&&(et=et.compose(new f.default().retain(et.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,et),this.container.innerHTML="",et}},{key:"dangerouslyPasteHTML",value:function(fe,de){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),de),this.quill.setSelection(0,x.default.sources.SILENT);else{var Ee=this.convert(de);this.quill.updateContents(new f.default().retain(fe).concat(Ee),be),this.quill.setSelection(fe+Ee.length(),x.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var de=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),Ee=new f.default().retain(be.index),ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(x.default.sources.SILENT),setTimeout(function(){Ee=Ee.concat(de.convert()).delete(be.length),de.quill.updateContents(Ee,x.default.sources.USER),de.quill.setSelection(Ee.length()-be.length,x.default.sources.SILENT),de.quill.scrollingContainer.scrollTop=ke,de.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,de=[],be=[];return this.matchers.forEach(function(Ee){var ke=o(Ee,2),He=ke[0],Ye=ke[1];switch(He){case Node.TEXT_NODE:be.push(Ye);break;case Node.ELEMENT_NODE:de.push(Ye);break;default:[].forEach.call(fe.container.querySelectorAll(He),function(et){et[ce]=et[ce]||[],et[ce].push(Ye)});break}}),[de,be]}}]),G}(N.default);L.DEFAULTS={matchers:[],matchVisual:!0};function V(Q,G,me){return(typeof G>"u"?"undefined":a(G))==="object"?Object.keys(G).reduce(function(fe,de){return V(fe,de,G[de])},Q):Q.reduce(function(fe,de){return de.attributes&&de.attributes[G]?fe.push(de):fe.insert(de.insert,(0,u.default)({},U({},G,me),de.attributes))},new f.default)}function K(Q){if(Q.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return Q[G]||(Q[G]=window.getComputedStyle(Q))}function ee(Q,G){for(var me="",fe=Q.ops.length-1;fe>=0&&me.length<G.length;--fe){var de=Q.ops[fe];if(typeof de.insert!="string")break;me=de.insert+me}return me.slice(-1*G.length)===G}function z(Q){if(Q.childNodes.length===0)return!1;var G=K(Q);return["block","list-item"].indexOf(G.display)>-1}function D(Q,G,me){return Q.nodeType===Q.TEXT_NODE?me.reduce(function(fe,de){return de(Q,fe)},new f.default):Q.nodeType===Q.ELEMENT_NODE?[].reduce.call(Q.childNodes||[],function(fe,de){var be=D(de,G,me);return de.nodeType===Q.ELEMENT_NODE&&(be=G.reduce(function(Ee,ke){return ke(de,Ee)},be),be=(de[ce]||[]).reduce(function(Ee,ke){return ke(de,Ee)},be)),fe.concat(be)},new f.default):new f.default}function H(Q,G,me){return V(me,Q,!0)}function ne(Q,G){var me=h.default.Attributor.Attribute.keys(Q),fe=h.default.Attributor.Class.keys(Q),de=h.default.Attributor.Style.keys(Q),be={};return me.concat(fe).concat(de).forEach(function(Ee){var ke=h.default.query(Ee,h.default.Scope.ATTRIBUTE);ke!=null&&(be[ke.attrName]=ke.value(Q),be[ke.attrName])||(ke=ae[Ee],ke!=null&&(ke.attrName===Ee||ke.keyName===Ee)&&(be[ke.attrName]=ke.value(Q)||void 0),ke=M[Ee],ke!=null&&(ke.attrName===Ee||ke.keyName===Ee)&&(ke=M[Ee],be[ke.attrName]=ke.value(Q)||void 0))}),Object.keys(be).length>0&&(G=V(G,be)),G}function ue(Q,G){var me=h.default.query(Q);if(me==null)return G;if(me.prototype instanceof h.default.Embed){var fe={},de=me.value(Q);de!=null&&(fe[me.blotName]=de,G=new f.default().insert(fe,me.formats(Q)))}else typeof me.formats=="function"&&(G=V(G,me.blotName,me.formats(Q)));return G}function le(Q,G){return ee(G,`
`)||G.insert(`
`),G}function he(){return new f.default}function Be(Q,G){var me=h.default.query(Q);if(me==null||me.blotName!=="list-item"||!ee(G,`
`))return G;for(var fe=-1,de=Q.parentNode;!de.classList.contains("ql-clipboard");)(h.default.query(de)||{}).blotName==="list"&&(fe+=1),de=de.parentNode;return fe<=0?G:G.compose(new f.default().retain(G.length()-1).retain(1,{indent:fe}))}function te(Q,G){return ee(G,`
`)||(z(Q)||G.length()>0&&Q.nextSibling&&z(Q.nextSibling))&&G.insert(`
`),G}function je(Q,G){if(z(Q)&&Q.nextElementSibling!=null&&!ee(G,`

`)){var me=Q.offsetHeight+parseFloat(K(Q).marginTop)+parseFloat(K(Q).marginBottom);Q.nextElementSibling.offsetTop>Q.offsetTop+me*1.5&&G.insert(`
`)}return G}function $(Q,G){var me={},fe=Q.style||{};return fe.fontStyle&&K(Q).fontStyle==="italic"&&(me.italic=!0),fe.fontWeight&&(K(Q).fontWeight.startsWith("bold")||parseInt(K(Q).fontWeight)>=700)&&(me.bold=!0),Object.keys(me).length>0&&(G=V(G,me)),parseFloat(fe.textIndent||0)>0&&(G=new f.default().insert("	").concat(G)),G}function q(Q,G){var me=Q.data;if(Q.parentNode.tagName==="O:P")return G.insert(me.trim());if(me.trim().length===0&&Q.parentNode.classList.contains("ql-clipboard"))return G;if(!K(Q.parentNode).whiteSpace.startsWith("pre")){var fe=function(be,Ee){return Ee=Ee.replace(/[^\u00a0]/g,""),Ee.length<1&&be?" ":Ee};me=me.replace(/\r\n/g," ").replace(/\n/g," "),me=me.replace(/\s\s+/g,fe.bind(fe,!0)),(Q.previousSibling==null&&z(Q.parentNode)||Q.previousSibling!=null&&z(Q.previousSibling))&&(me=me.replace(/^\s+/,fe.bind(fe,!1))),(Q.nextSibling==null&&z(Q.parentNode)||Q.nextSibling!=null&&z(Q.nextSibling))&&(me=me.replace(/\s+$/,fe.bind(fe,!1)))}return G.insert(me)}n.default=L,n.matchAttributor=ne,n.matchBlot=ue,n.matchNewline=te,n.matchSpacing=je,n.matchText=q},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(x,b){for(var p=0;p<b.length;p++){var y=b[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(x,y.key,y)}}return function(x,b,p){return b&&v(x.prototype,b),p&&v(x,p),x}}(),o=function v(x,b,p){x===null&&(x=Function.prototype);var y=Object.getOwnPropertyDescriptor(x,b);if(y===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:v(N,b,p)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(p)}},l=i(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function A(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=function(v){m(x,v);function x(){return A(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"optimize",value:function(p){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),x}(c.default);h.blotName="bold",h.tagName=["STRONG","B"],n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function T(_,U){var S=[],X=!0,ie=!1,Z=void 0;try{for(var ce=_[Symbol.iterator](),re;!(X=(re=ce.next()).done)&&(S.push(re.value),!(U&&S.length===U));X=!0);}catch(ae){ie=!0,Z=ae}finally{try{!X&&ce.return&&ce.return()}finally{if(ie)throw Z}}return S}return function(_,U){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return T(_,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(_,U){for(var S=0;S<U.length;S++){var X=U[S];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(_,X.key,X)}}return function(_,U,S){return U&&T(_.prototype,U),S&&T(_,S),_}}(),l=i(2),c=p(l),u=i(0),A=p(u),f=i(5),m=p(f),h=i(10),v=p(h),x=i(9),b=p(x);function p(T){return T&&T.__esModule?T:{default:T}}function y(T,_,U){return _ in T?Object.defineProperty(T,_,{value:U,enumerable:!0,configurable:!0,writable:!0}):T[_]=U,T}function N(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function w(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function j(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var k=(0,v.default)("quill:toolbar"),I=function(T){j(_,T);function _(U,S){N(this,_);var X=w(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,U,S));if(Array.isArray(X.options.container)){var ie=document.createElement("div");C(ie,X.options.container),U.container.parentNode.insertBefore(ie,U.container),X.container=ie}else typeof X.options.container=="string"?X.container=document.querySelector(X.options.container):X.container=X.options.container;if(!(X.container instanceof HTMLElement)){var Z;return Z=k.error("Container required for toolbar",X.options),w(X,Z)}return X.container.classList.add("ql-toolbar"),X.controls=[],X.handlers={},Object.keys(X.options.handlers).forEach(function(ce){X.addHandler(ce,X.options.handlers[ce])}),[].forEach.call(X.container.querySelectorAll("button, select"),function(ce){X.attach(ce)}),X.quill.on(m.default.events.EDITOR_CHANGE,function(ce,re){ce===m.default.events.SELECTION_CHANGE&&X.update(re)}),X.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var ce=X.quill.selection.getRange(),re=a(ce,1),ae=re[0];X.update(ae)}),X}return o(_,[{key:"addHandler",value:function(S,X){this.handlers[S]=X}},{key:"attach",value:function(S){var X=this,ie=[].find.call(S.classList,function(ce){return ce.indexOf("ql-")===0});if(ie){if(ie=ie.slice(3),S.tagName==="BUTTON"&&S.setAttribute("type","button"),this.handlers[ie]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ie]==null){k.warn("ignoring attaching to disabled format",ie,S);return}if(A.default.query(ie)==null){k.warn("ignoring attaching to nonexistent format",ie,S);return}}var Z=S.tagName==="SELECT"?"change":"click";S.addEventListener(Z,function(ce){var re=void 0;if(S.tagName==="SELECT"){if(S.selectedIndex<0)return;var ae=S.options[S.selectedIndex];ae.hasAttribute("selected")?re=!1:re=ae.value||!1}else S.classList.contains("ql-active")?re=!1:re=S.value||!S.hasAttribute("value"),ce.preventDefault();X.quill.focus();var M=X.quill.selection.getRange(),L=a(M,1),V=L[0];if(X.handlers[ie]!=null)X.handlers[ie].call(X,re);else if(A.default.query(ie).prototype instanceof A.default.Embed){if(re=prompt("Enter "+ie),!re)return;X.quill.updateContents(new c.default().retain(V.index).delete(V.length).insert(y({},ie,re)),m.default.sources.USER)}else X.quill.format(ie,re,m.default.sources.USER);X.update(V)}),this.controls.push([ie,S])}}},{key:"update",value:function(S){var X=S==null?{}:this.quill.getFormat(S);this.controls.forEach(function(ie){var Z=a(ie,2),ce=Z[0],re=Z[1];if(re.tagName==="SELECT"){var ae=void 0;if(S==null)ae=null;else if(X[ce]==null)ae=re.querySelector("option[selected]");else if(!Array.isArray(X[ce])){var M=X[ce];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),ae=re.querySelector('option[value="'+M+'"]')}ae==null?(re.value="",re.selectedIndex=-1):ae.selected=!0}else if(S==null)re.classList.remove("ql-active");else if(re.hasAttribute("value")){var L=X[ce]===re.getAttribute("value")||X[ce]!=null&&X[ce].toString()===re.getAttribute("value")||X[ce]==null&&!re.getAttribute("value");re.classList.toggle("ql-active",L)}else re.classList.toggle("ql-active",X[ce]!=null)})}}]),_}(b.default);I.DEFAULTS={};function F(T,_,U){var S=document.createElement("button");S.setAttribute("type","button"),S.classList.add("ql-"+_),U!=null&&(S.value=U),T.appendChild(S)}function C(T,_){Array.isArray(_[0])||(_=[_]),_.forEach(function(U){var S=document.createElement("span");S.classList.add("ql-formats"),U.forEach(function(X){if(typeof X=="string")F(S,X);else{var ie=Object.keys(X)[0],Z=X[ie];Array.isArray(Z)?P(S,ie,Z):F(S,ie,Z)}}),T.appendChild(S)})}function P(T,_,U){var S=document.createElement("select");S.classList.add("ql-"+_),U.forEach(function(X){var ie=document.createElement("option");X!==!1?ie.setAttribute("value",X):ie.setAttribute("selected","selected"),S.appendChild(ie)}),T.appendChild(S)}I.DEFAULTS={container:null,handlers:{clean:function(){var _=this,U=this.quill.getSelection();if(U!=null)if(U.length==0){var S=this.quill.getFormat();Object.keys(S).forEach(function(X){A.default.query(X,A.default.Scope.INLINE)!=null&&_.quill.format(X,!1)})}else this.quill.removeFormat(U,m.default.sources.USER)},direction:function(_){var U=this.quill.getFormat().align;_==="rtl"&&U==null?this.quill.format("align","right",m.default.sources.USER):!_&&U==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",_,m.default.sources.USER)},indent:function(_){var U=this.quill.getSelection(),S=this.quill.getFormat(U),X=parseInt(S.indent||0);if(_==="+1"||_==="-1"){var ie=_==="+1"?1:-1;S.direction==="rtl"&&(ie*=-1),this.quill.format("indent",X+ie,m.default.sources.USER)}},link:function(_){_===!0&&(_=prompt("Enter link URL:")),this.quill.format("link",_,m.default.sources.USER)},list:function(_){var U=this.quill.getSelection(),S=this.quill.getFormat(U);_==="check"?S.list==="checked"||S.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",_,m.default.sources.USER)}}},n.default=I,n.addControls=C},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(x,b){for(var p=0;p<b.length;p++){var y=b[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(x,y.key,y)}}return function(x,b,p){return b&&v(x.prototype,b),p&&v(x,p),x}}(),o=function v(x,b,p){x===null&&(x=Function.prototype);var y=Object.getOwnPropertyDescriptor(x,b);if(y===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:v(N,b,p)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(p)}},l=i(28),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function A(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=function(v){m(x,v);function x(b,p){A(this,x);var y=f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return y.label.innerHTML=p,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(N){N.classList.add("ql-primary")}),y}return a(x,[{key:"buildItem",value:function(p){var y=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"buildItem",this).call(this,p);return y.style.backgroundColor=p.getAttribute("value")||"",y}},{key:"selectItem",value:function(p,y){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,p,y);var N=this.label.querySelector(".ql-color-label"),w=p&&p.getAttribute("data-value")||"";N&&(N.tagName==="line"?N.style.stroke=w:N.style.fill=w)}}]),x}(c.default);n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(x,b){for(var p=0;p<b.length;p++){var y=b[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(x,y.key,y)}}return function(x,b,p){return b&&v(x.prototype,b),p&&v(x,p),x}}(),o=function v(x,b,p){x===null&&(x=Function.prototype);var y=Object.getOwnPropertyDescriptor(x,b);if(y===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:v(N,b,p)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(p)}},l=i(28),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function A(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=function(v){m(x,v);function x(b,p){A(this,x);var y=f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,b));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(N){N.innerHTML=p[N.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return a(x,[{key:"selectItem",value:function(p,y){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,p,y),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),x}(c.default);n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(u,A){for(var f=0;f<A.length;f++){var m=A[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}return function(u,A,f){return A&&c(u.prototype,A),f&&c(u,f),u}}();function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,A){var f=this;o(this,c),this.quill=u,this.boundsContainer=A||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(A){var f=A.left+A.width/2-this.root.offsetWidth/2,m=A.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),x=0;if(v.right>h.right&&(x=h.right-v.right,this.root.style.left=f+x+"px"),v.left<h.left&&(x=h.left-v.left,this.root.style.left=f+x+"px"),v.bottom>h.bottom){var b=v.bottom-v.top,p=A.bottom-A.top+b;this.root.style.top=m-p+"px",this.root.classList.add("ql-flip")}return x}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function P(T,_){var U=[],S=!0,X=!1,ie=void 0;try{for(var Z=T[Symbol.iterator](),ce;!(S=(ce=Z.next()).done)&&(U.push(ce.value),!(_&&U.length===_));S=!0);}catch(re){X=!0,ie=re}finally{try{!S&&Z.return&&Z.return()}finally{if(X)throw ie}}return U}return function(T,_){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return P(T,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function P(T,_,U){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var X=Object.getPrototypeOf(T);return X===null?void 0:P(X,_,U)}else{if("value"in S)return S.value;var ie=S.get;return ie===void 0?void 0:ie.call(U)}},l=function(){function P(T,_){for(var U=0;U<_.length;U++){var S=_[U];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,U){return _&&P(T.prototype,_),U&&P(T,U),T}}(),c=i(3),u=N(c),A=i(8),f=N(A),m=i(43),h=N(m),v=i(27),x=N(v),b=i(15),p=i(41),y=N(p);function N(P){return P&&P.__esModule?P:{default:P}}function w(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function j(P,T){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:P}function k(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(P,T):P.__proto__=T)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],F=function(P){k(T,P);function T(_,U){w(this,T),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=I);var S=j(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_,U));return S.quill.container.classList.add("ql-snow"),S}return l(T,[{key:"extendToolbar",value:function(U){U.container.classList.add("ql-snow"),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),y.default),this.tooltip=new C(this.quill,this.options.bounds),U.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(S,X){U.handlers.link.call(U,!X.format.link)})}}]),T}(h.default);F.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var _=this.quill.getSelection();if(_==null||_.length==0)return;var U=this.quill.getText(_);/^\S+@\S+\.\S+$/.test(U)&&U.indexOf("mailto:")!==0&&(U="mailto:"+U);var S=this.quill.theme.tooltip;S.edit("link",U)}else this.quill.format("link",!1)}}}}});var C=function(P){k(T,P);function T(_,U){w(this,T);var S=j(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_,U));return S.preview=S.root.querySelector("a.ql-preview"),S}return l(T,[{key:"listen",value:function(){var U=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(S){U.root.classList.contains("ql-editing")?U.save():U.edit("link",U.preview.textContent),S.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(S){if(U.linkRange!=null){var X=U.linkRange;U.restoreFocus(),U.quill.formatText(X,"link",!1,f.default.sources.USER),delete U.linkRange}S.preventDefault(),U.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(S,X,ie){if(S!=null){if(S.length===0&&ie===f.default.sources.USER){var Z=U.quill.scroll.descendant(x.default,S.index),ce=a(Z,2),re=ce[0],ae=ce[1];if(re!=null){U.linkRange=new b.Range(S.index-ae,re.length());var M=x.default.formats(re.domNode);U.preview.textContent=M,U.preview.setAttribute("href",M),U.show(),U.position(U.quill.getBounds(U.linkRange));return}}else delete U.linkRange;U.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(m.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=F},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=de(a),l=i(36),c=i(38),u=i(64),A=i(65),f=de(A),m=i(66),h=de(m),v=i(67),x=de(v),b=i(37),p=i(26),y=i(39),N=i(40),w=i(56),j=de(w),k=i(68),I=de(k),F=i(27),C=de(F),P=i(69),T=de(P),_=i(70),U=de(_),S=i(71),X=de(S),ie=i(72),Z=de(ie),ce=i(73),re=de(ce),ae=i(13),M=de(ae),L=i(74),V=de(L),K=i(75),ee=de(K),z=i(57),D=de(z),H=i(41),ne=de(H),ue=i(28),le=de(ue),he=i(59),Be=de(he),te=i(60),je=de(te),$=i(61),q=de($),Q=i(108),G=de(Q),me=i(62),fe=de(me);function de(be){return be&&be.__esModule?be:{default:be}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":N.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":N.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":y.FontClass,"formats/size":N.SizeClass,"formats/blockquote":f.default,"formats/code-block":M.default,"formats/header":h.default,"formats/list":x.default,"formats/bold":j.default,"formats/code":ae.Code,"formats/italic":I.default,"formats/link":C.default,"formats/script":T.default,"formats/strike":U.default,"formats/underline":X.default,"formats/image":Z.default,"formats/video":re.default,"formats/list/item":v.ListItem,"modules/formula":V.default,"modules/syntax":ee.default,"modules/toolbar":D.default,"themes/bubble":G.default,"themes/snow":fe.default,"ui/icons":ne.default,"ui/picker":le.default,"ui/icon-picker":je.default,"ui/color-picker":Be.default,"ui/tooltip":q.default},!0),n.default=o.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function x(b,p){for(var y=0;y<p.length;y++){var N=p[y];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,p,y){return p&&x(b.prototype,p),y&&x(b,y),b}}(),o=function x(b,p,y){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,p);if(N===void 0){var w=Object.getPrototypeOf(b);return w===null?void 0:x(w,p,y)}else{if("value"in N)return N.value;var j=N.get;return j===void 0?void 0:j.call(y)}},l=i(0),c=u(l);function u(x){return x&&x.__esModule?x:{default:x}}function A(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function f(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function m(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var h=function(x){m(b,x);function b(){return A(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"add",value:function(y,N){if(N==="+1"||N==="-1"){var w=this.value(y)||0;N=N==="+1"?w+1:w-1}return N===0?(this.remove(y),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,y,N)}},{key:"canAdd",value:function(y,N){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,N)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,parseInt(N))}},{key:"value",value:function(y){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y))||void 0}}]),b}(c.default.Attributor.Class),v=new h("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function u(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function A(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var f=function(m){A(h,m);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(v,x){for(var b=0;b<x.length;b++){var p=x[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,x,b){return x&&h(v.prototype,x),b&&h(v,b),v}}(),o=i(4),l=c(o);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function A(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function f(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var m=function(h){f(v,h);function v(){return u(this,v),A(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),v}(l.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function w(j,k){for(var I=0;I<k.length;I++){var F=k[I];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(j,F.key,F)}}return function(j,k,I){return k&&w(j.prototype,k),I&&w(j,I),j}}(),o=function w(j,k,I){j===null&&(j=Function.prototype);var F=Object.getOwnPropertyDescriptor(j,k);if(F===void 0){var C=Object.getPrototypeOf(j);return C===null?void 0:w(C,k,I)}else{if("value"in F)return F.value;var P=F.get;return P===void 0?void 0:P.call(I)}},l=i(0),c=h(l),u=i(4),A=h(u),f=i(25),m=h(f);function h(w){return w&&w.__esModule?w:{default:w}}function v(w,j,k){return j in w?Object.defineProperty(w,j,{value:k,enumerable:!0,configurable:!0,writable:!0}):w[j]=k,w}function x(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function b(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function p(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var y=function(w){p(j,w);function j(){return x(this,j),b(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"format",value:function(I,F){I===N.blotName&&!F?this.replaceWith(c.default.create(this.statics.scope)):o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,I,F)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,F){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,F),this):(this.parent.unwrap(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,I,F))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:o(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,I)}}]),j}(A.default);y.blotName="list-item",y.tagName="LI";var N=function(w){p(j,w),a(j,null,[{key:"create",value:function(I){var F=I==="ordered"?"OL":"UL",C=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,F);return(I==="checked"||I==="unchecked")&&C.setAttribute("data-checked",I==="checked"),C}},{key:"formats",value:function(I){if(I.tagName==="OL")return"ordered";if(I.tagName==="UL")return I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(k){x(this,j);var I=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k)),F=function(P){if(P.target.parentNode===k){var T=I.statics.formats(k),_=c.default.find(P.target);T==="checked"?_.format("list","unchecked"):T==="unchecked"&&_.format("list","checked")}};return k.addEventListener("touchstart",F),k.addEventListener("mousedown",F),I}return a(j,[{key:"format",value:function(I,F){this.children.length>0&&this.children.tail.format(I,F)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(I,F){if(I instanceof y)o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,I,F);else{var C=F==null?this.length():F.offset(this),P=this.split(C);P.parent.insertBefore(I,P)}}},{key:"optimize",value:function(I){o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,I);var F=this.next;F!=null&&F.prev===this&&F.statics.blotName===this.statics.blotName&&F.domNode.tagName===this.domNode.tagName&&F.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(F.moveChildren(this),F.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var F=c.default.create(this.statics.defaultChild);I.moveChildren(F),this.appendChild(F)}o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,I)}}]),j}(m.default);N.blotName="list",N.scope=c.default.Scope.BLOCK_BLOT,N.tagName=["OL","UL"],N.defaultChild="list-item",N.allowedChildren=[y],n.ListItem=y,n.default=N},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function u(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function A(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var f=function(m){A(h,m);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(x,b){for(var p=0;p<b.length;p++){var y=b[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(x,y.key,y)}}return function(x,b,p){return b&&v(x.prototype,b),p&&v(x,p),x}}(),o=function v(x,b,p){x===null&&(x=Function.prototype);var y=Object.getOwnPropertyDescriptor(x,b);if(y===void 0){var N=Object.getPrototypeOf(x);return N===null?void 0:v(N,b,p)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(p)}},l=i(6),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function A(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function f(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:v}function m(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}var h=function(v){m(x,v);function x(){return A(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),x}(c.default);h.blotName="script",h.tagName=["SUB","SUP"],n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function u(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function A(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var f=function(m){A(h,m);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function u(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function A(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var f=function(m){A(h,m);function h(){return c(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(p,y){for(var N=0;N<y.length;N++){var w=y[N];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,y,N){return y&&b(p.prototype,y),N&&b(p,N),p}}(),o=function b(p,y,N){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,y);if(w===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,y,N)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(N)}},l=i(0),c=A(l),u=i(27);function A(b){return b&&b.__esModule?b:{default:b}}function f(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function m(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function h(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var v=["alt","height","width"],x=function(b){h(p,b);function p(){return f(this,p),m(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"format",value:function(N,w){v.indexOf(N)>-1?w?this.domNode.setAttribute(N,w):this.domNode.removeAttribute(N):o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,N,w)}}],[{key:"create",value:function(N){var w=o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,N);return typeof N=="string"&&w.setAttribute("src",this.sanitize(N)),w}},{key:"formats",value:function(N){return v.reduce(function(w,j){return N.hasAttribute(j)&&(w[j]=N.getAttribute(j)),w},{})}},{key:"match",value:function(N){return/\.(jpe?g|gif|png)$/.test(N)||/^data:image\/.+;base64/.test(N)}},{key:"sanitize",value:function(N){return(0,u.sanitize)(N,["http","https","data"])?N:"//:0"}},{key:"value",value:function(N){return N.getAttribute("src")}}]),p}(c.default.Embed);x.blotName="image",x.tagName="IMG",n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(p,y){for(var N=0;N<y.length;N++){var w=y[N];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,y,N){return y&&b(p.prototype,y),N&&b(p,N),p}}(),o=function b(p,y,N){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,y);if(w===void 0){var j=Object.getPrototypeOf(p);return j===null?void 0:b(j,y,N)}else{if("value"in w)return w.value;var k=w.get;return k===void 0?void 0:k.call(N)}},l=i(4),c=i(27),u=A(c);function A(b){return b&&b.__esModule?b:{default:b}}function f(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function m(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function h(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var v=["height","width"],x=function(b){h(p,b);function p(){return f(this,p),m(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"format",value:function(N,w){v.indexOf(N)>-1?w?this.domNode.setAttribute(N,w):this.domNode.removeAttribute(N):o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,N,w)}}],[{key:"create",value:function(N){var w=o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,N);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(N)),w}},{key:"formats",value:function(N){return v.reduce(function(w,j){return N.hasAttribute(j)&&(w[j]=N.getAttribute(j)),w},{})}},{key:"sanitize",value:function(N){return u.default.sanitize(N)}},{key:"value",value:function(N){return N.getAttribute("src")}}]),p}(l.BlockEmbed);x.blotName="video",x.className="ql-video",x.tagName="IFRAME",n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function N(w,j){for(var k=0;k<j.length;k++){var I=j[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,j,k){return j&&N(w.prototype,j),k&&N(w,k),w}}(),o=function N(w,j,k){w===null&&(w=Function.prototype);var I=Object.getOwnPropertyDescriptor(w,j);if(I===void 0){var F=Object.getPrototypeOf(w);return F===null?void 0:N(F,j,k)}else{if("value"in I)return I.value;var C=I.get;return C===void 0?void 0:C.call(k)}},l=i(35),c=h(l),u=i(5),A=h(u),f=i(9),m=h(f);function h(N){return N&&N.__esModule?N:{default:N}}function v(N,w){if(!(N instanceof w))throw new TypeError("Cannot call a class as a function")}function x(N,w){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:N}function b(N,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);N.prototype=Object.create(w&&w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(N,w):N.__proto__=w)}var p=function(N){b(w,N);function w(){return v(this,w),x(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(k){var I=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,I,{throwOnError:!1,errorColor:"#f00"}),I.setAttribute("data-value",k)),I}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),w}(c.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var y=function(N){b(w,N),a(w,null,[{key:"register",value:function(){A.default.register(p,!0)}}]);function w(){v(this,w);var j=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return w}(m.default);n.FormulaBlot=p,n.default=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function k(I,F){for(var C=0;C<F.length;C++){var P=F[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}return function(I,F,C){return F&&k(I.prototype,F),C&&k(I,C),I}}(),o=function k(I,F,C){I===null&&(I=Function.prototype);var P=Object.getOwnPropertyDescriptor(I,F);if(P===void 0){var T=Object.getPrototypeOf(I);return T===null?void 0:k(T,F,C)}else{if("value"in P)return P.value;var _=P.get;return _===void 0?void 0:_.call(C)}},l=i(0),c=x(l),u=i(5),A=x(u),f=i(9),m=x(f),h=i(13),v=x(h);function x(k){return k&&k.__esModule?k:{default:k}}function b(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function p(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function y(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var N=function(k){y(I,k);function I(){return b(this,I),p(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return a(I,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),I}(v.default);N.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),j=function(k){y(I,k),a(I,null,[{key:"register",value:function(){A.default.register(w,!0),A.default.register(N,!0)}}]);function I(F,C){b(this,I);var P=p(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,F,C));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return P.quill.on(A.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){P.highlight(),T=null},P.options.interval)}),P.highlight(),P}return a(I,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(A.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(N).forEach(function(T){T.highlight(C.options.highlight)}),this.quill.update(A.default.sources.SILENT),P!=null&&this.quill.setSelection(P,A.default.sources.SILENT)}}}]),I}(m.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var I=window.hljs.highlightAuto(k);return I.value}}(),interval:1e3},n.CodeBlock=N,n.CodeToken=w,n.default=j},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function I(F,C,P){F===null&&(F=Function.prototype);var T=Object.getOwnPropertyDescriptor(F,C);if(T===void 0){var _=Object.getPrototypeOf(F);return _===null?void 0:I(_,C,P)}else{if("value"in T)return T.value;var U=T.get;return U===void 0?void 0:U.call(P)}},o=function(){function I(F,C){for(var P=0;P<C.length;P++){var T=C[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}return function(F,C,P){return C&&I(F.prototype,C),P&&I(F,P),F}}(),l=i(3),c=b(l),u=i(8),A=b(u),f=i(43),m=b(f),h=i(15),v=i(41),x=b(v);function b(I){return I&&I.__esModule?I:{default:I}}function p(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")}function y(I,F){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:I}function N(I,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);I.prototype=Object.create(F&&F.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(I,F):I.__proto__=F)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(I){N(F,I);function F(C,P){p(this,F),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=w);var T=y(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,C,P));return T.quill.container.classList.add("ql-bubble"),T}return o(F,[{key:"extendToolbar",value:function(P){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),x.default)}}]),F}(m.default);j.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(F){F?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(I){N(F,I);function F(C,P){p(this,F);var T=y(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,C,P));return T.quill.on(A.default.events.EDITOR_CHANGE,function(_,U,S,X){if(_===A.default.events.SELECTION_CHANGE)if(U!=null&&U.length>0&&X===A.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var ie=T.quill.getLines(U.index,U.length);if(ie.length===1)T.position(T.quill.getBounds(U));else{var Z=ie[ie.length-1],ce=T.quill.getIndex(Z),re=Math.min(Z.length()-1,U.index+U.length-ce),ae=T.quill.getBounds(new h.Range(ce,re));T.position(ae)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(F,[{key:"listen",value:function(){var P=this;a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(A.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var T=P.quill.getSelection();T!=null&&P.position(P.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var T=a(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"position",this).call(this,P),_=this.root.querySelector(".ql-tooltip-arrow");if(_.style.marginLeft="",T===0)return T;_.style.marginLeft=-1*T-_.offsetWidth/2+"px"}}]),F}(f.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=k,n.default=j},function(t,n,i){t.exports=i(63)}]).default})}(zg)),zg.exports}var lo,D4;function gP(){if(D4)return lo;D4=1;var r=lo&&lo.__extends||function(){var A=function(f,m){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var x in v)v.hasOwnProperty(x)&&(h[x]=v[x])},A(f,m)};return function(f,m){A(f,m);function h(){this.constructor=f}f.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}}(),e=lo&&lo.__assign||function(){return e=Object.assign||function(A){for(var f,m=1,h=arguments.length;m<h;m++){f=arguments[m];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(A[v]=f[v])}return A},e.apply(this,arguments)},t=lo&&lo.__spreadArrays||function(){for(var A=0,f=0,m=arguments.length;f<m;f++)A+=arguments[f].length;for(var h=Array(A),v=0,f=0;f<m;f++)for(var x=arguments[f],b=0,p=x.length;b<p;b++,v++)h[v]=x[b];return h},n=lo&&lo.__importDefault||function(A){return A&&A.__esModule?A:{default:A}},i=n(F0()),a=n(L3()),o=n(fP()),l=n(pP()),c=function(A){r(f,A);function f(m){var h=A.call(this,m)||this;h.dirtyProps=["modules","formats","bounds","theme","children"],h.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],h.state={generation:0},h.selection=null,h.onEditorChange=function(x,b,p,y){var N,w,j,k;x==="text-change"?(w=(N=h).onEditorChangeText)===null||w===void 0||w.call(N,h.editor.root.innerHTML,b,y,h.unprivilegedEditor):x==="selection-change"&&((k=(j=h).onEditorChangeSelection)===null||k===void 0||k.call(j,b,y,h.unprivilegedEditor))};var v=h.isControlled()?m.value:m.defaultValue;return h.value=v??"",h}return f.prototype.validateProps=function(m){var h;if(i.default.Children.count(m.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(m.children)){var v=i.default.Children.only(m.children);if(((h=v)===null||h===void 0?void 0:h.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&m.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},f.prototype.shouldComponentUpdate=function(m,h){var v=this,x;if(this.validateProps(m),!this.editor||this.state.generation!==h.generation)return!0;if("value"in m){var b=this.getEditorContents(),p=(x=m.value,x??"");this.isEqualValue(p,b)||this.setEditorContents(this.editor,p)}return m.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,m.readOnly),t(this.cleanProps,this.dirtyProps).some(function(y){return!o.default(m[y],v.props[y])})},f.prototype.shouldComponentRegenerate=function(m){var h=this;return this.dirtyProps.some(function(v){return!o.default(m[v],h.props[v])})},f.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},f.prototype.componentWillUnmount=function(){this.destroyEditor()},f.prototype.componentDidUpdate=function(m,h){var v=this;if(this.editor&&this.shouldComponentRegenerate(m)){var x=this.editor.getContents(),b=this.editor.getSelection();this.regenerationSnapshot={delta:x,selection:b},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==h.generation){var p=this.regenerationSnapshot,x=p.delta,y=p.selection;delete this.regenerationSnapshot,this.instantiateEditor();var N=this.editor;N.setContents(x),u(function(){return v.setEditorSelection(N,y)})}},f.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},f.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},f.prototype.isControlled=function(){return"value"in this.props},f.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},f.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},f.prototype.createEditor=function(m,h){var v=new l.default(m,h);return h.tabIndex!=null&&this.setEditorTabIndex(v,h.tabIndex),this.hookEditor(v),v},f.prototype.hookEditor=function(m){this.unprivilegedEditor=this.makeUnprivilegedEditor(m),m.on("editor-change",this.onEditorChange)},f.prototype.unhookEditor=function(m){m.off("editor-change",this.onEditorChange)},f.prototype.getEditorContents=function(){return this.value},f.prototype.getEditorSelection=function(){return this.selection},f.prototype.isDelta=function(m){return m&&m.ops},f.prototype.isEqualValue=function(m,h){return this.isDelta(m)&&this.isDelta(h)?o.default(m.ops,h.ops):o.default(m,h)},f.prototype.setEditorContents=function(m,h){var v=this;this.value=h;var x=this.getEditorSelection();typeof h=="string"?m.setContents(m.clipboard.convert(h)):m.setContents(h),u(function(){return v.setEditorSelection(m,x)})},f.prototype.setEditorSelection=function(m,h){if(this.selection=h,h){var v=m.getLength();h.index=Math.max(0,Math.min(h.index,v-1)),h.length=Math.max(0,Math.min(h.length,v-1-h.index)),m.setSelection(h)}},f.prototype.setEditorTabIndex=function(m,h){var v,x;!((x=(v=m)===null||v===void 0?void 0:v.scroll)===null||x===void 0)&&x.domNode&&(m.scroll.domNode.tabIndex=h)},f.prototype.setEditorReadOnly=function(m,h){h?m.disable():m.enable()},f.prototype.makeUnprivilegedEditor=function(m){var h=m;return{getHTML:function(){return h.root.innerHTML},getLength:h.getLength.bind(h),getText:h.getText.bind(h),getContents:h.getContents.bind(h),getSelection:h.getSelection.bind(h),getBounds:h.getBounds.bind(h)}},f.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var m=a.default.findDOMNode(this.editingArea);if(!m)throw new Error("Cannot find element for editing area");if(m.nodeType===3)throw new Error("Editing area cannot be a text node");return m},f.prototype.renderEditingArea=function(){var m=this,h=this.props,v=h.children,x=h.preserveWhitespace,b=this.state.generation,p={key:b,ref:function(y){m.editingArea=y}};return i.default.Children.count(v)?i.default.cloneElement(i.default.Children.only(v),p):x?i.default.createElement("pre",e({},p)):i.default.createElement("div",e({},p))},f.prototype.render=function(){var m;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(m=this.props.className,m??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},f.prototype.onEditorChangeText=function(m,h,v,x){var b,p;if(this.editor){var y=this.isDelta(this.value)?x.getContents():x.getHTML();y!==this.getEditorContents()&&(this.lastDeltaChangeSet=h,this.value=y,(p=(b=this.props).onChange)===null||p===void 0||p.call(b,m,h,v,x))}},f.prototype.onEditorChangeSelection=function(m,h,v){var x,b,p,y,N,w;if(this.editor){var j=this.getEditorSelection(),k=!j&&m,I=j&&!m;o.default(m,j)||(this.selection=m,(b=(x=this.props).onChangeSelection)===null||b===void 0||b.call(x,m,h,v),k?(y=(p=this.props).onFocus)===null||y===void 0||y.call(p,m,h,v):I&&((w=(N=this.props).onBlur)===null||w===void 0||w.call(N,j,h,v)))}},f.prototype.focus=function(){this.editor&&this.editor.focus()},f.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},f.displayName="React Quill",f.Quill=l.default,f.defaultProps={theme:"snow",modules:{},readOnly:!1},f}(i.default.Component);function u(A){Promise.resolve().then(A)}return lo=c,lo}var xP=gP();const yP=W2(xP),Gw=[{name:"Quittance de loyer mensuelle",subject:"Quittance de loyer - {{month}}",category:"financial",documentTemplateId:"550e8400-e29b-41d4-a716-446655440003",content:`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quittance de loyer - {{month}}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #4F46E5;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
      background-color: #f1f1f1;
      border-radius: 0 0 5px 5px;
      border: 1px solid #ddd;
    }
    .receipt {
      border: 1px solid #ddd;
      padding: 20px;
      margin: 20px 0;
      background-color: white;
      border-radius: 5px;
    }
    .receipt-header {
      text-align: center;
      margin-bottom: 20px;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .receipt-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    .receipt-table th, .receipt-table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    .receipt-table th {
      background-color: #f5f5f5;
    }
    .receipt-table .total {
      font-weight: bold;
      background-color: #f5f5f5;
    }
    .button {
      display: inline-block;
      background-color: #4F46E5;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
    .attachment-note {
      background-color: #e8f4fd;
      border: 1px solid #b8e0fd;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Quittance de Loyer</h1>
    <p>{{month}}</p>
  </div>
  <div class="content">
    <h2>Bonjour {{tenant_name}},</h2>
    <p>Veuillez trouver ci-dessous votre quittance de loyer pour le mois de {{month}}.</p>
    
    <div class="receipt">
      <div class="receipt-header">
        <h2>QUITTANCE DE LOYER</h2>
        <p>Période : {{month}}</p>
      </div>
      
      <p><strong>Bailleur :</strong> {{landlord_name}}</p>
      <p><strong>Locataire :</strong> {{tenant_name}}</p>
      <p><strong>Adresse du logement :</strong> {{property_address}}</p>
      
      <table class="receipt-table">
        <tr>
          <th>Désignation</th>
          <th>Montant</th>
        </tr>
        <tr>
          <td>Loyer</td>
          <td>{{rent_amount}}€</td>
        </tr>
        <tr>
          <td>Charges</td>
          <td>{{charges_amount}}€</td>
        </tr>
        <tr class="total">
          <td>Total</td>
          <td>{{total_amount}}€</td>
        </tr>
      </table>
      
      <p>Je soussigné(e), {{landlord_name}}, propriétaire du logement désigné ci-dessus, déclare avoir reçu de {{tenant_name}} la somme de {{total_amount}}€ ({{total_amount}} euros) au titre du loyer et des charges pour la période du 1er au dernier jour de {{month}}.</p>
      
      <p>Cette quittance annule tous les reçus qui auraient pu être établis pour la même période.</p>
      
      <p>Fait le {{current_date}}</p>
      
      <p><strong>{{landlord_name}}</strong><br>Signature</p>
    </div>
    
    <div class="attachment-note">
      <p><strong>Note :</strong> Vous trouverez également cette quittance en pièce jointe au format PDF pour vos archives.</p>
    </div>
    
    <p>Pour toute question concernant cette quittance, n'hésitez pas à me contacter.</p>
    
    <p>Cordialement,</p>
    <p><strong>{{landlord_name}}</strong><br>Propriétaire</p>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
    <p>Cet email a été généré automatiquement, merci de ne pas y répondre directement.</p>
  </div>
</body>
</html>`},{name:"Rappel de paiement",subject:"Rappel : Paiement du loyer {{month}}",category:"financial",documentTemplateId:void 0,content:`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rappel : Paiement du loyer {{month}}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #F59E0B;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
      background-color: #f1f1f1;
      border-radius: 0 0 5px 5px;
      border: 1px solid #ddd;
    }
    .alert-box {
      background-color: #fff3cd;
      border: 1px solid #ffeeba;
      color: #856404;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .payment-details {
      background-color: #e8f4fd;
      border: 1px solid #b8e0fd;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .button {
      display: inline-block;
      background-color: #F59E0B;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Rappel de Paiement</h1>
  </div>
  <div class="content">
    <h2>Bonjour {{tenant_name}},</h2>
    <p>Nous vous rappelons que le paiement du loyer pour le mois de {{month}} n'a pas encore été enregistré.</p>
    
    <div class="alert-box">
      <p><strong>Détails du paiement en attente :</strong></p>
      <ul>
        <li>Loyer : {{rent_amount}}€</li>
        <li>Charges : {{charges_amount}}€</li>
        <li>Total dû : {{total_amount}}€</li>
        <li>Date d'échéance : 5 {{month}}</li>
      </ul>
    </div>
    
    <p>Si vous avez déjà effectué ce paiement, veuillez ignorer ce message et nous faire parvenir le justificatif de paiement par retour d'email.</p>
    
    <div class="payment-details">
      <p><strong>Coordonnées bancaires pour le paiement :</strong></p>
      <p>IBAN : FR76 XXXX XXXX XXXX XXXX XXXX XXX</p>
      <p>BIC : XXXXXXXX</p>
      <p>Titulaire : {{landlord_name}}</p>
      <p>Référence à indiquer : LOYER {{month}} - {{property_name}}</p>
    </div>
    
    <p>Pour toute question ou difficulté concernant ce paiement, n'hésitez pas à me contacter directement.</p>
    
    <p>Cordialement,</p>
    <p><strong>{{landlord_name}}</strong><br>Propriétaire</p>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
    <p>Cet email a été généré automatiquement, merci de ne pas y répondre directement.</p>
  </div>
</body>
</html>`},{name:"Rappel d'assurance habitation",subject:"Rappel : Attestation d'assurance habitation",category:"administrative",documentTemplateId:void 0,content:`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rappel : Attestation d'assurance habitation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #10B981;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
      background-color: #f1f1f1;
      border-radius: 0 0 5px 5px;
      border: 1px solid #ddd;
    }
    .info-box {
      background-color: #d1fae5;
      border: 1px solid #a7f3d0;
      color: #065f46;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .button {
      display: inline-block;
      background-color: #10B981;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Rappel d'Assurance Habitation</h1>
  </div>
  <div class="content">
    <h2>Bonjour {{tenant_name}},</h2>
    <p>Je me permets de vous contacter concernant votre attestation d'assurance habitation pour le logement situé au :</p>
    <p><strong>{{property_address}}</strong></p>
    
    <div class="info-box">
      <p><strong>Rappel important :</strong></p>
      <p>Conformément à l'article 7 de la loi du 6 juillet 1989, tout locataire est tenu de s'assurer contre les risques locatifs (dégâts des eaux, incendie, etc.) et de justifier de cette assurance lors de la remise des clés puis chaque année à la date d'anniversaire du contrat.</p>
    </div>
    
    <p>Selon nos dossiers, votre attestation d'assurance habitation arrive à échéance prochainement ou est déjà expirée.</p>
    
    <p>Nous vous remercions de bien vouloir nous faire parvenir votre nouvelle attestation d'assurance habitation dès que possible, soit :</p>
    <ul>
      <li>Par email en réponse à ce message</li>
      <li>Par courrier à l'adresse suivante : [Votre adresse]</li>
      <li>Via votre espace locataire sur notre plateforme</li>
    </ul>
    
    <p>Pour rappel, l'absence d'assurance habitation peut constituer un motif de résiliation de bail.</p>
    
    <p>Je vous remercie pour votre compréhension et reste à votre disposition pour toute question.</p>
    
    <p>Cordialement,</p>
    <p><strong>{{landlord_name}}</strong><br>Propriétaire</p>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
    <p>Cet email a été généré automatiquement, merci de ne pas y répondre directement.</p>
  </div>
</body>
</html>`},{name:"Notification d'incident",subject:"Incident signalé - {{property_name}}",category:"property",documentTemplateId:void 0,content:`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Incident signalé - {{property_name}}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #EF4444;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
      background-color: #f1f1f1;
      border-radius: 0 0 5px 5px;
      border: 1px solid #ddd;
    }
    .incident-box {
      background-color: #fee2e2;
      border: 1px solid #fecaca;
      color: #991b1b;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .action-box {
      background-color: #e8f4fd;
      border: 1px solid #b8e0fd;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .button {
      display: inline-block;
      background-color: #EF4444;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Incident Signalé</h1>
  </div>
  <div class="content">
    <h2>Bonjour {{landlord_name}},</h2>
    <p>Un incident a été signalé concernant votre bien situé au :</p>
    <p><strong>{{property_address}}</strong></p>
    
    <div class="incident-box">
      <p><strong>Détails de l'incident :</strong></p>
      <ul>
        <li><strong>Type :</strong> {{incident_type}}</li>
        <li><strong>Date du signalement :</strong> {{incident_date}}</li>
        <li><strong>Signalé par :</strong> {{tenant_name}}</li>
        <li><strong>Description :</strong> {{incident_description}}</li>
      </ul>
    </div>
    
    <div class="action-box">
      <p><strong>Actions recommandées :</strong></p>
      <ol>
        <li>Contacter le locataire pour obtenir plus d'informations</li>
        <li>Planifier une visite pour évaluer les dégâts si nécessaire</li>
        <li>Contacter un professionnel pour les réparations</li>
        <li>Mettre à jour le statut de l'incident dans votre espace propriétaire</li>
      </ol>
    </div>
    
    <p>Pour plus de détails ou pour gérer cet incident, veuillez vous connecter à votre espace propriétaire.</p>
    
    <a href="#" class="button">Voir les détails de l'incident</a>
    
    <p>Cordialement,</p>
    <p><strong>L'équipe EasyBail</strong></p>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
    <p>Cet email a été généré automatiquement, merci de ne pas y répondre directement.</p>
  </div>
</body>
</html>`},{name:"Révision annuelle du loyer",subject:"Information : Révision annuelle de votre loyer",category:"financial",documentTemplateId:void 0,content:`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Information : Révision annuelle de votre loyer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #8B5CF6;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
      background-color: #f1f1f1;
      border-radius: 0 0 5px 5px;
      border: 1px solid #ddd;
    }
    .calculation-box {
      background-color: #ede9fe;
      border: 1px solid #ddd6fe;
      color: #5b21b6;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .legal-box {
      background-color: #e8f4fd;
      border: 1px solid #b8e0fd;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
      font-size: 0.9em;
    }
    .button {
      display: inline-block;
      background-color: #8B5CF6;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 10px;
      text-align: left;
    }
    th {
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Révision Annuelle de Loyer</h1>
  </div>
  <div class="content">
    <h2>Bonjour {{tenant_name}},</h2>
    <p>Conformément aux dispositions de votre contrat de bail et à la législation en vigueur, je vous informe que le loyer de votre logement situé au :</p>
    <p><strong>{{property_address}}</strong></p>
    <p>fera l'objet d'une révision annuelle à compter du <strong>{{revision_date}}</strong>.</p>
    
    <div class="calculation-box">
      <p><strong>Calcul de la révision :</strong></p>
      <table>
        <tr>
          <td>Loyer actuel</td>
          <td>{{rent_amount}}€</td>
        </tr>
        <tr>
          <td>Indice IRL de référence (initial)</td>
          <td>{{old_index_value}}</td>
        </tr>
        <tr>
          <td>Nouvel indice IRL ({{new_index_quarter}})</td>
          <td>{{new_index_value}}</td>
        </tr>
        <tr>
          <td>Variation de l'indice</td>
          <td>{{index_variation}}%</td>
        </tr>
        <tr>
          <th>Nouveau loyer</th>
          <th>{{new_rent_amount}}€</th>
        </tr>
      </table>
    </div>
    
    <p>Cette révision représente une augmentation de <strong>{{rent_increase_amount}}€</strong> par mois.</p>
    
    <p>Le nouveau montant total mensuel à payer sera donc :</p>
    <ul>
      <li>Loyer : <strong>{{new_rent_amount}}€</strong></li>
      <li>Charges : <strong>{{charges_amount}}€</strong> (inchangées)</li>
      <li><strong>Total : {{new_total_amount}}€</strong></li>
    </ul>
    
    <div class="legal-box">
      <p><strong>Base légale :</strong></p>
      <p>Cette révision est effectuée conformément à l'article 17-1 de la loi n°89-462 du 6 juillet 1989, sur la base de l'Indice de Référence des Loyers (IRL) publié par l'INSEE.</p>
    </div>
    
    <p>Ce nouveau loyer sera applicable à partir du <strong>{{revision_date}}</strong>. Je vous remercie de bien vouloir prendre vos dispositions pour ajuster votre paiement mensuel en conséquence.</p>
    
    <p>Pour toute question concernant cette révision, n'hésitez pas à me contacter.</p>
    
    <p>Cordialement,</p>
    <p><strong>{{landlord_name}}</strong><br>Propriétaire</p>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
    <p>Cet email a été généré automatiquement, merci de ne pas y répondre directement.</p>
  </div>
</body>
</html>`},{name:"Fin de bail - Informations",subject:"Informations concernant la fin de votre bail",category:"tenant",documentTemplateId:void 0,content:`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Informations concernant la fin de votre bail</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #3B82F6;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
      border-left: 1px solid #ddd;
      border-right: 1px solid #ddd;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
      background-color: #f1f1f1;
      border-radius: 0 0 5px 5px;
      border: 1px solid #ddd;
    }
    .info-box {
      background-color: #dbeafe;
      border: 1px solid #bfdbfe;
      color: #1e40af;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .checklist {
      background-color: #f3f4f6;
      border: 1px solid #e5e7eb;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .checklist ul {
      padding-left: 20px;
    }
    .checklist li {
      margin-bottom: 10px;
    }
    .button {
      display: inline-block;
      background-color: #3B82F6;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Fin de Bail</h1>
  </div>
  <div class="content">
    <h2>Bonjour {{tenant_name}},</h2>
    <p>Je me permets de vous contacter concernant la fin prochaine de votre bail pour le logement situé au :</p>
    <p><strong>{{property_address}}</strong></p>
    
    <div class="info-box">
      <p><strong>Informations importantes :</strong></p>
      <ul>
        <li>Date de fin du bail : <strong>{{lease_end_date}}</strong></li>
        <li>Date prévue de l'état des lieux de sortie : à convenir ensemble</li>
      </ul>
    </div>
    
    <p>Afin de préparer au mieux votre départ, voici quelques points importants à prendre en compte :</p>
    
    <div class="checklist">
      <p><strong>Checklist pour votre départ :</strong></p>
      <ul>
        <li>Résilier vos contrats (électricité, gaz, internet, etc.)</li>
        <li>Effectuer le nettoyage complet du logement</li>
        <li>Réparer les éventuels dommages mineurs</li>
        <li>Préparer tous les jeux de clés à rendre</li>
        <li>Relever les compteurs (eau, électricité, gaz)</li>
        <li>Vider entièrement le logement de vos effets personnels</li>
        <li>Prendre rendez-vous pour l'état des lieux de sortie</li>
      </ul>
    </div>
    
    <p>Je vous propose de convenir ensemble d'une date pour l'état des lieux de sortie. Merci de me communiquer vos disponibilités pour les jours précédant la fin du bail.</p>
    
    <p>Concernant votre dépôt de garantie, il vous sera restitué dans un délai d'un mois à compter de la remise des clés si l'état des lieux de sortie est conforme à l'état des lieux d'entrée, ou dans un délai de deux mois si des réparations sont nécessaires.</p>
    
    <p>N'hésitez pas à me contacter pour toute question concernant votre départ.</p>
    
    <p>Cordialement,</p>
    <p><strong>{{landlord_name}}</strong><br>Propriétaire</p>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
    <p>Cet email a été généré automatiquement, merci de ne pas y répondre directement.</p>
  </div>
</body>
</html>`}];class vP{templates=[];isLoading=!1;lastLoaded=0;CACHE_DURATION=300*1e3;constructor(){this.initDefaultTemplates()}async initDefaultTemplates(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)return;if((await this.getTemplates()).length===0){console.log("Aucun template trouvé, initialisation des templates par défaut...");for(const n of Gw)await this.saveTemplate(n)}}catch(e){console.error("Erreur lors de l'initialisation des templates par défaut:",e)}}async getTemplatesFromDB(){try{const{data:e}=await Je.auth.getUser();if(!e?.user)return console.warn("Utilisateur non connecté. Impossible de récupérer les templates depuis Supabase."),[];const{data:t,error:n}=await Je.from("email_templates").select("*").eq("user_id",e.user.id).order("created_at",{ascending:!1});return n?(console.error("Erreur Supabase lors de la récupération des templates:",n),this.getTemplatesFromLocalStorage()):(t||[]).map(i=>({id:i.id,name:i.name,subject:i.subject,content:i.content,category:i.category,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}))}catch(e){console.error("Erreur lors de la récupération des templates depuis Supabase:",e);try{return this.getTemplatesFromLocalStorage()}catch(t){return console.error("Erreur lors de la récupération depuis localStorage:",t),[]}}}getTemplatesFromLocalStorage(){try{const e=localStorage.getItem("easybail_email_templates");return e?JSON.parse(e).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(e){return console.error("Erreur lors de la récupération des templates depuis localStorage:",e),[]}}async getTemplates(){const e=Date.now();if(this.templates.length>0&&e-this.lastLoaded<this.CACHE_DURATION)return this.templates;if(this.isLoading)return this.templates;this.isLoading=!0;try{const t=await this.getTemplatesFromDB();return this.templates=t,this.lastLoaded=e,t}catch(t){return console.error("Erreur lors de la récupération des templates:",t),this.templates}finally{this.isLoading=!1}}getTemplatesSync(){return this.templates}async saveTemplate(e){try{const{data:t}=await Je.auth.getUser();if(!t?.user)throw new Error("Utilisateur non connecté");const n=!e.id||e.id.startsWith("template_"),i=new Date;if(n){const{data:a,error:o}=await Je.from("email_templates").insert({user_id:t.user.id,name:e.name,subject:e.subject,content:e.content,category:e.category}).select().single();if(o)throw o;const l={id:a.id,name:a.name,subject:a.subject,content:a.content,category:a.category,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)};this.templates.unshift(l)}else{const{error:a}=await Je.from("email_templates").update({name:e.name,subject:e.subject,content:e.content,category:e.category,updated_at:i.toISOString()}).eq("id",e.id);if(a)throw a;const o=this.templates.findIndex(l=>l.id===e.id);o>=0&&(this.templates[o]={...e,updatedAt:i})}return!0}catch(t){return console.error("Erreur lors de la sauvegarde du template:",t),this.saveTemplateToLocalStorage(e)}}saveTemplateToLocalStorage(e){try{const t=this.getTemplatesFromLocalStorage(),n=t.findIndex(a=>a.id===e.id),i=new Date;return n>=0?t[n]={...e,updatedAt:i}:t.push({...e,id:e.id||`template_${Date.now()}`,createdAt:i,updatedAt:i}),localStorage.setItem("easybail_email_templates",JSON.stringify(t)),this.templates=t,this.lastLoaded=Date.now(),!0}catch(t){return console.error("Erreur lors de la sauvegarde du template dans localStorage:",t),!1}}async deleteTemplate(e){try{const{error:t}=await Je.from("email_templates").delete().eq("id",e);if(t)throw t;return this.templates=this.templates.filter(n=>n.id!==e),!0}catch(t){return console.error("Erreur lors de la suppression du template:",t),this.deleteTemplateFromLocalStorage(e)}}deleteTemplateFromLocalStorage(e){try{const n=this.getTemplatesFromLocalStorage().filter(i=>i.id!==e);return localStorage.setItem("easybail_email_templates",JSON.stringify(n)),this.templates=n,!0}catch(t){return console.error("Erreur lors de la suppression du template dans localStorage:",t),!1}}async getTemplateById(e){try{const t=this.templates.find(o=>o.id===e);if(t)return t;const{data:n,error:i}=await Je.from("email_templates").select("*").eq("id",e).single();if(i)throw i;return{id:n.id,name:n.name,subject:n.subject,content:n.content,category:n.category,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)}}catch(t){return console.error("Erreur lors de la récupération du template:",t),this.getTemplateByIdFromLocalStorage(e)}}getTemplateByIdFromLocalStorage(e){try{return this.getTemplatesFromLocalStorage().find(n=>n.id===e)||null}catch(t){return console.error("Erreur lors de la récupération du template depuis localStorage:",t),null}}async getTemplatesByCategory(e){try{return(await this.getTemplates()).filter(n=>n.category===e)}catch(t){return console.error("Erreur lors de la récupération des templates par catégorie:",t),[]}}processTemplate(e,t){try{if(!e)return console.error("Erreur: templateId est undefined ou null"),null;let n=this.templates.find(c=>c.id===e);if(!n&&(console.warn(`Template ${e} non trouvé dans le cache, tentative de chargement...`),n=this.getTemplatesFromLocalStorage().find(u=>u.id===e),!n))return console.error(`Template ${e} introuvable dans le cache et le localStorage`),null;let i=n.subject,a="";a=n.content;try{t?Object.entries(t).forEach(([c,u])=>{const A=new RegExp(`{{${c}}}`,"g");a=a.replace(A,String(u||""))}):console.warn(`Aucune donnée fournie pour le template ${e}`)}catch(c){throw console.error("Erreur lors du remplacement des variables dans le contenu:",c),new Error(`Erreur lors du remplacement des variables dans le contenu: ${c instanceof Error?c.message:"Erreur inconnue"}`)}try{t&&Object.entries(t).forEach(([c,u])=>{const A=new RegExp(`{{${c}}}`,"g");i=i.replace(A,String(u||""))})}catch(c){throw console.error("Erreur lors du remplacement des variables dans le sujet:",c),new Error(`Erreur lors du remplacement des variables dans le sujet: ${c instanceof Error?c.message:"Erreur inconnue"}`)}const o=a.match(/{{[^{}]+}}/g),l=i.match(/{{[^{}]+}}/g);return o&&o.length>0&&console.warn(`Variables non remplacées dans le contenu: ${o.join(", ")}`),l&&l.length>0&&console.warn(`Variables non remplacées dans le sujet: ${l.join(", ")}`),{subject:i,content:a,documentTemplateId:n.documentTemplateId}}catch(n){throw console.error(`Erreur lors du traitement du template ${e}:`,n),new Error(`Erreur lors du traitement du template: ${n instanceof Error?n.message:"Erreur inconnue"}`)}}async sendEmailFromTemplate(e,t,n,i){try{if(!aa.isConfigured())return{success:!1,error:"Le service mail n'est pas configuré. Utilisation du service local."};const a=this.processTemplate(e,n);if(!a)return{success:!1,error:"Template non trouvé ou erreur lors du traitement"};let o=a.content,l=i?.attachments||[];if(a.documentTemplateId)try{const{documentStorage:u}=await La(async()=>{const{documentStorage:f}=await Promise.resolve().then(()=>Ik);return{documentStorage:f}},void 0),A=await u.getDocument(a.documentTemplateId);if(A)if(A.metadata.pdfData){const f=A.metadata.pdfData.split(",")[1];l.push({filename:`${A.name}.pdf`,content:f,contentType:"application/pdf"}),console.log(`Document PDF joint avec succès: ${A.name}.pdf`)}else console.warn(`Pas de PDF pré-généré pour le document ${A.id}`)}catch(u){console.error(`Erreur lors de la récupération du document: ${u instanceof Error?u.message:"Erreur inconnue"}`)}const c=await aa.sendEmail({to:t,cc:i?.cc,bcc:i?.bcc,subject:a.subject,html:o,attachments:l.length>0?l:i?.attachments});return!c.success&&c.error?.includes("mail n'est pas configuré")?(console.log("Service mail non configuré, utilisation du service local"),await qs.sendEmail({to:t,cc:i?.cc,bcc:i?.bcc,subject:a.subject,html:o,attachments:l.length>0?l:i?.attachments})):c}catch(a){console.error("Erreur lors de l'envoi de l'email:",a);try{return console.log("Erreur avec le service mail principal, tentative avec le service local"),await qs.sendEmail({to:t,cc:i?.cc,bcc:i?.bcc,subject:processed?.subject||"Email sans sujet",html:processed?.content||"Contenu non disponible",attachments:i?.attachments})}catch(o){return{success:!1,error:`Erreur principale: ${a instanceof Error?a.message:"Erreur inconnue"}. Erreur locale: ${o instanceof Error?o.message:"Erreur inconnue"}`}}}}prepareTenantData(e,t){return{tenant_name:e?`${e.firstName} ${e.lastName}`:"",tenant_email:e?e.email:"",tenant_phone:e&&e.phone||"",property_name:t?t.name:"",property_address:t?t.address:"",property_type:t?t.type:"",rent_amount:t?t.rent.toString():"0",charges_amount:t?t.charges.toString():"0",total_amount:t?(t.rent+t.charges).toString():"0",lease_start_date:e?e.leaseStart.toLocaleDateString():"",lease_end_date:e?e.leaseEnd.toLocaleDateString():"",month:new Date().toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),current_date:new Date().toLocaleDateString("fr-FR"),landlord_name:"Propriétaire",landlord_email:"",landlord_phone:""}}}const vo=new vP;vo.getTemplates().catch(r=>{console.warn("Erreur lors du préchargement des templates:",r)});const D6=({isOpen:r,onClose:e,initialTemplate:t})=>{const[n,i]=Ae.useState([]),[a,o]=Ae.useState(!1),[l,c]=Ae.useState(t||null),[u,A]=Ae.useState(!!t),[f,m]=Ae.useState(!1),[h,v]=Ae.useState(""),[x,b]=Ae.useState("all"),[p,y]=Ae.useState(!1),[N,w]=Ae.useState(null),[j,k]=Ae.useState(""),[I,F]=Ae.useState(!1),[C,P]=Ae.useState(null),[T,_]=Ae.useState(null),[U,S]=Ae.useState(!1),[X,ie]=Ae.useState(Date.now()),[Z,ce]=Ae.useState([]),[re,ae]=Ae.useState(!1),[M,L]=Ae.useState({name:t?.name||"",subject:t?.subject||"",content:t?.content||"",category:t?.category||"other",documentTemplateId:t?.documentTemplateId}),V=async()=>{if(r){o(!0);try{const fe=await vo.getTemplates();i(fe)}catch(fe){console.error("Erreur lors du chargement des templates:",fe),w({type:"error",text:"Erreur lors du chargement des templates"})}finally{o(!1)}}};Ae.useEffect(()=>{V()},[r]),Ae.useEffect(()=>{r&&K()},[r]);const K=async()=>{try{ae(!0);const{documentStorage:fe}=await La(async()=>{const{documentStorage:be}=await Promise.resolve().then(()=>Ik);return{documentStorage:be}},void 0),de=await fe.getDocumentsList();ce(de)}catch(fe){console.error("Erreur lors du chargement des documents:",fe)}finally{ae(!1)}};Ae.useEffect(()=>{t&&(c(t),L({name:t.name,subject:t.subject,content:t.content,category:t.category,documentTemplateId:t.documentTemplateId}),A(!0))},[t]);const ee=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Template Email</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #4F46E5;
      color: white;
      padding: 20px;
      text-align: center;
    }
    .content {
      padding: 20px;
      background-color: #f9f9f9;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: #666;
    }
    .button {
      display: inline-block;
      background-color: #4F46E5;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>EasyBail</h1>
  </div>
  <div class="content">
    <h2>Bonjour,</h2>
    <p>Voici votre message personnalisé.</p>
    <p>Détails de votre bien:</p>
    <ul>
      <li>Adresse: [Adresse du bien]</li>
      <li>Loyer: [Montant du loyer]€</li>
      <li>Charges: [Montant des charges]€</li>
    </ul>
    <a href="https://example.com" class="button">Voir plus de détails</a>
  </div>
  <div class="footer">
    <p>© 2025 EasyBail. Tous droits réservés.</p>
  </div>
</body>
</html>`,z=fe=>{const{name:de,value:be}=fe.target;L(Ee=>({...Ee,[de]:be}))},D=fe=>{const de=fe.target.files?.[0];if(de){_(de);const be=de.name.replace(/\.[^/.]+$/,"");L(Ee=>({...Ee,name:be}))}},H=async()=>{if(T){S(!0);try{const fe=await T.text();if(L(de=>({...de,content:fe})),ie(Date.now()),!M.subject){const de=fe.match(/<title>(.*?)<\/title>/i);de&&de[1]&&L(be=>({...be,subject:de[1]}))}w({type:"success",text:"Template chargé avec succès"})}catch(fe){console.error("Erreur lors du chargement du fichier:",fe),w({type:"error",text:"Erreur lors du chargement du fichier"})}finally{S(!1),_(null)}}},ne=()=>{c(null),L({name:"",subject:"",content:ee,category:"other"}),A(!0),m(!1)},ue=fe=>{c(fe),L({name:fe.name,subject:fe.subject,content:fe.content,category:fe.category}),A(!0),m(!1)},le=fe=>{c(fe),L({name:fe.name,subject:fe.subject,content:fe.content,category:fe.category}),A(!1),m(!0)},he=async fe=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce template ?")){y(!0);try{await vo.deleteTemplate(fe)?(i(be=>be.filter(Ee=>Ee.id!==fe)),l?.id===fe&&(c(null),A(!1),m(!1)),w({type:"success",text:"Template supprimé avec succès"})):w({type:"error",text:"Erreur lors de la suppression du template"})}catch(de){console.error("Erreur lors de la suppression du template:",de),w({type:"error",text:"Erreur lors de la suppression du template"})}finally{y(!1)}}},Be=async fe=>{y(!0);try{const de={...fe,id:"template_"+Date.now(),name:`${fe.name} (copie)`,createdAt:new Date,updatedAt:new Date};await vo.saveTemplate(de)?(await V(),w({type:"success",text:"Template dupliqué avec succès"})):w({type:"error",text:"Erreur lors de la duplication du template"})}catch(de){console.error("Erreur lors de la duplication du template:",de),w({type:"error",text:"Erreur lors de la duplication du template"})}finally{y(!1)}},te=async()=>{if(y(!0),w(null),!M.name||!M.subject||!M.content){w({type:"error",text:"Veuillez remplir tous les champs obligatoires"}),y(!1);return}const fe={id:l?.id||"",...M,createdAt:l?.createdAt||new Date,updatedAt:new Date};try{if(await vo.saveTemplate(fe)){if(await V(),!l){const be=n.find(Ee=>Ee.name===M.name&&Ee.subject===M.subject&&Ee.category===M.category);be&&c(be)}A(!1),w({type:"success",text:"Template enregistré avec succès"})}else w({type:"error",text:"Erreur lors de l'enregistrement du template"})}catch(de){console.error("Erreur lors de l'enregistrement du template:",de),w({type:"error",text:"Erreur lors de l'enregistrement du template"})}finally{y(!1)}},je=async()=>{if(!j){w({type:"error",text:"Veuillez saisir une adresse email de test"});return}if(!l){w({type:"error",text:"Aucun template sélectionné"});return}F(!0),w(null);try{if(!aa.isConfigured()){w({type:"error",text:"Le service mail n'est pas configuré. Veuillez configurer le serveur mail dans les paramètres d'administration."});return}const fe={tenant_name:"Jean Dupont",tenant_email:j,property_name:"Appartement Test",property_address:"15 rue de la Paix, 75001 Paris",rent_amount:"1200",charges_amount:"150",total_amount:"1350",month:"Janvier 2025",landlord_name:"Pierre Martin"},de=vo.processTemplate(l.id,fe);if(!de){w({type:"error",text:"Erreur lors du traitement du template"});return}const be=await aa.sendEmail({to:j,subject:de.subject,html:de.content});be.success?(w({type:"success",text:`Email de test envoyé avec succès à ${j}`}),e()):w({type:"error",text:`Erreur lors de l'envoi: ${be.error}`})}catch(fe){w({type:"error",text:`Erreur lors de l'envoi: ${fe instanceof Error?fe.message:"Erreur inconnue"}`})}finally{F(!1)}},$=fe=>{if(fe.target.files&&fe.target.files.length>0){P(fe.target.files[0]);const de=new FileReader;de.onload=be=>{if(be.target&&typeof be.target.result=="string"){const Ee=be.target.result;let ke="";const He=Ee.match(/<title>(.*?)<\/title>/i);He&&He[1]&&(ke=He[1]),L(Ye=>({...Ye,content:Ee,name:fe.target.files?.[0].name.replace(/\.[^/.]+$/,"")||Ye.name,subject:ke||Ye.subject})),ie(Date.now()),w({type:"success",text:"Fichier HTML chargé avec succès"})}},de.onerror=()=>{w({type:"error",text:"Erreur lors de la lecture du fichier"})},de.readAsText(fe.target.files[0])}},q=fe=>{const de=Gw[fe];de&&(L({name:de.name,subject:de.subject,content:de.content,category:de.category}),ie(Date.now()),w({type:"success",text:`Template "${de.name}" importé avec succès`}))},Q=n.filter(fe=>{const de=fe.name.toLowerCase().includes(h.toLowerCase())||fe.subject.toLowerCase().includes(h.toLowerCase()),be=x==="all"||fe.category===x;return de&&be}),G=fe=>{switch(fe){case"tenant":return"Locataire";case"property":return"Bien";case"financial":return"Financier";case"administrative":return"Administratif";case"other":return"Autre";default:return fe}},me=fe=>{switch(fe){case"tenant":return"bg-blue-100 text-blue-800";case"property":return"bg-green-100 text-green-800";case"financial":return"bg-purple-100 text-purple-800";case"administrative":return"bg-orange-100 text-orange-800";case"other":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-7xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Wt,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Éditeur de templates d'emails"})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-96 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("button",{onClick:ne,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Nouveau template"})]}),a&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Cr,{className:"h-6 w-6 animate-spin text-blue-600"})}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un template...",value:h,onChange:fe=>v(fe.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("select",{value:x,onChange:fe=>b(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Toutes les catégories"}),s.jsx("option",{value:"tenant",children:"Locataire"}),s.jsx("option",{value:"property",children:"Bien"}),s.jsx("option",{value:"financial",children:"Financier"}),s.jsx("option",{value:"administrative",children:"Administratif"}),s.jsx("option",{value:"other",children:"Autre"})]})})]})]}),n.length===0&&!a&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Wt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun template trouvé"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Créez votre premier template d'email"})]}),s.jsxs("div",{className:"divide-y divide-gray-200 mt-2",children:[Q.map(fe=>s.jsxs("div",{className:`p-4 hover:bg-gray-100 cursor-pointer transition-colors ${l?.id===fe.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>le(fe),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:fe.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${me(fe.category)}`,children:G(fe.category)})]}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:fe.subject}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:["Modifié le ",fe.updatedAt.toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:de=>{de.stopPropagation(),ue(fe)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-3 w-3"})}),s.jsx("button",{onClick:de=>{de.stopPropagation(),Be(fe)},className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",title:"Dupliquer",children:s.jsx(l0,{className:"h-3 w-3"})}),s.jsx("button",{onClick:de=>{de.stopPropagation(),he(fe.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-3 w-3"})})]})]})]},fe.id)),Q.length===0&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Wt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun template trouvé"})]})]})]}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:l||u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[N&&s.jsx("div",{className:`mb-4 p-4 rounded-lg ${N.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[N.type==="success"?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsx("p",{className:"text-sm font-medium",children:N.text})]})}),u?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du template *"}),s.jsx("input",{type:"text",name:"name",value:M.name,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Bienvenue au locataire"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sujet de l'email *"}),s.jsx("input",{type:"text",name:"subject",value:M.subject,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Bienvenue dans votre nouveau logement"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),s.jsxs("select",{name:"category",value:M.category,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"tenant",children:"Locataire"}),s.jsx("option",{value:"property",children:"Bien"}),s.jsx("option",{value:"financial",children:"Financier"}),s.jsx("option",{value:"administrative",children:"Administratif"}),s.jsx("option",{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Importer un template HTML"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("label",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:".html,.htm",onChange:D,className:"hidden"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 cursor-pointer transition-colors",children:[s.jsx(dU,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:T?T.name:"Choisir un fichier HTML"})]})]}),T&&s.jsxs("button",{onClick:H,disabled:U,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1 disabled:opacity-50",children:[U?s.jsx(Cr,{className:"h-4 w-4 animate-spin"}):s.jsx(Oh,{className:"h-4 w-4"}),s.jsx("span",{children:"Charger"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Importez un fichier HTML pour créer un template rapidement"})]}),s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contenu HTML *",s.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"(Vous pouvez aussi importer un fichier HTML)"})]}),s.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[s.jsx(Oh,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Importer un fichier HTML"}),s.jsx("input",{type:"file",accept:".html,.htm",onChange:$,className:"hidden"})]}),C&&s.jsxs("span",{className:"text-sm text-gray-600",children:["Fichier sélectionné: ",C.name]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Ou utilisez un template prédéfini :"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Gw.map((fe,de)=>s.jsx("button",{type:"button",onClick:()=>q(de),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors",children:fe.name},de))})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(yP,{theme:"snow",value:M.content,onChange:fe=>L(de=>({...de,content:fe})),style:{height:"500px",marginBottom:"50px"},modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link","image"],["clean"],["code-block"]]}})}),s.jsxs("div",{className:"flex-1 border border-gray-200 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Aperçu"}),s.jsx("div",{className:"flex space-x-2",children:s.jsx("button",{onClick:()=>{const fe=window.open("","_blank");fe&&(fe.document.write(M.content),fe.document.close())},className:"text-xs text-blue-600 hover:text-blue-700",children:"Ouvrir dans un nouvel onglet"})})]}),s.jsx("div",{className:"h-[468px] overflow-auto p-4",children:s.jsx("iframe",{srcDoc:M.content,title:"Email Preview",className:"w-full h-full border-0"})})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Variables disponibles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Locataire"}),s.jsxs("ul",{className:"list-disc list-inside text-blue-700",children:[s.jsxs("li",{children:["{{tenant_name}}"," - Nom du locataire"]}),s.jsxs("li",{children:["{{tenant_email}}"," - Email du locataire"]}),s.jsxs("li",{children:["{{tenant_phone}}"," - Téléphone du locataire"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Bien"}),s.jsxs("ul",{className:"list-disc list-inside text-blue-700",children:[s.jsxs("li",{children:["{{property_name}}"," - Nom du bien"]}),s.jsxs("li",{children:["{{property_address}}"," - Adresse du bien"]}),s.jsxs("li",{children:["{{property_type}}"," - Type de bien"]})]})]}),s.jsxs("div",{className:"md:col-span-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Financier"}),s.jsxs("ul",{className:"list-disc list-inside text-blue-700",children:[s.jsxs("li",{children:["{{rent_amount}}"," - Montant du loyer"]}),s.jsxs("li",{children:["{{charges_amount}}"," - Montant des charges"]}),s.jsxs("li",{children:["{{total_amount}}"," - Montant total"]}),s.jsxs("li",{children:["{{month}}"," - Mois concerné"]}),s.jsxs("li",{children:["{{lease_start_date}}"," - Date de début du bail"]}),s.jsxs("li",{children:["{{lease_end_date}}"," - Date de fin du bail"]})]})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document à joindre (optionnel)"}),s.jsxs("select",{name:"documentTemplateId",value:M.documentTemplateId||"",onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun document"}),re?s.jsx("option",{disabled:!0,children:"Chargement des documents..."}):Z.map(fe=>s.jsx("option",{value:fe.id,children:fe.name},fe.id))]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Sélectionnez un document à joindre automatiquement aux emails envoyés avec ce template."})]})]}):f&&l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aperçu du template"}),s.jsx("button",{onClick:()=>A(!0),className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Modifier"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Sujet:"}),s.jsx("p",{className:"text-gray-900 bg-white p-2 rounded border border-gray-300",children:l.subject})]}),s.jsxs("div",{children:[l.documentTemplateId&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Document joint:"}),s.jsx("p",{className:"text-gray-900 bg-white p-2 rounded border border-gray-300",children:Z.find(fe=>fe.id===l.documentTemplateId)?.name||l.documentTemplateId})]}),s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Contenu:"}),s.jsx("div",{className:"bg-white p-4 rounded border border-gray-300 overflow-auto max-h-[500px]",children:s.jsx("iframe",{srcDoc:l.content,title:"Aperçu de l'email",className:"w-full h-[400px] border-0"})})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Envoyer un email de test"}),s.jsxs("div",{className:"flex items-end space-x-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Adresse email de test *"}),s.jsx("input",{type:"email",value:j,onChange:fe=>k(fe.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"votre-email@example.com"})]}),s.jsxs("button",{onClick:je,disabled:I||!aa.isConfigured(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[I?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Qu,{className:"h-5 w-5"}),s.jsx("span",{children:"Envoyer un test"})]})]}),!aa.isConfigured()&&s.jsx("div",{className:"mt-2 text-sm text-red-600",children:"Le service mail n'est pas configuré. Veuillez configurer le serveur mail dans les paramètres d'administration."})]})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wt,{className:"h-16 w-16 text-blue-300 mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Éditeur de templates d'emails"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Créez et gérez des templates d'emails personnalisés pour communiquer avec vos locataires, envoyer des quittances, des rappels de paiement et plus encore."}),s.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer un template"})]})]})})]}),s.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex items-center justify-between",children:u?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{A(!1),l?m(!0):c(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Annuler"}),s.jsxs("button",{onClick:te,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[p?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Enregistrer"})]})]}):l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>ue(l),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[s.jsx(Gs,{className:"h-5 w-5"}),s.jsx("span",{children:"Modifier"})]}),s.jsxs("button",{onClick:()=>Be(l),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[s.jsx(l0,{className:"h-5 w-5"}),s.jsx("span",{children:"Dupliquer"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m(!f),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Gs,{className:"h-5 w-5"}),s.jsx("span",{children:"Modifier"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Pi,{className:"h-5 w-5"}),s.jsx("span",{children:"Aperçu"})]})}),s.jsxs("button",{onClick:()=>he(l.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-5 w-5"}),s.jsx("span",{children:"Supprimer"})]})]})]}):null})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center max-w-md px-6",children:[s.jsx(Wt,{className:"h-16 w-16 text-blue-300 mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Éditeur de templates d'emails"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Créez et gérez des templates d'emails personnalisés pour communiquer avec vos locataires, envoyer des quittances, des rappels de paiement et plus encore."}),s.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer un template"})]})]})})})]})]})}):null},bP=({isOpen:r,onClose:e})=>r?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Wt,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Éditeur MJML"})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200 text-center",children:[s.jsx(hl,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Fonctionnalité remplacée"}),s.jsx("p",{className:"text-blue-700 mb-4",children:"L'éditeur MJML a été remplacé par l'éditeur HTML standard pour une meilleure compatibilité. Veuillez utiliser l'éditeur HTML pour créer et modifier vos templates d'emails."}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Fermer"})]})})]})}):null,U6=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(""),[o,l]=Ae.useState("all"),[c,u]=Ae.useState(!1),[A,f]=Ae.useState(null),[m,h]=Ae.useState(null),v=[{value:"all",label:"Toutes les catégories"},{value:"tenant",label:"Locataire"},{value:"property",label:"Bien"},{value:"financial",label:"Financier"},{value:"administrative",label:"Administratif"},{value:"other",label:"Autre"}];Ae.useEffect(()=>{x()},[]);const x=async()=>{try{n(!0);const F=await vo.getTemplates();e(F)}catch(F){console.error("Error loading templates:",F)}finally{n(!1)}},b=()=>{f(null),u(!0)},p=F=>{f(F),u(!0)},y=async F=>{try{const C={...F,id:"",name:`${F.name} (Copie)`,createdAt:new Date,updatedAt:new Date};await vo.saveTemplate(C)&&x()}catch(C){console.error("Error duplicating template:",C)}},N=async F=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce template ?"))try{await vo.deleteTemplate(F)&&x()}catch(C){console.error("Error deleting template:",C)}},w=async F=>{h(F.id);try{await new Promise(C=>setTimeout(C,2e3)),alert("Email de test envoyé avec succès !")}catch(C){console.error("Error sending test email:",C),alert("Erreur lors de l'envoi de l'email de test")}finally{h(null)}},j=r.filter(F=>{const C=F.name.toLowerCase().includes(i.toLowerCase())||F.subject.toLowerCase().includes(i.toLowerCase()),P=o==="all"||F.category===o;return C&&P}),k=F=>v.find(C=>C.value===F)?.label||F,I=F=>({tenant:"bg-blue-100 text-blue-800",property:"bg-green-100 text-green-800",financial:"bg-purple-100 text-purple-800",administrative:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[F]||"bg-gray-100 text-gray-800";return t?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(F=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded mb-4"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]})]},F))})]})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(Wt,{className:"mr-3 text-blue-600"}),"Templates Email"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez vos modèles d'emails pour automatiser vos communications"})]}),s.jsxs("button",{onClick:b,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(cs,{className:"w-4 h-4 mr-2"}),"Nouveau Template"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un template...",value:i,onChange:F=>a(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ra,{className:"w-4 h-4 text-gray-400"}),s.jsx("select",{value:o,onChange:F=>l(F.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:v.map(F=>s.jsx("option",{value:F.value,children:F.label},F.value))})]})]})}),j.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-12 text-center",children:[s.jsx(Wt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i||o!=="all"?"Aucun template trouvé":"Aucun template créé"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i||o!=="all"?"Essayez de modifier vos critères de recherche":"Commencez par créer votre premier template email"}),!i&&o==="all"&&s.jsx("button",{onClick:b,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Créer un template"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(F=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate flex-1 mr-2",children:F.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(F.category)}`,children:k(F.category)})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3 truncate",children:[s.jsx("strong",{children:"Sujet:"})," ",F.subject]}),s.jsx("div",{className:"bg-gray-50 rounded p-3 mb-4 h-20 overflow-hidden",children:s.jsxs("p",{className:"text-xs text-gray-600 line-clamp-4",children:[F.content.replace(/<[^>]*>/g,"").substring(0,150),"..."]})}),s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-4",children:[s.jsxs("span",{children:["Créé le ",F.createdAt.toLocaleDateString()]}),s.jsxs("span",{children:["Modifié le ",F.updatedAt.toLocaleDateString()]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>p(F),className:"flex-1 bg-blue-50 text-blue-600 px-3 py-2 rounded text-sm hover:bg-blue-100 transition-colors flex items-center justify-center",children:[s.jsx(Gs,{className:"w-3 h-3 mr-1"}),"Modifier"]}),s.jsx("button",{onClick:()=>y(F),className:"bg-gray-50 text-gray-600 px-3 py-2 rounded text-sm hover:bg-gray-100 transition-colors flex items-center justify-center",children:s.jsx(l0,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>w(F),disabled:m===F.id,className:"bg-green-50 text-green-600 px-3 py-2 rounded text-sm hover:bg-green-100 transition-colors flex items-center justify-center disabled:opacity-50",children:m===F.id?s.jsx("div",{className:"w-3 h-3 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):s.jsx(Qu,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>N(F.id),className:"bg-red-50 text-red-600 px-3 py-2 rounded text-sm hover:bg-red-100 transition-colors flex items-center justify-center",children:s.jsx(Mr,{className:"w-3 h-3"})})]})]})},F.id))}),c&&s.jsx(D6,{isOpen:c,onClose:()=>{u(!1),x()},initialTemplate:A||void 0})]})},wP=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState([]),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(!1),[c,u]=Ae.useState(null),[A,f]=Ae.useState(!1),[m,h]=Ae.useState(0);Ae.useEffect(()=>{v()},[m]);const v=()=>{a(!0);try{const k=qs.getEmailQueue(),I=qs.getSentEmails();e(k),n(I)}catch(k){console.error("Erreur lors du chargement des données:",k)}finally{a(!1)}},x=()=>{h(k=>k+1)},b=async()=>{l(!0);try{const k=await qs.processEmailQueue();alert(`${k} email(s) traité(s) avec succès`),x()}catch(k){console.error("Erreur lors du traitement de la file d'attente:",k),alert("Erreur lors du traitement de la file d'attente")}finally{l(!1)}},p=()=>{window.confirm("Êtes-vous sûr de vouloir vider la file d'attente ?")&&(qs.clearEmailQueue(),x())},y=()=>{window.confirm("Êtes-vous sûr de vouloir vider l'historique des emails envoyés ?")&&(qs.clearSentEmails(),x())},N=k=>{u(k),f(!0)},w=k=>k.toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),j=k=>Array.isArray(k)?k.join(", "):k;return i&&r.length===0&&t.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"File d'attente des emails"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:b,disabled:o||r.length===0,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Mu,{className:"h-5 w-5"}),s.jsx("span",{children:"Traiter la file d'attente"})]}),s.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Rafraîchir",children:s.jsx(Ua,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.length})]}),s.jsx(Wt,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Envoyés"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(k=>k.success).length})]}),s.jsx(Bt,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Échecs"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(k=>!k.success).length})]}),s.jsx(vt,{className:"h-8 w-8 text-red-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["File d'attente (",r.length,")"]}),r.length>0&&s.jsxs("button",{onClick:p,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Vider la file"})]})]}),r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Destinataire"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Sujet"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Créé le"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tentatives"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm font-mono",children:[k.id.substring(0,8),"..."]}),s.jsx("td",{className:"py-3 px-4 text-sm",children:j(k.options.to)}),s.jsx("td",{className:"py-3 px-4 text-sm",children:k.options.subject}),s.jsx("td",{className:"py-3 px-4 text-sm",children:w(k.createdAt)}),s.jsx("td",{className:"py-3 px-4 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:k.attempts}),k.lastAttempt&&s.jsxs("span",{className:"text-xs text-gray-500",children:["(",w(k.lastAttempt),")"]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>N(k),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les détails",children:s.jsx(Pi,{className:"h-4 w-4"})})})})]},k.id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"La file d'attente est vide"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Emails envoyés (",t.length,")"]}),t.length>0&&s.jsxs("button",{onClick:y,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Vider l'historique"})]})]}),t.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Destinataire"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Sujet"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Envoyé le"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm font-mono",children:[k.id.substring(0,8),"..."]}),s.jsx("td",{className:"py-3 px-4 text-sm",children:j(k.to)}),s.jsx("td",{className:"py-3 px-4 text-sm",children:k.subject}),s.jsx("td",{className:"py-3 px-4 text-sm",children:w(k.sentAt)}),s.jsx("td",{className:"py-3 px-4",children:k.success?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Succès"]}):s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(vt,{className:"h-3 w-3 mr-1"}),"Échec"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>N(k),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les détails",children:s.jsx(Pi,{className:"h-4 w-4"})})})})]},k.id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Aucun email envoyé"})]})]}),A&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-6 w-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Détails de l'email"})]}),s.jsx("button",{onClick:()=>f(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Informations générales"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"ID:"}),s.jsx("span",{className:"text-gray-900 font-mono",children:c.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Destinataire:"}),s.jsx("span",{className:"text-gray-900",children:j(c.options?.to||c.to)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Sujet:"}),s.jsx("span",{className:"text-gray-900",children:c.options?.subject||c.subject})]}),c.createdAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Créé le:"}),s.jsx("span",{className:"text-gray-900",children:w(c.createdAt)})]}),c.sentAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Envoyé le:"}),s.jsx("span",{className:"text-gray-900",children:w(c.sentAt)})]}),c.attempts!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tentatives:"}),s.jsx("span",{className:"text-gray-900",children:c.attempts})]}),c.lastAttempt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Dernière tentative:"}),s.jsx("span",{className:"text-gray-900",children:w(c.lastAttempt)})]}),c.success!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Statut:"}),c.success?s.jsxs("span",{className:"text-green-600 flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 mr-1"}),"Succès"]}):s.jsxs("span",{className:"text-red-600 flex items-center",children:[s.jsx(vt,{className:"h-4 w-4 mr-1"}),"Échec"]})]})]})]}),c.error&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Erreur"}),s.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:s.jsx("p",{className:"text-red-700",children:c.error})})]})]}),c.options?.html&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Contenu HTML"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 h-64 overflow-auto",children:s.jsx("iframe",{srcDoc:c.options.html,title:"Aperçu de l'email",className:"w-full h-full border-0"})})]}),c.options?.attachments&&c.options.attachments.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Pièces jointes"}),s.jsx("div",{className:"space-y-2",children:c.options.attachments.map((k,I)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(FileText,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:k.filename})]}),s.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Télécharger",children:s.jsx(hi,{className:"h-4 w-4"})})]},I))})]})]}),s.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})})]})})]})},NP=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(null),[o,l]=Ae.useState(""),[c,u]=Ae.useState("all"),[A,f]=Ae.useState("all"),[m,h]=Ae.useState(!1),[v,x]=Ae.useState(null),[b,p]=Ae.useState({email:"",first_name:"",last_name:"",company_name:"",phone:"",plan:"starter",password:"",confirmPassword:""}),[y,N]=Ae.useState(!1),[w,j]=Ae.useState({}),[k,I]=Ae.useState(null);Ae.useEffect(()=>{F()},[]);const F=async()=>{try{n(!0),a(null);const{data:M,error:L}=await Je.from("profiles").select("*").order("created_at",{ascending:!1});if(L)throw L;e(M||[])}catch(M){if(console.error("Error loading users:",M),M instanceof Error&&(M.message.includes("Failed to fetch")||M.message.includes("timeout")||M.message.includes("NetworkError"))){console.warn("Erreur de connexion, utilisation des données de démonstration");const L=[{id:"admin-1",email:"admin@easybail.pro",first_name:"Admin",last_name:"EasyBail",company_name:"EasyBail SAS",phone:"04 66 89 68 30",plan:"expert",trial_ends_at:new Date(Date.now()+365*24*60*60*1e3).toISOString(),subscription_status:"active",avatar_url:null,created_at:"2024-01-01T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date().toISOString(),role:"admin"},{id:"user-1",email:"marie.martin@email.com",first_name:"Marie",last_name:"Martin",company_name:null,phone:"06 12 34 56 78",plan:"professional",trial_ends_at:new Date(Date.now()+10080*60*1e3).toISOString(),subscription_status:"trial",avatar_url:null,created_at:"2024-11-15T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-7200*1e3).toISOString(),role:"user"},{id:"user-2",email:"pierre.dubois@email.com",first_name:"Pierre",last_name:"Dubois",company_name:"Immobilier Dubois",phone:"06 98 76 54 32",plan:"starter",trial_ends_at:new Date(Date.now()-7200*60*1e3).toISOString(),subscription_status:"expired",avatar_url:null,created_at:"2024-10-20T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-1440*60*1e3).toISOString(),role:"user"},{id:"user-3",email:"sophie.bernard@email.com",first_name:"Sophie",last_name:"Bernard",company_name:"SCI Bernard",phone:"07 11 22 33 44",plan:"professional",trial_ends_at:new Date(Date.now()+720*60*60*1e3).toISOString(),subscription_status:"active",avatar_url:null,created_at:"2024-09-10T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-1800*1e3).toISOString(),role:"manager"},{id:"user-4",email:"jean.dupont@email.com",first_name:"Jean",last_name:"Dupont",company_name:null,phone:null,plan:"starter",trial_ends_at:new Date(Date.now()+14400*60*1e3).toISOString(),subscription_status:"trial",avatar_url:null,created_at:"2024-12-01T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-360*60*1e3).toISOString(),role:"user"},{id:"user-5",email:"claire.rousseau@email.com",first_name:"Claire",last_name:"Rousseau",company_name:"Gestion Rousseau",phone:"06 55 44 33 22",plan:"expert",trial_ends_at:new Date(Date.now()+1440*60*60*1e3).toISOString(),subscription_status:"active",avatar_url:null,created_at:"2024-08-05T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-3600*1e3).toISOString(),role:"manager"},{id:"user-6",email:"thomas.leroy@email.com",first_name:"Thomas",last_name:"Leroy",company_name:null,phone:"07 88 99 00 11",plan:"professional",trial_ends_at:new Date(Date.now()-2880*60*1e3).toISOString(),subscription_status:"cancelled",avatar_url:null,created_at:"2024-07-12T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-4320*60*1e3).toISOString(),role:"user"},{id:"user-7",email:"isabelle.moreau@email.com",first_name:"Isabelle",last_name:"Moreau",company_name:"Patrimoine Moreau",phone:"06 77 66 55 44",plan:"starter",trial_ends_at:new Date(Date.now()+4320*60*1e3).toISOString(),subscription_status:"trial",avatar_url:null,created_at:"2024-12-10T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-14400*1e3).toISOString(),role:"user"},{id:"user-8",email:"antoine.garcia@email.com",first_name:"Antoine",last_name:"Garcia",company_name:"SCI Garcia",phone:"06 33 22 11 00",plan:"professional",trial_ends_at:new Date(Date.now()+1080*60*60*1e3).toISOString(),subscription_status:"active",avatar_url:null,created_at:"2024-06-20T00:00:00.000Z",updated_at:new Date().toISOString(),last_sign_in_at:new Date(Date.now()-720*60*1e3).toISOString(),role:"user"}];e(L),a("Impossible de se connecter à la base de données. Affichage des données de démonstration.")}else a(M instanceof Error?M.message:"Une erreur est survenue")}finally{n(!1)}},C=M=>{const{name:L,value:V}=M.target;p(K=>({...K,[L]:V})),w[L]&&j(K=>({...K,[L]:""}))},P=()=>{const M={};return b.email?/\S+@\S+\.\S+/.test(b.email)||(M.email="Format d'email invalide"):M.email="L'email est requis",b.first_name||(M.first_name="Le prénom est requis"),b.last_name||(M.last_name="Le nom est requis"),v||(b.password?b.password.length<6&&(M.password="Le mot de passe doit contenir au moins 6 caractères"):M.password="Le mot de passe est requis",b.password!==b.confirmPassword&&(M.confirmPassword="Les mots de passe ne correspondent pas")),j(M),Object.keys(M).length===0},T=async M=>{if(M.preventDefault(),!!P())try{if(n(!0),I(null),v){const{error:L}=await Je.from("profiles").update({first_name:b.first_name,last_name:b.last_name,company_name:b.company_name||null,phone:b.phone||null,plan:b.plan}).eq("id",v.id);if(L)throw L;Fr.addActivity({type:"system",action:"user_updated",title:"Utilisateur mis à jour",description:`L'utilisateur ${b.first_name} ${b.last_name} a été mis à jour`,userId:"current-user",priority:"medium",category:"info"}),I("Utilisateur mis à jour avec succès")}else{const{data:L,error:V}=await Je.auth.signUp({email:b.email,password:b.password,options:{data:{first_name:b.first_name,last_name:b.last_name,company_name:b.company_name||null,phone:b.phone||null}}});if(V)throw V;Fr.addActivity({type:"system",action:"user_created",title:"Nouvel utilisateur créé",description:`L'utilisateur ${b.first_name} ${b.last_name} a été créé`,userId:"current-user",priority:"medium",category:"success"}),I("Utilisateur créé avec succès")}await F(),p({email:"",first_name:"",last_name:"",company_name:"",phone:"",plan:"starter",password:"",confirmPassword:""}),h(!1),x(null)}catch(L){if(console.error("Error creating/updating user:",L),L instanceof Error&&(L.message.includes("Failed to fetch")||L.message.includes("timeout")||L.message.includes("NetworkError"))){if(v)e(V=>V.map(K=>K.id===v.id?{...K,first_name:b.first_name,last_name:b.last_name,company_name:b.company_name||null,phone:b.phone||null,plan:b.plan,updated_at:new Date().toISOString()}:K)),I("Utilisateur mis à jour avec succès (mode démo)");else{const V={id:"demo-"+Date.now(),email:b.email,first_name:b.first_name,last_name:b.last_name,company_name:b.company_name||null,phone:b.phone||null,plan:b.plan,trial_ends_at:new Date(Date.now()+12096e5).toISOString(),subscription_status:"trial",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),role:"user"};e(K=>[V,...K]),I("Utilisateur créé avec succès (mode démo)")}p({email:"",first_name:"",last_name:"",company_name:"",phone:"",plan:"starter",password:"",confirmPassword:""}),h(!1),x(null)}else j({submit:L instanceof Error?L.message:"Une erreur est survenue"})}finally{n(!1)}},_=M=>{x(M),p({email:M.email,first_name:M.first_name,last_name:M.last_name,company_name:M.company_name||"",phone:M.phone||"",plan:M.plan,password:"",confirmPassword:""}),h(!0)},U=async M=>{if(r.find(V=>V.id===M)?.email==="admin@easybail.pro"){alert("Impossible de supprimer l'administrateur principal");return}if(confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ?"))try{n(!0);const{error:V}=await Je.from("profiles").delete().eq("id",M);if(V)throw V;Fr.addActivity({type:"system",action:"user_deleted",title:"Utilisateur supprimé",description:"Un utilisateur a été supprimé du système",userId:"current-user",priority:"high",category:"warning"}),await F()}catch(V){console.error("Error deleting user:",V),V instanceof Error&&(V.message.includes("Failed to fetch")||V.message.includes("timeout")||V.message.includes("NetworkError"))?(e(K=>K.filter(ee=>ee.id!==M)),a("Utilisateur supprimé avec succès (mode démo)"),setTimeout(()=>a(null),3e3)):a(V instanceof Error?V.message:"Une erreur est survenue")}finally{n(!1)}},S=async(M,L)=>{try{if(n(!0),r.find(ee=>ee.id===M)?.email==="admin@easybail.pro"&&L!=="admin"){alert("Impossible de modifier le rôle de l'administrateur principal");return}const{error:K}=await Je.from("profiles").update({role:L}).eq("id",M);if(K)throw K;e(ee=>ee.map(z=>z.id===M?{...z,role:L}:z)),Fr.addActivity({type:"system",action:"role_changed",title:"Rôle utilisateur modifié",description:`Le rôle d'un utilisateur a été changé en ${L}`,userId:"current-user",priority:"medium",category:"warning"})}catch(V){console.error("Error changing user role:",V),V instanceof Error&&(V.message.includes("Failed to fetch")||V.message.includes("timeout")||V.message.includes("NetworkError"))?(e(K=>K.map(ee=>ee.id===M?{...ee,role:L}:ee)),a("Rôle modifié avec succès (mode démo)"),setTimeout(()=>a(null),3e3)):a(V instanceof Error?V.message:"Une erreur est survenue")}finally{n(!1)}},X=r.filter(M=>{const L=M.email.toLowerCase().includes(o.toLowerCase())||M.first_name.toLowerCase().includes(o.toLowerCase())||M.last_name.toLowerCase().includes(o.toLowerCase())||M.company_name&&M.company_name.toLowerCase().includes(o.toLowerCase()),V=c==="all"||M.plan===c,K=A==="all"||M.subscription_status===A;return L&&V&&K}),ie=M=>{switch(M){case"trial":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"cancelled":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z=M=>{switch(M){case"trial":return"Essai";case"active":return"Actif";case"cancelled":return"Annulé";case"expired":return"Expiré";default:return M}},ce=M=>{switch(M){case"starter":return"Starter";case"professional":return"Professionnel";case"expert":return"Expert";default:return M}},re=M=>{switch(M){case"admin":return"Administrateur";case"manager":return"Gestionnaire";case"user":return"Utilisateur";default:return M||"Utilisateur"}},ae=M=>{switch(M){case"admin":return"bg-red-100 text-red-800 border-red-200";case"manager":return"bg-purple-100 text-purple-800 border-purple-200";case"user":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return t&&r.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tous les utilisateurs de l'application"}),s.jsxs("button",{onClick:()=>{x(null),p({email:"",first_name:"",last_name:"",company_name:"",phone:"",plan:"starter",password:"",confirmPassword:""}),h(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ww,{className:"h-5 w-5"}),s.jsx("span",{children:"Nouvel utilisateur"})]})]}),i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:i})]})]}),k&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsx("p",{className:"text-green-800 font-medium",children:k})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:o,onChange:M=>l(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:c,onChange:M=>u(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les plans"}),s.jsx("option",{value:"starter",children:"Starter"}),s.jsx("option",{value:"professional",children:"Professionnel"}),s.jsx("option",{value:"expert",children:"Expert"})]}),s.jsxs("select",{value:A,onChange:M=>f(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"trial",children:"Essai"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"cancelled",children:"Annulé"}),s.jsx("option",{value:"expired",children:"Expiré"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Utilisateur"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Rôle"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Plan"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Créé le"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Dernière connexion"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:X.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(yn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[M.first_name," ",M.last_name]}),M.company_name&&s.jsx("p",{className:"text-sm text-gray-500",children:M.company_name})]})]})}),s.jsxs("td",{className:"py-4 px-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:M.email})]}),M.phone&&s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(Ru,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-500",children:M.phone})]})]}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:M.role||"user",onChange:L=>S(M.id,L.target.value),className:"text-xs border rounded-lg px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"user",children:"Utilisateur"}),s.jsx("option",{value:"manager",children:"Gestionnaire"}),s.jsx("option",{value:"admin",children:"Administrateur"})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${ae(M.role||"user")}`,children:re(M.role||"user")})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:ce(M.plan)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ie(M.subscription_status)}`,children:Z(M.subscription_status)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:new Date(M.created_at).toLocaleDateString()})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:M.last_sign_in_at?new Date(M.last_sign_in_at).toLocaleDateString():"Jamais"})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>_(M),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>U(M.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},M.id))})]})})}),X.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun utilisateur trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||c!=="all"||A!=="all"?"Aucun utilisateur ne correspond à vos critères de recherche.":"Aucun utilisateur trouvé dans le système."}),s.jsx("button",{onClick:()=>{x(null),p({email:"",first_name:"",last_name:"",company_name:"",phone:"",plan:"starter",password:"",confirmPassword:""}),h(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Ajouter un utilisateur"})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:v?"Modifier l'utilisateur":"Nouvel utilisateur"}),s.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:T,className:"p-6 space-y-6",children:[w.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800 font-medium",children:w.submit})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom *"}),s.jsx("input",{type:"text",name:"first_name",value:b.first_name,onChange:C,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.first_name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Jean"}),w.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.first_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),s.jsx("input",{type:"text",name:"last_name",value:b.last_name,onChange:C,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.last_name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Dupont"}),w.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.last_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:b.email,onChange:C,disabled:!!v,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.email?"border-red-300 bg-red-50":"border-gray-300"} ${v?"bg-gray-100":""}`,placeholder:"jean.dupont@example.com"}),w.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.email}),v&&s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas être modifié"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Société (optionnel)"}),s.jsx("input",{type:"text",name:"company_name",value:b.company_name,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ma société"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone (optionnel)"}),s.jsx("input",{type:"tel",name:"phone",value:b.phone,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"06 12 34 56 78"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan"}),s.jsxs("select",{name:"plan",value:b.plan,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"starter",children:"Starter"}),s.jsx("option",{value:"professional",children:"Professionnel"}),s.jsx("option",{value:"expert",children:"Expert"})]})]}),!v&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:y?"text":"password",name:"password",value:b.password,onChange:C,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"••••••••"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>N(!y),children:y?s.jsx(eA,{className:"h-5 w-5 text-gray-400"}):s.jsx(Pi,{className:"h-5 w-5 text-gray-400"})})]}),w.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le mot de passe *"}),s.jsx("input",{type:y?"text":"password",name:"confirmPassword",value:b.confirmPassword,onChange:C,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${w.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"••••••••"}),w.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.confirmPassword})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:t,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[t?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:v?"Mettre à jour":"Créer l'utilisateur"})]})]})]})]})})]})},jP=()=>{const[r,e]=Ae.useState({passwordPolicy:{minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSpecialChars:!0,expiryDays:90},sessionSettings:{sessionTimeout:30,maxFailedAttempts:5,lockoutDuration:15},twoFactorAuth:{enabled:!0,required:!1,methods:["email","authenticator"]}}),[t,n]=Ae.useState([]),[i,a]=Ae.useState([]),[o,l]=Ae.useState(!0),[c,u]=Ae.useState(!1),[A,f]=Ae.useState(null),[m,h]=Ae.useState(null),[v,x]=Ae.useState("settings"),b=[{id:"1",user_id:"user1",email:"user@example.com",ip_address:"192.168.1.1",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",success:!0,created_at:new Date(Date.now()-1e3*60*5).toISOString()},{id:"2",user_id:"",email:"unknown@example.com",ip_address:"192.168.1.2",user_agent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)",success:!1,created_at:new Date(Date.now()-1e3*60*30).toISOString()},{id:"3",user_id:"user2",email:"admin@example.com",ip_address:"192.168.1.3",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",success:!0,created_at:new Date(Date.now()-1e3*60*60).toISOString()},{id:"4",user_id:"admin-1",email:"admin@easybail.pro",ip_address:"192.168.1.10",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",success:!0,created_at:new Date(Date.now()-1e3*60*15).toISOString()},{id:"5",user_id:"user-1",email:"marie.martin@email.com",ip_address:"192.168.1.11",user_agent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)",success:!0,created_at:new Date(Date.now()-1e3*60*45).toISOString()},{id:"6",user_id:"",email:"hacker@malicious.com",ip_address:"203.0.113.1",user_agent:"curl/7.68.0",success:!1,created_at:new Date(Date.now()-1e3*60*120).toISOString()},{id:"7",user_id:"user-2",email:"pierre.dubois@email.com",ip_address:"192.168.1.12",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",success:!0,created_at:new Date(Date.now()-1e3*60*180).toISOString()},{id:"8",user_id:"",email:"test@test.com",ip_address:"192.168.1.13",user_agent:"Mozilla/5.0 (Linux; Android 10)",success:!1,created_at:new Date(Date.now()-1e3*60*240).toISOString()}],p=[{id:"1",user_id:"user1",action:"password_change",description:"Mot de passe modifié",ip_address:"192.168.1.1",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",created_at:new Date(Date.now()-1e3*60*60*2).toISOString()},{id:"2",user_id:"user2",action:"login",description:"Connexion réussie",ip_address:"192.168.1.3",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-1e3*60*60).toISOString()},{id:"3",user_id:"admin1",action:"settings_change",description:"Paramètres de sécurité modifiés",ip_address:"192.168.1.4",user_agent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36",created_at:new Date(Date.now()-1e3*60*30).toISOString()},{id:"4",user_id:"",action:"failed_login",description:"Tentative de connexion échouée",ip_address:"192.168.1.5",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",created_at:new Date(Date.now()-1e3*60*10).toISOString()},{id:"5",user_id:"admin-1",action:"admin_login",description:"Connexion administrateur réussie",ip_address:"192.168.1.10",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",created_at:new Date(Date.now()-1e3*60*15).toISOString()},{id:"6",user_id:"user-1",action:"user_login",description:"Connexion utilisateur réussie",ip_address:"192.168.1.11",user_agent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X)",created_at:new Date(Date.now()-1e3*60*45).toISOString()},{id:"7",user_id:"",action:"brute_force_attempt",description:"Tentative de force brute détectée",ip_address:"203.0.113.1",user_agent:"curl/7.68.0",created_at:new Date(Date.now()-1e3*60*120).toISOString()},{id:"8",user_id:"user-2",action:"logout",description:"Déconnexion utilisateur",ip_address:"192.168.1.12",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",created_at:new Date(Date.now()-1e3*60*180).toISOString()}];Ae.useEffect(()=>{y()},[]);const y=async()=>{l(!0);try{try{const{data:C,error:P}=await Je.from("security_settings").select("*").maybeSingle();!P&&C&&e(C.settings)}catch(C){console.warn("Could not load security settings from database:",C)}n(b),a(p)}catch(C){f("Erreur lors du chargement des données de sécurité"),console.error("Error loading security data:",C)}finally{l(!1)}},N=async()=>{u(!0),f(null),h(null);try{try{const{data:C,error:P}=await Je.from("security_settings").select("id").maybeSingle();if(P&&console.warn("Error checking existing settings:",P),C){const{error:T}=await Je.from("security_settings").update({settings:r}).eq("id",C.id);if(T)throw T}else{const{error:T}=await Je.from("security_settings").insert({settings:r});if(T)throw T}}catch(C){console.warn("Could not save security settings to database:",C)}Fr.addActivity({type:"system",action:"security_settings_updated",title:"Paramètres de sécurité mis à jour",description:"Les paramètres de sécurité ont été modifiés",userId:"current-user",priority:"high",category:"warning"}),h("Paramètres de sécurité enregistrés avec succès"),setTimeout(()=>{h(null)},5e3)}catch(C){f("Erreur lors de l'enregistrement des paramètres de sécurité"),console.error("Error saving security settings:",C)}finally{u(!1)}},w=C=>{const{name:P,value:T,type:_}=C.target;if(P.includes(".")){const[U,S]=P.split(".");e(_==="checkbox"?X=>({...X,[U]:{...X[U],[S]:C.target.checked}}):_==="number"?X=>({...X,[U]:{...X[U],[S]:parseInt(T,10)}}):X=>({...X,[U]:{...X[U],[S]:T}}))}else e(_==="checkbox"?U=>({...U,[P]:C.target.checked}):_==="number"?U=>({...U,[P]:parseInt(T,10)}):U=>({...U,[P]:T}))},j=C=>{e(P=>{const T=P.twoFactorAuth.methods,_=T.includes(C)?T.filter(U=>U!==C):[...T,C];return{...P,twoFactorAuth:{...P.twoFactorAuth,methods:_}}})},k=C=>new Date(C).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=C=>C.includes("iPhone")||C.includes("iPad")||C.includes("Android")?s.jsx(O0,{className:"h-4 w-4 text-gray-500"}):C.includes("Windows")||C.includes("Mac")||C.includes("Linux")?s.jsx(hU,{className:"h-4 w-4 text-gray-500"}):s.jsx(tA,{className:"h-4 w-4 text-gray-500"}),F=C=>{switch(C){case"login":return s.jsx(Rp,{className:"h-4 w-4 text-green-500"});case"admin_login":return s.jsx(Rp,{className:"h-4 w-4 text-green-500"});case"logout":return s.jsx(b6,{className:"h-4 w-4 text-gray-500"});case"failed_login":return s.jsx(vt,{className:"h-4 w-4 text-red-500"});case"user_login":return s.jsx(Rp,{className:"h-4 w-4 text-blue-500"});case"brute_force_attempt":return s.jsx(vt,{className:"h-4 w-4 text-red-600"});case"password_change":return s.jsx(v6,{className:"h-4 w-4 text-blue-500"});case"settings_change":return s.jsx(Ri,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(ls,{className:"h-4 w-4 text-gray-500"})}};return o?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sécurité"}),s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>x("settings"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${v==="settings"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Paramètres"}),s.jsx("button",{onClick:()=>x("logs"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${v==="logs"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Journaux de connexion"})]})]}),A&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:A})]})]}),m&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsx("p",{className:"text-green-800 font-medium",children:m})]}),v==="settings"&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Sm,{className:"h-5 w-5 mr-2 text-gray-700"}),"Politique de mot de passe"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longueur minimale"}),s.jsx("input",{type:"number",name:"passwordPolicy.minLength",value:r.passwordPolicy.minLength,onChange:w,min:"6",max:"32",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration (jours)"}),s.jsx("input",{type:"number",name:"passwordPolicy.expiryDays",value:r.passwordPolicy.expiryDays,onChange:w,min:"0",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"0 = pas d'expiration"})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requireUppercase",name:"passwordPolicy.requireUppercase",checked:r.passwordPolicy.requireUppercase,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requireUppercase",className:"ml-2 block text-sm text-gray-700",children:"Exiger des majuscules"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requireLowercase",name:"passwordPolicy.requireLowercase",checked:r.passwordPolicy.requireLowercase,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requireLowercase",className:"ml-2 block text-sm text-gray-700",children:"Exiger des minuscules"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requireNumbers",name:"passwordPolicy.requireNumbers",checked:r.passwordPolicy.requireNumbers,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requireNumbers",className:"ml-2 block text-sm text-gray-700",children:"Exiger des chiffres"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"requireSpecialChars",name:"passwordPolicy.requireSpecialChars",checked:r.passwordPolicy.requireSpecialChars,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"requireSpecialChars",className:"ml-2 block text-sm text-gray-700",children:"Exiger des caractères spéciaux"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Ur,{className:"h-5 w-5 mr-2 text-gray-700"}),"Paramètres de session"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Délai d'expiration (minutes)"}),s.jsx("input",{type:"number",name:"sessionSettings.sessionTimeout",value:r.sessionSettings.sessionTimeout,onChange:w,min:"1",max:"1440",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tentatives max. échouées"}),s.jsx("input",{type:"number",name:"sessionSettings.maxFailedAttempts",value:r.sessionSettings.maxFailedAttempts,onChange:w,min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durée de verrouillage (minutes)"}),s.jsx("input",{type:"number",name:"sessionSettings.lockoutDuration",value:r.sessionSettings.lockoutDuration,onChange:w,min:"1",max:"1440",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[s.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(ls,{className:"h-5 w-5 mr-2 text-gray-700"}),"Authentification à deux facteurs"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"twoFactorEnabled",name:"twoFactorAuth.enabled",checked:r.twoFactorAuth.enabled,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"twoFactorEnabled",className:"ml-2 block text-sm text-gray-700",children:"Activer l'authentification à deux facteurs"})]}),r.twoFactorAuth.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center ml-6",children:[s.jsx("input",{type:"checkbox",id:"twoFactorRequired",name:"twoFactorAuth.required",checked:r.twoFactorAuth.required,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"twoFactorRequired",className:"ml-2 block text-sm text-gray-700",children:"Rendre obligatoire pour tous les utilisateurs"})]}),s.jsxs("div",{className:"ml-6 mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Méthodes autorisées"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"methodEmail",checked:r.twoFactorAuth.methods.includes("email"),onChange:()=>j("email"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"methodEmail",className:"ml-2 block text-sm text-gray-700",children:"Email"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"methodSMS",checked:r.twoFactorAuth.methods.includes("sms"),onChange:()=>j("sms"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"methodSMS",className:"ml-2 block text-sm text-gray-700",children:"SMS"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"methodAuthenticator",checked:r.twoFactorAuth.methods.includes("authenticator"),onChange:()=>j("authenticator"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"methodAuthenticator",className:"ml-2 block text-sm text-gray-700",children:"Application d'authentification"})]})]})]})]})]})]}),s.jsx("div",{className:"pt-6 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{onClick:N,disabled:c,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[c?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Enregistrer les paramètres"})]})})]})}),v==="logs"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Journaux de connexion et sécurité"}),s.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Rafraîchir",children:s.jsx(Ua,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h5",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Rp,{className:"h-5 w-5 mr-2 text-blue-600"}),"Tentatives de connexion récentes"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Adresse IP"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Appareil"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[C.success?s.jsx(Bt,{className:"h-4 w-4 text-green-600"}):s.jsx(vt,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:`text-sm font-medium ${C.success?"text-green-600":"text-red-600"}`,children:C.success?"Succès":"Échec"})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($s,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-900",children:C.email}),C.email==="admin@easybail.pro"&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Admin"})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900 font-mono",children:C.ip_address})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[I(C.user_agent),s.jsx("span",{className:"text-sm text-gray-900 truncate max-w-xs",children:C.user_agent.split(" ")[0]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:k(C.created_at)})})]},C.id))})]})})]}),s.jsxs("div",{children:[s.jsxs("h5",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(ls,{className:"h-5 w-5 mr-2 text-purple-600"}),"Journaux de sécurité"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Action"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Utilisateur"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Adresse IP"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Appareil"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[F(C.action),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.action.replace("_"," ")})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:C.description})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($s,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-900",children:C.user_id||"Anonyme"})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:C.ip_address})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[I(C.user_agent),s.jsx("span",{className:"text-sm text-gray-900 truncate max-w-xs",children:C.user_agent.split(" ")[0]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:k(C.created_at)})})]},C.id))})]})})]}),i.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun journal de sécurité"}),s.jsx("p",{className:"text-gray-600",children:"Les journaux de sécurité apparaîtront ici lorsque des actions liées à la sécurité seront effectuées."})]})]}),v==="attempts"&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"})]})},BP=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(null),[o,l]=Ae.useState(""),[c,u]=Ae.useState("all"),[A,f]=Ae.useState("all"),[m,h]=Ae.useState("all"),[v,x]=Ae.useState(null),[b,p]=Ae.useState(!1),[y,N]=Ae.useState({total:0,byType:{},byCategory:{},byPriority:{}});Ae.useEffect(()=>{w()},[]);const w=async()=>{n(!0);try{const{data:S,error:X}=await Je.from("activities").select("*").order("created_at",{ascending:!1});if(X)throw X;const ie=(S||[]).map(M=>({id:M.id,type:M.type,action:M.action,title:M.title,description:M.description,entityId:M.entity_id,entityType:M.entity_type,entityName:M.entity_name,userId:M.user_id,metadata:M.metadata,createdAt:new Date(M.created_at),readAt:M.read_at?new Date(M.read_at):void 0,priority:M.priority,category:M.category}));e(ie);const Z=ie.length,ce={},re={},ae={};ie.forEach(M=>{ce[M.type]=(ce[M.type]||0)+1,re[M.category]=(re[M.category]||0)+1,ae[M.priority]=(ae[M.priority]||0)+1}),N({total:Z,byType:ce,byCategory:re,byPriority:ae})}catch(S){console.error("Error loading activities:",S),a("Erreur lors du chargement des activités")}finally{n(!1)}},j=async()=>{if(confirm("Êtes-vous sûr de vouloir supprimer toutes les activités ? Cette action est irréversible.")){n(!0);try{const{error:S}=await Je.from("activities").delete().neq("id","0");if(S)throw S;await Fr.addActivity({type:"system",action:"clear_logs",title:"Journaux effacés",description:"Tous les journaux d'activité ont été effacés",userId:"current-user",priority:"high",category:"warning"}),await w()}catch(S){console.error("Error clearing activities:",S),a("Erreur lors de la suppression des activités")}finally{n(!1)}}},k=()=>{try{const S=C(),X=["Date","Type","Action","Titre","Description","Catégorie","Priorité","Utilisateur"],ie=S.map(M=>[M.createdAt.toLocaleString(),M.type,M.action,M.title,M.description,M.category,M.priority,M.userId]),Z=[X.join(","),...ie.map(M=>M.map(L=>`"${String(L).replace(/"/g,'""')}"`).join(","))].join(`
`),ce=new Blob([Z],{type:"text/csv;charset=utf-8;"}),re=URL.createObjectURL(ce),ae=document.createElement("a");ae.setAttribute("href",re),ae.setAttribute("download",`activities_export_${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}catch(S){console.error("Error exporting activities:",S),a("Erreur lors de l'exportation des activités")}},I=async()=>{n(!0);try{const{error:S}=await Je.from("activities").update({read_at:new Date().toISOString()}).is("read_at",null);if(S)throw S;await w()}catch(S){console.error("Error marking activities as read:",S),a("Erreur lors du marquage des activités comme lues")}finally{n(!1)}},F=async S=>{try{const{error:X}=await Je.from("activities").update({read_at:new Date().toISOString()}).eq("id",S);if(X)throw X;e(ie=>ie.map(Z=>Z.id===S?{...Z,readAt:new Date}:Z))}catch(X){console.error("Error marking activity as read:",X),a("Erreur lors du marquage de l'activité comme lue")}},C=()=>r.filter(S=>{const X=S.title.toLowerCase().includes(o.toLowerCase())||S.description.toLowerCase().includes(o.toLowerCase())||S.entityName&&S.entityName.toLowerCase().includes(o.toLowerCase()),ie=c==="all"||S.type===c,Z=A==="all"||S.category===A,ce=m==="all"||S.priority===m;let re=!0;if(v){const ae=S.createdAt,M=v.start?new Date(v.start):null,L=v.end?new Date(v.end):null;M&&(M.setHours(0,0,0,0),re=re&&ae>=M),L&&(L.setHours(23,59,59,999),re=re&&ae<=L)}return X&&ie&&Z&&ce&&re}),P=C(),T=(S,X)=>{const ie=`h-5 w-5 ${X==="success"?"text-green-600":X==="warning"?"text-yellow-600":X==="error"?"text-red-600":"text-blue-600"}`;switch(S){case"document":return s.jsx(Et,{className:ie});case"payment":return s.jsx(Xr,{className:ie});case"property":return s.jsx(Lu,{className:ie});case"tenant":return s.jsx(yn,{className:ie});case"automation":return s.jsx(Ui,{className:ie});case"login":return s.jsx($s,{className:ie});case"system":return s.jsx(Ri,{className:ie});default:return s.jsx(Oi,{className:ie})}},_=S=>{switch(S){case"success":return s.jsx(Bt,{className:"h-4 w-4 text-green-600"});case"warning":return s.jsx(vt,{className:"h-4 w-4 text-yellow-600"});case"error":return s.jsx(vt,{className:"h-4 w-4 text-red-600"});default:return s.jsx(hl,{className:"h-4 w-4 text-blue-600"})}},U=S=>{const ie=Math.floor((new Date().getTime()-S.getTime())/(1e3*60));if(ie<1)return"À l'instant";if(ie<60)return`Il y a ${ie}min`;const Z=Math.floor(ie/60);if(Z<24)return`Il y a ${Z}h`;const ce=Math.floor(Z/24);return ce<7?`Il y a ${ce}j`:S.toLocaleDateString()};return t&&r.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Journaux d'activité"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-5 w-5"}),s.jsx("span",{children:"Exporter"})]}),s.jsxs("button",{onClick:j,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-5 w-5"}),s.jsx("span",{children:"Effacer tout"})]})]})]}),i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total activités"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:y.total})]}),s.jsx(Oi,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Succès"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:y.byCategory.success||0})]}),s.jsx(Bt,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avertissements"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:y.byCategory.warning||0})]}),s.jsx(vt,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Erreurs"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:y.byCategory.error||0})]}),s.jsx(vt,{className:"h-8 w-8 text-red-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher dans les journaux...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>p(!b),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[s.jsx(Ra,{className:"h-5 w-5 text-gray-600"}),s.jsx("span",{children:b?"Masquer les filtres":"Afficher les filtres"})]}),s.jsx("button",{onClick:w,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Rafraîchir",children:s.jsx(Ua,{className:"h-5 w-5 text-gray-600"})})]})]}),b&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"document",children:"Documents"}),s.jsx("option",{value:"payment",children:"Paiements"}),s.jsx("option",{value:"property",children:"Biens"}),s.jsx("option",{value:"tenant",children:"Locataires"}),s.jsx("option",{value:"automation",children:"Automatisations"}),s.jsx("option",{value:"login",children:"Connexions"}),s.jsx("option",{value:"system",children:"Système"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),s.jsxs("select",{value:A,onChange:S=>f(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Toutes les catégories"}),s.jsx("option",{value:"success",children:"Succès"}),s.jsx("option",{value:"info",children:"Information"}),s.jsx("option",{value:"warning",children:"Avertissement"}),s.jsx("option",{value:"error",children:"Erreur"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorité"}),s.jsxs("select",{value:m,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Toutes les priorités"}),s.jsx("option",{value:"low",children:"Basse"}),s.jsx("option",{value:"medium",children:"Moyenne"}),s.jsx("option",{value:"high",children:"Haute"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Période"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"date",value:v?.start||"",onChange:S=>x(X=>({...X||{start:"",end:""},start:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Date début"}),s.jsx("input",{type:"date",value:v?.end||"",onChange:S=>x(X=>({...X||{start:"",end:""},end:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Date fin"})]})]})]})]}),s.jsx("div",{className:"flex justify-end space-x-3",children:s.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(eA,{className:"h-4 w-4"}),s.jsx("span",{children:"Tout marquer comme lu"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"divide-y divide-gray-200",children:P.map(S=>s.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${S.readAt?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:T(S.type,S.category)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:S.title}),!S.readAt&&s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[_(S.category),s.jsx("span",{className:"text-xs text-gray-500",children:U(S.createdAt)})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full",children:S.type}),S.entityName&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:S.entityName}),s.jsx("span",{className:`px-2 py-1 rounded-full ${S.priority==="high"?"bg-red-100 text-red-800":S.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority==="high"?"Haute":S.priority==="medium"?"Moyenne":"Faible"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:!S.readAt&&s.jsx("button",{onClick:()=>F(S.id),className:"text-blue-600 hover:text-blue-700 text-xs",children:"Marquer comme lu"})})]})]})]})},S.id))})}),P.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune activité trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||c!=="all"||A!=="all"||m!=="all"||v?"Aucune activité ne correspond à vos critères.":"Aucune activité n'a été enregistrée pour le moment."})]})]})},Fi={DOCUMENTS:"easybail_generated_documents",TEMPLATES:"easybail_document_templates",SETTINGS:"easybail_document_settings"},Mp={autoSave:!0,maxDocuments:1e3,compressionEnabled:!0};class _P{settings;constructor(){this.settings=this.loadSettings(),this.initializeStorage()}initializeStorage(){localStorage.getItem(Fi.DOCUMENTS)||localStorage.setItem(Fi.DOCUMENTS,JSON.stringify([])),localStorage.getItem(Fi.TEMPLATES)||localStorage.setItem(Fi.TEMPLATES,JSON.stringify([])),localStorage.getItem(Fi.SETTINGS)||localStorage.setItem(Fi.SETTINGS,JSON.stringify(Mp))}loadSettings(){try{const e=localStorage.getItem(Fi.SETTINGS);return e?{...Mp,...JSON.parse(e)}:Mp}catch(e){return console.error("Erreur lors du chargement des paramètres:",e),Mp}}saveSettings(){try{localStorage.setItem(Fi.SETTINGS,JSON.stringify(this.settings))}catch(e){console.error("Erreur lors de la sauvegarde des paramètres:",e)}}getDocuments(){try{const e=localStorage.getItem(Fi.DOCUMENTS);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),signedAt:n.signedAt?new Date(n.signedAt):void 0,expiresAt:n.expiresAt?new Date(n.expiresAt):void 0})):(console.warn("Documents data is not an array, resetting to empty array"),this.saveDocuments([]),[])}catch(e){return console.error("Erreur lors de la récupération des documents:",e),this.saveDocuments([]),[]}}saveDocuments(e){try{let t=e;t.length>this.settings.maxDocuments&&(t=t.sort((n,i)=>i.updatedAt.getTime()-n.updatedAt.getTime()).slice(0,this.settings.maxDocuments)),this.settings.compressionEnabled&&(t=t.map(n=>({...n,metadata:{...n.metadata,pdfData:void 0}}))),localStorage.setItem(Fi.DOCUMENTS,JSON.stringify(t))}catch(t){if(console.error("Erreur lors de la sauvegarde des documents:",t),t instanceof Error&&t.name==="QuotaExceededError"){this.cleanupStorage();const n=e.slice(0,Math.floor(e.length/2));try{localStorage.setItem(Fi.DOCUMENTS,JSON.stringify(n))}catch(i){console.error("Impossible de sauvegarder même avec moins de documents:",i)}}}}cleanupStorage(){try{const e=this.getDocuments(),t=new Date;t.setMonth(t.getMonth()-6);const i=e.filter(a=>a.updatedAt>t).sort((a,o)=>o.updatedAt.getTime()-a.updatedAt.getTime()).slice(0,100);this.saveDocuments(i),console.log(`Nettoyage effectué: ${e.length-i.length} documents supprimés`)}catch(e){console.error("Erreur lors du nettoyage:",e)}}async saveDocument(e){try{const t=this.getDocuments(),n=t.findIndex(a=>a.id===e.id),i={...e,updatedAt:new Date};return n>=0?t[n]=i:t.unshift(i),this.saveDocuments(t),i}catch(t){throw console.error("Erreur lors de la sauvegarde du document:",t),t}}async getDocumentsList(){return this.getDocuments()}async getDocument(e){try{return this.getDocuments().find(n=>n.id===e)||null}catch(t){return console.error("Erreur lors de la récupération du document:",t),null}}async getDocumentsByProperty(e){try{return this.getDocuments().filter(n=>n.propertyId===e)}catch(t){return console.error("Erreur lors de la récupération des documents par bien:",t),[]}}async getDocumentsByTenant(e){try{return this.getDocuments().filter(n=>n.tenantId===e)}catch(t){return console.error("Erreur lors de la récupération des documents par locataire:",t),[]}}async updateDocumentStatus(e,t){try{const n=this.getDocuments(),i=n.findIndex(a=>a.id===e);if(i===-1)throw new Error("Document non trouvé");return n[i]={...n[i],status:t,updatedAt:new Date,signedAt:t==="signed"?new Date:n[i].signedAt},this.saveDocuments(n),n[i]}catch(n){throw console.error("Erreur lors de la mise à jour du statut:",n),n}}async deleteDocument(e){try{const n=this.getDocuments().filter(i=>i.id!==e);this.saveDocuments(n)}catch(t){throw console.error("Erreur lors de la suppression du document:",t),t}}async searchDocuments(e){try{const t=this.getDocuments(),n=e.toLowerCase();return t.filter(i=>i.name.toLowerCase().includes(n)||i.type.toLowerCase().includes(n)||i.content.toLowerCase().includes(n))}catch(t){return console.error("Erreur lors de la recherche:",t),[]}}async getDocumentStats(){try{const e=this.getDocuments(),t=new Date;t.setDate(t.getDate()-7);const n={total:e.length,byStatus:{},byType:{},recent:e.filter(i=>i.createdAt>t).length,storageUsed:this.getStorageUsage()};return e.forEach(i=>{n.byStatus[i.status]=(n.byStatus[i.status]||0)+1,n.byType[i.type]=(n.byType[i.type]||0)+1}),n}catch(e){return console.error("Erreur lors de la récupération des statistiques:",e),{total:0,byStatus:{},byType:{},recent:0,storageUsed:"0 KB"}}}getStorageUsage(){try{const e=localStorage.getItem(Fi.DOCUMENTS)||"",t=localStorage.getItem(Fi.TEMPLATES)||"",n=localStorage.getItem(Fi.SETTINGS)||"",i=new Blob([e+t+n]).size;return i<1024?`${i} B`:i<1024*1024?`${(i/1024).toFixed(1)} KB`:`${(i/(1024*1024)).toFixed(1)} MB`}catch{return"0 KB"}}async exportDocuments(){try{const t={documents:this.getDocuments(),exportDate:new Date().toISOString(),version:"1.0"};return JSON.stringify(t,null,2)}catch(e){throw console.error("Erreur lors de l'export:",e),e}}async importDocuments(e){try{const t=JSON.parse(e);if(!t.documents||!Array.isArray(t.documents))throw new Error("Format d'import invalide");const n=this.getDocuments(),i=t.documents.map(l=>({...l,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt),signedAt:l.signedAt?new Date(l.signedAt):void 0,expiresAt:l.expiresAt?new Date(l.expiresAt):void 0})),a=[...n];let o=0;return i.forEach(l=>{a.find(u=>u.id===l.id)||(a.push(l),o++)}),this.saveDocuments(a),o}catch(t){throw console.error("Erreur lors de l'import:",t),t}}async cleanup(){this.cleanupStorage()}getSettings(){return{...this.settings}}updateSettings(e){this.settings={...this.settings,...e},this.saveSettings()}}const Pn=new _P,CP=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState({}),[i,a]=Ae.useState({}),[o,l]=Ae.useState(!0),[c,u]=Ae.useState(""),[A,f]=Ae.useState("all"),[m,h]=Ae.useState("all"),[v,x]=Ae.useState(null);Ae.useEffect(()=>{b()},[]);const b=async()=>{try{l(!0);const[C,P,T]=await Promise.all([Pn.getDocumentsList(),Pn.getDocumentStats(),Promise.resolve(Pn.getSettings())]);e(C),n(P),a(T)}catch(C){console.error("Erreur lors du chargement des données:",C),x({type:"error",text:"Erreur lors du chargement des données"})}finally{l(!1)}},p=async()=>{try{const C=await Pn.exportDocuments(),P=new Blob([C],{type:"application/json"}),T=URL.createObjectURL(P),_=document.createElement("a");_.href=T,_.download=`easybail-documents-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(T),x({type:"success",text:"Documents exportés avec succès"})}catch(C){console.error("Erreur lors de l'export:",C),x({type:"error",text:"Erreur lors de l'export des documents"})}},y=C=>{const P=C.target.files?.[0];if(!P)return;const T=new FileReader;T.onload=async _=>{try{const U=_.target?.result,S=await Pn.importDocuments(U);await b(),x({type:"success",text:`${S} document(s) importé(s) avec succès`})}catch(U){console.error("Erreur lors de l'import:",U),x({type:"error",text:"Erreur lors de l'import des documents"})}},T.readAsText(P)},N=async()=>{if(confirm("Êtes-vous sûr de vouloir nettoyer le stockage local ? Cela supprimera les anciens documents."))try{await Pn.cleanup(),await b(),x({type:"success",text:"Nettoyage effectué avec succès"})}catch(C){console.error("Erreur lors du nettoyage:",C),x({type:"error",text:"Erreur lors du nettoyage"})}},w=async C=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce document ?"))try{await Pn.deleteDocument(C),await b(),x({type:"success",text:"Document supprimé avec succès"})}catch(P){console.error("Erreur lors de la suppression:",P),x({type:"error",text:"Erreur lors de la suppression du document"})}},j=C=>{Pn.updateSettings(C),a(Pn.getSettings()),x({type:"success",text:"Paramètres mis à jour"})},k=r.filter(C=>{const P=C.name.toLowerCase().includes(c.toLowerCase())||C.type.toLowerCase().includes(c.toLowerCase()),T=A==="all"||C.type===A,_=m==="all"||C.status===m;return P&&T&&_}),I=C=>{switch(C){case"signed":return"bg-green-100 text-green-800";case"pending_signature":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},F=C=>({lease:"Contrat de bail",inventory:"État des lieux",receipt:"Quittance",notice:"Préavis",insurance:"Assurance",other:"Autre"})[C]||C;return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ua,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des documents locaux..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestionnaire de documents locaux"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-5 w-5"}),s.jsx("span",{children:"Exporter"})]}),s.jsxs("label",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 cursor-pointer",children:[s.jsx(Oh,{className:"h-5 w-5"}),s.jsx("span",{children:"Importer"}),s.jsx("input",{type:"file",accept:".json",onChange:y,className:"hidden"})]}),s.jsxs("button",{onClick:N,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-5 w-5"}),s.jsx("span",{children:"Nettoyer"})]})]})]}),v&&s.jsx("div",{className:`rounded-lg p-4 ${v.type==="success"?"bg-green-50 border border-green-200 text-green-800":v.type==="error"?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[v.type==="success"?s.jsx(Bt,{className:"h-5 w-5"}):v.type==="error"?s.jsx(vt,{className:"h-5 w-5"}):s.jsx(hl,{className:"h-5 w-5"}),s.jsx("p",{className:"text-sm font-medium",children:v.text})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total documents"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.total||0})]}),s.jsx(Et,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documents récents"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.recent||0})]}),s.jsx(br,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Espace utilisé"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.storageUsed||"0 KB"})]}),s.jsx(zm,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Types différents"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:Object.keys(t.byType||{}).length})]}),s.jsx(xc,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paramètres de stockage local"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Sauvegarde automatique"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Sauvegarder automatiquement les documents"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.autoSave,onChange:C=>j({autoSave:C.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre max de documents"}),s.jsx("input",{type:"number",value:i.maxDocuments,onChange:C=>j({maxDocuments:parseInt(C.target.value)||1e3}),min:"100",max:"10000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Compression"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Compresser les données pour économiser l'espace"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.compressionEnabled,onChange:C=>j({compressionEnabled:C.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un document...",value:c,onChange:C=>u(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:A,onChange:C=>f(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"lease",children:"Contrats de bail"}),s.jsx("option",{value:"inventory",children:"États des lieux"}),s.jsx("option",{value:"receipt",children:"Quittances"}),s.jsx("option",{value:"notice",children:"Préavis"}),s.jsx("option",{value:"insurance",children:"Assurances"}),s.jsx("option",{value:"other",children:"Autres"})]}),s.jsxs("select",{value:m,onChange:C=>h(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"draft",children:"Brouillons"}),s.jsx("option",{value:"pending_signature",children:"En attente"}),s.jsx("option",{value:"signed",children:"Signés"}),s.jsx("option",{value:"archived",children:"Archivés"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Document"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Créé le"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Modifié le"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:C.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",C.id]})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:F(C.type)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${I(C.status)}`,children:C.status})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:C.createdAt.toLocaleDateString()})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:C.updatedAt.toLocaleDateString()})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>w(C.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})})})]},C.id))})]})}),k.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document trouvé"}),s.jsx("p",{className:"text-gray-600",children:c||A!=="all"||m!=="all"?"Aucun document ne correspond à vos critères.":"Aucun document stocké localement."})]})]})]})},U4=()=>{const[r,e]=Ae.useState({totalUsers:0,activeUsers:0,totalProperties:0,totalDocuments:0,totalActivities:0,systemHealth:"healthy",uptime:"99.9%",lastBackup:new Date,storageUsed:0,storageLimit:1e3}),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(null);Ae.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0),a(null);const A={totalUsers:1247,activeUsers:89,totalProperties:3456,totalDocuments:12890,totalActivities:45678,systemHealth:"healthy",uptime:"99.97%",lastBackup:new Date(Date.now()-7200*1e3),storageUsed:750,storageLimit:1e3};try{const{count:f}=await Je.from("profiles").select("*",{count:"exact",head:!0}),{count:m}=await Je.from("properties").select("*",{count:"exact",head:!0}),{count:h}=await Je.from("activities").select("*",{count:"exact",head:!0});f!==null&&(A.totalUsers=f),m!==null&&(A.totalProperties=m),h!==null&&(A.totalActivities=h)}catch{console.warn("Impossible de récupérer les vraies statistiques, utilisation des données de démonstration")}e(A)}catch(A){a("Erreur lors du chargement des statistiques système"),console.error("Error loading system stats:",A)}finally{n(!1)}},l=A=>{switch(A){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},c=A=>{switch(A){case"healthy":return s.jsx(Bt,{className:"h-5 w-5 text-green-600"});case"warning":return s.jsx(vt,{className:"h-5 w-5 text-yellow-600"});case"critical":return s.jsx(vt,{className:"h-5 w-5 text-red-600"});default:return s.jsx(Ur,{className:"h-5 w-5 text-gray-600"})}},u=r.storageUsed/r.storageLimit*100;return t?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ua,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des statistiques système..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tableau de bord administrateur"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:o,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Actualiser",children:s.jsx(Ua,{className:"h-5 w-5"})}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-5 w-5"}),s.jsx("span",{children:"Exporter rapport"})]})]})]}),i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:i})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"État du système"}),s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full ${l(r.systemHealth)}`,children:[c(r.systemHealth),s.jsx("span",{className:"text-sm font-medium capitalize",children:r.systemHealth})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(u0,{className:"h-8 w-8 text-blue-600"})}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.uptime}),s.jsx("p",{className:"text-sm text-gray-600",children:"Disponibilité"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(y6,{className:"h-8 w-8 text-green-600"})}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12%"}),s.jsx("p",{className:"text-sm text-gray-600",children:"CPU Usage"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(zm,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[u.toFixed(0),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Stockage utilisé"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(l5,{className:"h-8 w-8 text-orange-600"})}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"45ms"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Latence"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs totaux"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.totalUsers.toLocaleString()}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ai,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+12% ce mois"})]})]}),s.jsx(yn,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs actifs"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.activeUsers}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ai,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+5% aujourd'hui"})]})]}),s.jsx(Oi,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Biens gérés"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.totalProperties.toLocaleString()}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ai,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+8% ce mois"})]})]}),s.jsx(Sa,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documents générés"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:r.totalDocuments.toLocaleString()}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ai,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+15% ce mois"})]})]}),s.jsx(xc,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Utilisation du stockage"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Stockage utilisé"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[r.storageUsed," MB / ",r.storageLimit," MB"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full ${u>90?"bg-red-500":u>75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(u,100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Documents"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"450 MB"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Base de données"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"200 MB"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Logs"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"100 MB"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Activités récentes du système"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-green-50 rounded-lg",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Sauvegarde automatique terminée"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 2 heures"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg",children:[s.jsx(yn,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"5 nouveaux utilisateurs inscrits"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 4 heures"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-yellow-50 rounded-lg",children:[s.jsx(vt,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Pic d'utilisation détecté"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 6 heures"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-purple-50 rounded-lg",children:[s.jsx(Sa,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Maintenance de la base de données"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Il y a 1 jour"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Actions rapides"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx(Sa,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Sauvegarder maintenant"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Créer une sauvegarde manuelle"})]})]}),s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx(Ri,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-green-900",children:"Optimiser la base"}),s.jsx("p",{className:"text-sm text-green-700",children:"Nettoyer et optimiser"})]})]}),s.jsxs("button",{className:"flex items-center space-x-3 p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx(xc,{className:"h-6 w-6 text-purple-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-purple-900",children:"Rapport détaillé"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Générer un rapport complet"})]})]})]})]})]})},EP=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(!0),[c,u]=Ae.useState("daily"),[A,f]=Ae.useState(30),[m,h]=Ae.useState(null);Ae.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const k=[{id:"1",name:"Sauvegarde automatique - 2025-01-16",size:"45.2 MB",createdAt:new Date(Date.now()-7200*1e3),type:"auto",status:"completed",downloadUrl:"#"},{id:"2",name:"Sauvegarde manuelle - 2025-01-15",size:"44.8 MB",createdAt:new Date(Date.now()-1440*60*1e3),type:"manual",status:"completed",downloadUrl:"#"},{id:"3",name:"Sauvegarde automatique - 2025-01-15",size:"44.1 MB",createdAt:new Date(Date.now()-2880*60*1e3),type:"auto",status:"completed",downloadUrl:"#"},{id:"4",name:"Sauvegarde automatique - 2025-01-14",size:"43.9 MB",createdAt:new Date(Date.now()-4320*60*1e3),type:"auto",status:"failed"}];e(k)}catch(k){console.error("Erreur lors du chargement des sauvegardes:",k),h({type:"error",text:"Erreur lors du chargement des sauvegardes"})}finally{n(!1)}},x=async()=>{try{a(!0),h(null),await new Promise(I=>setTimeout(I,3e3));const k={id:Date.now().toString(),name:`Sauvegarde manuelle - ${new Date().toLocaleDateString()}`,size:"45.5 MB",createdAt:new Date,type:"manual",status:"completed",downloadUrl:"#"};e(I=>[k,...I]),h({type:"success",text:"Sauvegarde créée avec succès"})}catch{h({type:"error",text:"Erreur lors de la création de la sauvegarde"})}finally{a(!1)}},b=async k=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette sauvegarde ?"))try{e(I=>I.filter(F=>F.id!==k)),h({type:"success",text:"Sauvegarde supprimée avec succès"})}catch{h({type:"error",text:"Erreur lors de la suppression de la sauvegarde"})}},p=k=>{const I=document.createElement("a");I.href=k.downloadUrl||"#",I.download=`${k.name}.sql`,document.body.appendChild(I),I.click(),document.body.removeChild(I),h({type:"success",text:"Téléchargement de la sauvegarde démarré"})},y=async k=>{if(confirm(`Êtes-vous sûr de vouloir restaurer la sauvegarde "${k.name}" ? Cette action est irréversible.`))try{h({type:"success",text:"Restauration de la sauvegarde en cours..."}),await new Promise(I=>setTimeout(I,2e3)),h({type:"success",text:"Sauvegarde restaurée avec succès"})}catch{h({type:"error",text:"Erreur lors de la restauration de la sauvegarde"})}},N=k=>{switch(k){case"completed":return s.jsx(Bt,{className:"h-4 w-4 text-green-600"});case"in_progress":return s.jsx(Cr,{className:"h-4 w-4 text-blue-600 animate-spin"});case"failed":return s.jsx(vt,{className:"h-4 w-4 text-red-600"});default:return s.jsx(Ur,{className:"h-4 w-4 text-gray-600"})}},w=k=>{switch(k){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=k=>{switch(k){case"auto":return"bg-blue-100 text-blue-800";case"manual":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestion des sauvegardes"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Actualiser",children:s.jsx(Ua,{className:"h-5 w-5"})}),s.jsxs("button",{onClick:x,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[i?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Sa,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer une sauvegarde"})]})]})]}),m&&s.jsx("div",{className:`rounded-lg p-4 ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[m.type==="success"?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsx("p",{className:"text-sm font-medium",children:m.text})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Paramètres de sauvegarde"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Sauvegarde automatique"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Activer les sauvegardes automatiques"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:k=>l(k.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fréquence"}),s.jsxs("select",{value:c,onChange:k=>u(k.target.value),disabled:!o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[s.jsx("option",{value:"hourly",children:"Toutes les heures"}),s.jsx("option",{value:"daily",children:"Quotidienne"}),s.jsx("option",{value:"weekly",children:"Hebdomadaire"}),s.jsx("option",{value:"monthly",children:"Mensuelle"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rétention (jours)"}),s.jsx("input",{type:"number",value:A,onChange:k=>f(parseInt(k.target.value)||30),min:"1",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total sauvegardes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.length})]}),s.jsx(Sa,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dernière sauvegarde"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:r.length>0?r[0].createdAt.toLocaleDateString():"Aucune"})]}),s.jsx(Ur,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taille totale"}),s.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[r.reduce((k,I)=>{const F=parseFloat(I.size.replace(" MB",""));return k+F},0).toFixed(1)," MB"]})]}),s.jsx(zm,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taux de réussite"}),s.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[r.length>0?Math.round(r.filter(k=>k.status==="completed").length/r.length*100):0,"%"]})]}),s.jsx(Bt,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Historique des sauvegardes"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"px-3 py-1 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Nettoyer anciennes"})})]}),t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Nom"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Taille"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Sa,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"font-medium text-gray-900",children:k.name})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j(k.type)}`,children:k.type==="auto"?"Automatique":"Manuelle"})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:k.size})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[N(k.status),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w(k.status)}`,children:k.status==="completed"?"Terminée":k.status==="in_progress"?"En cours":"Échouée"})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:k.createdAt.toLocaleString()})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[k.status==="completed"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>p(k),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Télécharger",children:s.jsx(hi,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>y(k),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Restaurer",children:s.jsx(Oh,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:()=>b(k.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},k.id))})]})}),r.length===0&&!t&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Sa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune sauvegarde"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Aucune sauvegarde n'a été créée pour le moment."}),s.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Créer la première sauvegarde"})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Km(r){return r+.5|0}const Cu=(r,e,t)=>Math.max(Math.min(r,t),e);function tm(r){return Cu(Km(r*2.55),0,255)}function Du(r){return Cu(Km(r*255),0,255)}function uc(r){return Cu(Km(r/2.55)/100,0,1)}function O4(r){return Cu(Km(r*100),0,100)}const Ba={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$w=[..."0123456789ABCDEF"],SP=r=>$w[r&15],kP=r=>$w[(r&240)>>4]+$w[r&15],Qp=r=>(r&240)>>4===(r&15),FP=r=>Qp(r.r)&&Qp(r.g)&&Qp(r.b)&&Qp(r.a);function TP(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&Ba[r[1]]*17,g:255&Ba[r[2]]*17,b:255&Ba[r[3]]*17,a:e===5?Ba[r[4]]*17:255}:(e===7||e===9)&&(t={r:Ba[r[1]]<<4|Ba[r[2]],g:Ba[r[3]]<<4|Ba[r[4]],b:Ba[r[5]]<<4|Ba[r[6]],a:e===9?Ba[r[7]]<<4|Ba[r[8]]:255})),t}const IP=(r,e)=>r<255?e(r):"";function LP(r){var e=FP(r)?SP:kP;return r?"#"+e(r.r)+e(r.g)+e(r.b)+IP(r.a,e):void 0}const DP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function O6(r,e,t){const n=e*Math.min(t,1-t),i=(a,o=(a+r/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function UP(r,e,t){const n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function OP(r,e,t){const n=O6(r,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function PP(r,e,t,n,i){return r===i?(e-t)/n+(e<t?6:0):e===i?(t-r)/n+2:(r-e)/n+4}function A5(r){const t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),o=Math.min(t,n,i),l=(a+o)/2;let c,u,A;return a!==o&&(A=a-o,u=l>.5?A/(2-a-o):A/(a+o),c=PP(t,n,i,A,a),c=c*60+.5),[c|0,u||0,l]}function h5(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(Du)}function f5(r,e,t){return h5(O6,r,e,t)}function RP(r,e,t){return h5(OP,r,e,t)}function MP(r,e,t){return h5(UP,r,e,t)}function P6(r){return(r%360+360)%360}function QP(r){const e=DP.exec(r);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?tm(+e[5]):Du(+e[5]));const i=P6(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=RP(i,a,o):e[1]==="hsv"?n=MP(i,a,o):n=f5(i,a,o),{r:n[0],g:n[1],b:n[2],a:t}}function HP(r,e){var t=A5(r);t[0]=P6(t[0]+e),t=f5(t),r.r=t[0],r.g=t[1],r.b=t[2]}function qP(r){if(!r)return;const e=A5(r),t=e[0],n=O4(e[1]),i=O4(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${uc(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const P4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zP(){const r={},e=Object.keys(R4),t=Object.keys(P4);let n,i,a,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],i=0;i<t.length;i++)a=t[i],l=l.replace(a,P4[a]);a=parseInt(R4[o],16),r[l]=[a>>16&255,a>>8&255,a&255]}return r}let Hp;function KP(r){Hp||(Hp=zP(),Hp.transparent=[0,0,0,0]);const e=Hp[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const VP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WP(r){const e=VP.exec(r);let t=255,n,i,a;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?tm(o):Cu(o*255,0,255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?tm(n):Cu(n,0,255)),i=255&(e[4]?tm(i):Cu(i,0,255)),a=255&(e[6]?tm(a):Cu(a,0,255)),{r:n,g:i,b:a,a:t}}}function GP(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${uc(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Jv=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,JA=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function $P(r,e,t){const n=JA(uc(r.r)),i=JA(uc(r.g)),a=JA(uc(r.b));return{r:Du(Jv(n+t*(JA(uc(e.r))-n))),g:Du(Jv(i+t*(JA(uc(e.g))-i))),b:Du(Jv(a+t*(JA(uc(e.b))-a))),a:r.a+t*(e.a-r.a)}}function qp(r,e,t){if(r){let n=A5(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=f5(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function R6(r,e){return r&&Object.assign(e||{},r)}function M4(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Du(r[3]))):(e=R6(r,{r:0,g:0,b:0,a:1}),e.a=Du(e.a)),e}function YP(r){return r.charAt(0)==="r"?WP(r):QP(r)}let M6=class Yw{constructor(e){if(e instanceof Yw)return e;const t=typeof e;let n;t==="object"?n=M4(e):t==="string"&&(n=TP(e)||KP(e)||YP(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=R6(this._rgb);return e&&(e.a=uc(e.a)),e}set rgb(e){this._rgb=M4(e)}rgbString(){return this._valid?GP(this._rgb):void 0}hexString(){return this._valid?LP(this._rgb):void 0}hslString(){return this._valid?qP(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let a;const o=t===a?.5:t,l=2*o-1,c=n.a-i.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-u,n.r=255&u*n.r+a*i.r+.5,n.g=255&u*n.g+a*i.g+.5,n.b=255&u*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=$P(this._rgb,e._rgb,t)),this}clone(){return new Yw(this.rgb)}alpha(e){return this._rgb.a=Du(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Km(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qp(this._rgb,2,e),this}darken(e){return qp(this._rgb,2,-e),this}saturate(e){return qp(this._rgb,1,e),this}desaturate(e){return qp(this._rgb,1,-e),this}rotate(e){return HP(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ec(){}const XP=(()=>{let r=0;return()=>r++})();function wr(r){return r==null}function Wn(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function cr(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Oa(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function Xo(r,e){return Oa(r)?r:e}function Vt(r,e){return typeof r>"u"?e:r}const JP=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,Q6=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function $r(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Br(r,e,t,n){let i,a,o;if(Wn(r))for(a=r.length,i=0;i<a;i++)e.call(t,r[i],i);else if(cr(r))for(o=Object.keys(r),a=o.length,i=0;i<a;i++)e.call(t,r[o[i]],o[i])}function d0(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function A0(r){if(Wn(r))return r.map(A0);if(cr(r)){const e=Object.create(null),t=Object.keys(r),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=A0(r[t[i]]);return e}return r}function H6(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function ZP(r,e,t,n){if(!H6(r))return;const i=e[r],a=t[r];cr(i)&&cr(a)?km(i,a,n):e[r]=A0(a)}function km(r,e,t){const n=Wn(e)?e:[e],i=n.length;if(!cr(r))return r;t=t||{};const a=t.merger||ZP;let o;for(let l=0;l<i;++l){if(o=n[l],!cr(o))continue;const c=Object.keys(o);for(let u=0,A=c.length;u<A;++u)a(c[u],r,o,t)}return r}function fm(r,e){return km(r,e,{merger:eR})}function eR(r,e,t){if(!H6(r))return;const n=e[r],i=t[r];cr(n)&&cr(i)?fm(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=A0(i))}const Q4={"":r=>r,x:r=>r.x,y:r=>r.y};function tR(r){const e=r.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function rR(r){const e=tR(r);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function nA(r,e){return(Q4[e]||(Q4[e]=rR(e)))(r)}function m5(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Fm=r=>typeof r<"u",Hu=r=>typeof r=="function",H4=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function nR(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const _r=Math.PI,xn=2*_r,sR=xn+_r,h0=Number.POSITIVE_INFINITY,iR=_r/180,Gn=_r/2,Sd=_r/4,q4=_r*2/3,q6=Math.log10,dl=Math.sign;function mm(r,e,t){return Math.abs(r-e)<t}function z4(r){const e=Math.round(r);r=mm(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(q6(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function aR(r){const e=[],t=Math.sqrt(r);let n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function oR(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function Tm(r){return!oR(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function lR(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function cR(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function hc(r){return r*(_r/180)}function uR(r){return r*(180/_r)}function K4(r){if(!Oa(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function z6(r,e){const t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n);let a=Math.atan2(n,t);return a<-.5*_r&&(a+=xn),{angle:a,distance:i}}function Xw(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function dR(r,e){return(r-e+sR)%xn-_r}function xo(r){return(r%xn+xn)%xn}function Im(r,e,t,n){const i=xo(r),a=xo(e),o=xo(t),l=xo(a-i),c=xo(o-i),u=xo(i-a),A=xo(i-o);return i===a||i===o||n&&a===o||l>c&&u<A}function Ks(r,e,t){return Math.max(e,Math.min(t,r))}function AR(r){return Ks(r,-32768,32767)}function Eu(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function p5(r,e,t){t=t||(o=>r[o]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}const Kd=(r,e,t,n)=>p5(r,t,n?i=>{const a=r[i][e];return a<t||a===t&&r[i+1][e]===t}:i=>r[i][e]<t),hR=(r,e,t)=>p5(r,t,n=>r[n][e]>=t);function fR(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}const K6=["push","pop","shift","splice","unshift"];function mR(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),K6.forEach(t=>{const n="_onData"+m5(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return r._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),o}})})}function V4(r,e){const t=r._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(K6.forEach(a=>{delete r[a]}),delete r._chartjs)}function V6(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const W6=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function G6(r,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,W6.call(window,()=>{n=!1,r.apply(e,t)}))}}function pR(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}const g5=r=>r==="start"?"left":r==="end"?"right":"center",Qs=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,gR=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;function xR(r,e,t){const n=e.length;let i=0,a=n;if(r._sorted){const{iScale:o,vScale:l,_parsed:c}=r,u=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,A=o.axis,{min:f,max:m,minDefined:h,maxDefined:v}=o.getUserBounds();if(h){if(i=Math.min(Kd(c,A,f).lo,t?n:Kd(e,A,o.getPixelForValue(f)).lo),u){const x=c.slice(0,i+1).reverse().findIndex(b=>!wr(b[l.axis]));i-=Math.max(0,x)}i=Ks(i,0,n-1)}if(v){let x=Math.max(Kd(c,o.axis,m,!0).hi+1,t?0:Kd(e,A,o.getPixelForValue(m),!0).hi+1);if(u){const b=c.slice(x-1).findIndex(p=>!wr(p[l.axis]));x+=Math.max(0,b)}a=Ks(x,i,n)-i}else a=n-i}return{start:i,count:a}}function yR(r){const{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),a}const zp=r=>r===0||r===1,W4=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*xn/t)),G4=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*xn/t)+1,pm={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Gn)+1,easeOutSine:r=>Math.sin(r*Gn),easeInOutSine:r=>-.5*(Math.cos(_r*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>zp(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>zp(r)?r:W4(r,.075,.3),easeOutElastic:r=>zp(r)?r:G4(r,.075,.3),easeInOutElastic(r){return zp(r)?r:r<.5?.5*W4(r*2,.1125,.45):.5+.5*G4(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-pm.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?pm.easeInBounce(r*2)*.5:pm.easeOutBounce(r*2-1)*.5+.5};function x5(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $4(r){return x5(r)?r:new M6(r)}function Zv(r){return x5(r)?r:new M6(r).saturate(.5).darken(.1).hexString()}const vR=["x","y","borderWidth","radius","tension"],bR=["color","borderColor","backgroundColor"];function wR(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:bR},numbers:{type:"number",properties:vR}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function NR(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Y4=new Map;function jR(r,e){e=e||{};const t=r+JSON.stringify(e);let n=Y4.get(t);return n||(n=new Intl.NumberFormat(r,e),Y4.set(t,n)),n}function y5(r,e,t){return jR(e,t).format(r)}const BR={values(r){return Wn(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const n=this.chart.options.locale;let i,a=r;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),a=_R(r,t)}const o=q6(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),y5(r,n,c)}};function _R(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var $6={formatters:BR};function CR(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$6.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const sA=Object.create(null),Jw=Object.create(null);function gm(r,e){if(!e)return r;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function eb(r,e,t){return typeof e=="string"?km(gm(r,e),t):km(gm(r,""),e)}class ER{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Zv(i.backgroundColor),this.hoverBorderColor=(n,i)=>Zv(i.borderColor),this.hoverColor=(n,i)=>Zv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return eb(this,e,t)}get(e){return gm(this,e)}describe(e,t){return eb(Jw,e,t)}override(e,t){return eb(sA,e,t)}route(e,t,n,i){const a=gm(this,e),o=gm(this,n),l="_"+t;Object.defineProperties(a,{[l]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],u=o[i];return cr(c)?Object.assign({},u,c):Vt(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var Fn=new ER({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wR,NR,CR]);function SR(r){return!r||wr(r.size)||wr(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function X4(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function kd(r,e,t){const n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function J4(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function Zw(r,e,t,n){Y6(r,e,t,n,null)}function Y6(r,e,t,n,i){let a,o,l,c,u,A,f,m;const h=e.pointStyle,v=e.rotation,x=e.radius;let b=(v||0)*iR;if(h&&typeof h=="object"&&(a=h.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(b),r.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),r.restore();return}if(!(isNaN(x)||x<=0)){switch(r.beginPath(),h){default:i?r.ellipse(t,n,i/2,x,0,0,xn):r.arc(t,n,x,0,xn),r.closePath();break;case"triangle":A=i?i/2:x,r.moveTo(t+Math.sin(b)*A,n-Math.cos(b)*x),b+=q4,r.lineTo(t+Math.sin(b)*A,n-Math.cos(b)*x),b+=q4,r.lineTo(t+Math.sin(b)*A,n-Math.cos(b)*x),r.closePath();break;case"rectRounded":u=x*.516,c=x-u,o=Math.cos(b+Sd)*c,f=Math.cos(b+Sd)*(i?i/2-u:c),l=Math.sin(b+Sd)*c,m=Math.sin(b+Sd)*(i?i/2-u:c),r.arc(t-f,n-l,u,b-_r,b-Gn),r.arc(t+m,n-o,u,b-Gn,b),r.arc(t+f,n+l,u,b,b+Gn),r.arc(t-m,n+o,u,b+Gn,b+_r),r.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*x,A=i?i/2:c,r.rect(t-A,n-c,2*A,2*c);break}b+=Sd;case"rectRot":f=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),r.moveTo(t-f,n-l),r.lineTo(t+m,n-o),r.lineTo(t+f,n+l),r.lineTo(t-m,n+o),r.closePath();break;case"crossRot":b+=Sd;case"cross":f=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),r.moveTo(t-f,n-l),r.lineTo(t+f,n+l),r.moveTo(t+m,n-o),r.lineTo(t-m,n+o);break;case"star":f=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),r.moveTo(t-f,n-l),r.lineTo(t+f,n+l),r.moveTo(t+m,n-o),r.lineTo(t-m,n+o),b+=Sd,f=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,l=Math.sin(b)*x,m=Math.sin(b)*(i?i/2:x),r.moveTo(t-f,n-l),r.lineTo(t+f,n+l),r.moveTo(t+m,n-o),r.lineTo(t-m,n+o);break;case"line":o=i?i/2:Math.cos(b)*x,l=Math.sin(b)*x,r.moveTo(t-o,n-l),r.lineTo(t+o,n+l);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(b)*(i?i/2:x),n+Math.sin(b)*x);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function Lm(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function v5(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function b5(r){r.restore()}function kR(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){const a=(e.x+t.x)/2;r.lineTo(a,e.y),r.lineTo(a,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function FR(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function TR(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),wr(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function IR(r,e,t,n,i){if(i.strikethrough||i.underline){const a=r.measureText(n),o=e-a.actualBoundingBoxLeft,l=e+a.actualBoundingBoxRight,c=t-a.actualBoundingBoxAscent,u=t+a.actualBoundingBoxDescent,A=i.strikethrough?(c+u)/2:u;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(o,A),r.lineTo(l,A),r.stroke()}}function LR(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function Dm(r,e,t,n,i,a={}){const o=Wn(e)?e:[e],l=a.strokeWidth>0&&a.strokeColor!=="";let c,u;for(r.save(),r.font=i.string,TR(r,a),c=0;c<o.length;++c)u=o[c],a.backdrop&&LR(r,a.backdrop),l&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),wr(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(u,t,n,a.maxWidth)),r.fillText(u,t,n,a.maxWidth),IR(r,t,n,u,a),n+=Number(i.lineHeight);r.restore()}function f0(r,e){const{x:t,y:n,w:i,h:a,radius:o}=e;r.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*_r,_r,!0),r.lineTo(t,n+a-o.bottomLeft),r.arc(t+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,_r,Gn,!0),r.lineTo(t+i-o.bottomRight,n+a),r.arc(t+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,Gn,0,!0),r.lineTo(t+i,n+o.topRight),r.arc(t+i-o.topRight,n+o.topRight,o.topRight,0,-Gn,!0),r.lineTo(t+o.topLeft,n)}const DR=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,UR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OR(r,e){const t=(""+r).match(DR);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const PR=r=>+r||0;function w5(r,e){const t={},n=cr(e),i=n?Object.keys(e):e,a=cr(r)?n?o=>Vt(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of i)t[o]=PR(a(o));return t}function X6(r){return w5(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Bh(r){return w5(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Pa(r){const e=X6(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vs(r,e){r=r||{},e=e||Fn.font;let t=Vt(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Vt(r.style,e.style);n&&!(""+n).match(UR)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Vt(r.family,e.family),lineHeight:OR(Vt(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:Vt(r.weight,e.weight),string:""};return i.string=SR(i),i}function Kp(r,e,t,n){let i,a,o;for(i=0,a=r.length;i<a;++i)if(o=r[i],o!==void 0&&o!==void 0)return o}function RR(r,e,t){const{min:n,max:i}=r,a=Q6(e,(i-n)/2),o=(l,c)=>t&&l===0?0:l+c;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function oA(r,e){return Object.assign(Object.create(r),e)}function N5(r,e=[""],t,n,i=()=>r[0]){const a=t||r;typeof n>"u"&&(n=tk("_fallback",r));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:a,_fallback:n,_getTarget:i,override:l=>N5([l,...r],e,a,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete r[0][c],!0},get(l,c){return Z6(l,c,()=>WR(c,e,r,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,c){return e_(l).includes(c)},ownKeys(l){return e_(l)},set(l,c,u){const A=l._storage||(l._storage=i());return l[c]=A[c]=u,delete l._keys,!0}})}function Ph(r,e,t,n){const i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:J6(r,n),setContext:a=>Ph(r,a,t,n),override:a=>Ph(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete r[o],!0},get(a,o,l){return Z6(a,o,()=>QR(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(a,o,l){return r[o]=l,delete a[o],!0}})}function J6(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Hu(t)?t:()=>t,isIndexable:Hu(n)?n:()=>n}}const MR=(r,e)=>r?r+m5(e):e,j5=(r,e)=>cr(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Z6(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const n=t();return r[e]=n,n}function QR(r,e,t){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=r;let l=n[e];return Hu(l)&&o.isScriptable(e)&&(l=HR(e,l,r,t)),Wn(l)&&l.length&&(l=qR(e,l,r,o.isIndexable)),j5(e,l)&&(l=Ph(l,i,a&&a[e],o)),l}function HR(r,e,t,n){const{_proxy:i,_context:a,_subProxy:o,_stack:l}=t;if(l.has(r))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+r);l.add(r);let c=e(a,o||n);return l.delete(r),j5(r,c)&&(c=B5(i._scopes,i,r,c)),c}function qR(r,e,t,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=t;if(typeof a.index<"u"&&n(r))return e[a.index%e.length];if(cr(e[0])){const c=e,u=i._scopes.filter(A=>A!==c);e=[];for(const A of c){const f=B5(u,i,r,A);e.push(Ph(f,a,o&&o[r],l))}}return e}function ek(r,e,t){return Hu(r)?r(e,t):r}const zR=(r,e)=>r===!0?e:typeof r=="string"?nA(e,r):void 0;function KR(r,e,t,n,i){for(const a of e){const o=zR(t,a);if(o){r.add(o);const l=ek(o._fallback,t,i);if(typeof l<"u"&&l!==t&&l!==n)return l}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function B5(r,e,t,n){const i=e._rootScopes,a=ek(e._fallback,t,n),o=[...r,...i],l=new Set;l.add(n);let c=Z4(l,o,t,a||t,n);return c===null||typeof a<"u"&&a!==t&&(c=Z4(l,o,a,c,n),c===null)?!1:N5(Array.from(l),[""],i,a,()=>VR(e,t,n))}function Z4(r,e,t,n,i){for(;t;)t=KR(r,e,t,n,i);return t}function VR(r,e,t){const n=r._getTarget();e in n||(n[e]={});const i=n[e];return Wn(i)&&cr(t)?t:i||{}}function WR(r,e,t,n){let i;for(const a of e)if(i=tk(MR(a,r),t),typeof i<"u")return j5(r,i)?B5(t,n,r,i):i}function tk(r,e){for(const t of e){if(!t)continue;const n=t[r];if(typeof n<"u")return n}}function e_(r){let e=r._keys;return e||(e=r._keys=GR(r._scopes)),e}function GR(r){const e=new Set;for(const t of r)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const $R=Number.EPSILON||1e-14,Rh=(r,e)=>e<r.length&&!r[e].skip&&r[e],rk=r=>r==="x"?"y":"x";function YR(r,e,t,n){const i=r.skip?e:r,a=e,o=t.skip?e:t,l=Xw(a,i),c=Xw(o,a);let u=l/(l+c),A=c/(l+c);u=isNaN(u)?0:u,A=isNaN(A)?0:A;const f=n*u,m=n*A;return{previous:{x:a.x-f*(o.x-i.x),y:a.y-f*(o.y-i.y)},next:{x:a.x+m*(o.x-i.x),y:a.y+m*(o.y-i.y)}}}function XR(r,e,t){const n=r.length;let i,a,o,l,c,u=Rh(r,0);for(let A=0;A<n-1;++A)if(c=u,u=Rh(r,A+1),!(!c||!u)){if(mm(e[A],0,$R)){t[A]=t[A+1]=0;continue}i=t[A]/e[A],a=t[A+1]/e[A],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),t[A]=i*o*e[A],t[A+1]=a*o*e[A])}}function JR(r,e,t="x"){const n=rk(t),i=r.length;let a,o,l,c=Rh(r,0);for(let u=0;u<i;++u){if(o=l,l=c,c=Rh(r,u+1),!l)continue;const A=l[t],f=l[n];o&&(a=(A-o[t])/3,l[`cp1${t}`]=A-a,l[`cp1${n}`]=f-a*e[u]),c&&(a=(c[t]-A)/3,l[`cp2${t}`]=A+a,l[`cp2${n}`]=f+a*e[u])}}function ZR(r,e="x"){const t=rk(e),n=r.length,i=Array(n).fill(0),a=Array(n);let o,l,c,u=Rh(r,0);for(o=0;o<n;++o)if(l=c,c=u,u=Rh(r,o+1),!!c){if(u){const A=u[e]-c[e];i[o]=A!==0?(u[t]-c[t])/A:0}a[o]=l?u?dl(i[o-1])!==dl(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}XR(r,i,a),JR(r,a,e)}function Vp(r,e,t){return Math.max(Math.min(r,t),e)}function e7(r,e){let t,n,i,a,o,l=Lm(r[0],e);for(t=0,n=r.length;t<n;++t)o=a,a=l,l=t<n-1&&Lm(r[t+1],e),a&&(i=r[t],o&&(i.cp1x=Vp(i.cp1x,e.left,e.right),i.cp1y=Vp(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Vp(i.cp2x,e.left,e.right),i.cp2y=Vp(i.cp2y,e.top,e.bottom)))}function t7(r,e,t,n,i){let a,o,l,c;if(e.spanGaps&&(r=r.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")ZR(r,i);else{let u=n?r[r.length-1]:r[0];for(a=0,o=r.length;a<o;++a)l=r[a],c=YR(u,l,r[Math.min(a+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&e7(r,t)}function _5(){return typeof window<"u"&&typeof document<"u"}function C5(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function m0(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}const K0=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function r7(r,e){return K0(r).getPropertyValue(e)}const n7=["top","right","bottom","left"];function $d(r,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=n7[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const s7=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function i7(r,e){const t=r.touches,n=t&&t.length?t[0]:r,{offsetX:i,offsetY:a}=n;let o=!1,l,c;if(s7(i,a,r.target))l=i,c=a;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function Od(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:n}=e,i=K0(t),a=i.boxSizing==="border-box",o=$d(i,"padding"),l=$d(i,"border","width"),{x:c,y:u,box:A}=i7(r,t),f=o.left+(A&&l.left),m=o.top+(A&&l.top);let{width:h,height:v}=e;return a&&(h-=o.width+l.width,v-=o.height+l.height),{x:Math.round((c-f)/h*t.width/n),y:Math.round((u-m)/v*t.height/n)}}function a7(r,e,t){let n,i;if(e===void 0||t===void 0){const a=r&&C5(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{const o=a.getBoundingClientRect(),l=K0(a),c=$d(l,"border","width"),u=$d(l,"padding");e=o.width-u.width-c.width,t=o.height-u.height-c.height,n=m0(l.maxWidth,a,"clientWidth"),i=m0(l.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||h0,maxHeight:i||h0}}const Wp=r=>Math.round(r*10)/10;function o7(r,e,t,n){const i=K0(r),a=$d(i,"margin"),o=m0(i.maxWidth,r,"clientWidth")||h0,l=m0(i.maxHeight,r,"clientHeight")||h0,c=a7(r,e,t);let{width:u,height:A}=c;if(i.boxSizing==="content-box"){const m=$d(i,"border","width"),h=$d(i,"padding");u-=h.width+m.width,A-=h.height+m.height}return u=Math.max(0,u-a.width),A=Math.max(0,n?u/n:A-a.height),u=Wp(Math.min(u,o,c.maxWidth)),A=Wp(Math.min(A,l,c.maxHeight)),u&&!A&&(A=Wp(u/2)),(e!==void 0||t!==void 0)&&n&&c.height&&A>c.height&&(A=c.height,u=Wp(Math.floor(A*n))),{width:u,height:A}}function t_(r,e,t){const n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(r.currentDevicePixelRatio=n,o.height=i,o.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}const l7=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};_5()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function r_(r,e){const t=r7(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Pd(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function c7(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function u7(r,e,t,n){const i={x:r.cp2x,y:r.cp2y},a={x:e.cp1x,y:e.cp1y},o=Pd(r,i,t),l=Pd(i,a,t),c=Pd(a,e,t),u=Pd(o,l,t),A=Pd(l,c,t);return Pd(u,A,t)}const d7=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},A7=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function _h(r,e,t){return r?d7(e,t):A7()}function nk(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function sk(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function ik(r){return r==="angle"?{between:Im,compare:dR,normalize:xo}:{between:Eu,compare:(e,t)=>e-t,normalize:e=>e}}function n_({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function h7(r,e,t){const{property:n,start:i,end:a}=t,{between:o,normalize:l}=ik(n),c=e.length;let{start:u,end:A,loop:f}=r,m,h;if(f){for(u+=c,A+=c,m=0,h=c;m<h&&o(l(e[u%c][n]),i,a);++m)u--,A--;u%=c,A%=c}return A<u&&(A+=c),{start:u,end:A,loop:f,style:r.style}}function f7(r,e,t){if(!t)return[r];const{property:n,start:i,end:a}=t,o=e.length,{compare:l,between:c,normalize:u}=ik(n),{start:A,end:f,loop:m,style:h}=h7(r,e,t),v=[];let x=!1,b=null,p,y,N;const w=()=>c(i,N,p)&&l(i,N)!==0,j=()=>l(a,p)===0||c(a,N,p),k=()=>x||w(),I=()=>!x||j();for(let F=A,C=A;F<=f;++F)y=e[F%o],!y.skip&&(p=u(y[n]),p!==N&&(x=c(p,i,a),b===null&&k()&&(b=l(p,i)===0?F:C),b!==null&&I()&&(v.push(n_({start:b,end:F,loop:m,count:o,style:h})),b=null),C=F,N=p));return b!==null&&v.push(n_({start:b,end:f,loop:m,count:o,style:h})),v}function m7(r,e){const t=[],n=r.segments;for(let i=0;i<n.length;i++){const a=f7(n[i],r.points,e);a.length&&t.push(...a)}return t}function p7(r,e,t,n){let i=0,a=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&r[a%e].skip;)a--;return a%=e,{start:i,end:a}}function g7(r,e,t,n){const i=r.length,a=[];let o=e,l=r[e],c;for(c=e+1;c<=t;++c){const u=r[c%i];u.skip||u.stop?l.skip||(n=!1,a.push({start:e%i,end:(c-1)%i,loop:n}),e=o=u.stop?c:null):(o=c,l.skip&&(e=c)),l=u}return o!==null&&a.push({start:e%i,end:o%i,loop:n}),a}function x7(r,e){const t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];const a=!!r._loop,{start:o,end:l}=p7(t,i,a,n);if(n===!0)return s_(r,[{start:o,end:l,loop:a}],t,e);const c=l<o?l+i:l,u=!!r._fullLoop&&o===0&&l===i-1;return s_(r,g7(t,o,c,u),t,e)}function s_(r,e,t,n){return!n||!n.setContext||!t?e:y7(r,e,t,n)}function y7(r,e,t,n){const i=r._chart.getContext(),a=i_(r.options),{_datasetIndex:o,options:{spanGaps:l}}=r,c=t.length,u=[];let A=a,f=e[0].start,m=f;function h(v,x,b,p){const y=l?-1:1;if(v!==x){for(v+=c;t[v%c].skip;)v-=y;for(;t[x%c].skip;)x+=y;v%c!==x%c&&(u.push({start:v%c,end:x%c,loop:b,style:p}),A=p,f=x%c)}}for(const v of e){f=l?f:v.start;let x=t[f%c],b;for(m=f+1;m<=v.end;m++){const p=t[m%c];b=i_(n.setContext(oA(i,{type:"segment",p0:x,p1:p,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),v7(b,A)&&h(f,m-1,v.loop,A),x=p,A=b}f<m-1&&h(f,m-1,v.loop,A)}return u}function i_(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function v7(r,e){if(!e)return!1;const t=[],n=function(i,a){return x5(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(r,n)!==JSON.stringify(e,n)}function Gp(r,e,t){return r.options.clip?r[t]:e[t]}function b7(r,e){const{xScale:t,yScale:n}=r;return t&&n?{left:Gp(t,e,"left"),right:Gp(t,e,"right"),top:Gp(n,e,"top"),bottom:Gp(n,e,"bottom")}:e}function w7(r,e){const t=e._clip;if(t.disabled)return!1;const n=b7(e,r.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?r.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?r.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class N7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const a=t.listeners[i],o=t.duration;a.forEach(l=>l({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=W6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(a[o]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var oc=new N7;const a_="transparent",j7={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const n=$4(r||a_),i=n.valid&&$4(e||a_);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class B7{constructor(e,t,n,i){const a=t[n];i=Kp([e.to,i,a,e.from]);const o=Kp([e.from,a,i]);this._active=!0,this._fn=e.fn||j7[e.type||typeof o],this._easing=pm[e.easing]||pm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Kp([e.to,t,i,e.from]),this._from=Kp([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||t<n),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=a;return}c=t/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class ak{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!cr(e))return;const t=Object.keys(Fn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!cr(a))return;const o={};for(const l of t)o[l]=a[l];(Wn(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,t){const n=t.options,i=C7(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&_7(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}const A=t[u];let f=a[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,A,l);continue}else f.cancel();if(!m||!m.duration){e[u]=A;continue}a[u]=f=new B7(m,e,u,A),i.push(f)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return oc.add(this._chart,n),!0}}function _7(r,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function C7(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function o_(r,e){const t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function E7(r,e,t){if(t===!1)return!1;const n=o_(r,t),i=o_(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function S7(r){let e,t,n,i;return cr(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function ok(r,e){const t=[],n=r._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function l_(r,e,t,n={}){const i=r.keys,a=n.mode==="single";let o,l,c,u;if(e===null)return;let A=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===t){if(A=!0,n.all)continue;break}u=r.values[c],Oa(u)&&(a||e===0||dl(e)===dl(u))&&(e+=u)}return!A&&!n.all?0:e}function k7(r,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(r),l=new Array(o.length);let c,u,A;for(c=0,u=o.length;c<u;++c)A=o[c],l[c]={[i]:A,[a]:r[A]};return l}function tb(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function F7(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function T7(r){const{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function I7(r,e,t){const n=r[e]||(r[e]={});return n[t]||(n[t]={})}function c_(r,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function u_(r,e){const{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:l}=n,c=a.axis,u=o.axis,A=F7(a,o,n),f=e.length;let m;for(let h=0;h<f;++h){const v=e[h],{[c]:x,[u]:b}=v,p=v._stacks||(v._stacks={});m=p[u]=I7(i,A,x),m[l]=b,m._top=c_(m,o,!0,n.type),m._bottom=c_(m,o,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=b}}function rb(r,e){const t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function L7(r,e){return oA(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function D7(r,e,t){return oA(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Tf(r,e){const t=r.controller.index,n=r.vScale&&r.vScale.axis;if(n){e=e||r._parsed;for(const i of e){const a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t],a[n]._visualValues!==void 0&&a[n]._visualValues[t]!==void 0&&delete a[n]._visualValues[t]}}}const nb=r=>r==="reset"||r==="none",d_=(r,e)=>e?r:Object.assign({},r),U7=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:ok(t,!0),values:null};class V0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=tb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Tf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(f,m,h,v)=>f==="x"?m:f==="r"?v:h,a=t.xAxisID=Vt(n.xAxisID,rb(e,"x")),o=t.yAxisID=Vt(n.yAxisID,rb(e,"y")),l=t.rAxisID=Vt(n.rAxisID,rb(e,"r")),c=t.indexAxis,u=t.iAxisID=i(c,a,o,l),A=t.vAxisID=i(c,o,a,l);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&V4(this._data,this),e._stacked&&Tf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(cr(t)){const i=this._cachedMeta;this._data=k7(t,i)}else if(n!==t){if(n){V4(n,this);const i=this._cachedMeta;Tf(i),i._parsed=[]}t&&Object.isExtensible(t)&&mR(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=tb(t.vScale,t),t.stack!==n.stack&&(i=!0,Tf(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&(u_(this,t._parsed),t._stacked=tb(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,l=a.axis;let c=e===0&&t===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],A,f,m;if(this._parsing===!1)n._parsed=i,n._sorted=!0,m=i;else{Wn(i[e])?m=this.parseArrayData(n,i,e,t):cr(i[e])?m=this.parseObjectData(n,i,e,t):m=this.parsePrimitiveData(n,i,e,t);const h=()=>f[l]===null||u&&f[l]<u[l];for(A=0;A<t;++A)n._parsed[A+e]=f=m[A],c&&(h()&&(c=!1),u=f);n._sorted=c}o&&u_(this,m)}parsePrimitiveData(e,t,n,i){const{iScale:a,vScale:o}=e,l=a.axis,c=o.axis,u=a.getLabels(),A=a===o,f=new Array(i);let m,h,v;for(m=0,h=i;m<h;++m)v=m+n,f[m]={[l]:A||a.parse(u[v],v),[c]:o.parse(t[v],v)};return f}parseArrayData(e,t,n,i){const{xScale:a,yScale:o}=e,l=new Array(i);let c,u,A,f;for(c=0,u=i;c<u;++c)A=c+n,f=t[A],l[c]={x:a.parse(f[0],A),y:o.parse(f[1],A)};return l}parseObjectData(e,t,n,i){const{xScale:a,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let A,f,m,h;for(A=0,f=i;A<f;++A)m=A+n,h=t[m],u[A]={x:a.parse(nA(h,l),m),y:o.parse(nA(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,a=this._cachedMeta,o=t[e.axis],l={keys:ok(i,!0),values:t._stacks[e.axis]._visualValues};return l_(l,o,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const a=n[t.axis];let o=a===null?NaN:a;const l=i&&n._stacks[t.axis];i&&l&&(i.values=l,o=l_(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,o=i.length,l=this._getOtherScale(e),c=U7(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:f}=T7(l);let m,h;function v(){h=i[m];const x=h[l.axis];return!Oa(h[e.axis])||A>x||f<x}for(m=0;m<o&&!(!v()&&(this.updateRangeFromParsed(u,e,h,c),a));++m);if(a){for(m=o-1;m>=0;--m)if(!v()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=t.length;i<a;++i)o=t[i][e.axis],Oa(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=S7(Vt(this.options.clip,E7(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,u=this.options.drawActiveElementsOnTop;let A;for(n.dataset&&n.dataset.draw(e,a,l,c),A=l;A<l+c;++A){const f=i[A];f.hidden||(f.active&&u?o.push(f):f.draw(e,a))}for(A=0;A<o.length;++A)o[A].draw(e,a)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=D7(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=L7(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",a=this._cachedDataOpts,o=e+"-"+t,l=a[o],c=this.enableOptionSharing&&Fm(n);if(l)return d_(l,c);const u=this.chart.config,A=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),A),h=Object.keys(Fn.elements[e]),v=()=>this.getContext(n,i,t),x=u.resolveNamedOptions(m,h,v,f);return x.$shared&&(x.$shared=c,a[o]=Object.freeze(d_(x,c))),x}_resolveAnimations(e,t,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${t}`,l=a[o];if(l)return l;let c;if(i.options.animation!==!1){const A=this.chart.config,f=A.datasetAnimationScopeKeys(this._type,t),m=A.getOptionScopes(this.getDataset(),f);c=A.createResolver(m,this.getContext(e,n,t))}const u=new ak(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||nb(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,n),{sharedOptions:a,includeOptions:o}}updateElement(e,t,n,i){nb(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!nb(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const i=n.length,a=t.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){const i=this._cachedMeta,a=i.data,o=e+t;let l;const c=u=>{for(u.length+=t,l=u.length-1;l>=o;l--)u[l]=u[l-t]};for(c(a),l=e;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Tf(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function O7(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let n=[];for(let i=0,a=t.length;i<a;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=V6(n.sort((i,a)=>i-a))}return r._cache.$bar}function P7(r){const e=r.iScale,t=O7(e,r.type);let n=e._length,i,a,o,l;const c=()=>{o===32767||o===-32768||(Fm(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,a=t.length;i<a;++i)o=e.getPixelForValue(t[i]),c();for(l=void 0,i=0,a=e.ticks.length;i<a;++i)o=e.getPixelForTick(i),c();return n}function R7(r,e,t,n){const i=t.barThickness;let a,o;return wr(i)?(a=e.min*t.categoryPercentage,o=t.barPercentage):(a=i*n,o=1),{chunk:a/n,ratio:o,start:e.pixels[r]-a/2}}function M7(r,e,t,n){const i=e.pixels,a=i[r];let o=r>0?i[r-1]:null,l=r<i.length-1?i[r+1]:null;const c=t.categoryPercentage;o===null&&(o=a-(l===null?e.end-e.start:l-a)),l===null&&(l=a+a-o);const u=a-(a-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:t.barPercentage,start:u}}function Q7(r,e,t,n){const i=t.parse(r[0],n),a=t.parse(r[1],n),o=Math.min(i,a),l=Math.max(i,a);let c=o,u=l;Math.abs(o)>Math.abs(l)&&(c=l,u=o),e[t.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:a,min:o,max:l}}function lk(r,e,t,n){return Wn(r)?Q7(r,e,t,n):e[t.axis]=t.parse(r,n),e}function A_(r,e,t,n){const i=r.iScale,a=r.vScale,o=i.getLabels(),l=i===a,c=[];let u,A,f,m;for(u=t,A=t+n;u<A;++u)m=e[u],f={},f[i.axis]=l||i.parse(o[u],u),c.push(lk(m,f,a,u));return c}function sb(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function H7(r,e,t){return r!==0?dl(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function q7(r){let e,t,n,i,a;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:n,reverse:e,top:i,bottom:a}}function z7(r,e,t,n){let i=e.borderSkipped;const a={};if(!i){r.borderSkipped=a;return}if(i===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:u,bottom:A}=q7(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=u:(t._bottom||0)===n?i=A:(a[h_(A,o,l,c)]=!0,i=u)),a[h_(i,o,l,c)]=!0,r.borderSkipped=a}function h_(r,e,t,n){return n?(r=K7(r,e,t),r=f_(r,t,e)):r=f_(r,e,t),r}function K7(r,e,t){return r===e?t:r===t?e:r}function f_(r,e,t){return r==="start"?e:r==="end"?t:r}function V7(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class W7 extends V0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,i){return A_(e,t,n,i)}parseArrayData(e,t,n,i){return A_(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:a,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=a.axis==="x"?l:c,A=o.axis==="x"?l:c,f=[];let m,h,v,x;for(m=n,h=n+i;m<h;++m)x=t[m],v={},v[a.axis]=a.parse(nA(x,u),m),f.push(lk(nA(x,A),v,o,m));return f}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const a=n._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,a=this.getParsed(e),o=a._custom,l=sb(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const a=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),A=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const v=this.getParsed(h),x=a||wr(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),b=this._calculateBarIndexPixels(h,A),p=(v._stacks||{})[l.axis],y={horizontal:u,base:x.base,enableBorderRadius:!p||sb(v._custom)||o===p._top||o===p._bottom,x:u?x.head:b.center,y:u?b.center:x.head,height:u?b.size:Math.abs(x.size),width:u?Math.abs(x.size):b.size};m&&(y.options=f||this.resolveDataElementOptions(h,e[h].active?"active":i));const N=y.options||e[h].options;z7(y,N,p,o),V7(y,N,A.ratio),this.updateElement(e[h],h,y,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(A=>A.controller.options.grouped),a=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[n.axis],u=A=>{const f=A._parsed.find(h=>h[n.axis]===c),m=f&&f[A.vScale.axis];if(wr(m)||isNaN(m))return!0};for(const A of i)if(!(t!==void 0&&u(A))&&((a===!1||o.indexOf(A.stack)===-1||a===void 0&&A.stack===void 0)&&o.push(A.stack),A.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Vt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),a=t!==void 0?i.indexOf(t):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let a,o;for(a=0,o=t.data.length;a<o;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const l=e.barThickness;return{min:l||P7(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:a,minBarLength:o}}=this,l=a||0,c=this.getParsed(e),u=c._custom,A=sb(u);let f=c[t.axis],m=0,h=n?this.applyStack(t,c,n):f,v,x;h!==f&&(m=h-f,h=f),A&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&dl(f)!==dl(u.barEnd)&&(m=0),m+=f);const b=!wr(a)&&!A?a:m;let p=t.getPixelForValue(b);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(m+h):v=p,x=v-p,Math.abs(x)<o){x=H7(x,t,l)*o,f===l&&(p-=x/2);const y=t.getPixelForDecimal(0),N=t.getPixelForDecimal(1),w=Math.min(y,N),j=Math.max(y,N);p=Math.max(Math.min(p,j),w),v=p+x,n&&!A&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(v)-t.getValueForPixel(p))}if(p===t.getPixelForValue(l)){const y=dl(x)*t.getLineWidthForValue(l)/2;p+=y,x-=y}return{size:x,base:p,head:v,center:v+x/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,a=i.skipNull,o=Vt(i.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(t.grouped){const A=a?this._getStackCount(e):t.stackCount,f=i.barThickness==="flex"?M7(e,t,i,A*u):R7(e,t,i,A*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Vt(m,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+h;l=f.start+f.chunk*v+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[t.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}function G7(r,e,t){let n=1,i=1,a=0,o=0;if(e<xn){const l=r,c=l+e,u=Math.cos(l),A=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(N,w,j)=>Im(N,l,c,!0)?1:Math.max(w,w*t,j,j*t),v=(N,w,j)=>Im(N,l,c,!0)?-1:Math.min(w,w*t,j,j*t),x=h(0,u,f),b=h(Gn,A,m),p=v(_r,u,f),y=v(_r+Gn,A,m);n=(x-p)/2,i=(b-y)/2,a=-(x+p)/2,o=-(b+y)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class $7 extends V0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((a,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=c=>+n[c];if(cr(n[e])){const{key:c="value"}=this._parsing;a=u=>+nA(n[u],c)}let o,l;for(o=e,l=e+t;o<l;++o)i._parsed[o]=a(o)}}_getRotation(){return hc(this.options.rotation-90)}_getCircumference(){return hc(this.options.circumference)}_getRotationExtents(){let e=xn,t=-xn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(JP(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:A,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:v,offsetY:x}=G7(f,A,c),b=(n.width-o)/m,p=(n.height-o)/h,y=Math.max(Math.min(b,p)/2,0),N=Q6(this.options.radius,y),w=Math.max(N*c,0),j=(N-w)/this._getVisibleDatasetWeightTotal();this.offsetX=v*N,this.offsetY=x*N,i.total=this.calculateTotal(),this.outerRadius=N-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/xn)}updateElements(e,t,n,i){const a=i==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,A=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=a&&u.animateScale,h=m?0:this.innerRadius,v=m?0:this.outerRadius,{sharedOptions:x,includeOptions:b}=this._getSharedOptions(t,i);let p=this._getRotation(),y;for(y=0;y<t;++y)p+=this._circumference(y,a);for(y=t;y<t+n;++y){const N=this._circumference(y,a),w=e[y],j={x:A+this.offsetX,y:f+this.offsetY,startAngle:p,endAngle:p+N,circumference:N,outerRadius:v,innerRadius:h};b&&(j.options=x||this.resolveDataElementOptions(y,w.active?"active":i)),p+=N,this.updateElement(w,y,j,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?xn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=y5(t._parsed[e],n.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,a,o,l,c;if(!e){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,l=o.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Vt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Y7 extends V0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=t,o=this.chart._animationsDisabled;let{start:l,count:c}=xR(t,i,o);this._drawStart=l,this._drawCount=c,yR(t)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},e),this.updateElements(i,l,c,e)}updateElements(e,t,n,i){const a=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:A,includeOptions:f}=this._getSharedOptions(t,i),m=o.axis,h=l.axis,{spanGaps:v,segment:x}=this.options,b=Tm(v)?v:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||i==="none",y=t+n,N=e.length;let w=t>0&&this.getParsed(t-1);for(let j=0;j<N;++j){const k=e[j],I=p?k:{};if(j<t||j>=y){I.skip=!0;continue}const F=this.getParsed(j),C=wr(F[h]),P=I[m]=o.getPixelForValue(F[m],j),T=I[h]=a||C?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[h],j);I.skip=isNaN(P)||isNaN(T)||C,I.stop=j>0&&Math.abs(F[m]-w[m])>b,x&&(I.parsed=F,I.raw=u.data[j]),f&&(I.options=A||this.resolveDataElementOptions(j,k.active?"active":i)),p||this.updateElement(k,j,I,i),w=F}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class X7 extends $7{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Fd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class E5{static override(e){Object.assign(E5.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fd()}parse(){return Fd()}format(){return Fd()}add(){return Fd()}diff(){return Fd()}startOf(){return Fd()}endOf(){return Fd()}}var J7={_date:E5};function Z7(r,e,t,n){const{controller:i,data:a,_sorted:o}=r,l=i._cachedMeta.iScale,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&a.length){const u=l._reversePixels?hR:Kd;if(n){if(i._sharedOptions){const A=a[0],f=typeof A.getRange=="function"&&A.getRange(e);if(f){const m=u(a,e,t-f),h=u(a,e,t+f);return{lo:m.lo,hi:h.hi}}}}else{const A=u(a,e,t);if(c){const{vScale:f}=i._cachedMeta,{_parsed:m}=r,h=m.slice(0,A.lo+1).reverse().findIndex(x=>!wr(x[f.axis]));A.lo-=Math.max(0,h);const v=m.slice(A.hi).findIndex(x=>!wr(x[f.axis]));A.hi+=Math.max(0,v)}return A}}return{lo:0,hi:a.length-1}}function W0(r,e,t,n,i){const a=r.getSortedVisibleDatasetMetas(),o=t[e];for(let l=0,c=a.length;l<c;++l){const{index:u,data:A}=a[l],{lo:f,hi:m}=Z7(a[l],e,o,i);for(let h=f;h<=m;++h){const v=A[h];v.skip||n(v,u,h)}}}function eM(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,o=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function ib(r,e,t,n,i){const a=[];return!i&&!r.isPointInArea(e)||W0(r,t,e,function(l,c,u){!i&&!Lm(l,r.chartArea,0)||l.inRange(e.x,e.y,n)&&a.push({element:l,datasetIndex:c,index:u})},!0),a}function tM(r,e,t,n){let i=[];function a(o,l,c){const{startAngle:u,endAngle:A}=o.getProps(["startAngle","endAngle"],n),{angle:f}=z6(o,{x:e.x,y:e.y});Im(f,u,A)&&i.push({element:o,datasetIndex:l,index:c})}return W0(r,t,e,a),i}function rM(r,e,t,n,i,a){let o=[];const l=eM(t);let c=Number.POSITIVE_INFINITY;function u(A,f,m){const h=A.inRange(e.x,e.y,i);if(n&&!h)return;const v=A.getCenterPoint(i);if(!(!!a||r.isPointInArea(v))&&!h)return;const b=l(e,v);b<c?(o=[{element:A,datasetIndex:f,index:m}],c=b):b===c&&o.push({element:A,datasetIndex:f,index:m})}return W0(r,t,e,u),o}function ab(r,e,t,n,i,a){return!a&&!r.isPointInArea(e)?[]:t==="r"&&!n?tM(r,e,t,i):rM(r,e,t,n,i,a)}function m_(r,e,t,n,i){const a=[],o=t==="x"?"inXRange":"inYRange";let l=!1;return W0(r,t,e,(c,u,A)=>{c[o]&&c[o](e[t],i)&&(a.push({element:c,datasetIndex:u,index:A}),l=l||c.inRange(e.x,e.y,i))}),n&&!l?[]:a}var nM={modes:{index(r,e,t,n){const i=Od(e,r),a=t.axis||"x",o=t.includeInvisible||!1,l=t.intersect?ib(r,i,a,n,o):ab(r,i,a,!1,n,o),c=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(u=>{const A=l[0].index,f=u.data[A];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:A})}),c):[]},dataset(r,e,t,n){const i=Od(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;let l=t.intersect?ib(r,i,a,n,o):ab(r,i,a,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,u=r.getDatasetMeta(c).data;l=[];for(let A=0;A<u.length;++A)l.push({element:u[A],datasetIndex:c,index:A})}return l},point(r,e,t,n){const i=Od(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return ib(r,i,a,n,o)},nearest(r,e,t,n){const i=Od(e,r),a=t.axis||"xy",o=t.includeInvisible||!1;return ab(r,i,a,t.intersect,n,o)},x(r,e,t,n){const i=Od(e,r);return m_(r,i,"x",t.intersect,n)},y(r,e,t,n){const i=Od(e,r);return m_(r,i,"y",t.intersect,n)}}};const ck=["left","top","right","bottom"];function If(r,e){return r.filter(t=>t.pos===e)}function p_(r,e){return r.filter(t=>ck.indexOf(t.pos)===-1&&t.box.axis===e)}function Lf(r,e){return r.sort((t,n)=>{const i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function sM(r){const e=[];let t,n,i,a,o,l;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:o,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:l});return e}function iM(r){const e={};for(const t of r){const{stack:n,pos:i,stackWeight:a}=t;if(!n||!ck.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function aM(r,e){const t=iM(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let a,o,l;for(a=0,o=r.length;a<o;++a){l=r[a];const{fullSize:c}=l.box,u=t[l.stack],A=u&&l.stackWeight/u.weight;l.horizontal?(l.width=A?A*n:c&&e.availableWidth,l.height=i):(l.width=n,l.height=A?A*i:c&&e.availableHeight)}return t}function oM(r){const e=sM(r),t=Lf(e.filter(u=>u.box.fullSize),!0),n=Lf(If(e,"left"),!0),i=Lf(If(e,"right")),a=Lf(If(e,"top"),!0),o=Lf(If(e,"bottom")),l=p_(e,"x"),c=p_(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:If(e,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(o).concat(l)}}function g_(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function uk(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function lM(r,e,t,n){const{pos:i,box:a}=t,o=r.maxPadding;if(!cr(i)){t.size&&(r[i]-=t.size);const f=n[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?a.height:a.width),t.size=f.size/f.count,r[i]+=t.size}a.getPadding&&uk(o,a.getPadding());const l=Math.max(0,e.outerWidth-g_(o,r,"left","right")),c=Math.max(0,e.outerHeight-g_(o,r,"top","bottom")),u=l!==r.w,A=c!==r.h;return r.w=l,r.h=c,t.horizontal?{same:u,other:A}:{same:A,other:u}}function cM(r){const e=r.maxPadding;function t(n){const i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function uM(r,e){const t=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return n(r?["left","right"]:["top","bottom"])}function rm(r,e,t,n){const i=[];let a,o,l,c,u,A;for(a=0,o=r.length,u=0;a<o;++a){l=r[a],c=l.box,c.update(l.width||e.w,l.height||e.h,uM(l.horizontal,e));const{same:f,other:m}=lM(e,t,l,n);u|=f&&i.length,A=A||m,c.fullSize||i.push(l)}return u&&rm(i,e,t,n)||A}function $p(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function x_(r,e,t,n){const i=t.padding;let{x:a,y:o}=e;for(const l of r){const c=l.box,u=n[l.stack]||{placed:0,weight:1},A=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*A,m=u.size||c.height;Fm(u.start)&&(o=u.start),c.fullSize?$p(c,i.left,o,t.outerWidth-i.right-i.left,m):$p(c,e.left+u.placed,o,f,m),u.start=o,u.placed+=f,o=c.bottom}else{const f=e.h*A,m=u.size||c.width;Fm(u.start)&&(a=u.start),c.fullSize?$p(c,a,i.top,m,t.outerHeight-i.bottom-i.top):$p(c,a,e.top+u.placed,m,f),u.start=a,u.placed+=f,a=c.right}}e.x=a,e.y=o}var ka={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;const i=Pa(r.options.layout.padding),a=Math.max(e-i.width,0),o=Math.max(t-i.height,0),l=oM(r.boxes),c=l.vertical,u=l.horizontal;Br(r.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const A=c.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/A,hBoxMaxHeight:o/2}),m=Object.assign({},i);uk(m,Pa(n));const h=Object.assign({maxPadding:m,w:a,h:o,x:i.left,y:i.top},i),v=aM(c.concat(u),f);rm(l.fullSize,h,f,v),rm(c,h,f,v),rm(u,h,f,v)&&rm(c,h,f,v),cM(h),x_(l.leftAndTop,h,f,v),h.x+=h.w,h.y+=h.h,x_(l.rightAndBottom,h,f,v),r.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Br(l.chartArea,x=>{const b=x.box;Object.assign(b,r.chartArea),b.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class dk{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class dM extends dk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Kg="$chartjs",AM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y_=r=>r===null||r==="";function hM(r,e){const t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[Kg]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",y_(i)){const a=r_(r,"width");a!==void 0&&(r.width=a)}if(y_(n))if(r.style.height==="")r.height=r.width/(e||2);else{const a=r_(r,"height");a!==void 0&&(r.height=a)}return r}const Ak=l7?{passive:!0}:!1;function fM(r,e,t){r&&r.addEventListener(e,t,Ak)}function mM(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,Ak)}function pM(r,e){const t=AM[r.type]||r.type,{x:n,y:i}=Od(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function p0(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function gM(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||p0(l.addedNodes,n),o=o&&!p0(l.removedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function xM(r,e,t){const n=r.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||p0(l.removedNodes,n),o=o&&!p0(l.addedNodes,n);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Um=new Map;let v_=0;function hk(){const r=window.devicePixelRatio;r!==v_&&(v_=r,Um.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function yM(r,e){Um.size||window.addEventListener("resize",hk),Um.set(r,e)}function vM(r){Um.delete(r),Um.size||window.removeEventListener("resize",hk)}function bM(r,e,t){const n=r.canvas,i=n&&C5(n);if(!i)return;const a=G6((l,c)=>{const u=i.clientWidth;t(l,c),u<i.clientWidth&&t()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,A=c.contentRect.height;u===0&&A===0||a(u,A)});return o.observe(i),yM(r,a),o}function ob(r,e,t){t&&t.disconnect(),e==="resize"&&vM(r)}function wM(r,e,t){const n=r.canvas,i=G6(a=>{r.ctx!==null&&t(pM(a,r))},r);return fM(n,e,i),i}class NM extends dk{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(hM(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Kg])return!1;const n=t[Kg].initial;["height","width"].forEach(a=>{const o=n[a];wr(o)?t.removeAttribute(a):t.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[Kg],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:gM,detach:xM,resize:bM}[t]||wM;i[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:ob,detach:ob,resize:ob}[t]||mM)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return o7(e,t,n,i)}isAttached(e){const t=e&&C5(e);return!!(t&&t.isConnected)}}function jM(r){return!_5()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?dM:NM}class wc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Tm(this.x)&&Tm(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}function BM(r,e){const t=r.options.ticks,n=_M(r),i=Math.min(t.maxTicksLimit||n,n),a=t.major.enabled?EM(e):[],o=a.length,l=a[0],c=a[o-1],u=[];if(o>i)return SM(e,u,a,o/i),u;const A=CM(a,e,i);if(o>0){let f,m;const h=o>1?Math.round((c-l)/(o-1)):null;for(Yp(e,u,A,wr(h)?0:l-h,l),f=0,m=o-1;f<m;f++)Yp(e,u,A,a[f],a[f+1]);return Yp(e,u,A,c,wr(h)?e.length:c+h),u}return Yp(e,u,A),u}function _M(r){const e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function CM(r,e,t){const n=kM(r),i=e.length/t;if(!n)return Math.max(i,1);const a=aR(n);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function EM(r){const e=[];let t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function SM(r,e,t,n){let i=0,a=t[0],o;for(n=Math.ceil(n),o=0;o<r.length;o++)o===a&&(e.push(r[o]),i++,a=t[i*n])}function Yp(r,e,t,n,i){const a=Vt(n,0),o=Math.min(Vt(i,r.length),r.length);let l=0,c,u,A;for(t=Math.ceil(t),i&&(c=i-n,t=c/Math.floor(c/t)),A=a;A<0;)l++,A=Math.round(a+l*t);for(u=Math.max(a,0);u<o;u++)u===A&&(e.push(r[u]),l++,A=Math.round(a+l*t))}function kM(r){const e=r.length;let t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}const FM=r=>r==="left"?"right":r==="right"?"left":r,b_=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,w_=(r,e)=>Math.min(e||r,r);function N_(r,e){const t=[],n=r.length/e,i=r.length;let a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function TM(r,e,t){const n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,o=r._endPixel,l=1e-6;let c=r.getPixelForTick(i),u;if(!(t&&(n===1?u=Math.max(c-a,o-c):e===0?u=(r.getPixelForTick(1)-c)/2:u=(c-r.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<a-l||c>o+l)))return c}function IM(r,e){Br(r,t=>{const n=t.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function Df(r){return r.drawTicks?r.tickLength:0}function j_(r,e){if(!r.display)return 0;const t=Vs(r.font,e),n=Pa(r.padding);return(Wn(r.text)?r.text.length:1)*t.lineHeight+n.height}function LM(r,e){return oA(r,{scale:e,type:"scale"})}function DM(r,e,t){return oA(r,{tick:t,index:e,type:"tick"})}function UM(r,e,t){let n=g5(r);return(t&&e!=="right"||!t&&e==="right")&&(n=FM(n)),n}function OM(r,e,t,n){const{top:i,left:a,bottom:o,right:l,chart:c}=r,{chartArea:u,scales:A}=c;let f=0,m,h,v;const x=o-i,b=l-a;if(r.isHorizontal()){if(h=Qs(n,a,l),cr(t)){const p=Object.keys(t)[0],y=t[p];v=A[p].getPixelForValue(y)+x-e}else t==="center"?v=(u.bottom+u.top)/2+x-e:v=b_(r,t,e);m=l-a}else{if(cr(t)){const p=Object.keys(t)[0],y=t[p];h=A[p].getPixelForValue(y)-b+e}else t==="center"?h=(u.left+u.right)/2-b+e:h=b_(r,t,e);v=Qs(n,o,i),f=t==="left"?-Gn:Gn}return{titleX:h,titleY:v,maxWidth:m,rotation:f}}class ef extends wc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=Xo(e,Number.POSITIVE_INFINITY),t=Xo(t,Number.NEGATIVE_INFINITY),n=Xo(n,Number.POSITIVE_INFINITY),i=Xo(i,Number.NEGATIVE_INFINITY),{min:Xo(e,n),max:Xo(t,i),minDefined:Oa(e),maxDefined:Oa(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:t,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),a||(n=Math.max(n,o.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:Xo(t,Xo(n,t)),max:Xo(n,Xo(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$r(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=RR(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?N_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=BM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$r(this.options.afterUpdate,[this])}beforeSetDimensions(){$r(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$r(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),$r(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$r(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=$r(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){$r(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$r(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=w_(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let o=i,l,c,u;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const A=this._getLabelSizes(),f=A.widest.width,m=A.highest.height,h=Ks(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Df(e.grid)-t.padding-j_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),o=uR(Math.min(Math.asin(Ks((A.highest.height+6)/l,-1,1)),Math.asin(Ks(c/u,-1,1))-Math.asin(Ks(m/u,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){$r(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$r(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=j_(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=Df(a)+c):(e.height=this.maxHeight,e.width=Df(a)+c),n.display&&this.ticks.length){const{first:u,last:A,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,v=hc(this.labelRotation),x=Math.cos(v),b=Math.sin(v);if(l){const p=n.mirror?0:b*f.width+x*m.height;e.height=Math.min(this.maxHeight,e.height+p+h)}else{const p=n.mirror?0:x*f.width+b*m.height;e.width=Math.min(this.maxWidth,e.width+p+h)}this._calculatePadding(u,A,b,x)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const A=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=i*e.width,h=n*t.height):(m=n*e.height,h=i*t.width):a==="start"?h=t.width:a==="end"?m=e.width:a!=="inner"&&(m=e.width/2,h=t.width/2),this.paddingLeft=Math.max((m-A+o)*this.width/(this.width-A),0),this.paddingRight=Math.max((h-f+o)*this.width/(this.width-f),0)}else{let A=t.height/2,f=e.height/2;a==="start"?(A=0,f=e.height):a==="end"&&(A=t.height,f=0),this.paddingTop=A+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$r(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)wr(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=N_(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(t/w_(t,n));let u=0,A=0,f,m,h,v,x,b,p,y,N,w,j;for(f=0;f<t;f+=c){if(v=e[f].label,x=this._resolveTickFontOptions(f),i.font=b=x.string,p=a[b]=a[b]||{data:{},gc:[]},y=x.lineHeight,N=w=0,!wr(v)&&!Wn(v))N=X4(i,p.data,p.gc,N,v),w=y;else if(Wn(v))for(m=0,h=v.length;m<h;++m)j=v[m],!wr(j)&&!Wn(j)&&(N=X4(i,p.data,p.gc,N,j),w+=y);o.push(N),l.push(w),u=Math.max(N,u),A=Math.max(w,A)}IM(a,t);const k=o.indexOf(u),I=l.indexOf(A),F=C=>({width:o[C]||0,height:l[C]||0});return{first:F(0),last:F(t-1),widest:F(k),highest:F(I),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return AR(this._alignToPixels?kd(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=DM(this.getContext(),e,n))}return this.$context||(this.$context=LM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=hc(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:l}=i,c=a.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Df(a),h=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,b=x/2,p=function(ie){return kd(n,ie,x)};let y,N,w,j,k,I,F,C,P,T,_,U;if(o==="top")y=p(this.bottom),I=this.bottom-m,C=y-b,T=p(e.top)+b,U=e.bottom;else if(o==="bottom")y=p(this.top),T=e.top,U=p(e.bottom)-b,I=y+b,C=this.top+m;else if(o==="left")y=p(this.right),k=this.right-m,F=y-b,P=p(e.left)+b,_=e.right;else if(o==="right")y=p(this.left),P=e.left,_=p(e.right)-b,k=y+b,F=this.left+m;else if(t==="x"){if(o==="center")y=p((e.top+e.bottom)/2+.5);else if(cr(o)){const ie=Object.keys(o)[0],Z=o[ie];y=p(this.chart.scales[ie].getPixelForValue(Z))}T=e.top,U=e.bottom,I=y+b,C=I+m}else if(t==="y"){if(o==="center")y=p((e.left+e.right)/2);else if(cr(o)){const ie=Object.keys(o)[0],Z=o[ie];y=p(this.chart.scales[ie].getPixelForValue(Z))}k=y-b,F=k-m,P=e.left,_=e.right}const S=Vt(i.ticks.maxTicksLimit,f),X=Math.max(1,Math.ceil(f/S));for(N=0;N<f;N+=X){const ie=this.getContext(N),Z=a.setContext(ie),ce=l.setContext(ie),re=Z.lineWidth,ae=Z.color,M=ce.dash||[],L=ce.dashOffset,V=Z.tickWidth,K=Z.tickColor,ee=Z.tickBorderDash||[],z=Z.tickBorderDashOffset;w=TM(this,N,c),w!==void 0&&(j=kd(n,w,re),u?k=F=P=_=j:I=C=T=U=j,h.push({tx1:k,ty1:I,tx2:F,ty2:C,x1:P,y1:T,x2:_,y2:U,width:re,color:ae,borderDash:M,borderDashOffset:L,tickWidth:V,tickColor:K,tickBorderDash:ee,tickBorderDashOffset:z}))}return this._ticksLength=f,this._borderValue=y,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:A,mirror:f}=a,m=Df(n.grid),h=m+A,v=f?-A:h,x=-hc(this.labelRotation),b=[];let p,y,N,w,j,k,I,F,C,P,T,_,U="middle";if(i==="top")k=this.bottom-v,I=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+v,I=this._getXAxisLabelAlignment();else if(i==="left"){const X=this._getYAxisLabelAlignment(m);I=X.textAlign,j=X.x}else if(i==="right"){const X=this._getYAxisLabelAlignment(m);I=X.textAlign,j=X.x}else if(t==="x"){if(i==="center")k=(e.top+e.bottom)/2+h;else if(cr(i)){const X=Object.keys(i)[0],ie=i[X];k=this.chart.scales[X].getPixelForValue(ie)+h}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")j=(e.left+e.right)/2-h;else if(cr(i)){const X=Object.keys(i)[0],ie=i[X];j=this.chart.scales[X].getPixelForValue(ie)}I=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const S=this._getLabelSizes();for(p=0,y=l.length;p<y;++p){N=l[p],w=N.label;const X=a.setContext(this.getContext(p));F=this.getPixelForTick(p)+a.labelOffset,C=this._resolveTickFontOptions(p),P=C.lineHeight,T=Wn(w)?w.length:1;const ie=T/2,Z=X.color,ce=X.textStrokeColor,re=X.textStrokeWidth;let ae=I;o?(j=F,I==="inner"&&(p===y-1?ae=this.options.reverse?"left":"right":p===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?u==="near"||x!==0?_=-T*P+P/2:u==="center"?_=-S.highest.height/2-ie*P+P:_=-S.highest.height+P/2:u==="near"||x!==0?_=P/2:u==="center"?_=S.highest.height/2-ie*P:_=S.highest.height-T*P,f&&(_*=-1),x!==0&&!X.showLabelBackdrop&&(j+=P/2*Math.sin(x))):(k=F,_=(1-T)*P/2);let M;if(X.showLabelBackdrop){const L=Pa(X.backdropPadding),V=S.heights[p],K=S.widths[p];let ee=_-L.top,z=0-L.left;switch(U){case"middle":ee-=V/2;break;case"bottom":ee-=V;break}switch(I){case"center":z-=K/2;break;case"right":z-=K;break;case"inner":p===y-1?z-=K:p>0&&(z-=K/2);break}M={left:z,top:ee,width:K+L.width,height:V+L.height,color:X.backdropColor}}b.push({label:w,font:C,textOffset:_,options:{rotation:x,color:Z,strokeColor:ce,strokeWidth:re,textAlign:ae,textBaseline:U,translation:[j,k],backdrop:M}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-hc(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),l=e+a,c=o.widest.width;let u,A;return t==="left"?i?(A=this.right+a,n==="near"?u="left":n==="center"?(u="center",A+=c/2):(u="right",A+=c)):(A=this.right-l,n==="near"?u="right":n==="center"?(u="center",A-=c/2):(u="left",A=this.left)):t==="right"?i?(A=this.left+a,n==="near"?u="right":n==="center"?(u="center",A-=c/2):(u="left",A-=c)):(A=this.left+l,n==="near"?u="left":n==="center"?(u="center",A+=c/2):(u="right",A=this.right)):u="right",{textAlign:u,x:A}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const l=(c,u,A)=>{!A.width||!A.color||(n.save(),n.lineWidth=A.width,n.strokeStyle=A.color,n.setLineDash(A.borderDash||[]),n.lineDashOffset=A.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(a=0,o=i.length;a<o;++a){const c=i[a];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,A,f,m;this.isHorizontal()?(u=kd(e,this.left,o)-o/2,A=kd(e,this.right,l)+l/2,f=m=c):(f=kd(e,this.top,o)-o/2,m=kd(e,this.bottom,l)+l/2,u=A=c),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(u,f),t.lineTo(A,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&v5(n,i);const a=this.getLabelItems(e);for(const o of a){const l=o.options,c=o.font,u=o.label,A=o.textOffset;Dm(n,u,0,A,c,l)}i&&b5(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const a=Vs(n.font),o=Pa(n.padding),l=n.align;let c=a.lineHeight/2;t==="bottom"||t==="center"||cr(t)?(c+=o.bottom,Wn(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:u,titleY:A,maxWidth:f,rotation:m}=OM(this,c,t,l);Dm(e,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:m,textAlign:UM(l,t,i),textBaseline:"middle",translation:[u,A]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Vt(e.grid&&e.grid.z,-1),i=Vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ef.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=t.length;a<o;++a){const l=t[a];l[n]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Vs(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xp{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;MM(t)&&(n=this.register(t));const i=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,PM(e,o,n),this.override&&Fn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Fn[i]&&(delete Fn[i][n],this.override&&delete sA[n])}}function PM(r,e,t){const n=km(Object.create(null),[t?Fn.get(t):{},Fn.get(e),r.defaults]);Fn.set(e,n),r.defaultRoutes&&RM(e,r.defaultRoutes),r.descriptors&&Fn.describe(e,r.descriptors)}function RM(r,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),o=e[t].split("."),l=o.pop(),c=o.join(".");Fn.route(a,i,c,l)})}function MM(r){return"id"in r&&"defaults"in r}class QM{constructor(){this.controllers=new Xp(V0,"datasets",!0),this.elements=new Xp(wc,"elements"),this.plugins=new Xp(Object,"plugins"),this.scales=new Xp(ef,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Br(i,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,t,n){const i=m5(e);$r(n["before"+i],[],n),t[e](n),$r(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var nl=new QM;class HM{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const a of e){const o=a.plugin,l=o[n],c=[t,i,a.options];if($r(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){wr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=Vt(n.options&&n.options.plugins,{}),a=qM(n);return i===!1&&!t?[]:KM(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function qM(r){const e={},t=[],n=Object.keys(nl.plugins.items);for(let a=0;a<n.length;a++)t.push(nl.getPlugin(n[a]));const i=r.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function zM(r,e){return!e&&r===!1?null:r===!0?{}:r}function KM(r,{plugins:e,localIds:t},n,i){const a=[],o=r.getContext();for(const l of e){const c=l.id,u=zM(n[c],i);u!==null&&a.push({plugin:l,options:VM(r.config,{plugin:l,local:t[c]},u,o)})}return a}function VM(r,{plugin:e,local:t},n,i){const a=r.pluginScopeKeys(e),o=r.getOptionScopes(n,a);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function e2(r,e){const t=Fn.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function WM(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function GM(r,e){return r===e?"_index_":"_value_"}function B_(r){if(r==="x"||r==="y"||r==="r")return r}function $M(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function t2(r,...e){if(B_(r))return r;for(const t of e){const n=t.axis||$M(t.position)||r.length>1&&B_(r[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function __(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function YM(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===r||n.yAxisID===r);if(t.length)return __(r,"x",t[0])||__(r,"y",t[0])}return{}}function XM(r,e){const t=sA[r.type]||{scales:{}},n=e.scales||{},i=e2(r.type,e),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!cr(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=t2(o,l,YM(o,r),Fn.scales[l.type]),u=GM(c,i),A=t.scales||{};a[o]=fm(Object.create(null),[{axis:c},l,A[c],A[u]])}),r.data.datasets.forEach(o=>{const l=o.type||r.type,c=o.indexAxis||e2(l,e),A=(sA[l]||{}).scales||{};Object.keys(A).forEach(f=>{const m=WM(f,c),h=o[m+"AxisID"]||m;a[h]=a[h]||Object.create(null),fm(a[h],[{axis:m},n[h],A[f]])})}),Object.keys(a).forEach(o=>{const l=a[o];fm(l,[Fn.scales[l.type],Fn.scale])}),a}function fk(r){const e=r.options||(r.options={});e.plugins=Vt(e.plugins,{}),e.scales=XM(r,e)}function mk(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function JM(r){return r=r||{},r.data=mk(r.data),fk(r),r}const C_=new Map,pk=new Set;function Jp(r,e){let t=C_.get(r);return t||(t=e(),C_.set(r,t),pk.add(t)),t}const Uf=(r,e,t)=>{const n=nA(e,t);n!==void 0&&r.add(n)};class ZM{constructor(e){this._config=JM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Jp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Jp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Jp(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:a}=this,o=this._cachedScopes(e,n),l=o.get(t);if(l)return l;const c=new Set;t.forEach(A=>{e&&(c.add(e),A.forEach(f=>Uf(c,e,f))),A.forEach(f=>Uf(c,i,f)),A.forEach(f=>Uf(c,sA[a]||{},f)),A.forEach(f=>Uf(c,Fn,f)),A.forEach(f=>Uf(c,Jw,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),pk.has(t)&&o.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,sA[t]||{},Fn.datasets[t]||{},{type:t},Fn,Jw]}resolveNamedOptions(e,t,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=E_(this._resolverCache,e,i);let c=o;if(tQ(o,t)){a.$shared=!1,n=Hu(n)?n():n;const u=this.createResolver(e,n,l);c=Ph(o,n,u)}for(const u of t)a[u]=c[u];return a}createResolver(e,t,n=[""],i){const{resolver:a}=E_(this._resolverCache,e,n);return cr(t)?Ph(a,t,void 0,i):a}}function E_(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));const i=t.join();let a=n.get(i);return a||(a={resolver:N5(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,a)),a}const eQ=r=>cr(r)&&Object.getOwnPropertyNames(r).some(e=>Hu(r[e]));function tQ(r,e){const{isScriptable:t,isIndexable:n}=J6(r);for(const i of e){const a=t(i),o=n(i),l=(o||a)&&r[i];if(a&&(Hu(l)||eQ(l))||o&&Wn(l))return!0}return!1}var rQ="4.5.0";const nQ=["top","bottom","left","right","chartArea"];function S_(r,e){return r==="top"||r==="bottom"||nQ.indexOf(r)===-1&&e==="x"}function k_(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function F_(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),$r(t&&t.onComplete,[r],e)}function sQ(r){const e=r.chart,t=e.options.animation;$r(t&&t.onProgress,[r],e)}function gk(r){return _5()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const Vg={},T_=r=>{const e=gk(r);return Object.values(Vg).filter(t=>t.canvas===e).pop()};function iQ(r,e,t){const n=Object.keys(r);for(const i of n){const a=+i;if(a>=e){const o=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=o)}}}function aQ(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}let tf=class{static defaults=Fn;static instances=Vg;static overrides=sA;static registry=nl;static version=rQ;static getChart=T_;static register(...e){nl.add(...e),I_()}static unregister(...e){nl.remove(...e),I_()}constructor(e,t){const n=this.config=new ZM(t),i=gk(e),a=T_(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||jM(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,A=c&&c.width;if(this.id=XP(),this.ctx=l,this.canvas=c,this.width=A,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pR(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Vg[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}oc.listen(this,"complete",F_),oc.listen(this,"progress",sQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return wr(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return nl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():t_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J4(this.canvas,this.ctx),this}stop(){return oc.stop(this),this}resize(e,t){oc.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,t_(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),$r(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Br(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let a=[];t&&(a=a.concat(Object.keys(t).map(o=>{const l=t[o],c=t2(o,l),u=c==="r",A=c==="x";return{options:l,dposition:u?"chartArea":A?"bottom":"left",dtype:u?"radialLinear":A?"category":"linear"}}))),Br(a,o=>{const l=o.options,c=l.id,u=t2(c,l),A=Vt(l.type,o.dtype);(l.position===void 0||S_(l.position,u)!==S_(o.dposition))&&(l.position=o.dposition),i[c]=!0;let f=null;if(c in n&&n[c].type===A)f=n[c];else{const m=nl.getScale(A);f=new m({id:c,type:A,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),Br(i,(o,l)=>{o||delete n[l]}),Br(n,o=>{ka.configure(this,o,o.options),ka.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(k_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const a=t[n];let o=this.getDatasetMeta(n);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=a.indexAxis||e2(l,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=nl.getController(l),{datasetElementType:u,dataElementType:A}=Fn.datasets[l];Object.assign(c,{dataElementType:nl.getElement(A),datasetElementType:u&&nl.getElement(u)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Br(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,A=this.data.datasets.length;u<A;u++){const{controller:f}=this.getDatasetMeta(u),m=!i&&a.indexOf(f)===-1;f.buildOrUpdateElements(m),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Br(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(k_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Br(this.scales,e=>{ka.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!H4(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of t){const o=n==="_removeElements"?-a:a;iQ(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=a=>new Set(e.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!H4(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ka.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Br(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Hu(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oc.has(this)?this.attached&&!oc.running(this)&&oc.start(this):(this.draw(),F_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,a;for(i=0,a=t.length;i<a;++i){const o=t[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=w7(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&v5(t,i),e.controller.draw(),i&&b5(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Lm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const a=nM.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=oA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,i);Fm(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(a,{visible:n}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),oc.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),J4(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Vg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(a,o)=>{t.addEventListener(this,a,o),e[a]=o},i=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};Br(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(c,u)=>{t.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(t.removeEventListener(this,c,u),delete e[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",l)},t.isAttached(this.canvas)?l():o()}unbindEvents(){Br(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Br(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let a,o,l,c;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!d0(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,a=(c,u)=>c.filter(A=>!u.some(f=>A.datasetIndex===f.datasetIndex&&A.index===f.index)),o=a(t,e),l=n?e:a(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:a}=this,o=t,l=this._getActiveElements(e,i,n,o),c=nR(e),u=aQ(e,this._lastEvent,n,c);n&&(this._lastEvent=null,$r(a.onHover,[e,l,this],this),c&&$r(a.onClick,[e,l,this],this));const A=!d0(l,i);return(A||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=u,A}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}};function I_(){return Br(tf.instances,r=>r._plugins.invalidate())}function oQ(r,e,t){const{startAngle:n,x:i,y:a,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:A}=c,f=Math.min(u/o,xo(n-t));if(r.beginPath(),r.arc(i,a,o-u/2,n+f/2,t-f/2),l>0){const m=Math.min(u/l,xo(n-t));r.arc(i,a,l+u/2,t-m/2,n+m/2,!0)}else{const m=Math.min(u/2,o*xo(n-t));if(A==="round")r.arc(i,a,m,t-_r/2,n+_r/2,!0);else if(A==="bevel"){const h=2*m*m,v=-h*Math.cos(t+_r/2)+i,x=-h*Math.sin(t+_r/2)+a,b=h*Math.cos(n+_r/2)+i,p=h*Math.sin(n+_r/2)+a;r.lineTo(v,x),r.lineTo(b,p)}}r.closePath(),r.moveTo(0,0),r.rect(0,0,r.canvas.width,r.canvas.height),r.clip("evenodd")}function lQ(r,e,t){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:l,innerRadius:c}=e;let u=i/l;r.beginPath(),r.arc(a,o,l,n-u,t+u),c>i?(u=i/c,r.arc(a,o,c,t+u,n-u,!0)):r.arc(a,o,i,t+Gn,n-Gn),r.closePath(),r.clip()}function cQ(r){return w5(r,["outerStart","outerEnd","innerStart","innerEnd"])}function uQ(r,e,t,n){const i=cQ(r.options.borderRadius),a=(t-e)/2,o=Math.min(a,n*e/2),l=c=>{const u=(t-Math.min(a,c))*n/2;return Ks(c,0,Math.min(a,u))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:Ks(i.innerStart,0,o),innerEnd:Ks(i.innerEnd,0,o)}}function ZA(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function g0(r,e,t,n,i,a){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:A}=e,f=Math.max(e.outerRadius+n+t-u,0),m=A>0?A+n+t+u:0;let h=0;const v=i-c;if(n){const X=A>0?A-n:0,ie=f>0?f-n:0,Z=(X+ie)/2,ce=Z!==0?v*Z/(Z+n):v;h=(v-ce)/2}const x=Math.max(.001,v*f-t/_r)/f,b=(v-x)/2,p=c+b+h,y=i-b-h,{outerStart:N,outerEnd:w,innerStart:j,innerEnd:k}=uQ(e,m,f,y-p),I=f-N,F=f-w,C=p+N/I,P=y-w/F,T=m+j,_=m+k,U=p+j/T,S=y-k/_;if(r.beginPath(),a){const X=(C+P)/2;if(r.arc(o,l,f,C,X),r.arc(o,l,f,X,P),w>0){const re=ZA(F,P,o,l);r.arc(re.x,re.y,w,P,y+Gn)}const ie=ZA(_,y,o,l);if(r.lineTo(ie.x,ie.y),k>0){const re=ZA(_,S,o,l);r.arc(re.x,re.y,k,y+Gn,S+Math.PI)}const Z=(y-k/m+(p+j/m))/2;if(r.arc(o,l,m,y-k/m,Z,!0),r.arc(o,l,m,Z,p+j/m,!0),j>0){const re=ZA(T,U,o,l);r.arc(re.x,re.y,j,U+Math.PI,p-Gn)}const ce=ZA(I,p,o,l);if(r.lineTo(ce.x,ce.y),N>0){const re=ZA(I,C,o,l);r.arc(re.x,re.y,N,p-Gn,C)}}else{r.moveTo(o,l);const X=Math.cos(C)*f+o,ie=Math.sin(C)*f+l;r.lineTo(X,ie);const Z=Math.cos(P)*f+o,ce=Math.sin(P)*f+l;r.lineTo(Z,ce)}r.closePath()}function dQ(r,e,t,n,i){const{fullCircles:a,startAngle:o,circumference:l}=e;let c=e.endAngle;if(a){g0(r,e,t,n,c,i);for(let u=0;u<a;++u)r.fill();isNaN(l)||(c=o+(l%xn||xn))}return g0(r,e,t,n,c,i),r.fill(),c}function AQ(r,e,t,n,i){const{fullCircles:a,startAngle:o,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:A,borderDash:f,borderDashOffset:m,borderRadius:h}=c,v=c.borderAlign==="inner";if(!u)return;r.setLineDash(f||[]),r.lineDashOffset=m,v?(r.lineWidth=u*2,r.lineJoin=A||"round"):(r.lineWidth=u,r.lineJoin=A||"bevel");let x=e.endAngle;if(a){g0(r,e,t,n,x,i);for(let b=0;b<a;++b)r.stroke();isNaN(l)||(x=o+(l%xn||xn))}v&&lQ(r,e,x),c.selfJoin&&x-o>=_r&&h===0&&A!=="miter"&&oQ(r,e,x),a||(g0(r,e,t,n,x,i),r.stroke())}class hQ extends wc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:a,distance:o}=z6(i,{x:e,y:t}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:A,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),m=(this.options.spacing+this.options.borderWidth)/2,h=Vt(f,c-l),v=Im(a,l,c)&&l!==c,x=h>=xn||v,b=Eu(o,u+m,A+m);return x&&b}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,A=(i+a)/2,f=(o+l+u+c)/2;return{x:t+Math.cos(A)*f,y:n+Math.sin(A)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,a=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>xn?Math.floor(n/xn):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(_r,n||0)),u=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,dQ(e,this,u,a,o),AQ(e,this,u,a,o),e.restore()}}function xk(r,e,t=e){r.lineCap=Vt(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Vt(t.borderDash,e.borderDash)),r.lineDashOffset=Vt(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Vt(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Vt(t.borderWidth,e.borderWidth),r.strokeStyle=Vt(t.borderColor,e.borderColor)}function fQ(r,e,t){r.lineTo(t.x,t.y)}function mQ(r){return r.stepped?kR:r.tension||r.cubicInterpolationMode==="monotone"?FR:fQ}function yk(r,e,t={}){const n=r.length,{start:i=0,end:a=n-1}=t,{start:o,end:l}=e,c=Math.max(i,o),u=Math.min(a,l),A=i<o&&a<o||i>l&&a>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!A?n+u-c:u-c}}function pQ(r,e,t,n){const{points:i,options:a}=e,{count:o,start:l,loop:c,ilen:u}=yk(i,t,n),A=mQ(a);let{move:f=!0,reverse:m}=n||{},h,v,x;for(h=0;h<=u;++h)v=i[(l+(m?u-h:h))%o],!v.skip&&(f?(r.moveTo(v.x,v.y),f=!1):A(r,x,v,m,a.stepped),x=v);return c&&(v=i[(l+(m?u:0))%o],A(r,x,v,m,a.stepped)),!!c}function gQ(r,e,t,n){const i=e.points,{count:a,start:o,ilen:l}=yk(i,t,n),{move:c=!0,reverse:u}=n||{};let A=0,f=0,m,h,v,x,b,p;const y=w=>(o+(u?l-w:w))%a,N=()=>{x!==b&&(r.lineTo(A,b),r.lineTo(A,x),r.lineTo(A,p))};for(c&&(h=i[y(0)],r.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=i[y(m)],h.skip)continue;const w=h.x,j=h.y,k=w|0;k===v?(j<x?x=j:j>b&&(b=j),A=(f*A+w)/++f):(N(),r.lineTo(w,j),v=k,f=0,x=b=j),p=j}N()}function r2(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?gQ:pQ}function xQ(r){return r.stepped?c7:r.tension||r.cubicInterpolationMode==="monotone"?u7:Pd}function yQ(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),xk(r,e.options),r.stroke(i)}function vQ(r,e,t,n){const{segments:i,options:a}=e,o=r2(e);for(const l of i)xk(r,a,l.style),r.beginPath(),o(r,e,l,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}const bQ=typeof Path2D=="function";function wQ(r,e,t,n){bQ&&!e.options.segment?yQ(r,e,t,n):vQ(r,e,t,n)}class vk extends wc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;t7(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=x7(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],a=this.points,o=m7(this,{property:t,start:i,end:i});if(!o.length)return;const l=[],c=xQ(n);let u,A;for(u=0,A=o.length;u<A;++u){const{start:f,end:m}=o[u],h=a[f],v=a[m];if(h===v){l.push(h);continue}const x=Math.abs((i-h[t])/(v[t]-h[t])),b=c(h,v,x,n.stepped);b[t]=e[t],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,t,n){return r2(this)(e,this,t,n)}path(e,t,n){const i=this.segments,a=r2(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const l of i)o&=a(e,this,l,{start:t,end:t+n-1});return!!o}draw(e,t,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),wQ(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function L_(r,e,t,n){const i=r.options,{[t]:a}=r.getProps([t],n);return Math.abs(e-a)<i.radius+i.hitRadius}class bk extends wc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return L_(this,e,"x",t)}inYRange(e,t){return L_(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Lm(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Zw(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function wk(r,e){const{x:t,y:n,base:i,width:a,height:o}=r.getProps(["x","y","base","width","height"],e);let l,c,u,A,f;return r.horizontal?(f=o/2,l=Math.min(t,i),c=Math.max(t,i),u=n-f,A=n+f):(f=a/2,l=t-f,c=t+f,u=Math.min(n,i),A=Math.max(n,i)),{left:l,top:u,right:c,bottom:A}}function Su(r,e,t,n){return r?0:Ks(e,t,n)}function NQ(r,e,t){const n=r.options.borderWidth,i=r.borderSkipped,a=X6(n);return{t:Su(i.top,a.top,0,t),r:Su(i.right,a.right,0,e),b:Su(i.bottom,a.bottom,0,t),l:Su(i.left,a.left,0,e)}}function jQ(r,e,t){const{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,a=Bh(i),o=Math.min(e,t),l=r.borderSkipped,c=n||cr(i);return{topLeft:Su(!c||l.top||l.left,a.topLeft,0,o),topRight:Su(!c||l.top||l.right,a.topRight,0,o),bottomLeft:Su(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:Su(!c||l.bottom||l.right,a.bottomRight,0,o)}}function BQ(r){const e=wk(r),t=e.right-e.left,n=e.bottom-e.top,i=NQ(r,t/2,n/2),a=jQ(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function lb(r,e,t,n){const i=e===null,a=t===null,l=r&&!(i&&a)&&wk(r,n);return l&&(i||Eu(e,l.left,l.right))&&(a||Eu(t,l.top,l.bottom))}function _Q(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function CQ(r,e){r.rect(e.x,e.y,e.w,e.h)}function cb(r,e,t={}){const n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,a=(r.x+r.w!==t.x+t.w?e:0)-n,o=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+a,h:r.h+o,radius:r.radius}}class Nk extends wc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:o}=BQ(this),l=_Q(o.radius)?f0:CQ;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),l(e,cb(o,t,a)),e.clip(),l(e,cb(a,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,cb(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return lb(this,e,t,n)}inXRange(e,t){return lb(this,e,null,t)}inYRange(e,t){return lb(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const D_=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=r.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},EQ=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class U_ extends wc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=$r(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Vs(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=D_(n,a);let u,A;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,A=this._fitRows(o,a,l,c)+10):(A=this.maxHeight,u=this._fitCols(o,i,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(A,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],A=i+l;let f=e;a.textAlign="left",a.textBaseline="middle";let m=-1,h=-A;return this.legendItems.forEach((v,x)=>{const b=n+t/2+a.measureText(v.text).width;(x===0||u[u.length-1]+b+2*l>o)&&(f+=A,u[u.length-(x>0?0:1)]=0,h+=A,m++),c[x]={left:0,top:h,row:m,width:b,height:i},u[u.length-1]+=b+l}),f}_fitCols(e,t,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],A=o-e;let f=l,m=0,h=0,v=0,x=0;return this.legendItems.forEach((b,p)=>{const{itemWidth:y,itemHeight:N}=SQ(n,t,a,b,i);p>0&&h+N+2*l>A&&(f+=m+l,u.push({width:m,height:h}),v+=m+l,x++,m=h=0),c[p]={left:v,top:h,col:x,width:y,height:N},m=Math.max(m,y),h+=N+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,o=_h(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=Qs(n,this.left+i,this.right-this.lineWidths[l]);for(const u of t)l!==u.row&&(l=u.row,c=Qs(n,this.left+i,this.right-this.lineWidths[l])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let l=0,c=Qs(n,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const u of t)u.col!==l&&(l=u.col,c=Qs(n,this.top+e+i,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;v5(e,this),this._draw(),b5(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:o}=e,l=Fn.color,c=_h(e.rtl,this.left,this.width),u=Vs(o.font),{padding:A}=o,f=u.size,m=f/2;let h;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:x,itemHeight:b}=D_(o,f),p=function(k,I,F){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;i.save();const C=Vt(F.lineWidth,1);if(i.fillStyle=Vt(F.fillStyle,l),i.lineCap=Vt(F.lineCap,"butt"),i.lineDashOffset=Vt(F.lineDashOffset,0),i.lineJoin=Vt(F.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Vt(F.strokeStyle,l),i.setLineDash(Vt(F.lineDash,[])),o.usePointStyle){const P={radius:x*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:C},T=c.xPlus(k,v/2),_=I+m;Y6(i,P,T,_,o.pointStyleWidth&&v)}else{const P=I+Math.max((f-x)/2,0),T=c.leftForLtr(k,v),_=Bh(F.borderRadius);i.beginPath(),Object.values(_).some(U=>U!==0)?f0(i,{x:T,y:P,w:v,h:x,radius:_}):i.rect(T,P,v,x),i.fill(),C!==0&&i.stroke()}i.restore()},y=function(k,I,F){Dm(i,F.text,k,I+b/2,u,{strikethrough:F.hidden,textAlign:c.textAlign(F.textAlign)})},N=this.isHorizontal(),w=this._computeTitleHeight();N?h={x:Qs(a,this.left+A,this.right-n[0]),y:this.top+A+w,line:0}:h={x:this.left+A,y:Qs(a,this.top+w+A,this.bottom-t[0].height),line:0},nk(this.ctx,e.textDirection);const j=b+A;this.legendItems.forEach((k,I)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const F=i.measureText(k.text).width,C=c.textAlign(k.textAlign||(k.textAlign=o.textAlign)),P=v+m+F;let T=h.x,_=h.y;c.setWidth(this.width),N?I>0&&T+P+A>this.right&&(_=h.y+=j,h.line++,T=h.x=Qs(a,this.left+A,this.right-n[h.line])):I>0&&_+j>this.bottom&&(T=h.x=T+t[h.line].width+A,h.line++,_=h.y=Qs(a,this.top+w+A,this.bottom-t[h.line].height));const U=c.x(T);if(p(U,_,k),T=gR(C,T+v+m,N?T+P:this.right,e.rtl),y(c.x(T),_,k),N)h.x+=P+A;else if(typeof k.text!="string"){const S=u.lineHeight;h.y+=jk(k,S)+A}else h.y+=j}),sk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Vs(t.font),i=Pa(t.padding);if(!t.display)return;const a=_h(e.rtl,this.left,this.width),o=this.ctx,l=t.position,c=n.size/2,u=i.top+c;let A,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),A=this.top+u,f=Qs(e.align,f,this.right-m);else{const v=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);A=u+Qs(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const h=Qs(l,f,f+m);o.textAlign=a.textAlign(g5(l)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,Dm(o,t.text,h,A,n)}_computeTitleHeight(){const e=this.options.title,t=Vs(e.font),n=Pa(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(Eu(e,this.left,this.right)&&Eu(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],Eu(e,i.left,i.left+i.width)&&Eu(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!TQ(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=EQ(i,n);i&&!a&&$r(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&$r(t.onHover,[e,n,this],this)}else n&&$r(t.onClick,[e,n,this],this)}}function SQ(r,e,t,n,i){const a=kQ(n,r,e,t),o=FQ(i,n,e.lineHeight);return{itemWidth:a,itemHeight:o}}function kQ(r,e,t,n){let i=r.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+n.measureText(i).width}function FQ(r,e,t){let n=r;return typeof e.text!="string"&&(n=jk(e,t)),n}function jk(r,e){const t=r.text?r.text.length:0;return e*t}function TQ(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var S5={id:"legend",_element:U_,start(r,e,t){const n=r.legend=new U_({ctx:r.ctx,options:t,chart:r});ka.configure(r,n,t),ka.addBox(r,n)},stop(r){ka.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const n=r.legend;ka.configure(r,n,t),n.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=r.legend.options;return r._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(t?0:void 0),A=Pa(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class Bk extends wc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Wn(n.text)?n.text.length:1;this._padding=Pa(n.padding);const a=i*Vs(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:a,options:o}=this,l=o.align;let c=0,u,A,f;return this.isHorizontal()?(A=Qs(l,n,a),f=t+e,u=a-n):(o.position==="left"?(A=n+e,f=Qs(l,i,t),c=_r*-.5):(A=a-e,f=Qs(l,t,i),c=_r*.5),u=i-t),{titleX:A,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Vs(t.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(a);Dm(e,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:u,textAlign:g5(t.align),textBaseline:"middle",translation:[o,l]})}}function IQ(r,e){const t=new Bk({ctx:r.ctx,options:e,chart:r});ka.configure(r,t,e),ka.addBox(r,t),r.titleBlock=t}var k5={id:"title",_element:Bk,start(r,e,t){IQ(r,t)},stop(r){const e=r.titleBlock;ka.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const n=r.titleBlock;ka.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nm={average(r){if(!r.length)return!1;let e,t,n=new Set,i=0,a=0;for(e=0,t=r.length;e<t;++e){const l=r[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=r.length;a<o;++a){const c=r[a].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),A=Xw(e,u);A<i&&(i=A,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function tl(r,e){return e&&(Wn(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function lc(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function LQ(r,e){const{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:o,value:l}=a.getLabelAndValue(i);return{chart:r,label:o,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function O_(r,e){const t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:o,boxHeight:l}=e,c=Vs(e.bodyFont),u=Vs(e.titleFont),A=Vs(e.footerFont),f=a.length,m=i.length,h=n.length,v=Pa(e.padding);let x=v.height,b=0,p=n.reduce((w,j)=>w+j.before.length+j.lines.length+j.after.length,0);if(p+=r.beforeBody.length+r.afterBody.length,f&&(x+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),p){const w=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=h*w+(p-h)*c.lineHeight+(p-1)*e.bodySpacing}m&&(x+=e.footerMarginTop+m*A.lineHeight+(m-1)*e.footerSpacing);let y=0;const N=function(w){b=Math.max(b,t.measureText(w).width+y)};return t.save(),t.font=u.string,Br(r.title,N),t.font=c.string,Br(r.beforeBody.concat(r.afterBody),N),y=e.displayColors?o+2+e.boxPadding:0,Br(n,w=>{Br(w.before,N),Br(w.lines,N),Br(w.after,N)}),y=0,t.font=A.string,Br(r.footer,N),t.restore(),b+=v.width,{width:b,height:x}}function DQ(r,e){const{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function UQ(r,e,t,n){const{x:i,width:a}=n,o=t.caretSize+t.caretPadding;if(r==="left"&&i+a+o>e.width||r==="right"&&i-a-o<0)return!0}function OQ(r,e,t,n){const{x:i,width:a}=t,{width:o,chartArea:{left:l,right:c}}=r;let u="center";return n==="center"?u=i<=(l+c)/2?"left":"right":i<=a/2?u="left":i>=o-a/2&&(u="right"),UQ(u,r,e,t)&&(u="center"),u}function P_(r,e,t){const n=t.yAlign||e.yAlign||DQ(r,t);return{xAlign:t.xAlign||e.xAlign||OQ(r,e,t,n),yAlign:n}}function PQ(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function RQ(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function R_(r,e,t,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=r,{xAlign:l,yAlign:c}=t,u=i+a,{topLeft:A,topRight:f,bottomLeft:m,bottomRight:h}=Bh(o);let v=PQ(e,l);const x=RQ(e,c,u);return c==="center"?l==="left"?v+=u:l==="right"&&(v-=u):l==="left"?v-=Math.max(A,m)+i:l==="right"&&(v+=Math.max(f,h)+i),{x:Ks(v,0,n.width-e.width),y:Ks(x,0,n.height-e.height)}}function Zp(r,e,t){const n=Pa(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function M_(r){return tl([],lc(r))}function MQ(r,e,t){return oA(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Q_(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const _k={beforeTitle:ec,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:ec,beforeBody:ec,beforeLabel:ec,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return wr(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ec,afterBody:ec,beforeFooter:ec,footer:ec,afterFooter:ec};function Ti(r,e,t,n){const i=r[e].call(t,n);return typeof i>"u"?_k[e].call(t,n):i}class H_ extends wc{static positioners=nm;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new ak(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=MQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=Ti(n,"beforeTitle",this,e),a=Ti(n,"title",this,e),o=Ti(n,"afterTitle",this,e);let l=[];return l=tl(l,lc(i)),l=tl(l,lc(a)),l=tl(l,lc(o)),l}getBeforeBody(e,t){return M_(Ti(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return Br(e,a=>{const o={before:[],lines:[],after:[]},l=Q_(n,a);tl(o.before,lc(Ti(l,"beforeLabel",this,a))),tl(o.lines,Ti(l,"label",this,a)),tl(o.after,lc(Ti(l,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(e,t){return M_(Ti(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=Ti(n,"beforeFooter",this,e),a=Ti(n,"footer",this,e),o=Ti(n,"afterFooter",this,e);let l=[];return l=tl(l,lc(i)),l=tl(l,lc(a)),l=tl(l,lc(o)),l}_createItems(e){const t=this._active,n=this.chart.data,i=[],a=[],o=[];let l=[],c,u;for(c=0,u=t.length;c<u;++c)l.push(LQ(this.chart,t[c]));return e.filter&&(l=l.filter((A,f,m)=>e.filter(A,f,m,n))),e.itemSort&&(l=l.sort((A,f)=>e.itemSort(A,f,n))),Br(l,A=>{const f=Q_(e.callbacks,A);i.push(Ti(f,"labelColor",this,A)),a.push(Ti(f,"labelPointStyle",this,A)),o.push(Ti(f,"labelTextColor",this,A))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=nm[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=O_(this,n),u=Object.assign({},l,c),A=P_(this.chart,n,u),f=R_(n,u,A,this.chart);this.xAlign=A.xAlign,this.yAlign=A.yAlign,a={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:A,bottomRight:f}=Bh(l),{x:m,y:h}=e,{width:v,height:x}=t;let b,p,y,N,w,j;return a==="center"?(w=h+x/2,i==="left"?(b=m,p=b-o,N=w+o,j=w-o):(b=m+v,p=b+o,N=w-o,j=w+o),y=b):(i==="left"?p=m+Math.max(c,A)+o:i==="right"?p=m+v-Math.max(u,f)-o:p=this.caretX,a==="top"?(N=h,w=N-o,b=p-o,y=p+o):(N=h+x,w=N+o,b=p+o,y=p-o),j=N),{x1:b,x2:p,x3:y,y1:N,y2:w,y3:j}}drawTitle(e,t,n){const i=this.title,a=i.length;let o,l,c;if(a){const u=_h(n.rtl,this.x,this.width);for(e.x=Zp(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",o=Vs(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,c=0;c<a;++c)t.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===a&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,i,a){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=a,A=Vs(a.bodyFont),f=Zp(this,"left",a),m=i.x(f),h=c<A.lineHeight?(A.lineHeight-c)/2:0,v=t.y+h;if(a.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=i.leftForLtr(m,u)+u/2,p=v+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Zw(e,x,b,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Zw(e,x,b,p)}else{e.lineWidth=cr(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(m,u),b=i.leftForLtr(i.xPlus(m,1),u-2),p=Bh(o.borderRadius);Object.values(p).some(y=>y!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,f0(e,{x,y:v,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),f0(e,{x:b,y:v+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(x,v,u,c),e.strokeRect(x,v,u,c),e.fillStyle=o.backgroundColor,e.fillRect(b,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:A}=n,f=Vs(n.bodyFont);let m=f.lineHeight,h=0;const v=_h(n.rtl,this.x,this.width),x=function(F){t.fillText(F,v.x(e.x+h),e.y+m/2),e.y+=m+a},b=v.textAlign(o);let p,y,N,w,j,k,I;for(t.textAlign=o,t.textBaseline="middle",t.font=f.string,e.x=Zp(this,b,n),t.fillStyle=n.bodyColor,Br(this.beforeBody,x),h=l&&b!=="right"?o==="center"?u/2+A:u+2+A:0,w=0,k=i.length;w<k;++w){for(p=i[w],y=this.labelTextColors[w],t.fillStyle=y,Br(p.before,x),N=p.lines,l&&N.length&&(this._drawColorBox(t,e,w,v,n),m=Math.max(f.lineHeight,c)),j=0,I=N.length;j<I;++j)x(N[j]),m=f.lineHeight;Br(p.after,x)}h=0,m=f.lineHeight,Br(this.afterBody,x),e.y-=a}drawFooter(e,t,n){const i=this.footer,a=i.length;let o,l;if(a){const c=_h(n.rtl,this.x,this.width);for(e.x=Zp(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=c.textAlign(n.footerAlign),t.textBaseline="middle",o=Vs(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,l=0;l<a;++l)t.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=e,{width:u,height:A}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:v}=Bh(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+f,c),o==="top"&&this.drawCaret(e,t,n,i),t.lineTo(l+u-m,c),t.quadraticCurveTo(l+u,c,l+u,c+m),o==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(l+u,c+A-v),t.quadraticCurveTo(l+u,c+A,l+u-v,c+A),o==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(l+h,c+A),t.quadraticCurveTo(l,c+A,l,c+A-h),o==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(l,c+f),t.quadraticCurveTo(l,c,l+f,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=nm[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=O_(this,e),c=Object.assign({},o,this._size),u=P_(t,e,c),A=R_(e,c,u,t);(i._to!==A.x||a._to!==A.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,A))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Pa(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),nk(e,t.textDirection),a.y+=o.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),sk(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),a=!d0(n,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(e,a,t,n),l=this._positionChanged(o,e),c=t||!d0(o,a)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,n,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:a}=this,o=nm[a.position].call(this,e,t);return o!==!1&&(n!==o.x||i!==o.y)}}var F5={id:"tooltip",_element:H_,positioners:nm,afterInit(r,e,t){t&&(r.tooltip=new H_({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_k},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QQ=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function HQ(r,e,t,n){const i=r.indexOf(e);if(i===-1)return QQ(r,e,t,n);const a=r.lastIndexOf(e);return i!==a?t:i}const qQ=(r,e)=>r===null?null:Ks(Math.round(r),0,e);function q_(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class T5 extends ef{static id="category";static defaults={ticks:{callback:q_}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:a}of t)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(wr(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:HQ(n,e,Vt(t,e),this._addedLabels),qQ(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return q_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function zQ(r,e){const t=[],{bounds:i,step:a,min:o,max:l,precision:c,count:u,maxTicks:A,maxDigits:f,includeBounds:m}=r,h=a||1,v=A-1,{min:x,max:b}=e,p=!wr(o),y=!wr(l),N=!wr(u),w=(b-x)/(f+1);let j=z4((b-x)/v/h)*h,k,I,F,C;if(j<1e-14&&!p&&!y)return[{value:x},{value:b}];C=Math.ceil(b/j)-Math.floor(x/j),C>v&&(j=z4(C*j/v/h)*h),wr(c)||(k=Math.pow(10,c),j=Math.ceil(j*k)/k),i==="ticks"?(I=Math.floor(x/j)*j,F=Math.ceil(b/j)*j):(I=x,F=b),p&&y&&a&&lR((l-o)/a,j/1e3)?(C=Math.round(Math.min((l-o)/j,A)),j=(l-o)/C,I=o,F=l):N?(I=p?o:I,F=y?l:F,C=u-1,j=(F-I)/C):(C=(F-I)/j,mm(C,Math.round(C),j/1e3)?C=Math.round(C):C=Math.ceil(C));const P=Math.max(K4(j),K4(I));k=Math.pow(10,wr(c)?P:c),I=Math.round(I*k)/k,F=Math.round(F*k)/k;let T=0;for(p&&(m&&I!==o?(t.push({value:o}),I<o&&T++,mm(Math.round((I+T*j)*k)/k,o,z_(o,w,r))&&T++):I<o&&T++);T<C;++T){const _=Math.round((I+T*j)*k)/k;if(y&&_>l)break;t.push({value:_})}return y&&m&&F!==l?t.length&&mm(t[t.length-1].value,l,z_(l,w,r))?t[t.length-1].value=l:t.push({value:l}):(!y||F===l)&&t.push({value:F}),t}function z_(r,e,{horizontal:t,minRotation:n}){const i=hc(n),a=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+r).length;return Math.min(e/a,o)}class KQ extends ef{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return wr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=t?i:c,l=c=>a=n?a:c;if(e){const c=dl(i),u=dl(a);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),e||o(i-c)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=zQ(i,a);return e.bounds==="ticks"&&cR(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return y5(e,this.chart.options.locale,this.options.ticks.format)}}class I5 extends KQ{static id="linear";static defaults={ticks:{callback:$6.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Oa(e)?e:0,this.max=Oa(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=hc(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const G0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Di=Object.keys(G0);function K_(r,e){return r-e}function V_(r,e){if(wr(e))return null;const t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Oa(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(Tm(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,i)),+o)}function W_(r,e,t,n){const i=Di.length;for(let a=Di.indexOf(r);a<i-1;++a){const o=G0[Di[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(l*o.size))<=n)return Di[a]}return Di[i-1]}function VQ(r,e,t,n,i){for(let a=Di.length-1;a>=Di.indexOf(t);a--){const o=Di[a];if(G0[o].common&&r._adapter.diff(i,n,o)>=e-1)return o}return Di[t?Di.indexOf(t):0]}function WQ(r){for(let e=Di.indexOf(r)+1,t=Di.length;e<t;++e)if(G0[Di[e]].common)return Di[e]}function G_(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:n,hi:i}=p5(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function GQ(r,e,t,n){const i=r._adapter,a=+i.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=a;l<=o;l=+i.add(l,1,n))c=t[l],c>=0&&(e[c].major=!0);return e}function $_(r,e,t){const n=[],i={},a=e.length;let o,l;for(o=0;o<a;++o)l=e[o],i[l]=o,n.push({value:l,major:!1});return a===0||!t?n:GQ(r,n,i,t)}class Y_ extends ef{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new J7._date(e.adapters.date);i.init(t),fm(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:V_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!l&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Oa(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=Oa(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,l=fR(i,a,o);return this._unit=t.unit||(n.autoSkip?W_(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):VQ(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:WQ(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),$_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ks(t,0,o),n=Ks(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||W_(a.minUnit,t,n,this._getLabelCapacity(t)),l=Vt(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,u=Tm(c)||c===!0,A={};let f=t,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":o),e.diff(n,t,o)>1e5*l)throw new Error(t+" and "+n+" are too far apart with stepSize of "+l+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,o),h++)G_(A,m,v);return(m===n||i.bounds==="ticks"||h===1)&&G_(A,m,v),Object.keys(A).sort(K_).map(x=>+x)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,o=t||i[a];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,i){const a=this.options,o=a.ticks.callback;if(o)return $r(o,[e,t,n],this);const l=a.time.displayFormats,c=this._unit,u=this._majorUnit,A=c&&l[c],f=u&&l[u],m=n[t],h=u&&f&&m&&m.major;return this._adapter.format(e,i||(h?f:A))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=hc(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*o,h:n*o+l*a}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,$_(this,[e],this._majorUnit),i),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(V_(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return V6(e.sort(K_))}}function eg(r,e,t){let n=0,i=r.length-1,a,o,l,c;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=Kd(r,"pos",e)),{pos:a,time:l}=r[n],{pos:o,time:c}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=Kd(r,"time",e)),{time:a,pos:l}=r[n],{time:o,pos:c}=r[i]);const u=o-a;return u?l+(c-l)*(e-a)/u:l}class dZ extends Y_{static id="timeseries";static defaults=Y_.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=eg(t,this.min),this._tableRange=eg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],a=[];let o,l,c,u,A;for(o=0,l=e.length;o<l;++o)u=e[o],u>=t&&u<=n&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)A=i[o+1],c=i[o-1],u=i[o],Math.round((A+c)/2)!==u&&a.push({time:u,pos:o/(l-1)});return a}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(eg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return eg(this._table,n*this._tableRange+this._minPos,!0)}}const Ck="label";function X_(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function $Q(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function Ek(r,e){r.labels=e}function Sk(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ck;const n=[];r.datasets=e.map(i=>{const a=r.datasets.find(o=>o[t]===i[t]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function YQ(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ck;const t={labels:[],datasets:[]};return Ek(t,r.labels),Sk(t,r.datasets,e),t}function XQ(r,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:A,updateMode:f,...m}=r,h=Ae.useRef(null),v=Ae.useRef(null),x=()=>{h.current&&(v.current=new tf(h.current,{type:o,data:YQ(l,a),options:c&&{...c},plugins:u}),X_(e,v.current))},b=()=>{X_(e,null),v.current&&(v.current.destroy(),v.current=null)};return Ae.useEffect(()=>{!i&&v.current&&c&&$Q(v.current,c)},[i,c]),Ae.useEffect(()=>{!i&&v.current&&Ek(v.current.config.data,l.labels)},[i,l.labels]),Ae.useEffect(()=>{!i&&v.current&&l.datasets&&Sk(v.current.config.data,l.datasets,a)},[i,l.datasets]),Ae.useEffect(()=>{v.current&&(i?(b(),setTimeout(x)):v.current.update(f))},[i,c,l.labels,l.datasets,f]),Ae.useEffect(()=>{v.current&&(b(),setTimeout(x))},[o]),Ae.useEffect(()=>(x(),()=>b()),[]),iA.createElement("canvas",{ref:h,role:"img",height:t,width:n,...m},A)}const JQ=Ae.forwardRef(XQ);function L5(r,e){return tf.register(e),Ae.forwardRef((t,n)=>iA.createElement(JQ,{...t,ref:n,type:r}))}const kk=L5("line",Y7),ZQ=L5("bar",W7),J_=L5("pie",X7);tf.register(T5,I5,bk,vk,k5,F5,S5);const e9=()=>{const[r,e]=Ae.useState({cpu:0,memory:0,disk:0,network:0,activeUsers:0,requests:0,errors:0,responseTime:0}),[t,n]=Ae.useState([]),[i,a]=Ae.useState(!0),[o,l]=Ae.useState(!0),[c,u]=Ae.useState(5e3);Ae.useEffect(()=>{if(A(),o){const x=setInterval(A,c);return()=>clearInterval(x)}},[o,c]);const A=async()=>{try{const x={cpu:Math.random()*30+10,memory:Math.random()*20+60,disk:Math.random()*10+70,network:Math.random()*50+20,activeUsers:Math.floor(Math.random()*20)+80,requests:Math.floor(Math.random()*1e3)+2e3,errors:Math.floor(Math.random()*5),responseTime:Math.random()*100+50};e(x);const p={timestamp:new Date().toLocaleTimeString(),cpu:x.cpu,memory:x.memory,requests:x.requests,responseTime:x.responseTime};n(y=>[...y,p].slice(-20)),a(!1)}catch(x){console.error("Erreur lors du chargement des métriques:",x),a(!1)}},f=(x,b)=>x>=b.critical?"text-red-600 bg-red-100":x>=b.warning?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100",m=(x,b)=>x>=b.critical?s.jsx(vt,{className:"h-5 w-5 text-red-600"}):x>=b.warning?s.jsx(vt,{className:"h-5 w-5 text-yellow-600"}):s.jsx(Bt,{className:"h-5 w-5 text-green-600"}),h={labels:t.map(x=>x.timestamp),datasets:[{label:"CPU (%)",data:t.map(x=>x.cpu),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.1},{label:"Mémoire (%)",data:t.map(x=>x.memory),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.1},{label:"Temps de réponse (ms)",data:t.map(x=>x.responseTime),borderColor:"rgb(245, 158, 11)",backgroundColor:"rgba(245, 158, 11, 0.1)",tension:.1,yAxisID:"y1"}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Métriques système en temps réel"}},scales:{y:{type:"linear",display:!0,position:"left",max:100},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1}}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monitoring système"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:x=>l(x.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-refresh"})]}),s.jsxs("select",{value:c,onChange:x=>u(parseInt(x.target.value)),disabled:!o,className:"px-2 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[s.jsx("option",{value:"1000",children:"1s"}),s.jsx("option",{value:"5000",children:"5s"}),s.jsx("option",{value:"10000",children:"10s"}),s.jsx("option",{value:"30000",children:"30s"})]})]}),s.jsx("button",{onClick:A,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Actualiser maintenant",children:s.jsx(Ua,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"CPU"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.cpu.toFixed(1),"%"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[m(r.cpu,{warning:70,critical:90}),s.jsx("span",{className:`text-sm ml-1 ${f(r.cpu,{warning:70,critical:90}).split(" ")[0]}`,children:r.cpu<70?"Normal":r.cpu<90?"Élevé":"Critique"})]})]}),s.jsx(y6,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Mémoire"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.memory.toFixed(1),"%"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[m(r.memory,{warning:80,critical:95}),s.jsx("span",{className:`text-sm ml-1 ${f(r.memory,{warning:80,critical:95}).split(" ")[0]}`,children:r.memory<80?"Normal":r.memory<95?"Élevé":"Critique"})]})]}),s.jsx(zm,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disque"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.disk.toFixed(1),"%"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[m(r.disk,{warning:85,critical:95}),s.jsx("span",{className:`text-sm ml-1 ${f(r.disk,{warning:85,critical:95}).split(" ")[0]}`,children:r.disk<85?"Normal":r.disk<95?"Élevé":"Critique"})]})]}),s.jsx(Sa,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Réseau"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[r.network.toFixed(0)," Mbps"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600 ml-1",children:"Stable"})]})]}),s.jsx(l5,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Utilisateurs actifs"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.activeUsers}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ai,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+5% vs hier"})]})]}),s.jsx(yn,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Requêtes/min"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.requests.toLocaleString()}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ai,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+12% vs hier"})]})]}),s.jsx(Oi,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Erreurs"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:r.errors}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(yo,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"-2% vs hier"})]})]}),s.jsx(vt,{className:"h-8 w-8 text-red-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Temps de réponse"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[r.responseTime.toFixed(0),"ms"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600 ml-1",children:"Excellent"})]})]}),s.jsx(Ur,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Performance en temps réel"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:o?"En direct":"Arrêté"})})]}),s.jsx("div",{className:"h-80",children:t.length>0?s.jsx(kk,{data:h,options:v}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xc,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Collecte des données en cours..."})]})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Alertes système"}),s.jsxs("div",{className:"space-y-4",children:[r.cpu>80&&s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900",children:"Utilisation CPU élevée"}),s.jsxs("p",{className:"text-sm text-red-700",children:["Le CPU est utilisé à ",r.cpu.toFixed(1),"%"]})]})]}),r.memory>90&&s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-900",children:"Mémoire critique"}),s.jsxs("p",{className:"text-sm text-red-700",children:["La mémoire est utilisée à ",r.memory.toFixed(1),"%"]})]})]}),r.errors>3&&s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsx(vt,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"Erreurs détectées"}),s.jsxs("p",{className:"text-sm text-yellow-700",children:[r.errors," erreurs dans la dernière minute"]})]})]}),r.cpu<=80&&r.memory<=90&&r.errors<=3&&s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Système en bonne santé"}),s.jsx("p",{className:"text-sm text-green-700",children:"Toutes les métriques sont dans les limites normales"})]})]})]})]})]})},t9=()=>{const[r,e]=Ae.useState({general:{siteName:"EasyBail",siteUrl:"https://easybail.fr",adminEmail:"admin@easybail.fr",timezone:"Europe/Paris",language:"fr",maintenanceMode:!1},security:{sessionTimeout:30,maxLoginAttempts:5,passwordMinLength:8,requireTwoFactor:!1,allowRegistration:!0},database:{backupFrequency:"daily",retentionDays:30,autoOptimize:!0,connectionPoolSize:10},email:{fromName:"EasyBail",fromEmail:"noreply@easybail.fr",replyToEmail:"support@easybail.fr",smtpHost:"ssl0.ovh.net",smtpPort:465,smtpSecure:!0},notifications:{emailNotifications:!0,systemAlerts:!0,userRegistrations:!0,errorReports:!0},appearance:{theme:"light",primaryColor:"#3B82F6",logoUrl:"",faviconUrl:""},performance:{cacheEnabled:!0,cacheTtl:3600,compressionEnabled:!0,cdnEnabled:!1}}),[t,n]=Ae.useState("general"),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(null),c=[{id:"general",label:"Général",icon:tA},{id:"security",label:"Sécurité",icon:ls},{id:"database",label:"Base de données",icon:Sa},{id:"email",label:"Email",icon:Wt},{id:"notifications",label:"Notifications",icon:Da},{id:"appearance",label:"Apparence",icon:xU},{id:"performance",label:"Performance",icon:u0}],u=(x,b,p)=>{e(y=>({...y,[x]:{...y[x],[b]:p}}))},A=async()=>{try{a(!0),l(null),await new Promise(x=>setTimeout(x,1e3)),localStorage.setItem("admin_settings",JSON.stringify(r)),l({type:"success",text:"Paramètres sauvegardés avec succès"})}catch{l({type:"error",text:"Erreur lors de la sauvegarde des paramètres"})}finally{a(!1)}},f=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Paramètres généraux"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du site"}),s.jsx("input",{type:"text",value:r.general.siteName,onChange:x=>u("general","siteName",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL du site"}),s.jsx("input",{type:"url",value:r.general.siteUrl,onChange:x=>u("general","siteUrl",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email administrateur"}),s.jsx("input",{type:"email",value:r.general.adminEmail,onChange:x=>u("general","adminEmail",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuseau horaire"}),s.jsxs("select",{value:r.general.timezone,onChange:x=>u("general","timezone",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Europe/Paris",children:"Europe/Paris"}),s.jsx("option",{value:"Europe/London",children:"Europe/London"}),s.jsx("option",{value:"America/New_York",children:"America/New_York"}),s.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Langue"}),s.jsxs("select",{value:r.general.language,onChange:x=>u("general","language",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"fr",children:"Français"}),s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"es",children:"Español"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"Mode maintenance"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Désactive l'accès au site pour les utilisateurs"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.general.maintenanceMode,onChange:x=>u("general","maintenanceMode",x.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),m=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Paramètres de sécurité"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Délai d'expiration de session (minutes)"}),s.jsx("input",{type:"number",value:r.security.sessionTimeout,onChange:x=>u("security","sessionTimeout",parseInt(x.target.value)),min:"5",max:"1440",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tentatives de connexion max"}),s.jsx("input",{type:"number",value:r.security.maxLoginAttempts,onChange:x=>u("security","maxLoginAttempts",parseInt(x.target.value)),min:"3",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longueur minimale du mot de passe"}),s.jsx("input",{type:"number",value:r.security.passwordMinLength,onChange:x=>u("security","passwordMinLength",parseInt(x.target.value)),min:"6",max:"32",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Authentification à deux facteurs obligatoire"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Forcer tous les utilisateurs à activer 2FA"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.security.requireTwoFactor,onChange:x=>u("security","requireTwoFactor",x.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Autoriser les inscriptions"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permettre aux nouveaux utilisateurs de s'inscrire"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.security.allowRegistration,onChange:x=>u("security","allowRegistration",x.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),h=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Paramètres de base de données"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fréquence de sauvegarde"}),s.jsxs("select",{value:r.database.backupFrequency,onChange:x=>u("database","backupFrequency",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"hourly",children:"Toutes les heures"}),s.jsx("option",{value:"daily",children:"Quotidienne"}),s.jsx("option",{value:"weekly",children:"Hebdomadaire"}),s.jsx("option",{value:"monthly",children:"Mensuelle"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rétention des sauvegardes (jours)"}),s.jsx("input",{type:"number",value:r.database.retentionDays,onChange:x=>u("database","retentionDays",parseInt(x.target.value)),min:"1",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taille du pool de connexions"}),s.jsx("input",{type:"number",value:r.database.connectionPoolSize,onChange:x=>u("database","connectionPoolSize",parseInt(x.target.value)),min:"5",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Optimisation automatique"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Optimiser automatiquement la base de données"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.database.autoOptimize,onChange:x=>u("database","autoOptimize",x.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),v=()=>{switch(t){case"general":return f();case"security":return m();case"database":return h();default:return s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ri,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Section en cours de développement"})]})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Paramètres système"}),s.jsxs("button",{onClick:A,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[i?s.jsx(Ua,{className:"h-5 w-5 animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Sauvegarder"})]})]}),o&&s.jsx("div",{className:`rounded-lg p-4 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[o.type==="success"?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsx("p",{className:"text-sm font-medium",children:o.text})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-64",children:s.jsx("nav",{className:"space-y-2",children:c.map(x=>{const b=x.icon;return s.jsxs("button",{onClick:()=>n(x.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${t===x.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(b,{className:`h-5 w-5 ${t===x.id?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:x.label})]},x.id)})})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:v()})})]})]})},r9=r=>r?.email==="admin@easybail.pro"||r?.user_metadata?.email==="admin@easybail.pro"||r?.user_metadata?.role==="admin"||r?.role==="admin"||r?.user_metadata?.role==="admin",n9=({isOpen:r,onClose:e})=>{const[t,n]=Ae.useState(null),[i,a]=Ae.useState("database"),[o,l]=Ae.useState(!1),[c,u]=Ae.useState(!1);Ae.useEffect(()=>{r&&(async()=>{const{data:{user:v}}=await Je.auth.getUser();n(v)})()},[r]);const A=r9(t);if(!r)return null;if(!A)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(ls,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Accès refusé"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Vue globale de tous les comptes utilisateurs"})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-red-800 text-sm",children:"Vous n'avez pas les droits nécessaires pour accéder au panneau d'administration. Seuls les administrateurs peuvent accéder à cette section."})}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fermer"})})]})})});const f=[{id:"dashboard",label:"Tableau de bord",icon:xc},{id:"database",label:"Base de données",icon:Sa},{id:"users",label:"Utilisateurs",icon:yn},{id:"security",label:"Sécurité",icon:ls},{id:"monitoring",label:"Monitoring",icon:Oi},{id:"backup",label:"Sauvegardes",icon:zm},{id:"mail",label:"Serveur mail",icon:Wt},{id:"email_templates",label:"Templates mail",icon:Qu},{id:"email_queue",label:"File d'attente",icon:Wt},{id:"logs",label:"Journaux",icon:Oi},{id:"local_docs",label:"Documents locaux",icon:Et},{id:"settings",label:"Paramètres",icon:Ri}],m=()=>{switch(i){case"dashboard":return s.jsx(U4,{});case"database":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Connexion à la base de données"}),s.jsx(XU,{})]});case"users":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gestion des utilisateurs"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Administration des comptes utilisateurs"})]}),s.jsx(NP,{})]});case"security":return s.jsx(jP,{});case"monitoring":return s.jsx(e9,{});case"backup":return s.jsx(EP,{});case"mail":return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuration du serveur mail"}),s.jsx(eO,{})]});case"email_queue":return s.jsx(wP,{});case"email_templates":return s.jsx(U6,{});case"logs":return s.jsx(BP,{});case"local_docs":return s.jsx(CP,{});case"settings":return s.jsx(t9,{});default:return s.jsx(U4,{})}};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:e}),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute inset-y-0 right-0 max-w-7xl w-full bg-white shadow-xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(ls,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Administration"})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"w-80 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:s.jsx("nav",{className:"p-4 space-y-1",children:f.map(h=>{const v=h.icon;return s.jsxs("button",{onClick:()=>a(h.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg text-left transition-all duration-200 ${i===h.id?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(v,{className:`h-5 w-5 ${i===h.id?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:h.label})]}),s.jsx(a5,{className:`h-4 w-4 ${i===h.id?"text-blue-600":"text-gray-400"}`})]},h.id)})})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 min-w-0",children:m()})]})]}),s.jsx(D6,{isOpen:o,onClose:()=>l(!1)}),s.jsx(bP,{isOpen:c,onClose:()=>u(!1)})]})]})},al=(r,e)=>{r?.message?.includes("Failed to fetch")||r?.message?.includes("timeout")||r?.message?.includes("upstream connect error")||r?.message?.includes("signal timed out")||r?.code===23||r?.code==="503"||r?.code==="500"||r?.code==="544"||r?.status===503||r?.status===500||r?.status===544?console.warn(`Supabase connection issue during ${e}:`,r.message||r):r?.code==="42P01"?console.warn(`Table does not exist during ${e}. Please run database migrations.`):console.error(`Error during ${e}:`,r)},Fk=async r=>{try{const{data:e,error:t}=await Je.from("profiles").select("id").eq("id",r).maybeSingle();if(t)throw t;if(e)return;const{data:{user:n},error:i}=await Je.auth.getUser();if(i||!n)throw new Error("Impossible de récupérer les données utilisateur");const{error:a}=await Je.from("profiles").insert({id:r,email:n.email||"",first_name:n.user_metadata?.first_name||"Utilisateur",last_name:n.user_metadata?.last_name||"",company_name:n.user_metadata?.company_name||null,phone:n.user_metadata?.phone||null});if(a)throw a}catch(e){throw console.error("Erreur lors de la création du profil utilisateur:",e),new Error("Impossible de créer le profil utilisateur. Veuillez vous reconnecter.")}},Of=(r,e)=>({id:r.id,name:r.name,address:r.address,type:r.type,status:r.status||"vacant",rent:Number(r.rent),charges:Number(r.charges||0),surface:Number(r.surface),rooms:r.rooms,tenant:e?{id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone||"",propertyId:e.property_id,leaseStart:new Date(e.lease_start),leaseEnd:new Date(e.lease_end),rent:Number(e.rent),deposit:Number(e.deposit||0),status:e.status||"active",createdAt:new Date(e.created_at||Date.now())}:void 0,createdAt:new Date(r.created_at||Date.now()),updatedAt:new Date(r.updated_at||Date.now())}),ub=r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,email:r.email,phone:r.phone||"",propertyId:r.property_id,leaseStart:new Date(r.lease_start),leaseEnd:new Date(r.lease_end),rent:Number(r.rent),deposit:Number(r.deposit||0),status:r.status||"active",createdAt:new Date(r.created_at||Date.now())}),mh={async getProperties(){try{const r=localStorage.getItem("easybail_properties_cache"),e=localStorage.getItem("easybail_properties_cache_timestamp");if(r&&e&&Date.now()-parseInt(e)<300*1e3)return console.log("Using cached properties data"),JSON.parse(r).map(c=>({...c,createdAt:new Date(c.createdAt),updatedAt:new Date(c.updatedAt),tenant:c.tenant?{...c.tenant,leaseStart:new Date(c.tenant.leaseStart),leaseEnd:new Date(c.tenant.leaseEnd),createdAt:new Date(c.tenant.createdAt)}:void 0}));const{data:t,error:n}=await Je.from("properties").select("*").order("created_at",{ascending:!1});if(n)throw n;const{data:i,error:a}=await Je.from("tenants").select("*").in("status",["active","notice"]);if(a)throw a;const o=t.map(l=>{const c=i?.find(u=>u.property_id===l.id);return Of(l,c)});return localStorage.setItem("easybail_properties_cache",JSON.stringify(o)),localStorage.setItem("easybail_properties_cache_timestamp",Date.now().toString()),o}catch(r){throw al(r,"getProperties"),r}},async getAvailableProperties(){try{const{data:r,error:e}=await Je.from("properties").select("*").eq("status","vacant").order("created_at",{ascending:!1});if(e)throw e;return(r||[]).map(t=>Of(t))}catch(r){throw al(r,"getAvailableProperties"),r}},async createProperty(r){try{localStorage.removeItem("easybail_properties_cache");const{data:e}=await Je.auth.getUser();if(!e?.user)throw new Error("Utilisateur non connecté");await Fk(e.user.id);const t={user_id:e.user.id,name:r.name,address:r.address,type:r.type,status:r.status||"vacant",rent:r.rent,charges:r.charges||0,surface:r.surface,rooms:r.rooms||1,description:r.description||null,amenities:r.amenities||null,images:r.images||null},{data:n,error:i}=await Je.from("properties").insert(t).select().single();if(i)throw i;try{await Fr.addActivity({type:"property",action:"created",title:"Nouveau bien ajouté",description:`${r.name} a été ajouté à votre portefeuille`,entityId:n.id,entityType:"property",entityName:r.name,userId:e.user.id,metadata:{type:r.type,rent:r.rent,surface:r.surface},priority:"medium",category:"success"})}catch(a){console.warn("Could not log property creation activity:",a)}return Of(n)}catch(e){throw al(e,"createProperty"),e}},async updateProperty(r,e){try{localStorage.removeItem("easybail_properties_cache");const t={};e.name!==void 0&&(t.name=e.name),e.address!==void 0&&(t.address=e.address),e.type!==void 0&&(t.type=e.type),e.status!==void 0&&(t.status=e.status),e.rent!==void 0&&(t.rent=e.rent),e.charges!==void 0&&(t.charges=e.charges),e.surface!==void 0&&(t.surface=e.surface),e.rooms!==void 0&&(t.rooms=e.rooms),e.description!==void 0&&(t.description=e.description),e.amenities!==void 0&&(t.amenities=e.amenities),e.images!==void 0&&(t.images=e.images);const{data:n,error:i}=await Je.from("properties").update(t).eq("id",r).select().single();if(i)throw i;try{await Fr.addActivity({type:"property",action:"updated",title:"Bien mis à jour",description:`${n.name} a été modifié`,entityId:n.id,entityType:"property",entityName:n.name,userId:userData.user.id,metadata:t,priority:"low",category:"info"})}catch(l){console.warn("Could not log property update activity:",l)}const{data:a,error:o}=await Je.from("tenants").select("*").eq("property_id",r).eq("status","active").maybeSingle();if(o)throw o;return Of(n,a||void 0)}catch(t){throw al(t,"updateProperty"),t}},async deleteProperty(r){try{localStorage.removeItem("easybail_properties_cache");const{error:e}=await Je.from("properties").delete().eq("id",r);if(e)throw e;try{await Fr.addActivity({type:"property",action:"deleted",title:"Bien supprimé",description:"Un bien a été supprimé du portefeuille",userId:userData.user.id,priority:"medium",category:"warning"})}catch(t){console.warn("Could not log property deletion activity:",t)}}catch(e){throw al(e,"deleteProperty"),e}},async getProperty(r){try{const{data:e,error:t}=await Je.from("properties").select("*").eq("id",r).single();if(t)throw t;const{data:n,error:i}=await Je.from("tenants").select("*").eq("property_id",r).eq("status","active").maybeSingle();if(i)throw i;return Of(e,n||void 0)}catch(e){throw al(e,"getProperty"),e}}},ph={async getTenants(){try{const r=localStorage.getItem("easybail_tenants_cache"),e=localStorage.getItem("easybail_tenants_cache_timestamp");if(r&&e&&Date.now()-parseInt(e)<300*1e3)return console.log("Using cached tenants data"),JSON.parse(r).map(l=>({...l,leaseStart:new Date(l.leaseStart),leaseEnd:new Date(l.leaseEnd),createdAt:new Date(l.createdAt)}));const{data:t}=await Je.auth.getUser();if(!t?.user)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await Je.from("tenants").select("*").eq("user_id",t.user.id).order("created_at",{ascending:!1});if(i)throw i;const a=(n||[]).map(o=>ub(o));return localStorage.setItem("easybail_tenants_cache",JSON.stringify(a)),localStorage.setItem("easybail_tenants_cache_timestamp",Date.now().toString()),a}catch(r){throw al(r,"getTenants"),r}},async createTenant(r){try{localStorage.removeItem("easybail_tenants_cache"),localStorage.removeItem("easybail_properties_cache");const{data:e}=await Je.auth.getUser();if(!e?.user)throw new Error("Utilisateur non connecté");await Fk(e.user.id);const t={user_id:e.user.id,property_id:r.propertyId,first_name:r.firstName,last_name:r.lastName,email:r.email,phone:r.phone||null,lease_start:r.leaseStart.toISOString().split("T")[0],lease_end:r.leaseEnd.toISOString().split("T")[0],rent:r.rent,deposit:r.deposit||0,status:r.status||"active"},{data:n,error:i}=await Je.from("tenants").insert(t).select().single();if(i)throw i;try{await Fr.addActivity({type:"tenant",action:"added",title:"Nouveau locataire",description:`${n.first_name} ${n.last_name} a été ajouté`,entityId:n.id,entityType:"tenant",entityName:`${n.first_name} ${n.last_name}`,userId:e.user.id,metadata:{propertyId:r.propertyId,rent:r.rent,leaseStart:r.leaseStart.toISOString()},priority:"medium",category:"success"})}catch(o){console.warn("Could not log tenant creation activity:",o)}const{error:a}=await Je.from("properties").update({status:"occupied"}).eq("id",r.propertyId);if(a)throw a;return ub(n)}catch(e){throw al(e,"createTenant"),e}},async updateTenant(r,e){try{localStorage.removeItem("easybail_tenants_cache"),localStorage.removeItem("easybail_properties_cache");const t={};e.firstName!==void 0&&(t.first_name=e.firstName),e.lastName!==void 0&&(t.last_name=e.lastName),e.email!==void 0&&(t.email=e.email),e.phone!==void 0&&(t.phone=e.phone),e.propertyId!==void 0&&(t.property_id=e.propertyId),e.leaseStart!==void 0&&(t.lease_start=e.leaseStart.toISOString().split("T")[0]),e.leaseEnd!==void 0&&(t.lease_end=e.leaseEnd.toISOString().split("T")[0]),e.rent!==void 0&&(t.rent=e.rent),e.deposit!==void 0&&(t.deposit=e.deposit),e.status!==void 0&&(t.status=e.status);const{data:n,error:i}=await Je.from("tenants").update(t).eq("id",r).select().single();if(i)throw i;return ub(n)}catch(t){throw al(t,"updateTenant"),t}},async deleteTenant(r){try{localStorage.removeItem("easybail_tenants_cache"),localStorage.removeItem("easybail_properties_cache");const{data:e,error:t}=await Je.from("tenants").select("property_id").eq("id",r).single();if(t)throw t;const{error:n}=await Je.from("tenants").delete().eq("id",r);if(n)throw n;if(e?.property_id){const{error:i}=await Je.from("properties").update({status:"vacant"}).eq("id",e.property_id);if(i)throw i}}catch(e){throw al(e,"deleteTenant"),e}}},s9=Object.freeze(Object.defineProperty({__proto__:null,propertiesApi:mh,tenantsApi:ph},Symbol.toStringTag,{value:"Module"}));function n2(r,e=5){try{const t=`${r}_timestamp`,n=localStorage.getItem(t);return n?Date.now()-parseInt(n)<e*60*1e3:!1}catch(t){return console.error(`Error checking cache validity for "${r}":`,t),!1}}function xm(r,e){try{localStorage.setItem(r,JSON.stringify(e)),localStorage.setItem(`${r}_timestamp`,Date.now().toString())}catch(t){console.error(`Error caching data for "${r}":`,t)}}function s2(r,e){try{const t=localStorage.getItem(r);return t?JSON.parse(t):e}catch(t){return console.error(`Error retrieving cached data for "${r}":`,t),e}}function ia(r){try{localStorage.removeItem(r),localStorage.removeItem(`${r}_timestamp`)}catch(e){console.error(`Error invalidating cache for "${r}":`,e)}}const Wu=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState([]),[i,a]=Ae.useState(!0),[o,l]=Ae.useState(null),c="easybail_properties_cache",u="easybail_available_properties_cache",A=b=>b instanceof Error?b.message:"Une erreur est survenue",f=async()=>{try{a(!0),l(null);try{if(n2(c)){const b=s2(c,[]);e(b),mh.getProperties().then(p=>{e(p),xm(c,p)}).catch(p=>{console.warn("Erreur lors du rafraîchissement des biens en arrière-plan:",p)})}else{const b=await mh.getProperties();e(b),xm(c,b)}if(n2(u)){const b=s2(u,[]);n(b)}else{const b=r.filter(p=>p.status==="vacant"||p.status==="maintenance");n(b),xm(u,b)}}catch(b){const p=b?.message||"",y=b?.status||b?.code,N=typeof y=="string"?parseInt(y):y;if(p.includes("Failed to fetch")||p.includes("timeout")||p.includes("upstream connect error")||p.includes("signal timed out")||p.includes("connection timeout")||p.includes("disconnect/reset before headers")||p.includes("connect error")||N===503||N===500||N===544||N===23){console.warn("Utilisation des données de démonstration pour les biens en raison d'une erreur de connexion:",p);const{mockProperties:j}=await La(async()=>{const{mockProperties:I}=await import("./mockData-BXgKbKLo.js");return{mockProperties:I}},[]);e(j);const k=j.filter(I=>I.status==="vacant"||I.status==="maintenance");n(k),l("Impossible de se connecter à la base de données. Affichage des données de démonstration.")}else l(A(b)),console.error("Erreur lors du chargement des biens:",b)}}catch(b){l(A(b)),console.error("Erreur lors du chargement des biens:",b)}finally{a(!1)}},m=async b=>{try{l(null),ia(c),ia(u);const p=await mh.createProperty(b);e(y=>[p,...y]),Fr.addActivity({type:"property",action:"created",title:"Nouveau bien ajouté",description:`${p.name} a été ajouté à votre portefeuille`,entityId:p.id,entityType:"property",entityName:p.name,userId:"current-user",metadata:{type:p.type,rent:p.rent,surface:p.surface},priority:"medium",category:"success"}),p.status==="vacant"&&n(y=>[p,...y])}catch(p){throw l(A(p)),p}},h=async(b,p)=>{try{l(null),ia(c),ia(u);const y=await mh.updateProperty(b,p);e(N=>N.map(w=>w.id===b?y:w)),Fr.addActivity({type:"property",action:"updated",title:"Bien mis à jour",description:`${y.name} a été modifié`,entityId:y.id,entityType:"property",entityName:y.name,userId:"current-user",metadata:p,priority:"low",category:"info"}),y.status==="vacant"?n(N=>N.find(j=>j.id===b)?N.map(j=>j.id===b?y:j):[y,...N]):n(N=>N.filter(w=>w.id!==b))}catch(y){throw l(A(y)),y}},v=async b=>{try{l(null),ia(c),ia(u);const p=r.find(y=>y.id===b);await mh.deleteProperty(b),e(y=>y.filter(N=>N.id!==b)),n(y=>y.filter(N=>N.id!==b)),p&&Fr.addActivity({type:"property",action:"deleted",title:"Bien supprimé",description:`${p.name} a été supprimé de votre portefeuille`,entityId:p.id,entityType:"property",entityName:p.name,userId:"current-user",priority:"medium",category:"warning"})}catch(p){throw l(A(p)),p}},x=async()=>{await f()};return Ae.useEffect(()=>{f()},[]),{properties:r,availableProperties:t,loading:i,error:o,createProperty:m,updateProperty:h,deleteProperty:v,refreshProperties:x}},$0=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(null),o="easybail_tenants_cache",l=h=>h instanceof Error?h.message:"Une erreur est survenue",c=async()=>{try{if(n(!0),a(null),n2(o)){const h=s2(o,[]);e(h),ph.getTenants().then(v=>{e(v),xm(o,v)}).catch(v=>{console.warn("Erreur lors du rafraîchissement des locataires en arrière-plan:",v)})}else{const h=await ph.getTenants();e(h),xm(o,h)}}catch(h){a(l(h)),console.error("Erreur lors du chargement des locataires:",h)}finally{n(!1)}},u=async h=>{try{a(null),ia(o),ia("easybail_properties_cache");const v=await ph.createTenant(h);e(x=>[v,...x]),Fr.addActivity({type:"tenant",action:"added",title:"Nouveau locataire",description:`${v.firstName} ${v.lastName} a été ajouté`,entityId:v.id,entityType:"tenant",entityName:`${v.firstName} ${v.lastName}`,userId:"current-user",metadata:{propertyId:v.propertyId,rent:v.rent,leaseStart:v.leaseStart.toISOString()},priority:"medium",category:"success"})}catch(v){throw a(l(v)),v}},A=async(h,v)=>{try{a(null),ia(o),ia("easybail_properties_cache");const x=await ph.updateTenant(h,v);e(b=>b.map(p=>p.id===h?x:p))}catch(x){throw a(l(x)),x}},f=async h=>{try{a(null),ia(o),ia("easybail_properties_cache"),await ph.deleteTenant(h),e(v=>v.filter(x=>x.id!==h))}catch(v){throw a(l(v)),v}},m=async()=>{ia(o),await c()};return Ae.useEffect(()=>{c()},[]),{tenants:r,loading:t,error:i,createTenant:u,updateTenant:A,deleteTenant:f,refreshTenants:m}},i9=r=>r?.email==="admin@easybail.pro"||r?.user_metadata?.email==="admin@easybail.pro"||r?.user_metadata?.role==="admin"||r?.role==="admin"||r?.user_metadata?.role==="admin",a9=({onLogout:r,onNavigateToSection:e})=>{const{user:t,profile:n,signOut:i}=Xh(),{properties:a}=Wu(),{tenants:o}=$0();pl();const[l,c]=Ae.useState(!1),[u,A]=Ae.useState(!1),[f,m]=Ae.useState(""),[h,v]=Ae.useState(!1),[x,b]=Ae.useState([]),p=i9(t),y=async()=>{try{await i(),r&&r()}catch(k){console.error("Error signing out:",k)}},N=k=>{if(m(k),k.trim().length<2){b([]),v(!1);return}const I=[],F=k.toLowerCase();a.forEach(P=>{(P.name.toLowerCase().includes(F)||P.address.toLowerCase().includes(F)||P.type.toLowerCase().includes(F))&&I.push({type:"property",id:P.id,title:P.name,subtitle:P.address,icon:Ws,action:()=>{e&&e("properties"),v(!1),m("")}})}),o.forEach(P=>{const T=`${P.firstName} ${P.lastName}`;if(T.toLowerCase().includes(F)||P.email.toLowerCase().includes(F)||P.phone?.toLowerCase().includes(F)){const _=a.find(U=>U.id===P.propertyId);I.push({type:"tenant",id:P.id,title:T,subtitle:_?_.name:"Bien non trouvé",icon:yn,action:()=>{e&&e("tenants"),v(!1),m("")}})}}),[{name:"Mes biens",section:"properties",keywords:["bien","propriété","immobilier"],icon:Ws},{name:"Locataires",section:"tenants",keywords:["locataire","tenant"],icon:yn},{name:"Documents",section:"documents",keywords:["document","contrat","bail","quittance"],icon:Et},{name:"Finances",section:"finances",keywords:["finance","argent","loyer","paiement"],icon:Xr},{name:"Tâches",section:"tasks",keywords:["tâche","todo","rappel"],icon:Et},{name:"Automatisations",section:"automations",keywords:["automatisation","auto"],icon:Et},{name:"Incidents",section:"incidents",keywords:["incident","problème","maintenance"],icon:Et},{name:"Activités",section:"activities",keywords:["activité","historique","log"],icon:Et},{name:"Paramètres",section:"settings",keywords:["paramètre","configuration","réglage"],icon:Et}].forEach(P=>{(P.name.toLowerCase().includes(F)||P.keywords.some(T=>T.includes(F)))&&I.push({type:"section",id:P.section,title:P.name,subtitle:"Section de l'application",icon:P.icon,action:()=>{e&&e(P.section),v(!1),m("")}})}),b(I.slice(0,8)),v(I.length>0)},w=()=>{m(""),b([]),v(!1)},j=k=>{switch(k){case"property":return"Bien";case"tenant":return"Locataire";case"section":return"Section";default:return k}};return s.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 max-w-lg",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:f,onChange:k=>N(k.target.value),onFocus:()=>f.length>=2&&v(!0),placeholder:"Rechercher un bien, locataire, document...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f&&s.jsx("button",{onClick:w,className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 hover:text-gray-600",children:s.jsx(sn,{className:"h-4 w-4"})}),h&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 max-h-96 overflow-y-auto",children:[x.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide border-b border-gray-100",children:"Résultats de recherche"}),x.map((k,I)=>{const F=k.icon;return s.jsxs("button",{onClick:k.action,className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(F,{className:"h-4 w-4 text-gray-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:k.title}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.subtitle})]}),s.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded-full",children:j(k.type)})]},`${k.type}-${k.id}-${I}`)})]}):s.jsxs("div",{className:"px-4 py-8 text-center",children:[s.jsx(fi,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucun résultat trouvé"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Essayez avec d'autres mots-clés"})]}),x.length>0&&s.jsx("div",{className:"border-t border-gray-100 px-4 py-2",children:s.jsxs("p",{className:"text-xs text-gray-500",children:[x.length," résultat(s) trouvé(s)"]})})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),s.jsxs("div",{className:"flex items-center space-x-4",children:[p&&s.jsx("button",{onClick:()=>A(!0),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Administration",children:s.jsx(ls,{className:"h-6 w-6"})}),s.jsx($U,{}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx($s,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[n?.first_name," ",n?.last_name]}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:n?.plan&&`Plan ${n?.plan}`})]}),s.jsx(D0,{className:"h-4 w-4 text-gray-400"})]}),l&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[s.jsx("button",{onClick:()=>{e&&e("settings"),c(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Mon profil"}),s.jsx("button",{onClick:()=>{e&&e("settings"),c(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Paramètres"}),s.jsx("button",{onClick:()=>{e&&e("settings"),c(!1)},className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Facturation"}),s.jsx("hr",{className:"my-2"}),s.jsxs("button",{onClick:y,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center",children:[s.jsx(b6,{className:"h-4 w-4 mr-2"}),"Se déconnecter"]})]})]})]})]}),p&&s.jsx(n9,{isOpen:u,onClose:()=>A(!1)})]})},Z_="easybail_activities_loaded",Tk=(r,e)=>{const[t,n]=Ae.useState([]),[i,a]=Ae.useState({total:0,unread:0,byType:{},byCategory:{},recent:0}),[o,l]=Ae.useState(!0),[c,u]=Ae.useState(null),[A,f]=Ae.useState(!1),m=()=>{l(!0),u(null),Promise.all([Fr.getActivities(r,e),Fr.getStats()]).then(([y,N])=>{if(y.error||N.error){const w=[{id:"1",type:"property",action:"created",title:"Nouveau bien ajouté",description:"Appartement Bastille a été ajouté à votre portefeuille",entityId:"1",entityType:"property",entityName:"Appartement Bastille",userId:"current-user",metadata:{type:"apartment",rent:1200,surface:45},priority:"medium",category:"success",createdAt:new Date("2024-11-28"),readAt:void 0},{id:"2",type:"tenant",action:"added",title:"Nouveau locataire",description:"Marie Martin a été ajoutée",entityId:"1",entityType:"tenant",entityName:"Marie Martin",userId:"current-user",metadata:{propertyId:"1",rent:1200,leaseStart:new Date("2023-09-01").toISOString()},priority:"medium",category:"success",createdAt:new Date("2024-11-25"),readAt:new Date("2024-11-25")},{id:"3",type:"document",action:"generated",title:"Quittance générée",description:"Quittance Novembre 2024 générée pour Marie Martin",entityId:"3",entityType:"document",entityName:"Quittance Novembre 2024",userId:"current-user",metadata:{propertyId:"1",propertyName:"Appartement Bastille",tenantId:"1",tenantName:"Marie Martin",amount:1350},priority:"low",category:"success",createdAt:new Date("2024-11-05"),readAt:void 0}];let j=[...w];r&&(r.type&&(j=j.filter(I=>I.type===r.type)),r.category&&(j=j.filter(I=>I.category===r.category)),r.entityType&&(j=j.filter(I=>I.entityType===r.entityType)),r.unreadOnly&&(j=j.filter(I=>!I.readAt)),r.dateRange&&(j=j.filter(I=>I.createdAt>=r.dateRange.start&&I.createdAt<=r.dateRange.end))),e&&(j=j.slice(0,e));const k={total:w.length,unread:w.filter(I=>!I.readAt).length,byType:{property:w.filter(I=>I.type==="property").length,tenant:w.filter(I=>I.type==="tenant").length,document:w.filter(I=>I.type==="document").length},byCategory:{success:w.filter(I=>I.category==="success").length,info:w.filter(I=>I.category==="info").length,warning:w.filter(I=>I.category==="warning").length,error:w.filter(I=>I.category==="error").length},recent:w.filter(I=>{const F=new Date;return F.setDate(F.getDate()-1),I.createdAt>=F}).length};n(j),a(k),u("Impossible de se connecter à la base de données. Affichage des données de démonstration.")}else n(y.data),a(N.data);l(!1),f(!0),localStorage.setItem(Z_,"true")}).catch(y=>{console.error("Erreur lors du chargement des activités:",y),u("Les tables de base de données ne sont pas encore configurées. Veuillez utiliser le menu d'administration pour configurer Supabase."),l(!1)})},h=async y=>{try{await Fr.addActivity(y),m()}catch(N){u(N instanceof Error?N.message:"Erreur lors de l'ajout de l'activité")}},v=y=>{try{Fr.markAsRead(y).then(()=>{m()})}catch(N){u(N instanceof Error?N.message:"Erreur lors du marquage comme lu")}},x=()=>{try{Fr.markAllAsRead().then(()=>{m()})}catch(y){u(y instanceof Error?y.message:"Erreur lors du marquage global comme lu")}},b=()=>{m()},p=(y=30)=>{try{let N=0;return Fr.cleanOldActivities(y).then(w=>{N=w,m()}),N}catch(N){return u(N instanceof Error?N.message:"Erreur lors du nettoyage des activités"),0}};return Ae.useEffect(()=>{!(localStorage.getItem(Z_)==="true")||!A?m():l(!1)},[r,e]),{activities:t,stats:i,loading:o,error:c,addActivity:h,markAsRead:v,markAllAsRead:x,refreshActivities:b,cleanOldActivities:p}},On={FLOWS:"easybail_financial_flows",CATEGORIES:"easybail_financial_categories",REPORTS:"easybail_financial_reports",BUDGETS:"easybail_financial_budgets",SETTINGS:"easybail_financial_settings"},eC=[{id:"cat_rent",name:"Loyer",type:"income",color:"#4CAF50",isDefault:!0,isSystem:!0},{id:"cat_charges",name:"Charges",type:"income",color:"#8BC34A",isDefault:!0,isSystem:!0},{id:"cat_deposit",name:"Dépôt de garantie",type:"income",color:"#CDDC39",isDefault:!0,isSystem:!0},{id:"cat_insurance",name:"Remboursement assurance",type:"income",color:"#FFEB3B",isDefault:!0,isSystem:!0},{id:"cat_subsidy",name:"Subventions",type:"income",color:"#FFC107",isDefault:!0,isSystem:!0},{id:"cat_other_income",name:"Autres revenus",type:"income",color:"#FF9800",isDefault:!0,isSystem:!0},{id:"cat_mortgage",name:"Crédit immobilier",type:"expense",color:"#F44336",isDefault:!0,isSystem:!0},{id:"cat_insurance_expense",name:"Assurance PNO",type:"expense",color:"#E91E63",isDefault:!0,isSystem:!0},{id:"cat_maintenance",name:"Entretien et réparations",type:"expense",color:"#9C27B0",isDefault:!0,isSystem:!0},{id:"cat_property_tax",name:"Taxe foncière",type:"expense",color:"#673AB7",isDefault:!0,isSystem:!0},{id:"cat_condo_fees",name:"Charges copropriété",type:"expense",color:"#3F51B5",isDefault:!0,isSystem:!0},{id:"cat_utilities",name:"Eau, électricité, gaz",type:"expense",color:"#2196F3",isDefault:!0,isSystem:!0},{id:"cat_management_fees",name:"Frais de gestion",type:"expense",color:"#03A9F4",isDefault:!0,isSystem:!0},{id:"cat_accounting",name:"Comptabilité",type:"expense",color:"#00BCD4",isDefault:!0,isSystem:!0},{id:"cat_legal",name:"Frais juridiques",type:"expense",color:"#009688",isDefault:!0,isSystem:!0},{id:"cat_other_expense",name:"Autres dépenses",type:"expense",color:"#607D8B",isDefault:!0,isSystem:!0}],o9=[{id:"flow_1",type:"income",category:"cat_rent",amount:1200,description:"Loyer Novembre 2024 - Appartement Bastille",date:new Date("2024-11-05"),propertyId:"1",propertyName:"Appartement Bastille",tenantId:"1",tenantName:"Marie Martin",recurring:!0,recurrenceFrequency:"monthly",status:"completed",paymentMethod:"bank_transfer",reference:"VIR-NOV2024-MM",createdAt:new Date("2024-11-05"),updatedAt:new Date("2024-11-05")},{id:"flow_2",type:"income",category:"cat_charges",amount:150,description:"Charges Novembre 2024 - Appartement Bastille",date:new Date("2024-11-05"),propertyId:"1",propertyName:"Appartement Bastille",tenantId:"1",tenantName:"Marie Martin",recurring:!0,recurrenceFrequency:"monthly",status:"completed",paymentMethod:"bank_transfer",reference:"VIR-CHARGES-NOV2024-MM",createdAt:new Date("2024-11-05"),updatedAt:new Date("2024-11-05")},{id:"flow_3",type:"expense",category:"cat_maintenance",amount:450,description:"Réparation plomberie - Studio Montmartre",date:new Date("2024-11-15"),propertyId:"2",propertyName:"Studio Montmartre",recurring:!1,status:"completed",paymentMethod:"bank_transfer",reference:"FAC-PLOMB-2024-11",notes:"Intervention d'urgence suite à une fuite",createdAt:new Date("2024-11-15"),updatedAt:new Date("2024-11-15")},{id:"flow_4",type:"expense",category:"cat_insurance_expense",amount:180,description:"Assurance PNO annuelle",date:new Date("2024-12-01"),recurring:!0,recurrenceFrequency:"yearly",status:"pending",paymentMethod:"direct_debit",reference:"ASS-PNO-2024",createdAt:new Date("2024-11-20"),updatedAt:new Date("2024-11-20")},{id:"flow_5",type:"income",category:"cat_rent",amount:2200,description:"Loyer Novembre 2024 - Maison Vincennes",date:new Date("2024-11-03"),propertyId:"3",propertyName:"Maison Vincennes",tenantId:"2",tenantName:"Pierre Dubois",recurring:!0,recurrenceFrequency:"monthly",status:"completed",paymentMethod:"bank_transfer",reference:"VIR-NOV2024-PD",createdAt:new Date("2024-11-03"),updatedAt:new Date("2024-11-03")},{id:"flow_6",type:"expense",category:"cat_property_tax",amount:1200,description:"Taxe foncière 2024 - Maison Vincennes",date:new Date("2024-10-15"),propertyId:"3",propertyName:"Maison Vincennes",recurring:!0,recurrenceFrequency:"yearly",status:"completed",paymentMethod:"bank_transfer",reference:"TAXE-FONC-2024-VIN",createdAt:new Date("2024-10-15"),updatedAt:new Date("2024-10-15")},{id:"flow_7",type:"expense",category:"cat_condo_fees",amount:320,description:"Charges copropriété T4 2024 - Appartement Bastille",date:new Date("2024-10-10"),propertyId:"1",propertyName:"Appartement Bastille",recurring:!0,recurrenceFrequency:"quarterly",status:"completed",paymentMethod:"direct_debit",reference:"COPRO-T4-2024-BAST",createdAt:new Date("2024-10-10"),updatedAt:new Date("2024-10-10")},{id:"flow_8",type:"expense",category:"cat_mortgage",amount:850,description:"Échéance prêt immobilier - Studio Montmartre",date:new Date("2024-11-05"),propertyId:"2",propertyName:"Studio Montmartre",recurring:!0,recurrenceFrequency:"monthly",status:"completed",paymentMethod:"direct_debit",reference:"PRET-NOV2024-MONT",createdAt:new Date("2024-11-05"),updatedAt:new Date("2024-11-05")},{id:"flow_9",type:"expense",category:"cat_utilities",amount:75,description:"Facture eau - Studio Montmartre",date:new Date("2024-11-20"),propertyId:"2",propertyName:"Studio Montmartre",recurring:!0,recurrenceFrequency:"quarterly",status:"completed",paymentMethod:"direct_debit",reference:"EAU-NOV2024-MONT",createdAt:new Date("2024-11-20"),updatedAt:new Date("2024-11-20")},{id:"flow_10",type:"income",category:"cat_deposit",amount:2400,description:"Dépôt de garantie - Appartement Bastille",date:new Date("2023-09-01"),propertyId:"1",propertyName:"Appartement Bastille",tenantId:"1",tenantName:"Marie Martin",recurring:!1,status:"completed",paymentMethod:"bank_transfer",reference:"DEP-2023-MM",createdAt:new Date("2023-09-01"),updatedAt:new Date("2023-09-01")}],i2={defaultCurrency:"EUR",defaultPaymentMethod:"bank_transfer",reminderSettings:{enableReminders:!0,daysBeforeDue:5,reminderFrequency:2},taxSettings:{fiscalYear:{start:{month:1,day:1},end:{month:12,day:31}},isVatRegistered:!1,propertyRegime:"micro_foncier"}};class l9{flows=[];categories=[];reports=[];budgets=[];settings;constructor(){this.initializeStorage(),this.flows=this.getFlows(),this.categories=this.getCategories(),this.reports=this.getReports(),this.budgets=this.getBudgets(),this.settings=this.getSettings()}initializeStorage(){localStorage.getItem(On.FLOWS)||localStorage.setItem(On.FLOWS,JSON.stringify(o9)),localStorage.getItem(On.CATEGORIES)||localStorage.setItem(On.CATEGORIES,JSON.stringify(eC)),localStorage.getItem(On.REPORTS)||localStorage.setItem(On.REPORTS,JSON.stringify([])),localStorage.getItem(On.BUDGETS)||localStorage.setItem(On.BUDGETS,JSON.stringify([])),localStorage.getItem(On.SETTINGS)||localStorage.setItem(On.SETTINGS,JSON.stringify(i2))}getFlows(){const e=localStorage.getItem(On.FLOWS);return e?JSON.parse(e).map(t=>({...t,date:new Date(t.date),recurrenceEndDate:t.recurrenceEndDate?new Date(t.recurrenceEndDate):void 0,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}saveFlows(){localStorage.setItem(On.FLOWS,JSON.stringify(this.flows))}async getAllFlows(){return this.flows}async getFlowById(e){return this.flows.find(t=>t.id===e)||null}async getFlowsByProperty(e){return this.flows.filter(t=>t.propertyId===e)}async getFlowsByTenant(e){return this.flows.filter(t=>t.tenantId===e)}async getFlowsByDateRange(e,t){return this.flows.filter(n=>n.date>=e&&n.date<=t)}async getFlowsByCategory(e){return this.flows.filter(t=>t.category===e)}async createFlow(e){try{const{data:n}=await Je.auth.getUser();if(n?.user){const i={user_id:n.user.id,property_id:e.propertyId||null,tenant_id:e.tenantId||null,category_id:e.category,type:e.type,amount:e.amount,description:e.description,date:e.date.toISOString().split("T")[0],recurring:e.recurring,recurrence_frequency:e.recurrenceFrequency||null,recurrence_end_date:e.recurrenceEndDate?.toISOString().split("T")[0]||null,status:e.status,payment_method:e.paymentMethod||null,reference:e.reference||null,attachments:e.attachments||null,tags:e.tags||null,notes:e.notes||null,metadata:{propertyName:e.propertyName,tenantName:e.tenantName}},{data:a,error:o}=await Je.from("financial_flows").insert(i).select().single();if(!o&&a){const l={id:a.id,type:a.type,category:a.category_id,amount:a.amount,description:a.description,date:new Date(a.date),propertyId:a.property_id||void 0,propertyName:a.metadata?.propertyName||void 0,tenantId:a.tenant_id||void 0,tenantName:a.metadata?.tenantName||void 0,recurring:a.recurring,recurrenceFrequency:a.recurrence_frequency,recurrenceEndDate:a.recurrence_end_date?new Date(a.recurrence_end_date):void 0,status:a.status,paymentMethod:a.payment_method,reference:a.reference||void 0,attachments:a.attachments||void 0,tags:a.tags||void 0,notes:a.notes||void 0,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)};this.flows.push(l),this.saveFlows();try{await Fr.addActivity({type:"payment",action:e.type==="income"?"received":"paid",title:e.type==="income"?"Revenu enregistré":"Dépense enregistrée",description:e.description,entityId:l.id,entityType:"payment",entityName:e.description,userId:n.user.id,metadata:{amount:e.amount,category:this.getCategoryNameById(e.category),property:e.propertyName,tenant:e.tenantName},priority:"medium",category:"success"})}catch(c){console.warn("Could not log financial flow activity:",c)}return l}}}catch(n){console.warn("Could not save to Supabase, using local storage:",n)}const t={...e,id:"flow_"+Math.random().toString(36).substring(2,11),createdAt:new Date,updatedAt:new Date};return this.flows.push(t),this.saveFlows(),t}async updateFlow(e,t){const n=this.flows.findIndex(a=>a.id===e);if(n===-1)throw new Error("Flux financier non trouvé");const i={...this.flows[n],...t,updatedAt:new Date};return this.flows[n]=i,this.saveFlows(),i}async deleteFlow(e){const t=this.flows.find(n=>n.id===e);if(!t)throw new Error("Flux financier non trouvé");this.flows=this.flows.filter(n=>n.id!==e),this.saveFlows(),Fr.addActivity({type:"payment",action:"deleted",title:"Flux financier supprimé",description:t.description,entityId:e,userId:"current-user",metadata:{amount:t.amount,type:t.type},priority:"low",category:"info"})}getCategories(){const e=localStorage.getItem(On.CATEGORIES);return e?JSON.parse(e):eC}saveCategories(){localStorage.setItem(On.CATEGORIES,JSON.stringify(this.categories))}async getAllCategories(){return this.categories}async getCategoriesByType(e){return this.categories.filter(t=>t.type===e)}async getCategoryById(e){return this.categories.find(t=>t.id===e)||null}getCategoryNameById(e){const t=this.categories.find(n=>n.id===e);return t?t.name:"Catégorie inconnue"}async createCategory(e){const t={...e,id:"cat_"+Math.random().toString(36).substring(2,11)};return this.categories.push(t),this.saveCategories(),t}async updateCategory(e,t){const n=this.categories.findIndex(a=>a.id===e);if(n===-1)throw new Error("Catégorie non trouvée");if(this.categories[n].isSystem)throw new Error("Impossible de modifier une catégorie système");const i={...this.categories[n],...t};return this.categories[n]=i,this.saveCategories(),i}async deleteCategory(e){const t=this.categories.find(i=>i.id===e);if(!t)throw new Error("Catégorie non trouvée");if(t.isSystem)throw new Error("Impossible de supprimer une catégorie système");if(this.flows.some(i=>i.category===e))throw new Error("Impossible de supprimer une catégorie utilisée par des flux financiers");this.categories=this.categories.filter(i=>i.id!==e),this.saveCategories()}getReports(){const e=localStorage.getItem(On.REPORTS);return e?JSON.parse(e).map(t=>({...t,startDate:new Date(t.startDate),endDate:new Date(t.endDate),createdAt:new Date(t.createdAt),generatedAt:t.generatedAt?new Date(t.generatedAt):void 0})):[]}saveReports(){localStorage.setItem(On.REPORTS,JSON.stringify(this.reports))}async getAllReports(){return this.reports}async getReportById(e){return this.reports.find(t=>t.id===e)||null}async createReport(e){const t={...e,id:"report_"+Math.random().toString(36).substring(2,11),createdAt:new Date};return this.reports.push(t),this.saveReports(),t}async generateReport(e){const t=this.reports.find(a=>a.id===e);if(!t)throw new Error("Rapport non trouvé");const n={...t,generatedAt:new Date,url:`https://example.com/reports/${e}.${t.format}`},i=this.reports.findIndex(a=>a.id===e);return this.reports[i]=n,this.saveReports(),Fr.addActivity({type:"payment",action:"report_generated",title:"Rapport financier généré",description:`Le rapport "${t.name}" a été généré`,entityId:e,userId:"current-user",metadata:{startDate:t.startDate.toISOString(),endDate:t.endDate.toISOString(),format:t.format},priority:"low",category:"success"}),n}async deleteReport(e){this.reports=this.reports.filter(t=>t.id!==e),this.saveReports()}getBudgets(){const e=localStorage.getItem(On.BUDGETS);return e?JSON.parse(e).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}saveBudgets(){localStorage.setItem(On.BUDGETS,JSON.stringify(this.budgets))}async getAllBudgets(){return this.budgets}async getBudgetById(e){return this.budgets.find(t=>t.id===e)||null}async createBudget(e){const t={...e,id:"budget_"+Math.random().toString(36).substring(2,11),createdAt:new Date,updatedAt:new Date};return this.budgets.push(t),this.saveBudgets(),t}async updateBudget(e,t){const n=this.budgets.findIndex(a=>a.id===e);if(n===-1)throw new Error("Budget non trouvé");const i={...this.budgets[n],...t,updatedAt:new Date};return this.budgets[n]=i,this.saveBudgets(),i}async deleteBudget(e){this.budgets=this.budgets.filter(t=>t.id!==e),this.saveBudgets()}getSettings(){const e=localStorage.getItem(On.SETTINGS);return e?JSON.parse(e):i2}saveSettings(){localStorage.setItem(On.SETTINGS,JSON.stringify(this.settings))}async getFinancialSettings(){return this.settings}async updateFinancialSettings(e){return this.settings={...this.settings,...e},this.saveSettings(),this.settings}async getDashboardData(e,t,n,i){const a=new Date,o=e||new Date(a.getFullYear(),a.getMonth(),1),l=t||new Date(a.getFullYear(),a.getMonth()+1,0);let c=this.flows.filter(N=>N.date>=o&&N.date<=l);n&&n!=="all"&&(c=c.filter(N=>N.type===n)),i&&i!=="all"&&(c=c.filter(N=>N.propertyId?this.getPropertyById(N.propertyId)?.type===i:!1));const u=c.filter(N=>N.type==="income"),A=c.filter(N=>N.type==="expense"),f=u.reduce((N,w)=>N+w.amount,0),m=A.reduce((N,w)=>N+w.amount,0),h={},v={};u.forEach(N=>{const w=this.getCategoryNameById(N.category);h[w]=(h[w]||0)+N.amount}),A.forEach(N=>{const w=this.getCategoryNameById(N.category);v[w]=(v[w]||0)+N.amount});const x=[];for(let N=5;N>=0;N--){const w=new Date(a.getFullYear(),a.getMonth()-N,1),j=w.toLocaleDateString("fr-FR",{month:"short",year:"numeric"}),k=new Date(w.getFullYear(),w.getMonth(),1),I=new Date(w.getFullYear(),w.getMonth()+1,0),F=this.flows.filter(T=>T.date>=k&&T.date<=I),C=F.filter(T=>T.type==="income").reduce((T,_)=>T+_.amount,0),P=F.filter(T=>T.type==="expense").reduce((T,_)=>T+_.amount,0);x.push({month:j,income:C,expense:P})}const b=[],p=new Map;c.forEach(N=>{if(N.propertyId&&N.propertyName){p.has(N.propertyId)||p.set(N.propertyId,{propertyId:N.propertyId,propertyName:N.propertyName,income:0,expense:0});const w=p.get(N.propertyId);N.type==="income"?w.income+=N.amount:w.expense+=N.amount}}),p.forEach(N=>{const w=N.income-N.expense,j=N.income*12*20,k=j>0?w*12/j*100:0;b.push({...N,netIncome:w,roi:k})});const y=this.flows.filter(N=>N.status==="pending").reduce((N,w)=>N+w.amount,0);return{totalIncome:f,totalExpense:m,netIncome:f-m,pendingAmount:y,incomeByCategory:h,expenseByCategory:v,monthlyTrend:x,propertyPerformance:b}}getPropertyById(e){return[{id:"1",type:"apartment",name:"Appartement Bastille"},{id:"2",type:"studio",name:"Studio Montmartre"},{id:"3",type:"house",name:"Maison Vincennes"}].find(n=>n.id===e)}async getFinancialStats(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0),i=this.flows.filter(F=>F.date>=t&&F.date<=n),a=i.filter(F=>F.type==="income").reduce((F,C)=>F+C.amount,0),o=i.filter(F=>F.type==="expense").reduce((F,C)=>F+C.amount,0),l=new Date(e.getFullYear(),e.getMonth()-1,1),c=new Date(e.getFullYear(),e.getMonth(),0),u=this.flows.filter(F=>F.date>=l&&F.date<=c),A=u.filter(F=>F.type==="income").reduce((F,C)=>F+C.amount,0),f=u.filter(F=>F.type==="expense").reduce((F,C)=>F+C.amount,0),m=new Date(e.getFullYear(),0,1),h=this.flows.filter(F=>F.date>=m&&F.date<=e),v=h.filter(F=>F.type==="income").reduce((F,C)=>F+C.amount,0),x=h.filter(F=>F.type==="expense").reduce((F,C)=>F+C.amount,0),b=this.flows.filter(F=>F.category==="cat_rent"&&F.type==="income"),p=new Set(b.map(F=>F.propertyId)).size,y=new Set(b.filter(F=>F.date.getMonth()===e.getMonth()&&F.date.getFullYear()===e.getFullYear()).map(F=>F.propertyId)).size,N=p>0?y/p*100:0,w=b.length>0?b.reduce((F,C)=>F+C.amount,0)/b.length:0,j=w*12*y,k=j*20,I=k>0?j/k*100:0;return{currentMonth:{income:a,expense:o,net:a-o},previousMonth:{income:A,expense:f,net:A-f},ytd:{income:v,expense:x,net:v-x},occupancyRate:N,averageRent:w,rentalYield:I}}async generateTaxReport(e){const t=new Date(e,0,1),n=new Date(e,11,31,23,59,59),i=this.flows.filter(f=>f.date>=t&&f.date<=n),a={},o={};i.forEach(f=>{const m=this.getCategoryNameById(f.category);f.type==="income"?a[m]=(a[m]||0)+f.amount:o[m]=(o[m]||0)+f.amount});const l=Object.values(a).reduce((f,m)=>f+m,0),c=Object.values(o).reduce((f,m)=>f+m,0),u=l-c,A=`https://example.com/tax-reports/${e}.pdf`;return Fr.addActivity({type:"payment",action:"tax_report_generated",title:"Rapport fiscal généré",description:`Rapport fiscal pour l'année ${e}`,userId:"current-user",metadata:{year:e,totalIncome:l,totalExpense:c,netIncome:u},priority:"medium",category:"success"}),A}async generateForecast(e){const t=new Date,n=[],i=this.flows.filter(a=>a.recurring);for(let a=0;a<e;a++){const o=new Date(t.getFullYear(),t.getMonth()+a,1),l=o.toLocaleDateString("fr-FR",{month:"short",year:"numeric"});let c=0,u=0;i.forEach(A=>{let f=!1;(A.recurrenceFrequency==="monthly"||A.recurrenceFrequency==="quarterly"&&a%3===0||A.recurrenceFrequency==="yearly"&&a%12===0)&&(f=!0),f&&A.recurrenceEndDate&&(f=o<=A.recurrenceEndDate),f&&(A.type==="income"?c+=A.amount:u+=A.amount)}),n.push({month:l,income:c,expense:u,net:c-u})}return n}}const yr=new l9,rf=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState([]),[i,a]=Ae.useState([]),[o,l]=Ae.useState([]),[c,u]=Ae.useState(null),[A,f]=Ae.useState(null),[m,h]=Ae.useState(null),[v,x]=Ae.useState(!0),[b,p]=Ae.useState(null);Ae.useEffect(()=>{y()},[]);const y=async()=>{try{x(!0),p(null);const z=await yr.getAllFlows(),D=await yr.getAllCategories(),H=await yr.getAllReports(),ne=await yr.getAllBudgets(),ue=await yr.getFinancialSettings(),le=await yr.getDashboardData(),he=await yr.getFinancialStats();e(z),n(D),a(H),l(ne),u(ue),f(le),h(he)}catch(z){p(z instanceof Error?z.message:"Une erreur est survenue lors du chargement des données"),console.error("Erreur lors du chargement des données financières:",z)}finally{x(!1)}},N=async z=>{try{p(null);const D=await yr.createFlow(z);return e(H=>[D,...H]),await ee(),D}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la création du flux"),D}},w=async(z,D)=>{try{p(null);const H=await yr.updateFlow(z,D);return e(ne=>ne.map(ue=>ue.id===z?H:ue)),await ee(),H}catch(H){throw p(H instanceof Error?H.message:"Erreur lors de la mise à jour du flux"),H}},j=async z=>{try{p(null),await yr.deleteFlow(z),e(D=>D.filter(H=>H.id!==z)),await ee()}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la suppression du flux"),D}},k=async z=>{try{return await yr.getFlowById(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la récupération du flux"),D}},I=async z=>{try{return await yr.getFlowsByProperty(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la récupération des flux"),D}},F=async z=>{try{return await yr.getFlowsByTenant(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la récupération des flux"),D}},C=async(z,D)=>{try{return await yr.getFlowsByDateRange(z,D)}catch(H){throw p(H instanceof Error?H.message:"Erreur lors de la récupération des flux"),H}},P=async z=>{try{return await yr.getFlowsByCategory(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la récupération des flux"),D}},T=async z=>{try{p(null);const D=await yr.createCategory(z);return n(H=>[...H,D]),D}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la création de la catégorie"),D}},_=async(z,D)=>{try{p(null);const H=await yr.updateCategory(z,D);return n(ne=>ne.map(ue=>ue.id===z?H:ue)),H}catch(H){throw p(H instanceof Error?H.message:"Erreur lors de la mise à jour de la catégorie"),H}},U=async z=>{try{p(null),await yr.deleteCategory(z),n(D=>D.filter(H=>H.id!==z))}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la suppression de la catégorie"),D}},S=async z=>{try{return await yr.getCategoriesByType(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la récupération des catégories"),D}},X=async z=>{try{p(null);const D=await yr.createReport(z);return a(H=>[...H,D]),D}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la création du rapport"),D}},ie=async z=>{try{p(null);const D=await yr.generateReport(z);return a(H=>H.map(ne=>ne.id===z?D:ne)),D}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la génération du rapport"),D}},Z=async z=>{try{p(null),await yr.deleteReport(z),a(D=>D.filter(H=>H.id!==z))}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la suppression du rapport"),D}},ce=async z=>{try{p(null);const D=await yr.createBudget(z);return l(H=>[...H,D]),D}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la création du budget"),D}},re=async(z,D)=>{try{p(null);const H=await yr.updateBudget(z,D);return l(ne=>ne.map(ue=>ue.id===z?H:ue)),H}catch(H){throw p(H instanceof Error?H.message:"Erreur lors de la mise à jour du budget"),H}},ae=async z=>{try{p(null),await yr.deleteBudget(z),l(D=>D.filter(H=>H.id!==z))}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la suppression du budget"),D}},M=async z=>{try{p(null);const D=await yr.updateFinancialSettings(z);return u(D),D}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la mise à jour des paramètres"),D}},L=async z=>{try{return p(null),await yr.generateTaxReport(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la génération du rapport fiscal"),D}},V=async z=>{try{return p(null),await yr.generateForecast(z)}catch(D){throw p(D instanceof Error?D.message:"Erreur lors de la génération des prévisions"),D}},K=async()=>{await y()},ee=async(z,D,H,ne)=>{try{const ue=await yr.getDashboardData(z,D,H,ne),le=await yr.getFinancialStats();f(ue),h(le)}catch(ue){throw p(ue instanceof Error?ue.message:"Erreur lors du rafraîchissement du tableau de bord"),ue}};return{flows:r,categories:t,reports:i,budgets:o,settings:c,dashboardData:A,stats:m,loading:v,error:b,createFlow:N,updateFlow:w,deleteFlow:j,getFlowById:k,getFlowsByProperty:I,getFlowsByTenant:F,getFlowsByDateRange:C,getFlowsByCategory:P,createCategory:T,updateCategory:_,deleteCategory:U,getCategoriesByType:S,createReport:X,generateReport:ie,deleteReport:Z,createBudget:ce,updateBudget:re,deleteBudget:ae,updateSettings:M,generateTaxReport:L,generateForecast:V,refreshData:K,refreshDashboard:ee}},tC="easybail_tasks_loaded",db="easybail_tasks",c9=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(null),[o,l]=Ae.useState(!1),c=[{id:"1",title:"Révision loyer annuelle",description:"Appliquer l'indice IRL pour la révision du loyer",dueDate:new Date("2024-12-15"),priority:"high",status:"pending",propertyId:"1",propertyName:"Appartement Bastille",category:"financial",createdAt:new Date("2024-11-15"),updatedAt:new Date("2024-11-15")},{id:"2",title:"Visite Studio Montmartre",description:"Visite avec potentiel locataire",dueDate:new Date("2024-12-18"),priority:"medium",status:"pending",propertyId:"2",propertyName:"Studio Montmartre",category:"visit",createdAt:new Date("2024-11-20"),updatedAt:new Date("2024-11-20")},{id:"3",title:"Entretien chaudière",description:"Maintenance annuelle de la chaudière",dueDate:new Date("2024-12-20"),priority:"low",status:"pending",propertyId:"3",propertyName:"Maison Vincennes",category:"maintenance",createdAt:new Date("2024-11-10"),updatedAt:new Date("2024-11-10")},{id:"4",title:"Renouvellement assurance PNO",description:"Renouveler le contrat d'assurance propriétaire non occupant",dueDate:new Date("2025-01-15"),priority:"high",status:"pending",category:"administrative",createdAt:new Date("2024-11-25"),updatedAt:new Date("2024-11-25")},{id:"5",title:"Paiement taxe foncière",description:"Payer la taxe foncière pour l'année en cours",dueDate:new Date("2024-11-15"),priority:"high",status:"completed",completedAt:new Date("2024-11-14"),category:"financial",createdAt:new Date("2024-10-15"),updatedAt:new Date("2024-11-14")}],u=()=>{n(!0),a(null);try{const x=localStorage.getItem(db);if(x){const b=JSON.parse(x).map(p=>({...p,dueDate:new Date(p.dueDate),createdAt:new Date(p.createdAt),updatedAt:new Date(p.updatedAt),completedAt:p.completedAt?new Date(p.completedAt):void 0}));e(b)}else e(c),localStorage.setItem(db,JSON.stringify(c));l(!0),localStorage.setItem(tC,"true")}catch(x){a("Erreur lors du chargement des tâches"),console.error("Error loading tasks:",x)}finally{n(!1)}},A=x=>{try{localStorage.setItem(db,JSON.stringify(x))}catch(b){console.error("Error saving tasks:",b)}},f=x=>{try{const p=[{...x,id:`task_${Date.now()}`,createdAt:new Date,updatedAt:new Date},...r];e(p),A(p)}catch(b){a("Erreur lors de l'ajout de la tâche"),console.error("Error adding task:",b)}},m=(x,b)=>{try{const p=r.map(y=>y.id===x?{...y,...b,updatedAt:new Date}:y);e(p),A(p)}catch(p){a("Erreur lors de la mise à jour de la tâche"),console.error("Error updating task:",p)}},h=x=>{try{const b=r.filter(p=>p.id!==x);e(b),A(b)}catch(b){a("Erreur lors de la suppression de la tâche"),console.error("Error deleting task:",b)}},v=x=>{try{const b=r.map(p=>p.id===x?{...p,status:"completed",completedAt:new Date,updatedAt:new Date}:p);e(b),A(b)}catch(b){a("Erreur lors du marquage de la tâche comme terminée"),console.error("Error completing task:",b)}};return Ae.useEffect(()=>{!(localStorage.getItem(tC)==="true")||!o?u():n(!1)},[]),{tasks:r,loading:t,error:i,addTask:f,updateTask:m,deleteTask:h,completeTask:v}},rC="easybail_document_templates",Lr={landlord:{landlordName:{id:"landlordName",name:"landlordName",label:"Nom du bailleur",type:"text",required:!0,placeholder:"Jean Dupont"},landlordAddress:{id:"landlordAddress",name:"landlordAddress",label:"Adresse du bailleur",type:"textarea",required:!0,placeholder:"123 rue de la Paix, 75001 Paris"}},tenant:{tenantName:{id:"tenantName",name:"tenantName",label:"Nom du locataire",type:"text",required:!0,placeholder:"Marie Martin"},tenantAddress:{id:"tenantAddress",name:"tenantAddress",label:"Adresse du locataire",type:"textarea",required:!0,placeholder:"456 avenue des Champs, 75008 Paris"}},property:{propertyAddress:{id:"propertyAddress",name:"propertyAddress",label:"Adresse du bien",type:"textarea",required:!0,placeholder:"15 rue de la Roquette, 75011 Paris"},propertyType:{id:"propertyType",name:"propertyType",label:"Type de bien",type:"select",required:!0,options:["Appartement","Maison","Studio","Local commercial","Parking"]},surface:{id:"surface",name:"surface",label:"Surface (m²)",type:"number",required:!0,validation:{min:1,max:1e4}},rooms:{id:"rooms",name:"rooms",label:"Nombre de pièces",type:"number",required:!0,validation:{min:1,max:20}}},financial:{rent:{id:"rent",name:"rent",label:"Loyer mensuel (€)",type:"number",required:!0,validation:{min:0}},charges:{id:"charges",name:"charges",label:"Charges mensuelles (€)",type:"number",required:!1,validation:{min:0}},deposit:{id:"deposit",name:"deposit",label:"Dépôt de garantie (€)",type:"number",required:!0,validation:{min:0}}},dates:{leaseStart:{id:"leaseStart",name:"leaseStart",label:"Date de début du bail",type:"date",required:!0},documentDate:{id:"documentDate",name:"documentDate",label:"Date du document",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]}}},Ab=[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Contrat de bail",type:"lease",category:"rental_start",description:"Contrat de location conforme à la loi du 6 juillet 1989 et loi ALUR",isRequired:!0,legalCompliance:["Loi du 6 juillet 1989","Loi ALUR","Décret n°87-713","Code civil"],fields:[Lr.landlord.landlordName,Lr.landlord.landlordAddress,{id:"landlordBirthDate",name:"landlordBirthDate",label:"Date de naissance du bailleur",type:"date",required:!0},{id:"landlordBirthPlace",name:"landlordBirthPlace",label:"Lieu de naissance du bailleur",type:"text",required:!0,placeholder:"Paris (75)"},Lr.tenant.tenantName,Lr.tenant.tenantAddress,{id:"tenantBirthDate",name:"tenantBirthDate",label:"Date de naissance du locataire",type:"date",required:!0},{id:"tenantBirthPlace",name:"tenantBirthPlace",label:"Lieu de naissance du locataire",type:"text",required:!0,placeholder:"Lyon (69)"},{id:"tenantProfession",name:"tenantProfession",label:"Profession du locataire",type:"text",required:!0,placeholder:"Employé(e)"},Lr.property.propertyAddress,Lr.property.propertyType,Lr.property.surface,Lr.property.rooms,{id:"propertyFloor",name:"propertyFloor",label:"Étage",type:"text",required:!1,placeholder:"2ème étage"},{id:"propertyBuilding",name:"propertyBuilding",label:"Bâtiment/Escalier",type:"text",required:!1,placeholder:"Bâtiment A, Escalier B"},{id:"propertyLot",name:"propertyLot",label:"Numéro de lot (copropriété)",type:"text",required:!1,placeholder:"Lot n°15"},{id:"propertyDPE",name:"propertyDPE",label:"Classe énergétique (DPE)",type:"select",required:!0,options:["A","B","C","D","E","F","G"]},{id:"propertyGES",name:"propertyGES",label:"Émissions de GES",type:"select",required:!0,options:["A","B","C","D","E","F","G"]},Lr.financial.rent,Lr.financial.charges,Lr.financial.deposit,{id:"chargesDetails",name:"chargesDetails",label:"Détail des charges",type:"textarea",required:!0,placeholder:"Eau froide, eau chaude, chauffage collectif, entretien parties communes, ascenseur..."},Lr.dates.leaseStart,{id:"leaseDuration",name:"leaseDuration",label:"Durée du bail",type:"select",required:!0,options:["3 ans (résidence principale)","1 an (meublé)","9 mois (étudiant)","Autre"]},{id:"furnished",name:"furnished",label:"Logement meublé",type:"checkbox",required:!1},{id:"inventoryDate",name:"inventoryDate",label:"Date de l'état des lieux d'entrée",type:"date",required:!0},{id:"keyHandover",name:"keyHandover",label:"Nombre de clés remises",type:"number",required:!0,validation:{min:1,max:10}},{id:"insuranceRequired",name:"insuranceRequired",label:"Assurance habitation obligatoire",type:"checkbox",required:!1,defaultValue:!0},{id:"guarantor",name:"guarantor",label:"Caution solidaire",type:"checkbox",required:!1},{id:"guarantorName",name:"guarantorName",label:"Nom de la caution",type:"text",required:!1,dependsOn:"guarantor",placeholder:"Nom et prénom de la caution"},{id:"revisionClause",name:"revisionClause",label:"Clause de révision annuelle",type:"checkbox",required:!1,defaultValue:!0},{id:"solidarityClause",name:"solidarityClause",label:"Clause de solidarité (colocataires)",type:"checkbox",required:!1}],content:`
      <style>
        body { font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.4; margin: 2cm; }
        * { box-sizing: border-box; }
        .document-header { text-align: center; margin-bottom: 20px; border-bottom: 1px solid #000; padding-bottom: 10px; page-break-inside: avoid; }
        .document-title { font-size: 18pt; font-weight: bold; margin-bottom: 10px; text-transform: uppercase; text-align: center; page-break-after: avoid; }
        .legal-reference { font-size: 10pt; font-style: italic; margin-bottom: 20px; color: #444; page-break-inside: avoid; }
        .section-title { font-size: 14pt; font-weight: bold; margin: 20px 0 10px 0; text-transform: uppercase; border-bottom: 1px solid #000; padding-bottom: 5px; page-break-after: avoid; }
        .article-title { font-size: 12pt; font-weight: bold; margin: 15px 0 8px 0; text-decoration: underline; page-break-after: avoid; }
        .article-content { margin-bottom: 12px; text-align: justify; line-height: 1.5; page-break-inside: avoid; }
        .parties { margin: 20px 0; page-break-inside: avoid; }
        .party-info { margin: 12px 0; padding: 12px; border: 1px solid #ccc; background-color: #f9f9f9; border-radius: 5px; page-break-inside: avoid; }
        .signature-area { border: 1px solid #000; height: 80px; margin: 12px 0; text-align: center; padding-top: 30px; page-break-inside: avoid; }
        .signature-block { width: 45%; display: inline-block; margin: 20px 2.5%; vertical-align: top; page-break-inside: avoid; }
        .financial-table { width: 100%; border-collapse: collapse; margin: 12px 0; page-break-inside: avoid; }
        .financial-table td, .financial-table th { border: 1px solid #000; padding: 10px; text-align: left; }
        .financial-table th { background-color: #f0f0f0; font-weight: bold; }
        .financial-table tr.total { font-weight: bold; background-color: #f0f0f0; }
        .important { font-weight: bold; color: #000; }
        .legal-notice { font-size: 10pt; font-style: italic; margin: 15px 0; padding: 12px; border: 1px solid #ccc; background-color: #f9f9f9; border-radius: 5px; page-break-inside: avoid; }
        .signature-block { width: 45%; display: inline-block; margin: 20px 2.5%; vertical-align: top; page-break-inside: avoid; word-wrap: break-word; }
        .page-break { page-break-after: always; height: 0; display: block; }
        @media screen {
          .page-break {
            border-top: 1px dashed #ccc;
            margin: 20px 0;
            position: relative;
          }
          .page-break::before {
            content: "Saut de page";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #f0f0f0;
            padding: 0 10px;
            font-size: 10px;
            color: #999;
          }
        }
      </style>
      
      <div class="document-header">
        <div class="document-title">CONTRAT DE BAIL D'HABITATION</div>
        <div class="legal-reference">
          Conforme à la loi n°89-462 du 6 juillet 1989 tendant à améliorer les rapports locatifs<br>
          et portant modification de la loi n°86-1290 du 23 décembre 1986<br>
          Loi ALUR n°2014-366 du 24 mars 2014
        </div>
      </div>
      
      <div class="section-title">DÉSIGNATION DES PARTIES</div>
      
      <div class="parties">
        <div class="party-info">
          <div class="article-title">LE BAILLEUR</div>
          <p><strong>Nom et prénom :</strong> {{landlordName}}</p>
          <p><strong>Né(e) le :</strong> {{landlordBirthDate}} <strong>à :</strong> {{landlordBirthPlace}}</p>
          <p><strong>Demeurant :</strong> {{landlordAddress}}</p>
        </div>
        
        <div class="party-info">
          <div class="article-title">LE LOCATAIRE</div>
          <p><strong>Nom et prénom :</strong> {{tenantName}}</p>
          <p><strong>Né(e) le :</strong> {{tenantBirthDate}} <strong>à :</strong> {{tenantBirthPlace}}</p>
          <p><strong>Profession :</strong> {{tenantProfession}}</p>
          <p><strong>Demeurant :</strong> {{tenantAddress}}</p>
        </div>
      </div>
      
      {{#if guarantor}}
      <div class="party-info">
        <div class="article-title">LA CAUTION SOLIDAIRE</div>
        <p><strong>Nom et prénom :</strong> {{guarantorName}}</p>
        <p><strong>Né(e) le :</strong> _________________ <strong>à :</strong> _________________</p>
        <p><strong>Demeurant :</strong> _________________</p>
      </div>
      {{/if}}
      
      <div class="section-title">ARTICLE 1 - OBJET ET DESTINATION DU BAIL</div>
      <div class="article-content">
        Le bailleur donne à bail au locataire qui accepte, un logement à usage d'<span class="important">habitation principale</span> {{#if furnished}}meublé{{/if}}, situé :
      </div>
      
      <div class="party-info">
        <p><strong>Adresse :</strong> {{propertyAddress}}</p>
        {{#if propertyFloor}}<p><strong>Étage :</strong> {{propertyFloor}}</p>{{/if}}
        {{#if propertyBuilding}}<p><strong>Bâtiment/Escalier :</strong> {{propertyBuilding}}</p>{{/if}}
        {{#if propertyLot}}<p><strong>Lot de copropriété :</strong> {{propertyLot}}</p>{{/if}}
        <p><strong>Type de logement :</strong> {{propertyType}}</p>
        <p><strong>Nombre de pièces principales :</strong> {{rooms}}</p>
        <p><strong>Surface habitable :</strong> {{surface}} m² (loi Carrez)</p>
      </div>
      
      <div class="section-title">ARTICLE 2 - DURÉE DU BAIL</div>
      <div class="article-content">
        Le présent bail est consenti pour une durée de <span class="important">{{leaseDuration}}</span>, 
        prenant effet le <span class="important">{{leaseStart}}</span>.
        <br><br>
        À défaut de congé donné par l'une ou l'autre des parties dans les conditions prévues par la loi, 
        le bail sera reconduit tacitement pour la même durée.
      </div>
      
      <div class="section-title">ARTICLE 3 - LOYER ET CHARGES</div>
      <div class="article-content">
        <table class="financial-table">
          <tr>
            <th>Désignation</th>
            <th>Montant mensuel</th>
          </tr>
          <tr>
            <td>Loyer principal</td>
            <td>{{rent}} €</td>
          </tr>
          <tr>
            <td>Charges locatives</td>
            <td>{{charges}} €</td>
          </tr>
          <tr class="total">
            <td>TOTAL</td>
            <td>{{total}} €</td>
          </tr>
        </table>
        
        <p><strong>Détail des charges :</strong> {{chargesDetails}}</p>
        
        <p>Le loyer est payable mensuellement et d'avance, le 1er de chaque mois, 
        au domicile du bailleur ou à l'adresse qu'il indiquera.</p>
        
        {{#if revisionClause}}
        <p><strong>Révision du loyer :</strong> Le loyer pourra être révisé chaque année à la date anniversaire 
        du contrat en fonction de la variation de l'indice de référence des loyers (IRL) publié par l'INSEE.</p>
        {{/if}}
      </div>
      
      <div class="section-title">ARTICLE 4 - DÉPÔT DE GARANTIE</div>
      <div class="article-content">
        <p>Il est versé ce jour par le locataire un dépôt de garantie de <span class="important">{{deposit}} €</span>, 
        correspondant à {{#if furnished}}deux mois{{else}}un mois{{/if}} de loyer hors charges.</p>
        <p>Ce dépôt ne portera pas intérêt au bénéfice du LOCATAIRE et ne sera pas révisable pendant la durée du contrat.</p>
        <p>Ce dépôt sera restitué dans un délai maximum d'<span class="important">un mois</span> à compter de la restitution des clés par le LOCATAIRE, 
        déduction faite, le cas échéant, des sommes restant dues au BAILLEUR et des sommes dont celui-ci pourrait être tenu aux lieu et place du LOCATAIRE, 
        sous réserve qu'elles soient dûment justifiées.</p>
        <p>Ce délai est porté à <span class="important">deux mois</span> lorsque l'état des lieux de sortie révèle des dégradations imputables au LOCATAIRE.</p>
      </div>

      <div class="section-title">ARTICLE 5 - ÉTAT DES LIEUX</div>
      <div class="article-content">
        Un état des lieux d'entrée sera établi le <span class="important">{{inventoryDate}}</span> 
        contradictoirement entre les parties ou par un tiers mandaté.
        <br><br>
        Un état des lieux de sortie sera établi lors de la restitution des clés dans les mêmes conditions.
        <br><br>
        <strong>Remise des clés :</strong> {{keyHandover}} clé(s) sont remises au locataire.
      </div>
      
      <div class="section-title">ARTICLE 6 - OBLIGATIONS DU LOCATAIRE</div>
      <div class="article-content">
        Le locataire s'engage notamment à :
        <ul style="list-style-type: disc; padding-left: 20px;">
          <li>Payer le loyer et les charges aux termes convenus.</li>
          <li>User paisiblement du logement suivant sa destination.</li>
          <li>Répondre des dégradations et pertes survenues pendant la durée du bail.</li>
          <li>Prendre à sa charge l'entretien courant du logement et des équipements mentionnés au contrat.</li>
          <li>Ne pas transformer les lieux sans accord écrit du bailleur.</li>
          {{#if insuranceRequired}}
          <li><span class="important">Souscrire une assurance habitation</span> et en justifier chaque année à la date anniversaire du contrat.</li>
          {{/if}}
          <li>Laisser exécuter les travaux d'amélioration des parties communes ou des parties privatives du même immeuble.</li>
          <li>Laisser visiter le logement en cas de vente ou relocation (2 heures par jour pendant les jours ouvrables).</li>
          <li>Respecter le règlement de copropriété de l'immeuble s'il existe.</li>
        </ul>
      </div>
      
      <div class="section-title">ARTICLE 7 - OBLIGATIONS DU BAILLEUR</div>
      <div class="article-content">
        Le bailleur s'engage notamment à :
        <ul style="list-style-type: disc; padding-left: 20px; margin-top: 10px; margin-bottom: 10px;">
          <li>Délivrer un logement en bon état d'usage et de réparation ainsi que les équipements mentionnés au contrat en bon état de fonctionnement.</li>
          <li>Assurer la jouissance paisible du logement et garantir le locataire contre les vices ou défauts qui en empêchent l'usage.</li>
          <li>Entretenir les locaux en état de servir à l'usage prévu par le contrat et y faire toutes les réparations nécessaires autres que locatives.</li>
          <li>Ne pas s'opposer aux aménagements réalisés par le locataire, dès lors que ceux-ci ne constituent pas une transformation de la chose louée.</li>
          <li>Remettre gratuitement une quittance au locataire qui en fait la demande.</li>
        </ul>
      </div>
      
      <div class="section-title">ARTICLE 8 - PERFORMANCE ÉNERGÉTIQUE</div>
      <div class="article-content">
        <p><strong>Classe énergétique (DPE) :</strong> {{propertyDPE}}</p>
        <p><strong>Émissions de gaz à effet de serre (GES) :</strong> {{propertyGES}}</p>
        
        <div class="legal-notice">
          Les informations sur les risques auxquels ce bien est exposé sont disponibles 
          sur le site Géorisques : www.georisques.gouv.fr
        </div>
      </div>
      
      {{#if solidarityClause}}
      <div class="section-title">ARTICLE 9 - CLAUSE DE SOLIDARITÉ</div>
      <div class="article-content">
        En cas de pluralité de locataires, ceux-ci sont tenus solidairement au paiement 
        du loyer et des charges, ainsi qu'à l'exécution de toutes les obligations du bail.
      </div>
      {{/if}}
      
      <div class="section-title">ARTICLE 10 - RÉSILIATION</div>
      <div class="article-content">
        <p><strong>Congé donné par le locataire :</strong> Le locataire peut résilier le bail à tout moment en respectant un préavis de trois mois 
        (réduit à un mois pour les logements situés en zone tendue, les logements meublés, ou en cas de mutation professionnelle, perte d'emploi, nouvel emploi consécutif à une perte d'emploi, état de santé justifiant un changement de domicile, bénéficiaire du RSA ou de l'AAH).</p>
        <p><strong>Congé donné par le bailleur :</strong> Le bailleur ne peut donner congé qu'à l'échéance du bail et uniquement pour l'un des motifs suivants : reprise du logement pour l'habiter lui-même ou y loger un proche, vente du logement, ou motif légitime et sérieux (notamment inexécution par le locataire de l'une des obligations lui incombant). Le délai de préavis est de six mois.</p>
      </div>
      
      <div class="section-title">ARTICLE 11 - CLAUSE RÉSOLUTOIRE</div>
      <div class="article-content">
        <p>Le présent contrat sera RÉSILIÉ IMMÉDIATEMENT ET DE PLEIN DROIT, c'est-à-dire sans qu'il soit besoin de faire ordonner cette résolution en justice :</p>
        <ul style="list-style-type: disc; padding-left: 20px;">
          <li>Deux mois après un commandement demeuré infructueux à défaut de paiement aux termes convenus de tout ou partie du loyer et des charges dûment justifiées.</li>
          <li>Un mois après un commandement demeuré infructueux à défaut d'assurance des risques locatifs.</li>
          <li>Un mois après un commandement demeuré infructueux en cas de non-respect de l'obligation d'user paisiblement des locaux loués.</li>
        </ul>
      </div>
      
      <div class="section-title">ARTICLE 12 - ÉLECTION DE DOMICILE</div>
      <div class="article-content">
        <p>Pour l'exécution du présent contrat, le bailleur élit domicile à son domicile et le locataire dans les lieux loués.</p>
      </div>
      
      <div class="page-break"></div>
      
      <div class="legal-notice">
        <strong>INFORMATION IMPORTANTE :</strong> Le présent contrat est soumis aux dispositions 
        de la loi n°89-462 du 6 juillet 1989. En cas de litige, les parties peuvent saisir 
        la commission départementale de conciliation avant toute saisine du tribunal judiciaire compétent.
      </div>
      
      <div style="margin-top: 50px;">
        <p><strong>Fait à :</strong> _________________________ <strong>Le :</strong> {{documentDate}}</p>
        <p><strong>En deux exemplaires originaux dont un remis à chacune des parties qui le reconnaît.</strong></p>
                
        <div style="margin-top: 30px;">
          <div class="signature-block">
            <p><strong>LE BAILLEUR</strong></p>
            <p>(Signature précédée de la mention "Lu et approuvé")</p>
            <div class="signature-area">Lu et approuvé</div>
          </div>
          <div class="signature-block">
            <p><strong>LE LOCATAIRE</strong></p>
            <p>(Signature précédée de la mention "Lu et approuvé")</p>
            <div class="signature-area">Lu et approuvé</div>
          </div>
          {{#if guarantor}}
          <div class="signature-block" style="width: 100%; margin-top: 20px;">
            <p><strong>LA CAUTION</strong></p>
            <p>(Signature précédée de la mention manuscrite "Lu et approuvé - Bon pour caution solidaire")</p>
            <div class="signature-area">Lu et approuvé - Bon pour caution solidaire</div>
          </div>
          {{/if}}
        </div>
      </div>
    `,createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440002",name:"État des lieux",type:"inventory",category:"rental_start",description:"État des lieux d'entrée ou de sortie",isRequired:!0,legalCompliance:["Loi du 6 juillet 1989","Décret n°2016-382"],fields:[Lr.landlord.landlordName,Lr.tenant.tenantName,Lr.property.propertyAddress,Lr.dates.documentDate,{id:"inventoryType",name:"inventoryType",label:"Type d'état des lieux",type:"select",required:!0,options:["Entrée","Sortie"]},{id:"rooms_details",name:"rooms_details",label:"Détail des pièces",type:"textarea",required:!0,placeholder:"Décrire l'état de chaque pièce..."}],content:`
      <div class="document-header">
        <h1>ÉTAT DES LIEUX {{inventoryType}}</h1>
        <p>Date : {{documentDate}}</p>
      </div>
      
      <div class="parties">
        <p><strong>Bailleur :</strong> {{landlordName}}</p>
        <p><strong>Locataire :</strong> {{tenantName}}</p>
        <p><strong>Bien :</strong> {{propertyAddress}}</p>
      </div>
      
      <div class="inventory-details">
        <h2>DESCRIPTION DE L'ÉTAT DU LOGEMENT :</h2>
        <div class="rooms-description">{{rooms_details}}</div>
      </div>
      
      <div class="signatures">
        <div class="signature-block">
          <p>Le Bailleur</p>
          <div class="signature-area"></div>
        </div>
        <div class="signature-block">
          <p>Le Locataire</p>
          <div class="signature-area"></div>
        </div>
      </div>
    `,createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440003",name:"Quittance de loyer mensuelle",type:"receipt",category:"financial",description:"Quittance mensuelle de loyer",isRequired:!1,legalCompliance:["Article 21 de la loi du 6 juillet 1989"],fields:[Lr.landlord.landlordName,Lr.landlord.landlordAddress,Lr.tenant.tenantName,Lr.property.propertyAddress,Lr.financial.rent,Lr.financial.charges,{id:"period",name:"period",label:"Période",type:"text",required:!0,placeholder:"Janvier 2024"},{id:"paymentDate",name:"paymentDate",label:"Date de paiement",type:"date",required:!0}],content:`
      <style>
        body { font-family: 'Times New Roman', serif; font-size: 12pt; line-height: 1.4; margin: 2cm; }
        * { box-sizing: border-box; }
        .document-header { text-align: center; margin-bottom: 20px; }
        .document-title { font-size: 18pt; font-weight: bold; margin-bottom: 10px; text-transform: uppercase; text-align: center; }
        .document-period { font-size: 14pt; margin-bottom: 20px; text-align: center; }
        .landlord-info { margin: 20px 0; }
        .receipt-content { margin: 30px 0; }
        .financial-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .financial-table td, .financial-table th { border: 1px solid #000; padding: 10px; text-align: left; }
        .financial-table tr.total { font-weight: bold; background-color: #f0f0f0; }
        .signature-area { margin-top: 50px; text-align: right; }
        .signature-block { width: 45%; display: inline-block; margin-left: auto; text-align: center; }
        .signature-line { border-top: 1px solid #000; margin-top: 50px; width: 100%; }
        .page-break { page-break-after: always; height: 0; display: block; }
      </style>
      
      <div class="document-header">
        <div class="document-title">QUITTANCE DE LOYER</div>
        <div class="document-period">Période : {{period}}</div>
      </div>
      
      <div class="landlord-info">
        <p><strong>{{landlordName}}</strong><br>{{landlordAddress}}</p>
      </div>
      
      <div class="receipt-content">
        <p>Je soussigné(e) <strong>{{landlordName}}</strong>, propriétaire du logement situé :</p>
        <p><strong>{{propertyAddress}}</strong></p>
        
        <p>Reconnais avoir reçu de <strong>{{tenantName}}</strong> la somme de <strong>{{total}} euros</strong> ({{total}} €) pour le paiement du loyer et des charges de la période <strong>{{period}}</strong>, soit :</p>
        
        <table class="financial-table">
          <tr>
            <th>Désignation</th>
            <th>Montant mensuel</th>
          </tr>
          <tr>
            <td>Loyer principal</td>
            <td>{{rent}} €</td>
          </tr>
          <tr>
            <td>Charges locatives</td>
            <td>{{charges}} €</td>
          </tr>
          <tr class="total">
            <td>TOTAL</td>
            <td>{{total}} €</td>
          </tr>
        </table>
        
        <p>Paiement effectué le : <strong>{{paymentDate}}</strong></p>
        
        <p>Pour la période de location du <strong>01/{{period}}</strong> au <strong>31/{{period}}</strong>.</p>
        
        <p>Cette quittance annule tous les reçus qui auraient pu être établis précédemment en cas de paiement partiel du montant ci-dessus.</p>
        
        <p>En conséquence, le propriétaire donne quittance, sous réserve d'encaissement, de la somme ci-dessus au locataire.</p>
      </div>
      
      <div class="signature-area">
        <p>Fait le {{documentDate}}</p>
        <div class="signature-block">
          <p>Signature du bailleur</p>
          <div class="signature-line"></div>
          <p>{{landlordName}}</p>
        </div>
      </div>
    `,createdAt:new Date,updatedAt:new Date},{id:"550e8400-e29b-41d4-a716-446655440004",name:"Préavis de départ",type:"notice",category:"rental_end",description:"Lettre de préavis du locataire",isRequired:!1,legalCompliance:["Article 15 de la loi du 6 juillet 1989"],fields:[Lr.tenant.tenantName,Lr.tenant.tenantAddress,Lr.landlord.landlordName,Lr.landlord.landlordAddress,Lr.property.propertyAddress,{id:"noticeDate",name:"noticeDate",label:"Date de remise du préavis",type:"date",required:!0},{id:"departureDate",name:"departureDate",label:"Date de départ souhaitée",type:"date",required:!0}],content:`
      <div class="letter-header">
        <div class="sender">
          {{tenantName}}<br>
          {{tenantAddress}}
        </div>
        <div class="recipient">
          {{landlordName}}<br>
          {{landlordAddress}}
        </div>
      </div>
      
      <div class="letter-content">
        <p><strong>Objet : Préavis de départ</strong></p>
        <p>Lettre recommandée avec accusé de réception</p>
        
        <p>Madame, Monsieur,</p>
        
        <p>J'ai l'honneur de vous informer que je souhaite résilier le bail du logement que j'occupe situé :</p>
        <p><strong>{{propertyAddress}}</strong></p>
        
        <p>Conformément aux dispositions de l'article 15 de la loi du 6 juillet 1989, je vous donne par la présente mon préavis de départ.</p>
        
        <p>La date de remise de ce préavis étant le {{noticeDate}}, je quitterai définitivement les lieux le {{departureDate}}.</p>
        
        <p>Je vous prie d'agréer, Madame, Monsieur, l'expression de mes salutations distinguées.</p>
        
        <div class="signature">
          <p>Fait le {{documentDate}}</p>
          <div class="signature-block">
            <p>{{tenantName}}</p>
            <div class="signature-area"></div>
          </div>
        </div>
      </div>
    `,createdAt:new Date,updatedAt:new Date}],u9=()=>{const r=localStorage.getItem(rC);if(!r)return localStorage.setItem(rC,JSON.stringify(Ab)),Ab;try{return JSON.parse(r).map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}))}catch(e){return console.error("Erreur lors de la récupération des templates:",e),Ab}},D5=u9(),Pf=r=>D5.find(e=>e.id===r);class d9{bucketName="documents";bucketInitialized=!1;async getCurrentUserId(){try{const{data:{user:e}}=await Je.auth.getUser();return e?.id||null}catch(e){return console.error("Error getting current user:",e),null}}async initializeBucket(){if(this.bucketInitialized)return!0;try{const e="https://knkutxcpjrpcpeicibnf.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtua3V0eGNwanJwY3BlaWNpYm5mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyNzA2MjEsImV4cCI6MjA2ODg0NjYyMX0.zz6Ey1u-6qB7bG7aln41l-vvyNJlCEABaDCgbs3jB9g";if(!(e&&t&&!e.includes("your-project-id")&&!t.includes("your-anon-key")))return console.warn("Supabase not configured. Using localStorage fallback."),!1;try{const a=`${e}/functions/v1/create-bucket`,o=await fetch(a,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(o.ok){const l=await o.json();return console.log("Bucket creation result:",l),this.bucketInitialized=!0,!0}else return console.warn("Failed to call create-bucket function:",o.status),!1}catch(a){return console.warn("Error calling create-bucket function:",a),!1}try{const{error:a}=await Je.storage.createBucket(this.bucketName,{public:!1,allowedMimeTypes:["application/json","text/html","application/pdf"],fileSizeLimit:10485760});a&&!a.message.includes("already exists")&&console.warn("Error creating bucket:",a)}catch(a){console.warn("Error creating bucket:",a)}const{error:i}=await Je.storage.from(this.bucketName).list("",{limit:1});return i?(console.warn("Could not access bucket:",i),!1):(this.bucketInitialized=!0,!0)}catch(e){return console.error("Error initializing bucket:",e),!1}}async saveDocument(e){try{if(await this.initializeBucket())try{const i=await this.getCurrentUserId();if(!i)throw new Error("User not authenticated");const a={...e};a.metadata.pdfData&&(a.metadata={...a.metadata},delete a.metadata.pdfData);const o=JSON.stringify(a),l=`${i}/${e.id}.json`,{error:c}=await Je.storage.from(this.bucketName).upload(l,o,{contentType:"application/json",upsert:!0});if(c)console.warn("Failed to save to Supabase:",c);else return console.log("Document saved to Supabase successfully"),await Pn.saveDocument(e),e}catch(i){console.warn("Error saving to Supabase:",i)}console.warn("Falling back to localStorage for document storage");const n={...e};return n.metadata.pdfData&&(delete n.metadata.pdfData,console.warn("PDF data removed from document to fit in localStorage")),await Pn.saveDocument(n)}catch(t){console.error("Erreur lors de la sauvegarde du document dans Supabase:",t),console.warn("Falling back to localStorage for document storage");const n={...e};return n.metadata.pdfData&&(delete n.metadata.pdfData,console.warn("PDF data removed from document to fit in localStorage")),await Pn.saveDocument(n)}}saveDocumentToLocalStorage(e){try{const t="easybail_documents";localStorage.getItem(t)||localStorage.setItem(t,JSON.stringify([]));const n=localStorage.getItem(t),i=n?JSON.parse(n):[],a=i.findIndex(o=>o.id===e.id);return a>=0?i[a]=e:i.push(e),localStorage.setItem(t,JSON.stringify(i)),Promise.resolve(e)}catch(t){throw console.error("Erreur lors de la sauvegarde du document:",t),t}}async getDocumentsList(){try{if(await this.initializeBucket())try{const t=await this.getCurrentUserId();if(!t)throw new Error("User not authenticated");const{data:n,error:i}=await Je.storage.from(this.bucketName).list(t,{limit:100});if(!i&&n){const a=[];for(const o of n)if(o.name.endsWith(".json"))try{const{data:l}=await Je.storage.from(this.bucketName).download(`${t}/${o.name}`);if(l){const c=await l.text(),u=JSON.parse(c);u.createdAt=new Date(u.createdAt),u.updatedAt=new Date(u.updatedAt),u.signedAt&&(u.signedAt=new Date(u.signedAt)),u.expiresAt&&(u.expiresAt=new Date(u.expiresAt)),a.push(u)}}catch(l){console.warn("Error parsing document file:",l)}return console.log("Documents loaded from Supabase successfully"),a}}catch(t){console.warn("Error loading from Supabase:",t)}return console.warn("Falling back to localStorage for document retrieval"),this.getDocumentsFromLocalStorage()}catch(e){return console.error("Error in getDocumentsList:",e),this.getDocumentsFromLocalStorage()}}getDocumentsFromLocalStorage(){try{return Pn.getDocumentsList()}catch(e){return console.error("Error loading documents from localStorage:",e),Promise.resolve([])}}async getDocument(e){try{if(await this.initializeBucket())try{const n=await this.getCurrentUserId();if(!n)return console.warn("User not authenticated, falling back to localStorage"),this.getDocumentFromLocalStorage(e);const{data:i}=await Je.storage.from(this.bucketName).download(`${n}/${e}.json`);if(i){const a=await i.text(),o=JSON.parse(a);return o.createdAt=new Date(o.createdAt),o.updatedAt=new Date(o.updatedAt),o.signedAt&&(o.signedAt=new Date(o.signedAt)),o.expiresAt&&(o.expiresAt=new Date(o.expiresAt)),o}}catch(n){console.warn("Error loading document from Supabase:",n)}return await Pn.getDocument(e)}catch(t){return console.error("Erreur lors de la récupération du document:",t),null}}async getDocumentsByProperty(e){try{try{return(await this.getDocumentsList()).filter(n=>n.propertyId===e)}catch{return await Pn.getDocumentsByProperty(e)}}catch(t){return console.error("Erreur lors de la récupération des documents par bien:",t),[]}}async getDocumentsByTenant(e){try{try{return(await this.getDocumentsList()).filter(n=>n.tenantId===e)}catch{return await Pn.getDocumentsByTenant(e)}}catch(t){return console.error("Erreur lors de la récupération des documents par locataire:",t),[]}}async updateDocumentStatus(e,t){try{try{const n=await this.getDocument(e);if(!n)throw new Error("Document non trouvé");return n.status=t,n.updatedAt=new Date,t==="signed"&&(n.signedAt=new Date),await this.saveDocument(n),n}catch{return await Pn.updateDocumentStatus(e,t)}}catch(n){throw console.error("Erreur lors de la mise à jour du statut du document:",n),n}}async deleteDocument(e){try{if(await this.initializeBucket())try{const n=await this.getCurrentUserId();if(!n)throw new Error("User not authenticated");const{error:i}=await Je.storage.from(this.bucketName).remove([`${n}/${e}.json`]);if(i)console.warn("Failed to delete from Supabase:",i);else{console.log("Document deleted from Supabase successfully");return}}catch(n){console.warn("Error deleting from Supabase:",n)}console.warn("Falling back to localStorage for document deletion"),await Pn.deleteDocument(e)}catch(t){throw console.error("Erreur lors de la suppression du document:",t),t}}async getTemplates(){return D5}async searchDocuments(e){try{try{const t=await this.getDocumentsList(),n=e.toLowerCase();return t.filter(i=>i.name.toLowerCase().includes(n)||i.type.toLowerCase().includes(n)||i.content.toLowerCase().includes(n))}catch{return await Pn.searchDocuments(e)}}catch(t){return console.error("Erreur lors de la recherche de documents:",t),[]}}async getDocumentStats(){try{try{const e=await this.getDocumentsList(),t=new Date;t.setDate(t.getDate()-7);const n={total:e.length,byStatus:{},byType:{},recent:e.filter(i=>i.createdAt>t).length};return e.forEach(i=>{n.byStatus[i.status]=(n.byStatus[i.status]||0)+1,n.byType[i.type]=(n.byType[i.type]||0)+1}),n}catch{const t=await Pn.getDocumentStats();return{total:t.total,byStatus:t.byStatus,byType:t.byType,recent:t.recent}}}catch(e){return console.error("Erreur lors de la récupération des statistiques:",e),{total:0,byStatus:{},byType:{},recent:0}}}async getPublicUrl(e){try{return console.warn("getPublicUrl n'est pas disponible en mode stockage local"),null}catch(t){return console.error("Erreur lors de la génération de l'URL publique:",t),null}}}const dc=new d9,Ik=Object.freeze(Object.defineProperty({__proto__:null,documentStorage:dc},Symbol.toStringTag,{value:"Module"}));class A9{STORAGE_KEY="automations";getAll(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e).map(n=>({...n,nextExecution:n.nextExecution?new Date(n.nextExecution):null,lastExecution:n.lastExecution?new Date(n.lastExecution):null,createdAt:n.createdAt?new Date(n.createdAt):new Date,updatedAt:n.updatedAt?new Date(n.updatedAt):new Date})):[]}catch(e){return console.error("Erreur lors de la récupération des automatisations:",e),[]}}getAutomations(){return this.getAll()}getActiveAutomations(){return this.getAll().filter(e=>e.active)}getById(e){return this.getAll().find(n=>n.id===e)}createAutomation(e){const t={...e,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date},n=this.getAll();return n.push(t),this.saveAll(n),t}updateAutomation(e,t){const n=this.getAll(),i=n.findIndex(a=>a.id===e);return i===-1?null:(n[i]={...n[i],...t,updatedAt:new Date},this.saveAll(n),n[i])}deleteAutomation(e){const t=this.getAll(),n=t.filter(i=>i.id!==e);return n.length===t.length?!1:(this.saveAll(n),!0)}toggleAutomation(e){const t=this.getById(e);return t?(this.updateAutomation(e,{active:!t.active}),!0):!1}async executeAutomation(e){try{const t=this.getById(e);if(!t||!t.active)return console.log("Automatisation non trouvée ou inactive:",e),!1;console.log("Exécution de l'automatisation:",t.name);let n=[];if(t.documentTemplateId)try{console.log("Récupération du document pour l'automatisation...");const A=await dc.getDocument(t.documentTemplateId);if(A||console.warn(`Document non trouvé: ${t.documentTemplateId}. L'automatisation continuera sans pièce jointe.`),A)if(A.metadata&&A.metadata.pdfData){const f=A.metadata.pdfData.split(",")[1];n.push({filename:`${A.name}.pdf`,content:f,contentType:"application/pdf",encoding:"base64"}),console.log("Document PDF ajouté en pièce jointe")}else console.warn(`Pas de PDF disponible pour le document ${A.id}`)}catch(A){console.warn("Erreur lors de la récupération du document:",A)}let i={};if(t.propertyId)try{const{propertiesApi:A}=await La(async()=>{const{propertiesApi:m}=await Promise.resolve().then(()=>s9);return{propertiesApi:m}},void 0),f=await A.getProperty(t.propertyId);f&&(i={...i,property_name:f.name,property_address:f.address,property_type:f.type,rent_amount:f.rent.toString(),charges_amount:f.charges.toString(),total_amount:(f.rent+f.charges).toString()},f.tenant&&(i={...i,tenant_name:`${f.tenant.firstName} ${f.tenant.lastName}`,tenant_email:f.tenant.email,tenant_phone:f.tenant.phone||"",lease_start_date:f.tenant.leaseStart.toLocaleDateString(),lease_end_date:f.tenant.leaseEnd.toLocaleDateString()}))}catch(A){console.warn("Erreur lors de la récupération du bien:",A)}const a=new Date;i={...i,current_date:a.toLocaleDateString(),month:a.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),landlord_name:"Propriétaire"};let o=t.description||"Automatisation exécutée",l=t.name;if(t.emailTemplateId)try{const A=vo.processTemplate(t.emailTemplateId,i);A&&(l=A.subject,o=A.content)}catch(A){console.warn("Erreur lors du traitement du template d'email:",A)}const u={to:i.tenant_email||"destinataire@example.com",subject:l,html:o,...n.length>0&&{attachments:n}};try{aa.getConfig()?.enabled?await aa.sendEmail(u):await qs.sendEmail(u)}catch(A){console.warn("Erreur lors de l'envoi de l'email, utilisation du service local:",A),await qs.sendEmail(u)}return this.updateAutomation(e,{lastExecution:new Date,nextExecution:new Date(this.calculateNextExecution(t.frequency))}),console.log("Automatisation exécutée avec succès"),!0}catch(t){return console.error("Erreur lors de l'exécution de l'automatisation:",t),!1}}async executeAllDueAutomations(){try{const e=new Date,t=this.getActiveAutomations().filter(i=>i.nextExecution<=e);let n=0;for(const i of t)try{await this.executeAutomation(i.id)&&n++}catch(a){console.error(`Erreur lors de l'exécution de l'automatisation ${i.id}:`,a)}return n}catch(e){return console.error("Erreur lors de l'exécution des automatisations dues:",e),0}}async processEmailQueue(){try{return await qs.processEmailQueue()}catch(e){return console.error("Erreur lors du traitement de la file d'attente des emails:",e),0}}calculateNextExecution(e){const t=new Date;switch(e){case"daily":t.setDate(t.getDate()+1);break;case"weekly":t.setDate(t.getDate()+7);break;case"monthly":t.setMonth(t.getMonth()+1);break;case"yearly":t.setFullYear(t.getFullYear()+1);break;default:t.setDate(t.getDate()+1)}return t.toISOString()}saveAll(e){try{const t=e.map(n=>({...n,nextExecution:n.nextExecution instanceof Date?n.nextExecution.toISOString():n.nextExecution,lastExecution:n.lastExecution instanceof Date?n.lastExecution.toISOString():n.lastExecution,createdAt:n.createdAt instanceof Date?n.createdAt.toISOString():n.createdAt,updatedAt:n.updatedAt instanceof Date?n.updatedAt.toISOString():n.updatedAt}));localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){throw console.error("Erreur lors de la sauvegarde des automatisations:",t),t}}}const sa=new A9;class h9{timerId=null;checkInterval=6e4;isRunning=!1;lastDailyRunDate=null;start(){this.isRunning||(console.log("Démarrage du planificateur d'automatisations"),this.isRunning=!0,this.checkDailySchedule(),this.timerId=window.setInterval(()=>{this.checkDailySchedule()},this.checkInterval))}stop(){!this.isRunning||this.timerId===null||(console.log("Arrêt du planificateur d'automatisations"),window.clearInterval(this.timerId),this.timerId=null,this.isRunning=!1)}checkDailySchedule(){const e=new Date,t=e.getHours(),n=e.toISOString().split("T")[0];this.lastDailyRunDate!==n&&(t===9?(console.log(`Il est 9h, exécution des automatisations programmées pour aujourd'hui (${n})`),this.checkAndExecuteAutomations(),this.lastDailyRunDate=n,this.processEmailQueue()):console.log(`Il est ${t}h, les automatisations seront exécutées à 9h`))}async checkAndExecuteAutomations(){try{console.log(`Vérification des automatisations dues à ${new Date().toLocaleTimeString("fr-FR")}...`);const e=new Date,t=sa.getActiveAutomations();if(t.length===0){console.log("Aucune automatisation à exécuter pour le moment");return}console.log(`${t.length} automatisation(s) à exécuter`);for(const n of t)try{n.nextExecution<=e&&(console.log(`Exécution de l'automatisation: ${n.name}`),await sa.executeAutomation(n.id))}catch(i){console.error(`Erreur lors de l'exécution de l'automatisation ${n.id}:`,i)}}catch(e){console.error("Erreur lors de la vérification des automatisations:",e)}}async processEmailQueue(){try{console.log("Traitement de la file d'attente des emails...");const e=await sa.processEmailQueue();console.log(`${e} email(s) traité(s) avec succès`)}catch(e){console.error("Erreur lors du traitement de la file d'attente des emails:",e)}}isActive(){return this.isRunning}setCheckInterval(e){e<1e4&&(console.warn("L'intervalle minimum est de 10 secondes"),e=1e4),this.checkInterval=e,this.isRunning&&(this.stop(),this.start())}async forceCheck(){try{const e=new Date;console.log("Exécution forcée des automatisations dues...");const n=sa.getActiveAutomations().filter(a=>a.nextExecution<=e);let i=0;for(const a of n)try{console.log(`Exécution forcée de l'automatisation: ${a.name}`),await sa.executeAutomation(a.id)&&i++}catch(o){console.error(`Erreur lors de l'exécution forcée de l'automatisation ${a.id}:`,o)}return await this.processEmailQueue(),this.lastDailyRunDate=new Date().toISOString().split("T")[0],i}catch(e){return console.error("Erreur lors de la vérification forcée des automatisations:",e),0}}}const ol=new h9,Lk=()=>{const[r,e]=Ae.useState([]),[t,n]=Ae.useState(!0),[i,a]=Ae.useState(null),o=async()=>{try{n(!0),a(null);const p=await sa.getAutomations();e(p)}catch(p){a(p instanceof Error?p.message:"Une erreur est survenue"),console.error("Erreur lors du chargement des automatisations:",p)}finally{n(!1)}},l=async p=>{try{a(null);const y=sa.createAutomation(p);return e(N=>[y,...N]),y}catch(y){throw a(y instanceof Error?y.message:"Erreur lors de la création de l'automatisation"),y}},c=async(p,y)=>{try{a(null);const N=sa.updateAutomation(p,y);return e(w=>w.map(j=>j.id===p?N:j)),N}catch(N){throw a(N instanceof Error?N.message:"Erreur lors de la mise à jour de l'automatisation"),N}},u=async p=>{try{a(null),sa.deleteAutomation(p),e(y=>y.filter(N=>N.id!==p))}catch(y){throw a(y instanceof Error?y.message:"Erreur lors de la suppression de l'automatisation"),y}},A=async p=>{try{a(null);const y=sa.toggleAutomation(p),N=sa.getById(p);if(!y||!N)throw new Error("Erreur lors de la modification de l'automatisation");return e(w=>w.map(j=>j.id===p?N:j)),N}catch(y){throw a(y instanceof Error?y.message:"Erreur lors de la modification de l'automatisation"),y}},f=async p=>{try{a(null);const y=await sa.executeAutomation(p);return o(),y}catch(y){throw a(y instanceof Error?y.message:"Erreur lors de l'exécution de l'automatisation"),y}},m=async()=>{try{a(null);const p=await sa.executeAllDueAutomations();return o(),p}catch(p){throw a(p instanceof Error?p.message:"Erreur lors de l'exécution des automatisations"),p}},h=()=>{o()},v=()=>ol.isActive(),x=()=>{ol.start()},b=()=>{ol.stop()};return Ae.useEffect(()=>((async()=>await o())(),ol.isActive()||ol.start(),()=>{}),[]),{automations:r,loading:t,error:i,createAutomation:l,updateAutomation:c,deleteAutomation:u,toggleAutomation:A,executeAutomation:f,executeAllDueAutomations:m,refreshAutomations:h,isSchedulerActive:v,startScheduler:x,stopScheduler:b}},f9=({setActiveTab:r})=>{pl();const e=[{id:"1",title:"Quittance de loyer (01/07/2025 - 31/07/2025)",type:"document",date:"il y a 1 semaine"},{id:"2",title:"Demande d'attestation d'entretien de la chaudière",type:"document",date:"il y a 2 semaines"},{id:"3",title:"Quittance de loyer (01/06/2025 - 30/06/2025)",type:"shared",date:"il y a 2 semaines",status:"completed"},{id:"4",title:"Avis d'échéance de loyer",type:"shared",date:"il y a 2 semaines",status:"completed"},{id:"5",title:"Quittance de loyer (01/05/2025 - 31/05/2025)",type:"shared",date:"il y a 1 mois",status:"completed"},{id:"6",title:"Avis d'échéance de loyer",type:"shared",date:"il y a 1 mois",status:"completed"}],t=()=>{r("documents")};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Documents"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Et,{className:"h-5 w-5 text-orange-500"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Derniers documents"})]}),s.jsx("div",{className:"space-y-3",children:e.slice(0,2).map(n=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm text-gray-900",children:n.title})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:n.date})]})]},n.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Wt,{className:"h-5 w-5 text-blue-500"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Derniers documents et fichiers partagés"})]}),s.jsx("div",{className:"space-y-3",children:e.slice(2,6).map(n=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),s.jsx("p",{className:"text-sm text-gray-900",children:n.title})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:n.date})]})]},n.id))})]}),s.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 py-3 px-4 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-gray-700 font-medium",children:[s.jsx("span",{children:"Voir mes documents"}),s.jsx(a5,{className:"h-4 w-4"})]})]})]})};tf.register(T5,I5,Nk,k5,F5,S5);const nC=({setActiveTab:r})=>{const{activities:e,stats:t,refreshActivities:n,loading:i}=Tk({},7),{properties:a,loading:o}=Wu();P0();const{tasks:l,loading:c}=c9(),{dashboardData:u,loading:A,refreshDashboard:f}=rf(),{automations:m}=Lk(),[h,v]=Ae.useState("month"),[x,b]=Ae.useState(0),[p,y]=Ae.useState(!0);iA.useEffect(()=>{(async()=>{try{y(!0);const U=await dc.getDocumentsList();b(U.length)}catch(U){console.error("Erreur lors du chargement des documents:",U),b(3)}finally{y(!1)}})()},[]);const N=a.length,w=a.filter(_=>_.status==="occupied").length,j=a.reduce((_,U)=>U.status==="occupied"?_+U.rent:_,0),k=m.filter(_=>_.active).length,I=_=>{switch(_){case"document":return Et;case"payment":return Xr;case"property":return Ws;case"tenant":return yn;case"automation":return Oi;case"incident":return vt;default:return Oi}},F=_=>{switch(_){case"success":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-blue-600"}},C=_=>{v(_);const U=new Date;let S,X=new Date(U.getFullYear(),U.getMonth(),U.getDate(),23,59,59);switch(_){case"month":S=new Date(U.getFullYear(),U.getMonth(),1),X=new Date(U.getFullYear(),U.getMonth()+1,0,23,59,59);break;case"quarter":const ie=Math.floor(U.getMonth()/3);S=new Date(U.getFullYear(),ie*3,1),X=new Date(U.getFullYear(),(ie+1)*3,0,23,59,59);break;case"semester":const Z=Math.floor(U.getMonth()/6);S=new Date(U.getFullYear(),Z*6,1),X=new Date(U.getFullYear(),(Z+1)*6,0,23,59,59);break;case"year":S=new Date(U.getFullYear(),0,1),X=new Date(U.getFullYear(),11,31,23,59,59);break;default:S=new Date(U.getFullYear(),U.getMonth(),1),X=new Date(U.getFullYear(),U.getMonth()+1,0,23,59,59)}f(S,X)},P=_=>{const S=Math.floor((new Date().getTime()-_.getTime())/(1e3*60));if(S<1)return"maintenant";if(S<60)return`${S}min`;const X=Math.floor(S/60);return X<24?`${X}h`:`${Math.floor(X/24)}j`},T=l.filter(_=>_.status==="pending").sort((_,U)=>_.dueDate.getTime()-U.dueDate.getTime()).slice(0,3);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tableau de bord"}),s.jsx("p",{className:"text-gray-600",children:"Vue d'ensemble de votre portefeuille immobilier"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Biens totaux"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:N}),s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:[w," occupés"]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ws,{className:"h-6 w-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus mensuels"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[j.toLocaleString(),"€"]}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+5.2% vs mois dernier"})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Xr,{className:"h-6 w-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Documents générés"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:p?"...":x}),s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Via le générateur"})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-6 w-6 text-orange-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Automatisations actives"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:k>0?"En fonctionnement":"Aucune automatisation"})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Ui,{className:"h-6 w-6 text-purple-600"})})]})})]}),o&&s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Chargement des données..."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aperçu financier"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["(",h==="month"?"Mensuel":h==="quarter"?"Trimestriel":h==="semester"?"Semestriel":"Annuel",")"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:h,onChange:_=>C(_.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"month",children:"Ce mois"}),s.jsx("option",{value:"quarter",children:"Ce trimestre"}),s.jsx("option",{value:"semester",children:"Ce semestre"}),s.jsx("option",{value:"year",children:"Cette année"})]}),s.jsx(br,{className:"h-5 w-5 text-gray-400"})]})]}),A?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Chargement des données financières..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-green-600",children:["Revenus ",h==="month"?"mensuels":h==="quarter"?"trimestriels":h==="semester"?"semestriels":"annuels"]}),s.jsxs("p",{className:"text-xl font-bold text-green-900 whitespace-nowrap",children:[u?.totalIncome.toLocaleString("fr-FR")," €"]})]}),s.jsx(Ai,{className:"h-6 w-6 text-green-600"})]})}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-red-600",children:["Dépenses ",h==="month"?"mensuelles":h==="quarter"?"trimestrielles":h==="semester"?"semestrielles":"annuelles"]}),s.jsxs("p",{className:"text-xl font-bold text-red-900 whitespace-nowrap",children:[u?.totalExpense.toLocaleString("fr-FR")," €"]})]}),s.jsx(yo,{className:"h-6 w-6 text-red-600"})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-blue-600",children:["Résultat ",h==="month"?"mensuel":h==="quarter"?"trimestriel":h==="semester"?"semestriel":"annuel"]}),s.jsxs("p",{className:"text-xl font-bold text-blue-900 whitespace-nowrap",children:[(u?.netIncome||0).toLocaleString("fr-FR")," €"]})]}),s.jsx(Xr,{className:"h-6 w-6 text-blue-600"})]})})]}),s.jsxs("div",{className:"mb-4 bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Performance financière de mes biens"}),s.jsx("div",{className:"h-64",children:u?.monthlyTrend&&u.monthlyTrend.length>0?s.jsx(ZQ,{data:{labels:u.monthlyTrend.map(_=>_.month),datasets:[{label:"Revenus",data:u.monthlyTrend.map(_=>_.income),backgroundColor:"rgba(34, 197, 94, 0.7)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1,borderRadius:4},{label:"Dépenses",data:u.monthlyTrend.map(_=>_.expense),backgroundColor:"rgba(239, 68, 68, 0.7)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1,borderRadius:4},{label:"Résultat net",data:u.monthlyTrend.map(_=>_.income-_.expense),backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(_){const U=_.raw;return`${_.dataset.label}: ${U.toLocaleString("fr-FR")} €`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,ticks:{callback:function(_){return`${_} €`}}}}}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xc,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucune donnée disponible"})]})})})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("button",{onClick:()=>r("finances"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center justify-end",children:["Voir toutes les finances",s.jsxs("svg",{className:"h-4 w-4 ml-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),s.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activités récentes"}),s.jsx("button",{onClick:n,disabled:i,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Rafraîchir les activités",children:s.jsx(Ua,{className:`h-4 w-4 ${i?"animate-spin":""}`})})]}),s.jsxs("div",{className:"space-y-4",children:[i&&s.jsx("div",{className:"flex justify-center py-2",children:s.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}),e.map(_=>{const U=I(_.type);return s.jsxs("div",{className:"flex items-start space-x-6 py-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-gray-100",children:s.jsx(U,{className:`h-4 w-4 ${F(_.category)}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_.title}),s.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:_.description}),!_.readAt&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),s.jsx("span",{className:"text-xs text-blue-600",children:"Non lu"})]})]}),s.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0",children:P(_.createdAt)})]},_.id)}),e.length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Oi,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucune activité récente"})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500",children:[t.unread," non lues"]}),s.jsx("button",{onClick:()=>r("activities"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Voir toutes les activités"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(f9,{setActiveTab:r}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tâches à venir"}),c?s.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}):s.jsx(br,{className:"h-5 w-5 text-gray-400"})]}),c?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des tâches..."})]})}):s.jsx("div",{className:"space-y-4",children:T.length>0?T.map(_=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${_.priority==="high"?"bg-red-100":_.priority==="medium"?"bg-yellow-100":"bg-green-100"}`,children:s.jsx(zd,{className:`h-5 w-5 ${_.priority==="high"?"text-red-600":_.priority==="medium"?"text-yellow-600":"text-green-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-gray-900",children:_.title}),s.jsx("span",{className:"text-sm text-gray-500",children:_.dueDate.toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.propertyName||"Aucun bien associé"})]})]},_.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(zd,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Aucune tâche à venir"})]})}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("button",{onClick:()=>r("tasks"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center justify-end",children:["Voir toutes les tâches",s.jsxs("svg",{className:"h-4 w-4 ml-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),s.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("button",{onClick:()=>r("properties"),className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx(Ws,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Ajouter un bien"})]}),s.jsxs("button",{onClick:()=>r("tenants"),className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx(yn,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Nouveau locataire"})]}),s.jsxs("button",{onClick:()=>r("documents"),className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx(Et,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Créer document"})]}),s.jsxs("button",{onClick:()=>r("finances"),className:"flex flex-col items-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[s.jsx(Xr,{className:"h-8 w-8 text-orange-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Ajouter flux"})]}),s.jsxs("button",{onClick:()=>r("properties"),className:"flex flex-col items-center p-4 bg-teal-50 rounded-lg hover:bg-teal-100 transition-colors",children:[s.jsx(br,{className:"h-8 w-8 text-teal-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-teal-900",children:"Planifier visite"})]}),s.jsxs("button",{onClick:()=>r("documents"),className:"flex flex-col items-center p-4 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[s.jsx(Bt,{className:"h-8 w-8 text-indigo-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-indigo-900",children:"État des lieux"})]})]})]})})]})};class Dk{tableName;constructor(e){this.tableName=e}handleError(e){return e?"message"in e?e.message:"Erreur de base de données":"Une erreur inconnue s'est produite"}async findAll(e){try{let t=Je.from(this.tableName).select("*",{count:"exact"});if(e?.filters&&Object.entries(e.filters).forEach(([l,c])=>{c!=null&&c!==""&&(t=t.eq(l,c))}),e?.orderBy&&(t=t.order(e.orderBy,{ascending:e.orderDirection==="asc"})),e?.page&&e?.limit){const l=(e.page-1)*e.limit,c=l+e.limit-1;t=t.range(l,c)}const{data:n,error:i,count:a}=await t;return i?{data:null,error:this.handleError(i),success:!1}:{data:n?.map(l=>this.transformFromDatabase(l))||[],error:null,success:!0,count:a||0,pagination:e?.page&&e?.limit?{page:e.page,limit:e.limit,total:a||0}:void 0}}catch(t){return{data:null,error:this.handleError(t),success:!1}}}async findById(e){try{const{data:t,error:n}=await Je.from(this.tableName).select("*").eq("id",e).single();return n?{data:null,error:this.handleError(n),success:!1}:{data:this.transformFromDatabase(t),error:null,success:!0}}catch(t){return{data:null,error:this.handleError(t),success:!1}}}async create(e){try{const t=this.transformToDatabase(e),{data:n,error:i}=await Je.from(this.tableName).insert(t).select().single();return i?{data:null,error:this.handleError(i),success:!1}:{data:this.transformFromDatabase(n),error:null,success:!0}}catch(t){return{data:null,error:this.handleError(t),success:!1}}}async update(e,t){try{const n=this.transformToDatabase(t),{data:i,error:a}=await Je.from(this.tableName).update({...n,updated_at:new Date().toISOString()}).eq("id",e).select().single();return a?{data:null,error:this.handleError(a),success:!1}:{data:this.transformFromDatabase(i),error:null,success:!0}}catch(n){return{data:null,error:this.handleError(n),success:!1}}}async delete(e){try{const{error:t}=await Je.from(this.tableName).delete().eq("id",e);return t?{data:null,error:this.handleError(t),success:!1}:{data:!0,error:null,success:!0}}catch(t){return{data:null,error:this.handleError(t),success:!1}}}}class m9 extends Dk{constructor(){super("properties")}transformFromDatabase(e){return{id:e.id,name:e.name,address:e.address,type:e.type,status:e.status,rent:e.rent,charges:e.charges,surface:e.surface,rooms:e.rooms,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}}transformToDatabase(e){const t={};if(e.name!==void 0&&(t.name=e.name),e.address!==void 0&&(t.address=e.address),e.type!==void 0&&(t.type=e.type),e.status!==void 0){const n=["available","rented","maintenance","sold"];t.status=n.includes(e.status)?e.status:"available"}else t.status="available";return e.rent!==void 0&&(t.rent=e.rent),e.charges!==void 0&&(t.charges=e.charges),e.surface!==void 0&&(t.surface=e.surface),e.rooms!==void 0&&(t.rooms=e.rooms),t}async findByStatus(e){return this.findAll({filters:{status:e},orderBy:"created_at",orderDirection:"desc"})}async findByType(e){return this.findAll({filters:{type:e},orderBy:"name",orderDirection:"asc"})}async getOccupancyStats(){const{data:e}=await this.findAll();if(!e)return{total:0,occupied:0,vacant:0,maintenance:0,occupancyRate:0};const t=e.reduce((n,i)=>(n.total++,n[i.status]++,n),{total:0,occupied:0,vacant:0,maintenance:0});return{...t,occupancyRate:t.total>0?t.occupied/t.total*100:0}}}const tg=new m9;class p9 extends Dk{constructor(){super("tenants")}transformFromDatabase(e){return{id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,propertyId:e.property_id,leaseStart:new Date(e.lease_start),leaseEnd:new Date(e.lease_end),rent:e.rent,deposit:e.deposit,status:e.status,createdAt:new Date(e.created_at)}}transformToDatabase(e){const t={};return e.firstName!==void 0&&(t.first_name=e.firstName),e.lastName!==void 0&&(t.last_name=e.lastName),e.email!==void 0&&(t.email=e.email),e.phone!==void 0&&(t.phone=e.phone),e.propertyId!==void 0&&(t.property_id=e.propertyId),e.leaseStart!==void 0&&(t.lease_start=e.leaseStart.toISOString()),e.leaseEnd!==void 0&&(t.lease_end=e.leaseEnd.toISOString()),e.rent!==void 0&&(t.rent=e.rent),e.deposit!==void 0&&(t.deposit=e.deposit),e.status!==void 0&&(t.status=e.status),t}async findByProperty(e){return this.findAll({filters:{property_id:e},orderBy:"created_at",orderDirection:"desc"})}async findByStatus(e){return this.findAll({filters:{status:e},orderBy:"last_name",orderDirection:"asc"})}async findExpiringLeases(e=30){const t=new Date;t.setDate(t.getDate()+e);const{data:n}=await this.findByStatus("active");return n?{data:n.filter(a=>a.leaseEnd<=t&&a.leaseEnd>=new Date),error:null,success:!0}:{data:[],error:null,success:!0}}}new p9;function Uk(r={}){const[e,t]=Ae.useState([]),[n,i]=Ae.useState({isLoading:!1,error:void 0,lastUpdated:void 0}),a=Ae.useCallback(async()=>{i(f=>({...f,isLoading:!0,error:void 0}));try{const f=await tg.findAll({filters:r.filters,orderBy:"created_at",orderDirection:"desc"});f.success&&f.data?(t(f.data),i({isLoading:!1,error:void 0,lastUpdated:new Date})):i({isLoading:!1,error:f.error||"Erreur lors du chargement des biens",lastUpdated:void 0})}catch{i({isLoading:!1,error:"Erreur inattendue lors du chargement des biens",lastUpdated:void 0})}},[r.filters]),o=Ae.useCallback(async f=>{i(m=>({...m,isLoading:!0,error:void 0}));try{const m=await tg.create(f);return m.success&&m.data?(t(h=>[m.data,...h]),i(h=>({...h,isLoading:!1})),{success:!0,data:m.data}):(i(h=>({...h,isLoading:!1,error:m.error||"Erreur lors de la création du bien"})),{success:!1,error:m.error})}catch{const h="Erreur inattendue lors de la création du bien";return i(v=>({...v,isLoading:!1,error:h})),{success:!1,error:h}}},[]),l=Ae.useCallback(async(f,m)=>{i(h=>({...h,isLoading:!0,error:void 0}));try{const h=await tg.update(f,m);return h.success&&h.data?(t(v=>v.map(x=>x.id===f?h.data:x)),i(v=>({...v,isLoading:!1})),{success:!0,data:h.data}):(i(v=>({...v,isLoading:!1,error:h.error||"Erreur lors de la mise à jour du bien"})),{success:!1,error:h.error})}catch{const v="Erreur inattendue lors de la mise à jour du bien";return i(x=>({...x,isLoading:!1,error:v})),{success:!1,error:v}}},[]),c=Ae.useCallback(async f=>{i(m=>({...m,isLoading:!0,error:void 0}));try{const m=await tg.delete(f);return m.success?(t(h=>h.filter(v=>v.id!==f)),i(h=>({...h,isLoading:!1})),{success:!0}):(i(h=>({...h,isLoading:!1,error:m.error||"Erreur lors de la suppression du bien"})),{success:!1,error:m.error})}catch{const h="Erreur inattendue lors de la suppression du bien";return i(v=>({...v,isLoading:!1,error:h})),{success:!1,error:h}}},[]),u=Ae.useCallback(f=>e.find(m=>m.id===f),[e]),A=Ae.useCallback(f=>e.filter(m=>m.status===f),[e]);return Ae.useEffect(()=>{r.autoFetch!==!1&&a()},[a,r.autoFetch]),{properties:e,loading:n,actions:{fetch:a,create:o,update:l,delete:c},selectors:{getById:u,getByStatus:A}}}const Yd=iA.forwardRef(({className:r="",variant:e="primary",size:t="md",loading:n=!1,icon:i,iconPosition:a="left",children:o,disabled:l,...c},u)=>{const A="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",f={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},h=l||n;return s.jsxs("button",{ref:u,className:`${A} ${f[e]} ${m[t]} ${r}`,disabled:h,...c,children:[n&&s.jsx(Cr,{className:"w-4 h-4 mr-2 animate-spin"}),!n&&i&&a==="left"&&s.jsx("span",{className:"mr-2",children:i}),o,!n&&i&&a==="right"&&s.jsx("span",{className:"ml-2",children:i})]})});Yd.displayName="Button";const Rd=iA.forwardRef(({className:r="",containerClassName:e="",label:t,error:n,helperText:i,leftIcon:a,rightIcon:o,id:l,...c},u)=>{const A=l||`input-${Math.random().toString(36).substr(2,9)}`,f="block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm placeholder-gray-400 transition-colors focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",m=n?"border-red-300 focus:border-red-500 focus:ring-red-500":"",h=a&&o?"pl-10 pr-10":a?"pl-10":o?"pr-10":"";return s.jsxs("div",{className:e,children:[t&&s.jsx("label",{htmlFor:A,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),s.jsxs("div",{className:"relative",children:[a&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:a})}),s.jsx("input",{ref:u,id:A,className:`${f} ${m} ${h} ${r}`,...c}),o&&!n&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:o})}),n&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(Em,{className:"h-4 w-4 text-red-500"})})]}),n&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),i&&!n&&s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i})]})});Rd.displayName="Input";function g9({data:r,columns:e,loading:t=!1,sortBy:n,sortDirection:i,onSort:a,onRowClick:o,emptyMessage:l="Aucune donnée disponible",className:c=""}){const u=f=>{f.sortable&&a&&a(f.key)},A=f=>f.sortable?n===f.key?i==="asc"?s.jsx(qw,{className:"w-4 h-4"}):s.jsx(D0,{className:"w-4 h-4"}):s.jsx(qw,{className:"w-4 h-4 opacity-30"}):null;return t?s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 ${c}`,children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-500",children:"Chargement..."})]})}):r.length===0?s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 ${c}`,children:s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-500",children:l})})}):s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden ${c}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:e.map(f=>s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${f.sortable?"cursor-pointer hover:bg-gray-100":""}`,style:{width:f.width},onClick:()=>u(f),children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:f.label}),A(f)]})},String(f.key)))})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((f,m)=>s.jsx("tr",{className:`${o?"cursor-pointer hover:bg-gray-50":""} transition-colors`,onClick:()=>o?.(f),children:e.map(h=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.render?h.render(f[h.key],f):f[h.key]},String(h.key)))},f.id||m))})]})})})}const sC=({isOpen:r,onClose:e,title:t,children:n,size:i="md",showCloseButton:a=!0,closeOnOverlayClick:o=!0,footer:l})=>{const c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};if(Ae.useEffect(()=>{const A=f=>{f.key==="Escape"&&r&&e()};return r&&(document.addEventListener("keydown",A),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",A),document.body.style.overflow="unset"}},[r,e]),!r)return null;const u=A=>{A.target===A.currentTarget&&o&&e()};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",onClick:u,children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s.jsxs("div",{className:`relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full ${c[i]}`,children:[(t||a)&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[t&&s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),a&&s.jsx(Yd,{variant:"ghost",size:"sm",onClick:e,icon:s.jsx(sn,{className:"w-4 h-4"}),className:"ml-auto"})]}),s.jsx("div",{className:"px-6 py-4",children:n}),l&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:l})]})]})})},iC=({property:r,onSuccess:e,onCancel:t})=>{const{actions:n}=Uk(),[i,a]=Ae.useState(!1),[o,l]=Ae.useState({}),[c,u]=Ae.useState({name:r?.name||"",address:r?.address||"",type:r?.type||"apartment",status:r?.status||"vacant",rent:r?.rent||0,charges:r?.charges||0,surface:r?.surface||0,rooms:r?.rooms||1}),A=x=>{const{name:b,value:p}=x.target;u(y=>({...y,[b]:b==="rent"||b==="charges"||b==="surface"||b==="rooms"?Number(p):p})),o[b]&&l(y=>({...y,[b]:""}))},f=()=>{const x={};return c.name.trim()||(x.name="Le nom est requis"),c.address.trim()||(x.address="L'adresse est requise"),c.rent<=0&&(x.rent="Le loyer doit être supérieur à 0"),c.surface<=0&&(x.surface="La surface doit être supérieure à 0"),c.rooms<=0&&(x.rooms="Le nombre de pièces doit être supérieur à 0"),l(x),Object.keys(x).length===0},m=async x=>{if(x.preventDefault(),!!f()){a(!0);try{let b;r?b=await n.update(r.id,c):b=await n.create(c),b.success?e():l({submit:b.error||"Une erreur est survenue"})}catch{l({submit:"Une erreur inattendue est survenue"})}finally{a(!1)}}},h=[{value:"apartment",label:"Appartement"},{value:"house",label:"Maison"},{value:"studio",label:"Studio"},{value:"parking",label:"Parking"},{value:"commercial",label:"Commercial"}],v=[{value:"vacant",label:"Vacant"},{value:"occupied",label:"Occupé"},{value:"maintenance",label:"En maintenance"}];return s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.submit&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 text-sm",children:o.submit})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Rd,{label:"Nom du bien",name:"name",value:c.name,onChange:A,error:o.name,placeholder:"Ex: Appartement T3 Centre-ville",required:!0}),s.jsx(Rd,{label:"Adresse",name:"address",value:c.address,onChange:A,error:o.address,placeholder:"Ex: 123 Rue de la Paix, 75001 Paris",required:!0}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de bien"}),s.jsx("select",{name:"type",value:c.type,onChange:A,className:"block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:h.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),s.jsx("select",{name:"status",value:c.status,onChange:A,className:"block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsx(Rd,{label:"Loyer (€)",name:"rent",type:"number",value:c.rent,onChange:A,error:o.rent,placeholder:"800",min:"0",step:"0.01",required:!0}),s.jsx(Rd,{label:"Charges (€)",name:"charges",type:"number",value:c.charges,onChange:A,error:o.charges,placeholder:"100",min:"0",step:"0.01"}),s.jsx(Rd,{label:"Surface (m²)",name:"surface",type:"number",value:c.surface,onChange:A,error:o.surface,placeholder:"65",min:"0",step:"0.01",required:!0}),s.jsx(Rd,{label:"Nombre de pièces",name:"rooms",type:"number",value:c.rooms,onChange:A,error:o.rooms,placeholder:"3",min:"1",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[s.jsx(Yd,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Annuler"}),s.jsxs(Yd,{type:"submit",loading:i,children:[r?"Modifier":"Créer"," le bien"]})]})]})},x9=({onPropertySelect:r})=>{const{properties:e,loading:t,actions:n}=Uk({autoFetch:!0}),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(null),c=[{key:"name",label:"Nom",sortable:!0,render:(m,h)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Lu,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:m}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(U0,{className:"w-3 h-3 mr-1"}),h.address]})]})]})},{key:"type",label:"Type",sortable:!0,render:m=>({apartment:"Appartement",house:"Maison",studio:"Studio",parking:"Parking",commercial:"Commercial"})[m]||m},{key:"status",label:"Statut",sortable:!0,render:m=>{const v={occupied:{label:"Occupé",color:"bg-green-100 text-green-800"},vacant:{label:"Vacant",color:"bg-yellow-100 text-yellow-800"},maintenance:{label:"Maintenance",color:"bg-red-100 text-red-800"}}[m]||{label:m||"Inconnu",color:"bg-gray-100 text-gray-800"};return s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.color}`,children:v.label})}},{key:"rent",label:"Loyer",sortable:!0,render:m=>`${m||0}€`},{key:"surface",label:"Surface",sortable:!0,render:m=>`${m||0}m²`},{key:"rooms",label:"Pièces",sortable:!0,render:m=>m||0},{key:"id",label:"Actions",render:(m,h)=>s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Yd,{variant:"ghost",size:"sm",icon:s.jsx(Gs,{className:"w-4 h-4"}),onClick:v=>{v.stopPropagation(),l(h)}}),s.jsx(Yd,{variant:"ghost",size:"sm",icon:s.jsx(Mr,{className:"w-4 h-4"}),onClick:v=>{v.stopPropagation(),u(h.id)},className:"text-red-600 hover:text-red-700"})]})}],u=async m=>{window.confirm("Êtes-vous sûr de vouloir supprimer ce bien ?")&&await n.delete(m)},A=()=>{a(!1)},f=()=>{l(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mes biens"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos propriétés immobilières"})]}),s.jsx(Yd,{icon:s.jsx(cs,{className:"w-4 h-4"}),onClick:()=>a(!0),children:"Ajouter un bien"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total des biens"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(m=>m.status==="occupied").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Occupés"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(m=>m.status==="vacant").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Vacants"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.reduce((m,h)=>m+(h.rent||0),0),"€"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Revenus mensuels"})]})]}),s.jsx(g9,{data:e,columns:c,loading:t.isLoading,onRowClick:r,emptyMessage:"Aucun bien trouvé. Commencez par ajouter votre premier bien."}),s.jsx(sC,{isOpen:i,onClose:()=>a(!1),title:"Ajouter un nouveau bien",size:"lg",children:s.jsx(iC,{onSuccess:A,onCancel:()=>a(!1)})}),s.jsx(sC,{isOpen:!!o,onClose:()=>l(null),title:"Modifier le bien",size:"lg",children:o&&s.jsx(iC,{property:o,onSuccess:f,onCancel:()=>l(null)})})]})},y9=()=>s.jsx("div",{className:"p-6",children:s.jsx(x9,{})}),v9=({tenant:r,properties:e,onSave:t,onCancel:n,isOpen:i})=>{const[a,o]=Ae.useState({firstName:r?.firstName||"",lastName:r?.lastName||"",email:r?.email||"",phone:r?.phone||"",propertyId:r?.propertyId||"",leaseStart:r?.leaseStart?r.leaseStart.toISOString().split("T")[0]:"",leaseEnd:r?.leaseEnd?r.leaseEnd.toISOString().split("T")[0]:"",rent:r?.rent||0,deposit:r?.deposit||0,status:r?.status||"active"}),[l,c]=Ae.useState({}),u=[{value:"active",label:"Actif"},{value:"notice",label:"En préavis"},{value:"former",label:"Ancien locataire"}],A=e.filter(y=>y.status==="vacant"||r&&y.id===r.propertyId||y.status==="maintenance"),f=y=>{const{name:N,value:w}=y.target;if(o(j=>({...j,[N]:N==="rent"||N==="deposit"?parseFloat(w)||0:w})),N==="propertyId"&&w){const j=e.find(k=>k.id===w);j&&!r&&o(k=>({...k,rent:j.rent,deposit:j.rent*2}))}l[N]&&c(j=>({...j,[N]:""}))},m=()=>{const y={};return a.firstName.trim()||(y.firstName="Le prénom est requis"),a.lastName.trim()||(y.lastName="Le nom est requis"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(y.email="Format d'email invalide"):y.email="L'email est requis",a.propertyId||(y.propertyId="Veuillez sélectionner un bien"),a.leaseStart||(y.leaseStart="La date de début de bail est requise"),a.leaseEnd||(y.leaseEnd="La date de fin de bail est requise"),a.leaseStart&&a.leaseEnd&&a.leaseStart>=a.leaseEnd&&(y.leaseEnd="La date de fin doit être postérieure à la date de début"),a.rent<=0&&(y.rent="Le loyer doit être supérieur à 0"),c(y),Object.keys(y).length===0},h=y=>{if(y.preventDefault(),!m())return;const N={...a,leaseStart:new Date(a.leaseStart),leaseEnd:new Date(a.leaseEnd),...r&&{id:r.id},...r&&{createdAt:r.createdAt}};t(N)},v=y=>{const N=e.find(k=>k.id===y);if(!N)return"";const w=x(N.type),j=N.status==="vacant"?"Vacant":N.status==="maintenance"?"Maintenance":"Occupé";return`${N.name} - ${w} - ${N.rent}€/mois (${N.surface}m², ${N.rooms}P) - ${j}`},x=y=>{switch(y){case"apartment":return"Appartement";case"house":return"Maison";case"studio":return"Studio";case"parking":return"Parking";case"commercial":return"Local commercial";default:return y}},p=a.propertyId?e.find(y=>y.id===a.propertyId):null;return i?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Modifier le locataire":"Ajouter un locataire"}),s.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations personnelles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom *"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.firstName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Marie"})]}),l.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.firstName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.lastName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Martin"})]}),l.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.lastName})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"marie.martin@email.com"})]}),l.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:f,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"06 12 34 56 78"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bail et logement"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bien loué *"}),s.jsxs("div",{className:"relative",children:[s.jsx(U0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"propertyId",value:a.propertyId,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.propertyId?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Sélectionner un bien"}),A.map(y=>s.jsx("option",{value:y.id,children:v(y.id)},y.id))]})]}),l.propertyId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.propertyId}),A.length===0&&s.jsx("p",{className:"mt-1 text-sm text-yellow-600",children:"Aucun bien disponible. Vérifiez que vous avez créé des biens et qu'ils sont vacants."}),p&&s.jsxs("div",{className:"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Détails du bien sélectionné"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Adresse:"}),s.jsx("p",{className:"text-blue-800",children:p.address})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Type:"}),s.jsx("p",{className:"text-blue-800",children:x(p.type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Surface:"}),s.jsxs("p",{className:"text-blue-800",children:[p.surface,"m²"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Pièces:"}),s.jsx("p",{className:"text-blue-800",children:p.rooms})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Loyer actuel:"}),s.jsxs("p",{className:"text-blue-800 font-semibold",children:[p.rent,"€/mois"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Charges:"}),s.jsxs("p",{className:"text-blue-800",children:[p.charges,"€/mois"]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Début du bail *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"leaseStart",value:a.leaseStart,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.leaseStart?"border-red-300 bg-red-50":"border-gray-300"}`})]}),l.leaseStart&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.leaseStart})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fin du bail *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"leaseEnd",value:a.leaseEnd,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.leaseEnd?"border-red-300 bg-red-50":"border-gray-300"}`})]}),l.leaseEnd&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.leaseEnd})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations financières"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loyer mensuel (€) *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"€"}),s.jsx("input",{type:"number",name:"rent",value:a.rent,onChange:f,min:"0",step:"0.01",className:`w-full pl-8 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.rent?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"1200"})]}),l.rent&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.rent}),p&&a.rent!==p.rent&&s.jsxs("p",{className:"mt-1 text-sm text-blue-600",children:["Loyer du bien: ",p.rent,"€"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dépôt de garantie (€)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"€"}),s.jsx("input",{type:"number",name:"deposit",value:a.deposit,onChange:f,min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"2400"})]}),p&&s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Suggestion: ",p.rent*2,"€ (2 mois de loyer)"]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut du locataire"}),s.jsxs("div",{className:"relative",children:[s.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("select",{name:"status",value:a.status,onChange:f,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:r?"Mettre à jour":"Créer le locataire"})]})]})]})]})}):null},b9=({tenant:r,property:e,onEdit:t,onDelete:n,onClose:i,isOpen:a})=>{const[o,l]=Ae.useState("overview");if(!a)return null;const c=p=>{switch(p){case"active":return"bg-green-100 text-green-800";case"notice":return"bg-yellow-100 text-yellow-800";case"former":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=p=>{switch(p){case"active":return"Actif";case"notice":return"En préavis";case"former":return"Ancien locataire";default:return p}},A=Math.ceil((r.leaseEnd.getTime()-new Date().getTime())/(1e3*60*60*24)),f=[{id:"overview",label:"Vue d'ensemble",icon:$s},{id:"documents",label:"Documents",icon:Et},{id:"payments",label:"Paiements",icon:Xr},{id:"communication",label:"Communication",icon:Wt}],m=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations personnelles"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($s,{className:"h-5 w-5 text-gray-400"}),s.jsxs("span",{className:"text-gray-900",children:[r.firstName," ",r.lastName]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-gray-400"}),s.jsx("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:text-blue-700",children:r.email})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ru,{className:"h-5 w-5 text-gray-400"}),s.jsx("a",{href:`tel:${r.phone}`,className:"text-blue-600 hover:text-blue-700",children:r.phone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations du bail"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(br,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-900",children:["Du ",r.leaseStart.toLocaleDateString()," au ",r.leaseEnd.toLocaleDateString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:A>0?`${A} jours restants`:"Bail expiré"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-gray-900",children:[r.rent,"€/mois"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Dépôt: ",r.deposit,"€"]})]})]})]})]})]}),e&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Lu,{className:"h-5 w-5 mr-2"}),"Informations du bien"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nom du bien"}),s.jsx("p",{className:"text-gray-900",children:e.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Type"}),s.jsx("p",{className:"text-gray-900 capitalize",children:e.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Surface"}),s.jsxs("p",{className:"text-gray-900",children:[e.surface,"m²"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pièces"}),s.jsx("p",{className:"text-gray-900",children:e.rooms})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Adresse complète"}),s.jsx("p",{className:"text-gray-900",children:e.address})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Loyer du bien"}),s.jsxs("p",{className:"text-gray-900",children:[e.rent,"€/mois"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Charges"}),s.jsxs("p",{className:"text-gray-900",children:[e.charges,"€/mois"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsxs("p",{className:"text-gray-900 font-semibold",children:[e.rent+e.charges,"€/mois"]})]})]})]}),!e&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-900",children:"Bien introuvable"}),s.jsx("p",{className:"text-red-700 text-sm",children:"Le bien associé à ce locataire n'existe plus ou a été supprimé."})]})]})}),r.status==="notice"&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-yellow-900",children:"Locataire en préavis"}),s.jsx("p",{className:"text-yellow-700 text-sm",children:"Ce locataire a donné son préavis. Pensez à organiser les visites et l'état des lieux de sortie."})]})]})}),A<=90&&A>0&&r.status==="active"&&s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ur,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-900",children:"Fin de bail proche"}),s.jsxs("p",{className:"text-orange-700 text-sm",children:["Le bail se termine dans ",A," jours. Contactez le locataire pour le renouvellement."]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[s.jsx(Et,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Générer quittance"})]}),s.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[s.jsx(Qu,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Envoyer email"})]}),s.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[s.jsx(br,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Planifier visite"})]}),s.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-center",children:[s.jsx(hi,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Export données"})]})]})]}),h=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documents du locataire"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Nouveau document"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Aucun document associé à ce locataire"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Créez votre premier document pour ce locataire"})]})]}),v=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des paiements"}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Enregistrer paiement"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Bt,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600",children:"Paiements à jour"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:"100%"})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Total perçu"}),s.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[r.rent*3,"€"]})]})]})}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(br,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600",children:"Prochain paiement"}),s.jsx("p",{className:"text-xl font-bold text-purple-900",children:new Date(new Date().getFullYear(),new Date().getMonth()+1,5).toLocaleDateString()})]})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(Xr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Historique des paiements détaillé"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Consultez l'onglet Finances pour plus de détails"})]})]}),x=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des communications"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Nouveau message"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[s.jsx(Wt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Aucune communication enregistrée"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Les emails et appels seront enregistrés ici"})]})]}),b=()=>{switch(o){case"overview":return m();case"documents":return h();case"payments":return v();case"communication":return x();default:return m()}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx($s,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[r.firstName," ",r.lastName]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${c(r.status)}`,children:u(r.status)}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Locataire depuis le ",r.leaseStart.toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Gs,{className:"h-5 w-5"})}),s.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Mr,{className:"h-5 w-5"})}),s.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:f.map(p=>{const y=p.icon;return s.jsxs("button",{onClick:()=>l(p.id),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${o===p.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(y,{className:"h-4 w-4"}),s.jsx("span",{children:p.label})]},p.id)})})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b()})]})})},w9=()=>{const{properties:r,loading:e}=Wu(),{tenants:t,loading:n,error:i,createTenant:a,updateTenant:o,deleteTenant:l}=$0(),[c,u]=Ae.useState(""),[A,f]=Ae.useState("all"),[m,h]=Ae.useState(!1),[v,x]=Ae.useState(!1),[b,p]=Ae.useState(null),[y,N]=Ae.useState(null),w=t.filter(Z=>{const ce=Z.firstName.toLowerCase().includes(c.toLowerCase())||Z.lastName.toLowerCase().includes(c.toLowerCase())||Z.email.toLowerCase().includes(c.toLowerCase()),re=A==="all"||Z.status===A;return ce&&re}),j=Z=>{switch(Z){case"active":return"bg-green-100 text-green-800";case"notice":return"bg-red-100 text-red-800";case"former":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=Z=>{switch(Z){case"active":return"Actif";case"notice":return"Préavis";case"former":return"Ancien";default:return Z}},I=Z=>r.find(re=>re.id===Z)||null,F=()=>{N(null),h(!0)},C=Z=>{N(Z),h(!0)},P=Z=>{p(Z),x(!0)},T=Z=>{window.confirm("Êtes-vous sûr de vouloir supprimer ce locataire ?")&&l(Z).catch(ce=>{console.error("Erreur lors de la suppression:",ce)})},_=async Z=>{try{y?await o(y.id,Z):await a(Z),h(!1),N(null)}catch(ce){console.error("Erreur lors de la sauvegarde:",ce)}},U=t.filter(Z=>Z.status==="active").length,S=t.filter(Z=>Z.status==="notice").length,X=t.filter(Z=>Z.status==="active").reduce((Z,ce)=>Z+ce.rent,0),ie=t.filter(Z=>Z.status==="active").filter(Z=>{const ce=new Date(Z.leaseEnd),re=new Date;return re.setMonth(re.getMonth()+3),ce<=re});return n||e?s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des locataires..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Locataires"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos locataires et leurs baux"})]}),s.jsxs("button",{onClick:F,disabled:n||r.length===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Ajouter un locataire"})]})]}),r.length===0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-yellow-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-800 font-medium",children:"Aucun bien disponible"}),s.jsx("p",{className:"text-yellow-700 text-sm",children:"Vous devez d'abord créer des biens immobiliers avant d'ajouter des locataires."})]})]}),i&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:i})]})]}),!n&&!e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Locataires actifs"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:U})]}),s.jsx(yn,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En préavis"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:S})]}),s.jsx(Ur,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus totaux"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[X.toLocaleString(),"€"]})]}),s.jsx(Xr,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fins de bail"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:ie.length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Dans 3 mois"})]}),s.jsx(br,{className:"h-8 w-8 text-orange-600"})]})})]}),ie.length>0&&s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-orange-900",children:"Fins de bail à venir"}),s.jsxs("p",{className:"text-orange-700 text-sm",children:[ie.length," bail(s) se termine(nt) dans les 3 prochains mois"]})]})]})}),!n&&!e&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un locataire...",value:c,onChange:Z=>u(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:A,onChange:Z=>f(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actifs"}),s.jsx("option",{value:"notice",children:"En préavis"}),s.jsx("option",{value:"former",children:"Anciens"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),!n&&!e&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Locataire"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Bien"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Bail"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Loyer"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Contact"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(Z=>{const ce=I(Z.propertyId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(yn,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[Z.firstName," ",Z.lastName]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Depuis le ",new Date(Z.leaseStart).toLocaleDateString()]})]})]})}),s.jsx("td",{className:"py-4 px-6",children:ce?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(U0,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:ce.name})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:ce.address}),s.jsx("div",{className:"flex items-center space-x-2 mt-1 ml-6",children:s.jsxs("span",{className:"text-xs text-gray-500",children:[ce.surface,"m² • ",ce.rooms," pièces"]})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{className:"h-4 w-4 text-red-400"}),s.jsx("span",{className:"text-sm text-red-600",children:"Bien introuvable"})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j(Z.status)}`,children:k(Z.status)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(br,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-900",children:new Date(Z.leaseEnd).toLocaleDateString()})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.ceil((new Date(Z.leaseEnd).getTime()-new Date().getTime())/(1e3*60*60*24))," jours restants"]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[Z.rent,"€"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Dépôt: ",Z.deposit,"€"]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>window.open(`mailto:${Z.email}`),className:"p-1 text-gray-600 hover:text-blue-600 transition-colors",title:"Envoyer un email",children:s.jsx(Wt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>window.open(`tel:${Z.phone}`),className:"p-1 text-gray-600 hover:text-green-600 transition-colors",title:"Appeler",children:s.jsx(Ru,{className:"h-4 w-4"})})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(Z),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les détails",children:s.jsx(Pi,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(Z),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>T(Z.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},Z.id)})})]})})}),w.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun locataire trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:c||A!=="all"?"Aucun locataire ne correspond à vos critères de recherche.":"Commencez par ajouter votre premier locataire."}),s.jsx("button",{onClick:F,disabled:r.length===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Ajouter un locataire"})]}),s.jsx(v9,{tenant:y,properties:r,onSave:_,onCancel:()=>{h(!1),N(null)},isOpen:m}),b&&s.jsx(b9,{tenant:b,property:I(b.propertyId),onEdit:()=>{x(!1),C(b)},onDelete:()=>{x(!1),T(b.id)},onClose:()=>{x(!1),p(null)},isOpen:v})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a2=function(r,e){return a2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},a2(r,e)};function No(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a2(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var o2=function(){return o2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o2.apply(this,arguments)};function di(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(A){try{u(n.next(A))}catch(f){o(f)}}function c(A){try{u(n.throw(A))}catch(f){o(f)}}function u(A){A.done?a(A.value):i(A.value).then(l,c)}u((n=n.apply(r,[])).next())})}function Ms(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(A){u=[6,A],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function rg(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||e)}var yc=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),Y0=function(r,e){return yc.fromClientRect(r,e.getBoundingClientRect())},N9=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new yc(0,0,n,i)},X0=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var a=r.charCodeAt(t++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Cn=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,a="";++i<t;){var o=r[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===t||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},aC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ng=0;ng<aC.length;ng++)j9[aC.charCodeAt(ng)]=ng;var oC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sg=0;sg<oC.length;sg++)sm[oC.charCodeAt(sg)]=sg;var B9=function(r){var e=r.length*.75,t=r.length,n,i=0,a,o,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)a=sm[r.charCodeAt(n)],o=sm[r.charCodeAt(n+1)],l=sm[r.charCodeAt(n+2)],c=sm[r.charCodeAt(n+3)],A[i++]=a<<2|o>>4,A[i++]=(o&15)<<4|l>>2,A[i++]=(l&3)<<6|c&63;return u},_9=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},C9=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Xd=5,U5=11,hb=2,E9=U5-Xd,Ok=65536>>Xd,S9=1<<Xd,fb=S9-1,k9=1024>>Xd,F9=Ok+k9,T9=F9,I9=32,L9=T9+I9,D9=65536>>U5,U9=1<<E9,O9=U9-1,lC=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},P9=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},R9=function(r,e){var t=B9(r),n=Array.isArray(t)?C9(t):new Uint32Array(t),i=Array.isArray(t)?_9(t):new Uint16Array(t),a=24,o=lC(i,a/2,n[4]/2),l=n[5]===2?lC(i,(a+n[4])/2):P9(n,Math.ceil((a+n[4])/4));return new M9(n[0],n[1],n[2],n[3],o,l)},M9=function(){function r(e,t,n,i,a,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Xd],t=(t<<hb)+(e&fb),this.data[t];if(e<=65535)return t=this.index[Ok+(e-55296>>Xd)],t=(t<<hb)+(e&fb),this.data[t];if(e<this.highStart)return t=L9-D9+(e>>U5),t=this.index[t],t+=e>>Xd&O9,t=this.index[t],t=(t<<hb)+(e&fb),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),cC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ig=0;ig<cC.length;ig++)Q9[cC.charCodeAt(ig)]=ig;var H9="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",uC=50,q9=1,Pk=2,Rk=3,z9=4,K9=5,dC=7,Mk=8,AC=9,ku=10,l2=11,hC=12,c2=13,V9=14,im=15,u2=16,ag=17,Rf=18,W9=19,fC=20,d2=21,Mf=22,mb=23,eh=24,na=25,am=26,om=27,th=28,G9=29,Hd=30,$9=31,og=32,lg=33,A2=34,h2=35,f2=36,Om=37,m2=38,Wg=39,Gg=40,pb=41,Qk=42,Y9=43,X9=[9001,65288],Hk="!",er="×",cg="÷",p2=R9(H9),tc=[Hd,f2],g2=[q9,Pk,Rk,K9],qk=[ku,Mk],mC=[om,am],J9=g2.concat(qk),pC=[m2,Wg,Gg,A2,h2],Z9=[im,c2],eH=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(a,o){var l=p2.get(a);if(l>uC?(i.push(!0),l-=uC):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),t.push(u2);if(l===z9||l===l2){if(o===0)return n.push(o),t.push(Hd);var c=t[o-1];return J9.indexOf(c)===-1?(n.push(n[o-1]),t.push(c)):(n.push(o),t.push(Hd))}if(n.push(o),l===$9)return t.push(e==="strict"?d2:Om);if(l===Qk||l===G9)return t.push(Hd);if(l===Y9)return a>=131072&&a<=196605||a>=196608&&a<=262141?t.push(Om):t.push(Hd);t.push(l)}),[n,t,i]},gb=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var a=t;a<=n.length;){a++;var o=n[a];if(o===e)return!0;if(o!==ku)break}if(i===ku)for(var a=t;a>0;){a--;var l=n[a];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var c=t;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==ku)break}if(l!==ku)break}return!1},gC=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===ku)t--;else return n}return 0},tH=function(r,e,t,n,i){if(t[n]===0)return er;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return er;var o=a-1,l=a+1,c=e[a],u=o>=0?e[o]:0,A=e[l];if(c===Pk&&A===Rk)return er;if(g2.indexOf(c)!==-1)return Hk;if(g2.indexOf(A)!==-1||qk.indexOf(A)!==-1)return er;if(gC(a,e)===Mk)return cg;if(p2.get(r[a])===l2||(c===og||c===lg)&&p2.get(r[l])===l2||c===dC||A===dC||c===AC||[ku,c2,im].indexOf(c)===-1&&A===AC||[ag,Rf,W9,eh,th].indexOf(A)!==-1||gC(a,e)===Mf||gb(mb,Mf,a,e)||gb([ag,Rf],d2,a,e)||gb(hC,hC,a,e))return er;if(c===ku)return cg;if(c===mb||A===mb)return er;if(A===u2||c===u2)return cg;if([c2,im,d2].indexOf(A)!==-1||c===V9||u===f2&&Z9.indexOf(c)!==-1||c===th&&A===f2||A===fC||tc.indexOf(A)!==-1&&c===na||tc.indexOf(c)!==-1&&A===na||c===om&&[Om,og,lg].indexOf(A)!==-1||[Om,og,lg].indexOf(c)!==-1&&A===am||tc.indexOf(c)!==-1&&mC.indexOf(A)!==-1||mC.indexOf(c)!==-1&&tc.indexOf(A)!==-1||[om,am].indexOf(c)!==-1&&(A===na||[Mf,im].indexOf(A)!==-1&&e[l+1]===na)||[Mf,im].indexOf(c)!==-1&&A===na||c===na&&[na,th,eh].indexOf(A)!==-1)return er;if([na,th,eh,ag,Rf].indexOf(A)!==-1)for(var f=a;f>=0;){var m=e[f];if(m===na)return er;if([th,eh].indexOf(m)!==-1)f--;else break}if([om,am].indexOf(A)!==-1)for(var f=[ag,Rf].indexOf(c)!==-1?o:a;f>=0;){var m=e[f];if(m===na)return er;if([th,eh].indexOf(m)!==-1)f--;else break}if(m2===c&&[m2,Wg,A2,h2].indexOf(A)!==-1||[Wg,A2].indexOf(c)!==-1&&[Wg,Gg].indexOf(A)!==-1||[Gg,h2].indexOf(c)!==-1&&A===Gg||pC.indexOf(c)!==-1&&[fC,am].indexOf(A)!==-1||pC.indexOf(A)!==-1&&c===om||tc.indexOf(c)!==-1&&tc.indexOf(A)!==-1||c===eh&&tc.indexOf(A)!==-1||tc.concat(na).indexOf(c)!==-1&&A===Mf&&X9.indexOf(r[l])===-1||tc.concat(na).indexOf(A)!==-1&&c===Rf)return er;if(c===pb&&A===pb){for(var h=t[a],v=1;h>0&&(h--,e[h]===pb);)v++;if(v%2!==0)return er}return c===og&&A===lg?er:cg},rH=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=eH(r,e.lineBreak),n=t[0],i=t[1],a=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(l){return[na,Hd,Qk].indexOf(l)!==-1?Om:l}));var o=e.wordBreak==="keep-all"?a.map(function(l,c){return l&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,i,o]},nH=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===Hk,this.start=n,this.end=i}return r.prototype.slice=function(){return Cn.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),sH=function(r,e){var t=X0(r),n=rH(t,e),i=n[0],a=n[1],o=n[2],l=t.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=er;u<l&&(A=tH(t,a,i,++u,o))===er;);if(A!==er||u===l){var f=new nH(t,A,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},iH=1,aH=2,Vm=4,xC=8,x0=10,yC=47,ym=92,oH=9,lH=32,ug=34,Qf=61,cH=35,uH=36,dH=37,dg=39,Ag=40,Hf=41,AH=95,Li=45,hH=33,fH=60,mH=62,pH=64,gH=91,xH=93,yH=61,vH=123,hg=63,bH=125,vC=124,wH=126,NH=128,bC=65533,xb=42,Vd=43,jH=44,BH=58,_H=59,Pm=46,CH=0,EH=8,SH=11,kH=14,FH=31,TH=127,Jo=-1,zk=48,Kk=97,Vk=101,IH=102,LH=117,DH=122,Wk=65,Gk=69,$k=70,UH=85,OH=90,Hs=function(r){return r>=zk&&r<=57},PH=function(r){return r>=55296&&r<=57343},rh=function(r){return Hs(r)||r>=Wk&&r<=$k||r>=Kk&&r<=IH},RH=function(r){return r>=Kk&&r<=DH},MH=function(r){return r>=Wk&&r<=OH},QH=function(r){return RH(r)||MH(r)},HH=function(r){return r>=NH},fg=function(r){return r===x0||r===oH||r===lH},y0=function(r){return QH(r)||HH(r)||r===AH},wC=function(r){return y0(r)||Hs(r)||r===Li},qH=function(r){return r>=CH&&r<=EH||r===SH||r>=kH&&r<=FH||r===TH},ju=function(r,e){return r!==ym?!1:e!==x0},mg=function(r,e,t){return r===Li?y0(e)||ju(e,t):y0(r)?!0:!!(r===ym&&ju(r,e))},yb=function(r,e,t){return r===Vd||r===Li?Hs(e)?!0:e===Pm&&Hs(t):Hs(r===Pm?e:r)},zH=function(r){var e=0,t=1;(r[e]===Vd||r[e]===Li)&&(r[e]===Li&&(t=-1),e++);for(var n=[];Hs(r[e]);)n.push(r[e++]);var i=n.length?parseInt(Cn.apply(void 0,n),10):0;r[e]===Pm&&e++;for(var a=[];Hs(r[e]);)a.push(r[e++]);var o=a.length,l=o?parseInt(Cn.apply(void 0,a),10):0;(r[e]===Gk||r[e]===Vk)&&e++;var c=1;(r[e]===Vd||r[e]===Li)&&(r[e]===Li&&(c=-1),e++);for(var u=[];Hs(r[e]);)u.push(r[e++]);var A=u.length?parseInt(Cn.apply(void 0,u),10):0;return t*(i+l*Math.pow(10,-o))*Math.pow(10,c*A)},KH={type:2},VH={type:3},WH={type:4},GH={type:13},$H={type:8},YH={type:21},XH={type:9},JH={type:10},ZH={type:11},eq={type:12},tq={type:14},pg={type:23},rq={type:1},nq={type:25},sq={type:24},iq={type:26},aq={type:27},oq={type:28},lq={type:29},cq={type:31},x2={type:32},Yk=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(X0(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==x2;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ug:return this.consumeStringToken(ug);case cH:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(wC(t)||ju(n,i)){var a=mg(t,n,i)?aH:iH,o=this.consumeName();return{type:5,value:o,flags:a}}break;case uH:if(this.peekCodePoint(0)===Qf)return this.consumeCodePoint(),GH;break;case dg:return this.consumeStringToken(dg);case Ag:return KH;case Hf:return VH;case xb:if(this.peekCodePoint(0)===Qf)return this.consumeCodePoint(),tq;break;case Vd:if(yb(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case jH:return WH;case Li:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(yb(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(mg(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Li&&u===mH)return this.consumeCodePoint(),this.consumeCodePoint(),sq;break;case Pm:if(yb(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yC:if(this.peekCodePoint(0)===xb)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===xb&&(A=this.consumeCodePoint(),A===yC))return this.consumeToken();if(A===Jo)return this.consumeToken()}break;case BH:return iq;case _H:return aq;case fH:if(this.peekCodePoint(0)===hH&&this.peekCodePoint(1)===Li&&this.peekCodePoint(2)===Li)return this.consumeCodePoint(),this.consumeCodePoint(),nq;break;case pH:var f=this.peekCodePoint(0),m=this.peekCodePoint(1),h=this.peekCodePoint(2);if(mg(f,m,h)){var o=this.consumeName();return{type:7,value:o}}break;case gH:return oq;case ym:if(ju(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case xH:return lq;case yH:if(this.peekCodePoint(0)===Qf)return this.consumeCodePoint(),$H;break;case vH:return ZH;case bH:return eq;case LH:case UH:var v=this.peekCodePoint(0),x=this.peekCodePoint(1);return v===Vd&&(rh(x)||x===hg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vC:if(this.peekCodePoint(0)===Qf)return this.consumeCodePoint(),XH;if(this.peekCodePoint(0)===vC)return this.consumeCodePoint(),YH;break;case wH:if(this.peekCodePoint(0)===Qf)return this.consumeCodePoint(),JH;break;case Jo:return x2}return fg(e)?(this.consumeWhiteSpace(),cq):Hs(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):y0(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Cn(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();rh(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===hg&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Cn.apply(void 0,e.map(function(c){return c===hg?zk:c})),16),a=parseInt(Cn.apply(void 0,e.map(function(c){return c===hg?$k:c})),16);return{type:30,start:i,end:a}}var o=parseInt(Cn.apply(void 0,e),16);if(this.peekCodePoint(0)===Li&&rh(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var l=[];rh(t)&&l.length<6;)l.push(t),t=this.consumeCodePoint();var a=parseInt(Cn.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ag?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ag?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Jo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===dg||t===ug){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Jo||this.peekCodePoint(0)===Hf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),pg)}for(;;){var i=this.consumeCodePoint();if(i===Jo||i===Hf)return{type:22,value:Cn.apply(void 0,e)};if(fg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Jo||this.peekCodePoint(0)===Hf?(this.consumeCodePoint(),{type:22,value:Cn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),pg);if(i===ug||i===dg||i===Ag||qH(i))return this.consumeBadUrlRemnants(),pg;if(i===ym)if(ju(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),pg;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;fg(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Hf||e===Jo)return;ju(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=Cn.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===Jo||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===x0)return this._value.splice(0,n),rq;if(i===ym){var a=this._value[n+1];a!==Jo&&a!==void 0&&(a===x0?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):ju(i,a)&&(t+=this.consumeStringSlice(n),t+=Cn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Vm,n=this.peekCodePoint(0);for((n===Vd||n===Li)&&e.push(this.consumeCodePoint());Hs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Pm&&Hs(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=xC;Hs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===Gk||n===Vk)&&((i===Vd||i===Li)&&Hs(a)||Hs(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=xC;Hs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[zH(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(mg(i,a,o)){var l=this.consumeName();return{type:15,number:t,flags:n,unit:l}}return i===dH?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(rh(e)){for(var t=Cn(e);rh(this.peekCodePoint(0))&&t.length<6;)t+=Cn(this.consumeCodePoint());fg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||PH(n)||n>1114111?bC:n}return e===Jo?bC:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(wC(t))e+=Cn(t);else if(ju(t,this.peekCodePoint(0)))e+=Cn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),Xk=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new Yk;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||dq(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?x2:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),Wm=function(r){return r.type===15},nf=function(r){return r.type===17},Tr=function(r){return r.type===20},uq=function(r){return r.type===0},y2=function(r,e){return Tr(r)&&r.value===e},Jk=function(r){return r.type!==31},Mh=function(r){return r.type!==31&&r.type!==4},gl=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},dq=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},qu=function(r){return r.type===17||r.type===15},Rn=function(r){return r.type===16||qu(r)},Zk=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},vs={type:17,number:0,flags:Vm},O5={type:16,number:50,flags:Vm},Fu={type:16,number:100,flags:Vm},lm=function(r,e,t){var n=r[0],i=r[1];return[Rr(n,e),Rr(typeof i<"u"?i:n,t)]},Rr=function(r,e){if(r.type===16)return r.number/100*e;if(Wm(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},eF="deg",tF="grad",rF="rad",nF="turn",J0={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case eF:return Math.PI*e.number/180;case tF:return Math.PI/200*e.number;case rF:return e.number;case nF:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},sF=function(r){return r.type===15&&(r.unit===eF||r.unit===tF||r.unit===rF||r.unit===nF)},iF=function(r){var e=r.filter(Tr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[vs,vs];case"to top":case"bottom":return Fa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[vs,Fu];case"to right":case"left":return Fa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fu,Fu];case"to bottom":case"top":return Fa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fu,vs];case"to left":case"right":return Fa(270)}return 0},Fa=function(r){return Math.PI*r/180},Uu={name:"color",parse:function(r,e){if(e.type===18){var t=Aq[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3);return Tu(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return Tu(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6);return Tu(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return Tu(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var l=pc[e.value.toUpperCase()];if(typeof l<"u")return l}return pc.TRANSPARENT}},Ou=function(r){return(255&r)===0},is=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},Tu=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},NC=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},jC=function(r,e){var t=e.filter(Mh);if(t.length===3){var n=t.map(NC),i=n[0],a=n[1],o=n[2];return Tu(i,a,o,1)}if(t.length===4){var l=t.map(NC),i=l[0],a=l[1],o=l[2],c=l[3];return Tu(i,a,o,c)}return 0};function vb(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var BC=function(r,e){var t=e.filter(Mh),n=t[0],i=t[1],a=t[2],o=t[3],l=(n.type===17?Fa(n.number):J0.parse(r,n))/(Math.PI*2),c=Rn(i)?i.number/100:0,u=Rn(a)?a.number/100:0,A=typeof o<"u"&&Rn(o)?Rr(o,1):1;if(c===0)return Tu(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,m=u*2-f,h=vb(m,f,l+1/3),v=vb(m,f,l),x=vb(m,f,l-1/3);return Tu(h*255,v*255,x*255,A)},Aq={hsl:BC,hsla:BC,rgb:jC,rgba:jC},vm=function(r,e){return Uu.parse(r,Xk.create(e).parseComponentValue())},pc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Tr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Z0=function(r,e){var t=Uu.parse(r,e[0]),n=e[1];return n&&Rn(n)?{color:t,stop:n}:{color:t,stop:null}},_C=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=vs),n.stop===null&&(n.stop=Fu);for(var i=[],a=0,o=0;o<r.length;o++){var l=r[o].stop;if(l!==null){var c=Rr(l,e);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var u=null,o=0;o<i.length;o++){var A=i[o];if(A===null)u===null&&(u=o);else if(u!==null){for(var f=o-u,m=i[u-1],h=(A-m)/(f+1),v=1;v<=f;v++)i[u+v-1]=h*v;u=null}}return r.map(function(x,b){var p=x.color;return{color:p,stop:Math.max(Math.min(1,i[b]/e),0)}})},mq=function(r,e,t){var n=e/2,i=t/2,a=Rr(r[0],e)-n,o=i-Rr(r[1],t);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},pq=function(r,e,t){var n=typeof r=="number"?r:mq(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),a=e/2,o=t/2,l=i/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[i,a-u,a+u,o-c,o+c]},fo=function(r,e){return Math.sqrt(r*r+e*e)},CC=function(r,e,t,n,i){var a=[[0,0],[0,e],[r,0],[r,e]];return a.reduce(function(o,l){var c=l[0],u=l[1],A=fo(t-c,n-u);return(i?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:l,optimumDistance:A}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},gq=function(r,e,t,n,i){var a=0,o=0;switch(r.size){case 0:r.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)a=o=Math.min(fo(e,t),fo(e,t-i),fo(e-n,t),fo(e-n,t-i));else if(r.shape===1){var l=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),c=CC(n,i,e,t,!0),u=c[0],A=c[1];a=fo(u-e,(A-t)/l),o=l*a}break;case 1:r.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)a=o=Math.max(fo(e,t),fo(e,t-i),fo(e-n,t),fo(e-n,t-i));else if(r.shape===1){var l=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),f=CC(n,i,e,t,!1),u=f[0],A=f[1];a=fo(u-e,(A-t)/l),o=l*a}break}return Array.isArray(r.size)&&(a=Rr(r.size[0],n),o=r.size.length===2?Rr(r.size[1],i):a),[a,o]},xq=function(r,e){var t=Fa(180),n=[];return gl(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){t=iF(i);return}else if(sF(o)){t=J0.parse(r,o);return}}var l=Z0(r,i);n.push(l)}),{angle:t,stops:n,type:1}},gg=function(r,e){var t=Fa(180),n=[];return gl(e).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=iF(i);return}else if(sF(o)){t=(J0.parse(r,o)+Fa(270))%Fa(360);return}}var l=Z0(r,i);n.push(l)}),{angle:t,stops:n,type:1}},yq=function(r,e){var t=Fa(180),n=[],i=1,a=0,o=3,l=[];return gl(e).forEach(function(c,u){var A=c[0];if(u===0){if(Tr(A)&&A.value==="linear"){i=1;return}else if(Tr(A)&&A.value==="radial"){i=2;return}}if(A.type===18){if(A.name==="from"){var f=Uu.parse(r,A.values[0]);n.push({stop:vs,color:f})}else if(A.name==="to"){var f=Uu.parse(r,A.values[0]);n.push({stop:Fu,color:f})}else if(A.name==="color-stop"){var m=A.values.filter(Mh);if(m.length===2){var f=Uu.parse(r,m[1]),h=m[0];nf(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:f})}}}}),i===1?{angle:(t+Fa(180))%Fa(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:l,type:i}},aF="closest-side",oF="farthest-side",lF="closest-corner",cF="farthest-corner",uF="circle",dF="ellipse",AF="cover",hF="contain",vq=function(r,e){var t=0,n=3,i=[],a=[];return gl(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(f,m){if(u)if(Tr(m))switch(m.value){case"center":return a.push(O5),f;case"top":case"left":return a.push(vs),f;case"right":case"bottom":return a.push(Fu),f}else(Rn(m)||qu(m))&&a.push(m);else if(Tr(m))switch(m.value){case uF:return t=0,!1;case dF:return t=1,!1;case"at":return u=!0,!1;case aF:return n=0,!1;case AF:case oF:return n=1,!1;case hF:case lF:return n=2,!1;case cF:return n=3,!1}else if(qu(m)||Rn(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return f},c)}if(c){var A=Z0(r,o);i.push(A)}}),{size:n,shape:t,stops:i,position:a,type:2}},xg=function(r,e){var t=0,n=3,i=[],a=[];return gl(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(A,f){if(Tr(f))switch(f.value){case"center":return a.push(O5),!1;case"top":case"left":return a.push(vs),!1;case"right":case"bottom":return a.push(Fu),!1}else if(Rn(f)||qu(f))return a.push(f),!1;return A},c):l===1&&(c=o.reduce(function(A,f){if(Tr(f))switch(f.value){case uF:return t=0,!1;case dF:return t=1,!1;case hF:case aF:return n=0,!1;case oF:return n=1,!1;case lF:return n=2,!1;case AF:case cF:return n=3,!1}else if(qu(f)||Rn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return A},c)),c){var u=Z0(r,o);i.push(u)}}),{size:n,shape:t,stops:i,position:a,type:2}},bq=function(r){return r.type===1},wq=function(r){return r.type===2},P5={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=fF[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function Nq(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!fF[r.name])}var fF={"linear-gradient":xq,"-moz-linear-gradient":gg,"-ms-linear-gradient":gg,"-o-linear-gradient":gg,"-webkit-linear-gradient":gg,"radial-gradient":vq,"-moz-radial-gradient":xg,"-ms-radial-gradient":xg,"-o-radial-gradient":xg,"-webkit-radial-gradient":xg,"-webkit-gradient":yq},jq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Mh(n)&&Nq(n)}).map(function(n){return P5.parse(r,n)})}},Bq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Tr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_q={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return gl(e).map(function(t){return t.filter(Rn)}).map(Zk)}},Cq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return gl(e).map(function(t){return t.filter(Tr).map(function(n){return n.value}).join(" ")}).map(Eq)}},Eq=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ch;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Ch||(Ch={}));var Sq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return gl(e).map(function(t){return t.filter(kq)})}},kq=function(r){return Tr(r)||Rn(r)},ex=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fq=ex("top"),Tq=ex("right"),Iq=ex("bottom"),Lq=ex("left"),tx=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Zk(t.filter(Rn))}}},Dq=tx("top-left"),Uq=tx("top-right"),Oq=tx("bottom-right"),Pq=tx("bottom-left"),rx=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Rq=rx("top"),Mq=rx("right"),Qq=rx("bottom"),Hq=rx("left"),nx=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Wm(t)?t.number:0}}},qq=nx("top"),zq=nx("right"),Kq=nx("bottom"),Vq=nx("left"),Wq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},$q={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Tr).reduce(function(t,n){return t|Yq(n.value)},0)}},Yq=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Xq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Jq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},v0;(function(r){r.NORMAL="normal",r.STRICT="strict"})(v0||(v0={}));var Zq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return v0.STRICT;case"normal":default:return v0.NORMAL}}},ez={name:"line-height",initialValue:"normal",prefix:!1,type:4},EC=function(r,e){return Tr(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Rn(r)?Rr(r,e):e},tz={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:P5.parse(r,e)}},rz={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},v2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},sx=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},nz=sx("top"),sz=sx("right"),iz=sx("bottom"),az=sx("left"),oz={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Tr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},lz={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ix=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cz=ix("top"),uz=ix("right"),dz=ix("bottom"),Az=ix("left"),hz={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fz={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mz={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&y2(e[0],"none")?[]:gl(e).map(function(t){for(var n={color:pc.TRANSPARENT,offsetX:vs,offsetY:vs,blur:vs},i=0,a=0;a<t.length;a++){var o=t[a];qu(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Uu.parse(r,o)}return n})}},pz={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gz={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=vz[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},xz=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},yz=function(r){var e=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[t,n,i,a,o,l]:null},vz={matrix:xz,matrix3d:yz},SC={type:16,number:50,flags:Vm},bz=[SC,SC],wz={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Rn);return t.length!==2?bz:[t[0],t[1]]}},Nz={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bm;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(bm||(bm={}));var jz={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return bm.BREAK_ALL;case"keep-all":return bm.KEEP_ALL;case"normal":default:return bm.NORMAL}}},Bz={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(nf(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},mF={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_z={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return nf(e)?e.number:1}},Cz={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ez={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Tr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Sz={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},kz={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Fz={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(nf(e))return e.number;if(Tr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Tz={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Tr).map(function(t){return t.value})}},Iz={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Vn=function(r,e){return(r&e)!==0},Lz={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Dz={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(Jk),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var c=l&&nf(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},Uz={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(Jk),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(Tr(a)&&a.value!=="none"){var l=o&&nf(o)?o.number:0;t.push({counter:a.value,reset:l})}}return t}},Oz={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Wm).map(function(t){return mF.parse(r,t)})}},Pz={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(uq);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;n.push({open:o,close:l})}return n}},kC=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},Rz={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&y2(e[0],"none")?[]:gl(e).map(function(t){for(var n={color:255,offsetX:vs,offsetY:vs,blur:vs,spread:vs,inset:!1},i=0,a=0;a<t.length;a++){var o=t[a];y2(o,"inset")?n.inset=!0:qu(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Uu.parse(r,o)}return n})}},Mz={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(Tr).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Qz={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Hz={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Wm(e)?e.number:0}},qz=function(){function r(e,t){var n,i;this.animationDuration=xt(e,Oz,t.animationDuration),this.backgroundClip=xt(e,hq,t.backgroundClip),this.backgroundColor=xt(e,fq,t.backgroundColor),this.backgroundImage=xt(e,jq,t.backgroundImage),this.backgroundOrigin=xt(e,Bq,t.backgroundOrigin),this.backgroundPosition=xt(e,_q,t.backgroundPosition),this.backgroundRepeat=xt(e,Cq,t.backgroundRepeat),this.backgroundSize=xt(e,Sq,t.backgroundSize),this.borderTopColor=xt(e,Fq,t.borderTopColor),this.borderRightColor=xt(e,Tq,t.borderRightColor),this.borderBottomColor=xt(e,Iq,t.borderBottomColor),this.borderLeftColor=xt(e,Lq,t.borderLeftColor),this.borderTopLeftRadius=xt(e,Dq,t.borderTopLeftRadius),this.borderTopRightRadius=xt(e,Uq,t.borderTopRightRadius),this.borderBottomRightRadius=xt(e,Oq,t.borderBottomRightRadius),this.borderBottomLeftRadius=xt(e,Pq,t.borderBottomLeftRadius),this.borderTopStyle=xt(e,Rq,t.borderTopStyle),this.borderRightStyle=xt(e,Mq,t.borderRightStyle),this.borderBottomStyle=xt(e,Qq,t.borderBottomStyle),this.borderLeftStyle=xt(e,Hq,t.borderLeftStyle),this.borderTopWidth=xt(e,qq,t.borderTopWidth),this.borderRightWidth=xt(e,zq,t.borderRightWidth),this.borderBottomWidth=xt(e,Kq,t.borderBottomWidth),this.borderLeftWidth=xt(e,Vq,t.borderLeftWidth),this.boxShadow=xt(e,Rz,t.boxShadow),this.color=xt(e,Wq,t.color),this.direction=xt(e,Gq,t.direction),this.display=xt(e,$q,t.display),this.float=xt(e,Xq,t.cssFloat),this.fontFamily=xt(e,Sz,t.fontFamily),this.fontSize=xt(e,kz,t.fontSize),this.fontStyle=xt(e,Iz,t.fontStyle),this.fontVariant=xt(e,Tz,t.fontVariant),this.fontWeight=xt(e,Fz,t.fontWeight),this.letterSpacing=xt(e,Jq,t.letterSpacing),this.lineBreak=xt(e,Zq,t.lineBreak),this.lineHeight=xt(e,ez,t.lineHeight),this.listStyleImage=xt(e,tz,t.listStyleImage),this.listStylePosition=xt(e,rz,t.listStylePosition),this.listStyleType=xt(e,v2,t.listStyleType),this.marginTop=xt(e,nz,t.marginTop),this.marginRight=xt(e,sz,t.marginRight),this.marginBottom=xt(e,iz,t.marginBottom),this.marginLeft=xt(e,az,t.marginLeft),this.opacity=xt(e,_z,t.opacity);var a=xt(e,oz,t.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=xt(e,lz,t.overflowWrap),this.paddingTop=xt(e,cz,t.paddingTop),this.paddingRight=xt(e,uz,t.paddingRight),this.paddingBottom=xt(e,dz,t.paddingBottom),this.paddingLeft=xt(e,Az,t.paddingLeft),this.paintOrder=xt(e,Mz,t.paintOrder),this.position=xt(e,fz,t.position),this.textAlign=xt(e,hz,t.textAlign),this.textDecorationColor=xt(e,Cz,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=xt(e,Ez,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=xt(e,mz,t.textShadow),this.textTransform=xt(e,pz,t.textTransform),this.transform=xt(e,gz,t.transform),this.transformOrigin=xt(e,wz,t.transformOrigin),this.visibility=xt(e,Nz,t.visibility),this.webkitTextStrokeColor=xt(e,Qz,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xt(e,Hz,t.webkitTextStrokeWidth),this.wordBreak=xt(e,jz,t.wordBreak),this.zIndex=xt(e,Bz,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Ou(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Vn(this.display,4)||Vn(this.display,33554432)||Vn(this.display,268435456)||Vn(this.display,536870912)||Vn(this.display,67108864)||Vn(this.display,134217728)},r}(),zz=function(){function r(e,t){this.content=xt(e,Lz,t.content),this.quotes=xt(e,Pz,t.quotes)}return r}(),FC=function(){function r(e,t){this.counterIncrement=xt(e,Dz,t.counterIncrement),this.counterReset=xt(e,Uz,t.counterReset)}return r}(),xt=function(r,e,t){var n=new Yk,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var a=new Xk(n.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(r,Tr(o)?o.value:e.initialValue);case 0:return e.parse(r,a.parseComponentValue());case 1:return e.parse(r,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return J0.parse(r,a.parseComponentValue());case"color":return Uu.parse(r,a.parseComponentValue());case"image":return P5.parse(r,a.parseComponentValue());case"length":var l=a.parseComponentValue();return qu(l)?l:vs;case"length-percentage":var c=a.parseComponentValue();return Rn(c)?c:vs;case"time":return mF.parse(r,a.parseComponentValue())}break}},Kz="data-html2canvas-debug",Vz=function(r){var e=r.getAttribute(Kz);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},b2=function(r,e){var t=Vz(r);return t===1||e===t},xl=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,b2(t,3))debugger;this.styles=new qz(e,window.getComputedStyle(t,null)),j2(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Y0(this.context,t),b2(t,4)&&(this.flags|=16)}return r}(),Wz="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",TC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yg=0;yg<TC.length;yg++)cm[TC.charCodeAt(yg)]=yg;var Gz=function(r){var e=r.length*.75,t=r.length,n,i=0,a,o,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)a=cm[r.charCodeAt(n)],o=cm[r.charCodeAt(n+1)],l=cm[r.charCodeAt(n+2)],c=cm[r.charCodeAt(n+3)],A[i++]=a<<2|o>>4,A[i++]=(o&15)<<4|l>>2,A[i++]=(l&3)<<6|c&63;return u},$z=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},Yz=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Jd=5,R5=11,bb=2,Xz=R5-Jd,pF=65536>>Jd,Jz=1<<Jd,wb=Jz-1,Zz=1024>>Jd,eK=pF+Zz,tK=eK,rK=32,nK=tK+rK,sK=65536>>R5,iK=1<<Xz,aK=iK-1,IC=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},oK=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},lK=function(r,e){var t=Gz(r),n=Array.isArray(t)?Yz(t):new Uint32Array(t),i=Array.isArray(t)?$z(t):new Uint16Array(t),a=24,o=IC(i,a/2,n[4]/2),l=n[5]===2?IC(i,(a+n[4])/2):oK(n,Math.ceil((a+n[4])/4));return new cK(n[0],n[1],n[2],n[3],o,l)},cK=function(){function r(e,t,n,i,a,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Jd],t=(t<<bb)+(e&wb),this.data[t];if(e<=65535)return t=this.index[pF+(e-55296>>Jd)],t=(t<<bb)+(e&wb),this.data[t];if(e<this.highStart)return t=nK-sK+(e>>R5),t=this.index[t],t+=e>>Jd&aK,t=this.index[t],t=(t<<bb)+(e&wb),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),LC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vg=0;vg<LC.length;vg++)uK[LC.charCodeAt(vg)]=vg;var dK=1,Nb=2,jb=3,DC=4,UC=5,AK=7,OC=8,Bb=9,_b=10,PC=11,RC=12,MC=13,QC=14,Cb=15,hK=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var a=r.charCodeAt(t++);(a&64512)===56320?e.push(((i&1023)<<10)+(a&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},fK=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,a="";++i<t;){var o=r[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===t||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},mK=lK(Wz),Ca="×",Eb="÷",pK=function(r){return mK.get(r)},gK=function(r,e,t){var n=t-2,i=e[n],a=e[t-1],o=e[t];if(a===Nb&&o===jb)return Ca;if(a===Nb||a===jb||a===DC||o===Nb||o===jb||o===DC)return Eb;if(a===OC&&[OC,Bb,PC,RC].indexOf(o)!==-1||(a===PC||a===Bb)&&(o===Bb||o===_b)||(a===RC||a===_b)&&o===_b||o===MC||o===UC||o===AK||a===dK)return Ca;if(a===MC&&o===QC){for(;i===UC;)i=e[--n];if(i===QC)return Ca}if(a===Cb&&o===Cb){for(var l=0;i===Cb;)l++,i=e[--n];if(l%2===0)return Ca}return Eb},xK=function(r){var e=hK(r),t=e.length,n=0,i=0,a=e.map(pK);return{next:function(){if(n>=t)return{done:!0,value:null};for(var o=Ca;n<t&&(o=gK(e,a,++n))===Ca;);if(o!==Ca||n===t){var l=fK.apply(null,e.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},yK=function(r){for(var e=xK(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},vK=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),a=Math.round(i.height);if(r.body.removeChild(n),a===e)return!0}}return!1},bK=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=X0(n.data).map(function(c){return Cn(c)}),a=0,o={},l=i.every(function(c,u){t.setStart(n,a),t.setEnd(n,a+c.length);var A=t.getBoundingClientRect();a+=c.length;var f=A.x>o.x||A.y>o.y;return o=A,u===0?!0:f});return r.body.removeChild(e),l},wK=function(){return typeof new Image().crossOrigin<"u"},NK=function(){return typeof new XMLHttpRequest().responseType=="string"},jK=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},HC=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},BK=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,a=e.toDataURL();i.src=a;var o=w2(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),qC(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=t+"px",HC(c)?qC(w2(t,t,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),HC(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},w2=function(r,e,t,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",r.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},qC=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},ys={get SUPPORT_RANGE_BOUNDS(){var r=vK(document);return Object.defineProperty(ys,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=ys.SUPPORT_RANGE_BOUNDS&&bK(document);return Object.defineProperty(ys,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=jK(document);return Object.defineProperty(ys,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?BK(document):Promise.resolve(!1);return Object.defineProperty(ys,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=wK();return Object.defineProperty(ys,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=NK();return Object.defineProperty(ys,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ys,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ys,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},wm=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),_K=function(r,e,t,n){var i=SK(e,t),a=[],o=0;return i.forEach(function(l){if(t.textDecorationLine.length||l.trim().length>0)if(ys.SUPPORT_RANGE_BOUNDS){var c=zC(n,o,l.length).getClientRects();if(c.length>1){var u=M5(l),A=0;u.forEach(function(m){a.push(new wm(m,yc.fromDOMRectList(r,zC(n,A+o,m.length).getClientRects()))),A+=m.length})}else a.push(new wm(l,yc.fromDOMRectList(r,c)))}else{var f=n.splitText(l.length);a.push(new wm(l,CK(r,n))),n=f}else ys.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},CK=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var a=Y0(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return yc.EMPTY},zC=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},M5=function(r){if(ys.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return yK(r)},EK=function(r,e){if(ys.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return FK(r,e)},SK=function(r,e){return e.letterSpacing!==0?M5(r):EK(r,e)},kK=[32,160,4961,65792,65793,4153,4241],FK=function(r,e){for(var t=sH(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),l=X0(o),c="";l.forEach(function(u){kK.indexOf(u)===-1?c+=Cn(u):(c.length&&n.push(c),n.push(Cn(u)),c="")}),c.length&&n.push(c)}};!(i=t.next()).done;)a();return n},TK=function(){function r(e,t,n){this.text=IK(t.data,n.textTransform),this.textBounds=_K(e,this.text,n,t)}return r}(),IK=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(LK,DK);case 2:return r.toUpperCase();default:return r}},LK=/(^|\s|:|-|\(|\))([a-z])/g,DK=function(r,e,t){return r.length>0?e+t.toUpperCase():r},gF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(xl),xF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(xl),yF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this,a=new XMLSerializer,o=Y0(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(xl),vF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(xl),N2=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(xl),UK=[{type:15,flags:0,unit:"px",number:3}],OK=[{type:16,flags:0,number:50}],PK=function(r){return r.width>r.height?new yc(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new yc(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},RK=function(r){var e=r.type===MK?new Array(r.value.length+1).join("•"):r.value;return e.length===0?r.placeholder||"":e},b0="checkbox",w0="radio",MK="password",KC=707406591,Q5=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=RK(n),(i.type===b0||i.type===w0)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=PK(i.bounds)),i.type){case b0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=UK;break;case w0:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=OK;break}return i}return e}(xl),bF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return e}(xl),wF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(xl),NF=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=BF(t,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?vm(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):pc.TRANSPARENT,o=n.contentWindow.document.body?vm(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):pc.TRANSPARENT;i.backgroundColor=Ou(a)?Ou(o)?i.styles.backgroundColor:o:a}}catch{}return i}return e}(xl),QK=["OL","UL","MENU"],$g=function(r,e,t,n){for(var i=e.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,_F(i)&&i.data.trim().length>0)t.textNodes.push(new TK(r,i,t.styles));else if(Nh(i))if(kF(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return $g(r,l,t,n)});else{var o=jF(r,i);o.styles.isVisible()&&(HK(i,o,n)?o.flags|=4:qK(o.styles)&&(o.flags|=2),QK.indexOf(i.tagName)!==-1&&(o.flags|=8),t.elements.push(o),i.slot,i.shadowRoot?$g(r,i.shadowRoot,o,n):!N0(i)&&!CF(i)&&!j0(i)&&$g(r,i,o,n))}},jF=function(r,e){return B2(e)?new gF(r,e):EF(e)?new xF(r,e):CF(e)?new yF(r,e):zK(e)?new vF(r,e):KK(e)?new N2(r,e):VK(e)?new Q5(r,e):j0(e)?new bF(r,e):N0(e)?new wF(r,e):SF(e)?new NF(r,e):new xl(r,e)},BF=function(r,e){var t=jF(r,e);return t.flags|=4,$g(r,e,t,t),t},HK=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||H5(r)&&t.styles.isTransparent()},qK=function(r){return r.isPositioned()||r.isFloating()},_F=function(r){return r.nodeType===Node.TEXT_NODE},Nh=function(r){return r.nodeType===Node.ELEMENT_NODE},j2=function(r){return Nh(r)&&typeof r.style<"u"&&!Yg(r)},Yg=function(r){return typeof r.className=="object"},zK=function(r){return r.tagName==="LI"},KK=function(r){return r.tagName==="OL"},VK=function(r){return r.tagName==="INPUT"},WK=function(r){return r.tagName==="HTML"},CF=function(r){return r.tagName==="svg"},H5=function(r){return r.tagName==="BODY"},EF=function(r){return r.tagName==="CANVAS"},VC=function(r){return r.tagName==="VIDEO"},B2=function(r){return r.tagName==="IMG"},SF=function(r){return r.tagName==="IFRAME"},WC=function(r){return r.tagName==="STYLE"},GK=function(r){return r.tagName==="SCRIPT"},N0=function(r){return r.tagName==="TEXTAREA"},j0=function(r){return r.tagName==="SELECT"},kF=function(r){return r.tagName==="SLOT"},GC=function(r){return r.tagName.indexOf("-")>0},$K=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=t.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var c=t.counters[l.counter];o.push(l.counter),c||(c=t.counters[l.counter]=[]),c.push(l.reset)}),o},r}(),$C={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},YC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},YK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},XK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},nh=function(r,e,t,n,i,a){return r<e||r>t?Rm(r,i,a.length>0):n.integers.reduce(function(o,l,c){for(;r>=l;)r-=l,o+=n.values[c];return o},"")+a},FF=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},_n=function(r,e,t,n,i){var a=t-e+1;return(r<0?"-":"")+(FF(Math.abs(r),a,n,function(o){return Cn(Math.floor(o%a)+e)})+i)},Td=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return FF(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},gh=1,bu=2,wu=4,um=8,rc=function(r,e,t,n,i,a){if(r<-9999||r>9999)return Rm(r,4,i.length>0);var o=Math.abs(r),l=i;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&Vn(a,gh)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Vn(a,bu)||u===1&&c===1&&Vn(a,wu)&&r>100||u===1&&c>1&&Vn(a,um)?l=e[u]+(c>0?t[c-1]:"")+l:u===1&&c>0&&(l=t[c-1]+l),o=Math.floor(o/10)}return(r<0?n:"")+l},XC="十百千萬",JC="拾佰仟萬",ZC="マイナス",Sb="마이너스",Rm=function(r,e,t){var n=t?". ":"",i=t?"、":"",a=t?", ":"",o=t?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=_n(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Td(r,"〇一二三四五六七八九",i);case 6:return nh(r,1,3999,$C,3,n).toLowerCase();case 7:return nh(r,1,3999,$C,3,n);case 8:return _n(r,945,969,!1,n);case 9:return _n(r,97,122,!1,n);case 10:return _n(r,65,90,!1,n);case 11:return _n(r,1632,1641,!0,n);case 12:case 49:return nh(r,1,9999,YC,3,n);case 35:return nh(r,1,9999,YC,3,n).toLowerCase();case 13:return _n(r,2534,2543,!0,n);case 14:case 30:return _n(r,6112,6121,!0,n);case 15:return Td(r,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Td(r,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return rc(r,"零一二三四五六七八九",XC,"負",i,bu|wu|um);case 47:return rc(r,"零壹貳參肆伍陸柒捌玖",JC,"負",i,gh|bu|wu|um);case 42:return rc(r,"零一二三四五六七八九",XC,"负",i,bu|wu|um);case 41:return rc(r,"零壹贰叁肆伍陆柒捌玖",JC,"负",i,gh|bu|wu|um);case 26:return rc(r,"〇一二三四五六七八九","十百千万",ZC,i,0);case 25:return rc(r,"零壱弐参四伍六七八九","拾百千万",ZC,i,gh|bu|wu);case 31:return rc(r,"영일이삼사오육칠팔구","십백천만",Sb,a,gh|bu|wu);case 33:return rc(r,"零一二三四五六七八九","十百千萬",Sb,a,0);case 32:return rc(r,"零壹貳參四五六七八九","拾百千",Sb,a,gh|bu|wu);case 18:return _n(r,2406,2415,!0,n);case 20:return nh(r,1,19999,XK,3,n);case 21:return _n(r,2790,2799,!0,n);case 22:return _n(r,2662,2671,!0,n);case 22:return nh(r,1,10999,YK,3,n);case 23:return Td(r,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Td(r,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return _n(r,3302,3311,!0,n);case 28:return Td(r,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Td(r,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return _n(r,3792,3801,!0,n);case 37:return _n(r,6160,6169,!0,n);case 38:return _n(r,4160,4169,!0,n);case 39:return _n(r,2918,2927,!0,n);case 40:return _n(r,1776,1785,!0,n);case 43:return _n(r,3046,3055,!0,n);case 44:return _n(r,3174,3183,!0,n);case 45:return _n(r,3664,3673,!0,n);case 46:return _n(r,3872,3881,!0,n);case 3:default:return _n(r,48,57,!0,n)}},TF="data-html2canvas-ignore",eE=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new $K,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=JK(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=i.contentWindow,c=l.document,u=tV(i).then(function(){return di(n,void 0,void 0,function(){var A,f;return Ms(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(iV),l&&(l.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==t.top||l.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),A=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eV(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,f)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(nV(document.doctype)+"<html></html>"),sV(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},r.prototype.createElementClone=function(e){if(b2(e,2))debugger;if(EF(e))return this.createCanvasClone(e);if(VC(e))return this.createVideoClone(e);if(WC(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return B2(t)&&(B2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),GC(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return kb(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var a=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var l=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Nh(t)||!GK(t)&&!t.hasAttribute(TF)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Nh(t)||!WC(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Nh(a)&&kF(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(t,l,n)})}else this.appendChildNode(t,a,n)},r.prototype.cloneNode=function(e,t){if(_F(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Nh(e)&&(j2(e)||Yg(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var a=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&j2(i)&&(this.clonedReferenceElement=i),H5(i)&&lV(i);var c=this.counters.parse(new FC(this.context,a)),u=this.resolvePseudoContent(e,i,o,Nm.BEFORE);GC(e)&&(t=!0),VC(e)||this.cloneChildNodes(e,i,t),u&&i.insertBefore(u,i.firstChild);var A=this.resolvePseudoContent(e,i,l,Nm.AFTER);return A&&i.appendChild(A),this.counters.pop(c),(a&&(this.options.copyStyles||Yg(e))&&!SF(e)||t)&&kb(a,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(N0(e)||j0(e))&&(N0(i)||j0(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var a=this;if(n){var o=n.content,l=t.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new FC(this.context,n));var c=new zz(this.context,n),u=l.createElement("html2canvaspseudoelement");kb(n,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(l.createTextNode(f.value));else if(f.type===22){var m=l.createElement("img");m.src=f.value,m.style.opacity="1",u.appendChild(m)}else if(f.type===18){if(f.name==="attr"){var h=f.values.filter(Tr);h.length&&u.appendChild(l.createTextNode(e.getAttribute(h[0].value)||""))}else if(f.name==="counter"){var v=f.values.filter(Mh),x=v[0],b=v[1];if(x&&Tr(x)){var p=a.counters.getCounterValue(x.value),y=b&&Tr(b)?v2.parse(a.context,b.value):3;u.appendChild(l.createTextNode(Rm(p,y,!1)))}}else if(f.name==="counters"){var N=f.values.filter(Mh),x=N[0],w=N[1],b=N[2];if(x&&Tr(x)){var j=a.counters.getCounterValues(x.value),k=b&&Tr(b)?v2.parse(a.context,b.value):3,I=w&&w.type===0?w.value:"",F=j.map(function(T){return Rm(T,k,!1)}).join(I);u.appendChild(l.createTextNode(F))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(l.createTextNode(kC(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(kC(c.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(f.value))}}),u.className=_2+" "+C2;var A=i===Nm.BEFORE?" "+_2:" "+C2;return Yg(t)?t.className.baseValue+=A:t.className+=A,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),Nm;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(Nm||(Nm={}));var JK=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(TF,"true"),r.body.appendChild(t),t},ZK=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},eV=function(r){return Promise.all([].slice.call(r.images,0).map(ZK))},tV=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),e(r))},50)}})},rV=["all","d","content"],kb=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);rV.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},nV=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},sV=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},iV=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},aV=":before",oV=":after",_2="___html2canvas___pseudoelement_before",C2="___html2canvas___pseudoelement_after",tE=`{
    content: "" !important;
    display: none !important;
}`,lV=function(r){cV(r,"."+_2+aV+tE+`
         .`+C2+oV+tE)},cV=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},IF=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),uV=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Tb(e)||fV(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return di(this,void 0,void 0,function(){var t,n,i,a,o=this;return Ms(this,function(l){switch(l.label){case 0:return t=IF.isSameOrigin(e),n=!Fb(e)&&this._options.useCORS===!0&&ys.SUPPORT_CORS_IMAGES&&!t,i=!Fb(e)&&!t&&!Tb(e)&&typeof this._options.proxy=="string"&&ys.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!Fb(e)&&!Tb(e)&&!i&&!n?[2]:(a=e,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(mV(a)||n)&&(A.crossOrigin="anonymous"),A.src=a,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(a,o){var l=ys.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return a(f.result)},!1),f.addEventListener("error",function(m){return o(m)},!1),f.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),t._options.imageTimeout){var A=t._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+i)}}c.send()})},r}(),dV=/^data:image\/svg\+xml/i,AV=/^data:image\/.*;base64,/i,hV=/^data:image\/.*/i,fV=function(r){return ys.SUPPORT_SVG_DRAWING||!pV(r)},Fb=function(r){return hV.test(r)},mV=function(r){return AV.test(r)},Tb=function(r){return r.substr(0,4)==="blob"},pV=function(r){return r.substr(-3).toLowerCase()==="svg"||dV.test(r)},pt=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),sh=function(r,e,t){return new pt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},bg=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=sh(this.start,this.startControl,e),i=sh(this.startControl,this.endControl,e),a=sh(this.endControl,this.end,e),o=sh(n,i,e),l=sh(i,a,e),c=sh(o,l,e);return t?new r(this.start,n,o,c):new r(c,l,a,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),Ea=function(r){return r.type===1},gV=function(){function r(e){var t=e.styles,n=e.bounds,i=lm(t.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],l=lm(t.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=lm(t.borderBottomRightRadius,n.width,n.height),f=A[0],m=A[1],h=lm(t.borderBottomLeftRadius,n.width,n.height),v=h[0],x=h[1],b=[];b.push((a+c)/n.width),b.push((v+f)/n.width),b.push((o+x)/n.height),b.push((u+m)/n.height);var p=Math.max.apply(Math,b);p>1&&(a/=p,o/=p,c/=p,u/=p,f/=p,m/=p,v/=p,x/=p);var y=n.width-c,N=n.height-m,w=n.width-f,j=n.height-x,k=t.borderTopWidth,I=t.borderRightWidth,F=t.borderBottomWidth,C=t.borderLeftWidth,P=Rr(t.paddingTop,e.bounds.width),T=Rr(t.paddingRight,e.bounds.width),_=Rr(t.paddingBottom,e.bounds.width),U=Rr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?rn(n.left+C/3,n.top+k/3,a-C/3,o-k/3,vr.TOP_LEFT):new pt(n.left+C/3,n.top+k/3),this.topRightBorderDoubleOuterBox=a>0||o>0?rn(n.left+y,n.top+k/3,c-I/3,u-k/3,vr.TOP_RIGHT):new pt(n.left+n.width-I/3,n.top+k/3),this.bottomRightBorderDoubleOuterBox=f>0||m>0?rn(n.left+w,n.top+N,f-I/3,m-F/3,vr.BOTTOM_RIGHT):new pt(n.left+n.width-I/3,n.top+n.height-F/3),this.bottomLeftBorderDoubleOuterBox=v>0||x>0?rn(n.left+C/3,n.top+j,v-C/3,x-F/3,vr.BOTTOM_LEFT):new pt(n.left+C/3,n.top+n.height-F/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?rn(n.left+C*2/3,n.top+k*2/3,a-C*2/3,o-k*2/3,vr.TOP_LEFT):new pt(n.left+C*2/3,n.top+k*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?rn(n.left+y,n.top+k*2/3,c-I*2/3,u-k*2/3,vr.TOP_RIGHT):new pt(n.left+n.width-I*2/3,n.top+k*2/3),this.bottomRightBorderDoubleInnerBox=f>0||m>0?rn(n.left+w,n.top+N,f-I*2/3,m-F*2/3,vr.BOTTOM_RIGHT):new pt(n.left+n.width-I*2/3,n.top+n.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||x>0?rn(n.left+C*2/3,n.top+j,v-C*2/3,x-F*2/3,vr.BOTTOM_LEFT):new pt(n.left+C*2/3,n.top+n.height-F*2/3),this.topLeftBorderStroke=a>0||o>0?rn(n.left+C/2,n.top+k/2,a-C/2,o-k/2,vr.TOP_LEFT):new pt(n.left+C/2,n.top+k/2),this.topRightBorderStroke=a>0||o>0?rn(n.left+y,n.top+k/2,c-I/2,u-k/2,vr.TOP_RIGHT):new pt(n.left+n.width-I/2,n.top+k/2),this.bottomRightBorderStroke=f>0||m>0?rn(n.left+w,n.top+N,f-I/2,m-F/2,vr.BOTTOM_RIGHT):new pt(n.left+n.width-I/2,n.top+n.height-F/2),this.bottomLeftBorderStroke=v>0||x>0?rn(n.left+C/2,n.top+j,v-C/2,x-F/2,vr.BOTTOM_LEFT):new pt(n.left+C/2,n.top+n.height-F/2),this.topLeftBorderBox=a>0||o>0?rn(n.left,n.top,a,o,vr.TOP_LEFT):new pt(n.left,n.top),this.topRightBorderBox=c>0||u>0?rn(n.left+y,n.top,c,u,vr.TOP_RIGHT):new pt(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||m>0?rn(n.left+w,n.top+N,f,m,vr.BOTTOM_RIGHT):new pt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||x>0?rn(n.left,n.top+j,v,x,vr.BOTTOM_LEFT):new pt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?rn(n.left+C,n.top+k,Math.max(0,a-C),Math.max(0,o-k),vr.TOP_LEFT):new pt(n.left+C,n.top+k),this.topRightPaddingBox=c>0||u>0?rn(n.left+Math.min(y,n.width-I),n.top+k,y>n.width+I?0:Math.max(0,c-I),Math.max(0,u-k),vr.TOP_RIGHT):new pt(n.left+n.width-I,n.top+k),this.bottomRightPaddingBox=f>0||m>0?rn(n.left+Math.min(w,n.width-C),n.top+Math.min(N,n.height-F),Math.max(0,f-I),Math.max(0,m-F),vr.BOTTOM_RIGHT):new pt(n.left+n.width-I,n.top+n.height-F),this.bottomLeftPaddingBox=v>0||x>0?rn(n.left+C,n.top+Math.min(j,n.height-F),Math.max(0,v-C),Math.max(0,x-F),vr.BOTTOM_LEFT):new pt(n.left+C,n.top+n.height-F),this.topLeftContentBox=a>0||o>0?rn(n.left+C+U,n.top+k+P,Math.max(0,a-(C+U)),Math.max(0,o-(k+P)),vr.TOP_LEFT):new pt(n.left+C+U,n.top+k+P),this.topRightContentBox=c>0||u>0?rn(n.left+Math.min(y,n.width+C+U),n.top+k+P,y>n.width+C+U?0:c-C+U,u-(k+P),vr.TOP_RIGHT):new pt(n.left+n.width-(I+T),n.top+k+P),this.bottomRightContentBox=f>0||m>0?rn(n.left+Math.min(w,n.width-(C+U)),n.top+Math.min(N,n.height+k+P),Math.max(0,f-(I+T)),m-(F+_),vr.BOTTOM_RIGHT):new pt(n.left+n.width-(I+T),n.top+n.height-(F+_)),this.bottomLeftContentBox=v>0||x>0?rn(n.left+C+U,n.top+j,Math.max(0,v-(C+U)),x-(F+_),vr.BOTTOM_LEFT):new pt(n.left+C+U,n.top+n.height-(F+_))}return r}(),vr;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(vr||(vr={}));var rn=function(r,e,t,n,i){var a=4*((Math.sqrt(2)-1)/3),o=t*a,l=n*a,c=r+t,u=e+n;switch(i){case vr.TOP_LEFT:return new bg(new pt(r,u),new pt(r,u-l),new pt(c-o,e),new pt(c,e));case vr.TOP_RIGHT:return new bg(new pt(r,e),new pt(r+o,e),new pt(c,u-l),new pt(c,u));case vr.BOTTOM_RIGHT:return new bg(new pt(c,e),new pt(c,e+l),new pt(r+o,u),new pt(r,u));case vr.BOTTOM_LEFT:default:return new bg(new pt(c,u),new pt(c-o,u),new pt(r,e+l),new pt(r,e))}},B0=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},xV=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},_0=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},yV=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),wg=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),vV=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),bV=function(r){return r.type===0},LF=function(r){return r.type===1},wV=function(r){return r.type===2},rE=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},NV=function(r,e,t,n,i){return r.map(function(a,o){switch(o){case 0:return a.add(e,t);case 1:return a.add(e+n,t);case 2:return a.add(e+n,t+i);case 3:return a.add(e,t+i)}return a})},DF=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),UF=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new gV(this.container),this.container.styles.opacity<1&&this.effects.push(new vV(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new yV(n,i,a))}if(this.container.styles.overflowX!==0){var o=B0(this.curves),l=_0(this.curves);rE(o,l)?this.effects.push(new wg(o,6)):(this.effects.push(new wg(o,2)),this.effects.push(new wg(l,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!LF(c)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=B0(n.curves),l=_0(n.curves);rE(o,l)||i.unshift(new wg(l,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(c){return Vn(c.target,e)})},r}(),E2=function(r,e,t,n){r.container.elements.forEach(function(i){var a=Vn(i.flags,4),o=Vn(i.flags,2),l=new UF(i,r);Vn(i.styles.display,2048)&&n.push(l);var c=Vn(i.flags,8)?[]:n;if(a||o){var u=a||i.styles.isPositioned()?t:e,A=new DF(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var m=0;u.negativeZIndex.some(function(v,x){return f>v.element.container.styles.zIndex.order?(m=x,!1):m>0}),u.negativeZIndex.splice(m,0,A)}else if(f>0){var h=0;u.positiveZIndex.some(function(v,x){return f>=v.element.container.styles.zIndex.order?(h=x+1,!1):h>0}),u.positiveZIndex.splice(h,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else i.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);E2(l,A,a?A:t,c)}else i.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),E2(l,e,t,c);Vn(i.flags,8)&&OF(i,c)})},OF=function(r,e){for(var t=r instanceof N2?r.start:1,n=r instanceof N2?r.reversed:!1,i=0;i<e.length;i++){var a=e[i];a.container instanceof vF&&typeof a.container.value=="number"&&a.container.value!==0&&(t=a.container.value),a.listValue=Rm(t,a.container.styles.listStyleType,!0),t+=n?-1:1}},jV=function(r){var e=new UF(r,null),t=new DF(e),n=[];return E2(e,t,t,n),OF(e.container,n),t},nE=function(r,e){switch(e){case 0:return Ta(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Ta(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Ta(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Ta(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},BV=function(r,e){switch(e){case 0:return Ta(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Ta(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Ta(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Ta(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},_V=function(r,e){switch(e){case 0:return Ta(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Ta(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Ta(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Ta(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},CV=function(r,e){switch(e){case 0:return Ng(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Ng(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Ng(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Ng(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Ng=function(r,e){var t=[];return Ea(r)?t.push(r.subdivide(.5,!1)):t.push(r),Ea(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ta=function(r,e,t,n){var i=[];return Ea(r)?i.push(r.subdivide(.5,!1)):i.push(r),Ea(t)?i.push(t.subdivide(.5,!0)):i.push(t),Ea(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ea(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},PF=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},C0=function(r){var e=r.styles,t=r.bounds,n=Rr(e.paddingLeft,t.width),i=Rr(e.paddingRight,t.width),a=Rr(e.paddingTop,t.width),o=Rr(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+a+o))},EV=function(r,e){return r===0?e.bounds:r===2?C0(e):PF(e)},SV=function(r,e){return r===0?e.bounds:r===2?C0(e):PF(e)},Ib=function(r,e,t){var n=EV(xh(r.styles.backgroundOrigin,e),r),i=SV(xh(r.styles.backgroundClip,e),r),a=kV(xh(r.styles.backgroundSize,e),t,n),o=a[0],l=a[1],c=lm(xh(r.styles.backgroundPosition,e),n.width-o,n.height-l),u=FV(xh(r.styles.backgroundRepeat,e),c,a,n,i),A=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[u,A,f,o,l]},ih=function(r){return Tr(r)&&r.value===Ch.AUTO},jg=function(r){return typeof r=="number"},kV=function(r,e,t){var n=e[0],i=e[1],a=e[2],o=r[0],l=r[1];if(!o)return[0,0];if(Rn(o)&&l&&Rn(l))return[Rr(o,t.width),Rr(l,t.height)];var c=jg(a);if(Tr(o)&&(o.value===Ch.CONTAIN||o.value===Ch.COVER)){if(jg(a)){var u=t.width/t.height;return u<a!=(o.value===Ch.COVER)?[t.width,t.width/a]:[t.height*a,t.height]}return[t.width,t.height]}var A=jg(n),f=jg(i),m=A||f;if(ih(o)&&(!l||ih(l))){if(A&&f)return[n,i];if(!c&&!m)return[t.width,t.height];if(m&&c){var h=A?n:i*a,v=f?i:n/a;return[h,v]}var x=A?n:t.width,b=f?i:t.height;return[x,b]}if(c){var p=0,y=0;return Rn(o)?p=Rr(o,t.width):Rn(l)&&(y=Rr(l,t.height)),ih(o)?p=y*a:(!l||ih(l))&&(y=p/a),[p,y]}var N=null,w=null;if(Rn(o)?N=Rr(o,t.width):l&&Rn(l)&&(w=Rr(l,t.height)),N!==null&&(!l||ih(l))&&(w=A&&f?N/n*i:t.height),w!==null&&ih(o)&&(N=A&&f?w/i*n:t.width),N!==null&&w!==null)return[N,w];throw new Error("Unable to calculate background-size for element")},xh=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},FV=function(r,e,t,n,i){var a=e[0],o=e[1],l=t[0],c=t[1];switch(r){case 2:return[new pt(Math.round(n.left),Math.round(n.top+o)),new pt(Math.round(n.left+n.width),Math.round(n.top+o)),new pt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new pt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new pt(Math.round(n.left+a),Math.round(n.top)),new pt(Math.round(n.left+a+l),Math.round(n.top)),new pt(Math.round(n.left+a+l),Math.round(n.height+n.top)),new pt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new pt(Math.round(n.left+a),Math.round(n.top+o)),new pt(Math.round(n.left+a+l),Math.round(n.top+o)),new pt(Math.round(n.left+a+l),Math.round(n.top+o+c)),new pt(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new pt(Math.round(i.left),Math.round(i.top)),new pt(Math.round(i.left+i.width),Math.round(i.top)),new pt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new pt(Math.round(i.left),Math.round(i.height+i.top))]}},TV="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sE="Hidden Text",IV=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=TV,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=t,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(sE)),n.appendChild(a),n.appendChild(i);var l=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(sE)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),RF=function(){function r(e,t){this.context=e,this.options=t}return r}(),LV=1e4,DV=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new IV(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),wV(t)&&(this.ctx.globalAlpha=t.opacity),bV(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),LF(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return di(this,void 0,void 0,function(){var n;return Ms(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return di(this,void 0,void 0,function(){return Ms(this,function(n){switch(n.label){case 0:if(Vn(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var a=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var o=M5(t.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,t.bounds.top+i),l+a.ctx.measureText(c).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=MV(t.fontFamily).join(", "),a=Wm(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,a,i].join(" "),i,a]},e.prototype.renderTextNode=function(t,n){return di(this,void 0,void 0,function(){var i,a,o,l,c,u,A,f,m=this;return Ms(this,function(h){return i=this.createFontStyle(n),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,A=c.middle,f=n.paintOrder,t.textBounds.forEach(function(v){f.forEach(function(x){switch(x){case 0:m.ctx.fillStyle=is(n.color),m.renderTextWithLetterSpacing(v,n.letterSpacing,u);var b=n.textShadow;b.length&&v.text.trim().length&&(b.slice(0).reverse().forEach(function(p){m.ctx.shadowColor=is(p.color),m.ctx.shadowOffsetX=p.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=p.offsetY.number*m.options.scale,m.ctx.shadowBlur=p.blur.number,m.renderTextWithLetterSpacing(v,n.letterSpacing,u)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=is(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(p){switch(p){case 1:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+u),v.bounds.width,1);break;case 2:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:m.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+A),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(m.ctx.strokeStyle=is(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+u)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var a=C0(t),o=_0(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return di(this,void 0,void 0,function(){var n,i,a,o,l,c,y,y,u,A,f,m,w,h,v,j,x,b,p,y,N,w,j;return Ms(this,function(k){switch(k.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,a=n.styles,o=0,l=n.textNodes,k.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof gF))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=k.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof xF&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof yF))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=k.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof NF&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=k.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),k.label=14;case 14:if(n instanceof Q5&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===b0?n.checked&&(this.ctx.save(),this.path([new pt(n.bounds.left+f*.39363,n.bounds.top+f*.79),new pt(n.bounds.left+f*.16,n.bounds.top+f*.5549),new pt(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new pt(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new pt(n.bounds.left+f*.72983,n.bounds.top+f*.23),new pt(n.bounds.left+f*.84,n.bounds.top+f*.34085),new pt(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=is(KC),this.ctx.fill(),this.ctx.restore()):n.type===w0&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=is(KC),this.ctx.fill(),this.ctx.restore())),UV(n)&&n.value.length){switch(m=this.createFontStyle(a),w=m[0],h=m[1],v=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=is(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=PV(n.styles.textAlign),j=C0(n),x=0,n.styles.textAlign){case 1:x+=j.width/2;break;case 2:x+=j.width;break}b=j.add(x,0,0,-j.height/2+1),this.ctx.save(),this.path([new pt(j.left,j.top),new pt(j.left+j.width,j.top),new pt(j.left+j.width,j.top+j.height),new pt(j.left,j.top+j.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wm(n.value,b),a.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Vn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(p=n.styles.listStyleImage,p.type!==0)return[3,18];y=void 0,N=p.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(N)];case 16:return y=k.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+N),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=is(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",j=new yc(n.bounds.left,n.bounds.top+Rr(n.styles.paddingTop,n.bounds.width),n.bounds.width,EC(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wm(t.listValue,j),a.letterSpacing,EC(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return di(this,void 0,void 0,function(){var n,i,p,a,o,p,l,c,p,u,A,p,f,m,p,h,v,p,x,b,p;return Ms(this,function(y){switch(y.label){case 0:if(Vn(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:y.sent(),n=0,i=t.negativeZIndex,y.label=2;case 2:return n<i.length?(p=i[n],[4,this.renderStack(p)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:y.sent(),a=0,o=t.nonInlineLevel,y.label=7;case 7:return a<o.length?(p=o[a],[4,this.renderNode(p)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:l=0,c=t.nonPositionedFloats,y.label=11;case 11:return l<c.length?(p=c[l],[4,this.renderStack(p)]):[3,14];case 12:y.sent(),y.label=13;case 13:return l++,[3,11];case 14:u=0,A=t.nonPositionedInlineLevel,y.label=15;case 15:return u<A.length?(p=A[u],[4,this.renderStack(p)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:f=0,m=t.inlineLevel,y.label=19;case 19:return f<m.length?(p=m[f],[4,this.renderNode(p)]):[3,22];case 20:y.sent(),y.label=21;case 21:return f++,[3,19];case 22:h=0,v=t.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<v.length?(p=v[h],[4,this.renderStack(p)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:x=0,b=t.positiveZIndex,y.label=27;case 27:return x<b.length?(p=b[x],[4,this.renderStack(p)]):[3,30];case 28:y.sent(),y.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,a){var o=Ea(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Ea(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,a){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},e.prototype.resizeImage=function(t,n,i){var a;if(t.width===n&&t.height===i)return t;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(t,0,0,t.width,t.height,0,0,n,i),l},e.prototype.renderBackgroundImage=function(t){return di(this,void 0,void 0,function(){var n,i,a,o,l,c;return Ms(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,i=function(A){var f,m,h,P,ie,Z,U,S,F,v,P,ie,Z,U,S,x,b,p,y,N,w,j,k,I,F,C,P,T,_,U,S,X,ie,Z,ce,re,ae,M,L,V,K,ee;return Ms(this,function(z){switch(z.label){case 0:if(A.type!==0)return[3,5];f=void 0,m=A.url,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,a.context.cache.match(m)];case 2:return f=z.sent(),[3,4];case 3:return z.sent(),a.context.logger.error("Error loading background-image "+m),[3,4];case 4:return f&&(h=Ib(t,n,[f.width,f.height,f.width/f.height]),P=h[0],ie=h[1],Z=h[2],U=h[3],S=h[4],F=a.ctx.createPattern(a.resizeImage(f,U,S),"repeat"),a.renderRepeat(P,F,ie,Z)),[3,6];case 5:bq(A)?(v=Ib(t,n,[null,null,null]),P=v[0],ie=v[1],Z=v[2],U=v[3],S=v[4],x=pq(A.angle,U,S),b=x[0],p=x[1],y=x[2],N=x[3],w=x[4],j=document.createElement("canvas"),j.width=U,j.height=S,k=j.getContext("2d"),I=k.createLinearGradient(p,N,y,w),_C(A.stops,b).forEach(function(D){return I.addColorStop(D.stop,is(D.color))}),k.fillStyle=I,k.fillRect(0,0,U,S),U>0&&S>0&&(F=a.ctx.createPattern(j,"repeat"),a.renderRepeat(P,F,ie,Z))):wq(A)&&(C=Ib(t,n,[null,null,null]),P=C[0],T=C[1],_=C[2],U=C[3],S=C[4],X=A.position.length===0?[O5]:A.position,ie=Rr(X[0],U),Z=Rr(X[X.length-1],S),ce=gq(A,ie,Z,U,S),re=ce[0],ae=ce[1],re>0&&ae>0&&(M=a.ctx.createRadialGradient(T+ie,_+Z,0,T+ie,_+Z,re),_C(A.stops,re*2).forEach(function(D){return M.addColorStop(D.stop,is(D.color))}),a.path(P),a.ctx.fillStyle=M,re!==ae?(L=t.bounds.left+.5*t.bounds.width,V=t.bounds.top+.5*t.bounds.height,K=ae/re,ee=1/K,a.ctx.save(),a.ctx.translate(L,V),a.ctx.transform(1,0,0,K,0,0),a.ctx.translate(-L,-V),a.ctx.fillRect(T,ee*(_-V)+V,U,S*ee),a.ctx.restore()):a.ctx.fill())),z.label=6;case 6:return n--,[2]}})},a=this,o=0,l=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,i(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return di(this,void 0,void 0,function(){return Ms(this,function(a){return this.path(nE(i,n)),this.ctx.fillStyle=is(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,a){return di(this,void 0,void 0,function(){var o,l;return Ms(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=BV(a,i),this.path(o),this.ctx.fillStyle=is(t),this.ctx.fill(),l=_V(a,i),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return di(this,void 0,void 0,function(){var n,i,a,o,l,c,u,A,f=this;return Ms(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!Ou(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=OV(xh(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ou(n.backgroundColor)||(this.ctx.fillStyle=is(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){f.ctx.save();var v=B0(t.curves),x=h.inset?0:LV,b=NV(v,-x+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(f.path(v),f.ctx.clip(),f.mask(b)):(f.mask(v),f.ctx.clip(),f.path(b)),f.ctx.shadowOffsetX=h.offsetX.number+x,f.ctx.shadowOffsetY=h.offsetY.number,f.ctx.shadowColor=is(h.color),f.ctx.shadowBlur=h.blur.number,f.ctx.fillStyle=h.inset?is(h.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),m.label=2;case 2:l=0,c=0,u=a,m.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!Ou(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,t.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,a,o){return di(this,void 0,void 0,function(){var l,c,u,A,f,m,h,v,x,b,p,y,N,w,j,k,j,k;return Ms(this,function(I){return this.ctx.save(),l=CV(a,i),c=nE(a,i),o===2&&(this.path(c),this.ctx.clip()),Ea(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),Ea(c[1])?(f=c[1].end.x,m=c[1].end.y):(f=c[1].x,m=c[1].y),i===0||i===2?h=Math.abs(u-f):h=Math.abs(A-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),v=n<3?n*3:n*2,x=n<3?n*2:n,o===3&&(v=n,x=n),b=!0,h<=v*2?b=!1:h<=v*2+x?(p=h/(2*v+x),v*=p,x*=p):(y=Math.floor((h+x)/(v+x)),N=(h-y*v)/(y-1),w=(h-(y+1)*v)/y,x=w<=0||Math.abs(x-N)<Math.abs(x-w)?N:w),b&&(o===3?this.ctx.setLineDash([0,v+x]):this.ctx.setLineDash([v,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=is(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ea(c[0])&&(j=c[3],k=c[0],this.ctx.beginPath(),this.formatPath([new pt(j.end.x,j.end.y),new pt(k.start.x,k.start.y)]),this.ctx.stroke()),Ea(c[1])&&(j=c[1],k=c[2],this.ctx.beginPath(),this.formatPath([new pt(j.end.x,j.end.y),new pt(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return di(this,void 0,void 0,function(){var n;return Ms(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=is(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=jV(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(RF),UV=function(r){return r instanceof wF||r instanceof bF?!0:r instanceof Q5&&r.type!==w0&&r.type!==b0},OV=function(r,e){switch(r){case 0:return B0(e);case 2:return xV(e);case 1:default:return _0(e)}},PV=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},RV=["-apple-system","system-ui"],MV=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return RV.indexOf(e)===-1}):r},QV=function(r){No(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return di(this,void 0,void 0,function(){var n,i;return Ms(this,function(a){switch(a.label){case 0:return n=w2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,HV(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=is(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(RF),HV=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},qV=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,rg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,rg([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,rg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,rg([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),zV=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new qV({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new uV(this,e)}return r.instanceCount=1,r}(),Eh=function(r,e){return e===void 0&&(e={}),KV(r,e)};typeof window<"u"&&IF.setContext(window);var KV=function(r,e){return di(void 0,void 0,void 0,function(){var t,n,i,a,o,l,c,u,A,f,m,h,v,x,b,p,y,N,w,j,I,k,I,F,C,P,T,_,U,S,X,ie,Z,ce,re,ae,M,L,V,K;return Ms(this,function(ee){switch(ee.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(C=e.imageTimeout)!==null&&C!==void 0?C:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},a=o2({logging:(T=e.logging)!==null&&T!==void 0?T:!0,cache:e.cache},i),o={windowWidth:(_=e.windowWidth)!==null&&_!==void 0?_:n.innerWidth,windowHeight:(U=e.windowHeight)!==null&&U!==void 0?U:n.innerHeight,scrollX:(S=e.scrollX)!==null&&S!==void 0?S:n.pageXOffset,scrollY:(X=e.scrollY)!==null&&X!==void 0?X:n.pageYOffset},l=new yc(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new zV(a,l),u=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,A={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),f=new eE(c,r,A),m=f.clonedReferenceElement,m?[4,f.toIFrame(t,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ee.sent(),v=H5(m)||WK(m)?N9(m.ownerDocument):Y0(c,m),x=v.width,b=v.height,p=v.left,y=v.top,N=VV(c,m,e.backgroundColor),w={canvas:e.canvas,backgroundColor:N,scale:(re=(ce=e.scale)!==null&&ce!==void 0?ce:n.devicePixelRatio)!==null&&re!==void 0?re:1,x:((ae=e.x)!==null&&ae!==void 0?ae:0)+p,y:((M=e.y)!==null&&M!==void 0?M:0)+y,width:(L=e.width)!==null&&L!==void 0?L:Math.ceil(x),height:(V=e.height)!==null&&V!==void 0?V:Math.ceil(b)},u?(c.logger.debug("Document cloned, using foreign object rendering"),I=new QV(c,w),[4,I.render(m)]):[3,3];case 2:return j=ee.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+p+","+y+" with size "+x+"x"+b+" using computed rendering"),c.logger.debug("Starting DOM parsing"),k=BF(c,m),N===k.styles.backgroundColor&&(k.styles.backgroundColor=pc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),I=new DV(c,w),[4,I.render(k)];case 4:j=ee.sent(),ee.label=5;case 5:return(!((K=e.removeContainer)!==null&&K!==void 0)||K)&&(eE.destroy(h)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,j]}})})},VV=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?vm(r,getComputedStyle(n.documentElement).backgroundColor):pc.TRANSPARENT,a=n.body?vm(r,getComputedStyle(n.body).backgroundColor):pc.TRANSPARENT,o=typeof t=="string"?vm(r,t):t===null?pc.TRANSPARENT:4294967295;return e===n.documentElement?Ou(i)?Ou(a)?o:a:i:o};const WV=Object.freeze(Object.defineProperty({__proto__:null,default:Eh},Symbol.toStringTag,{value:"Module"}));function Er(r){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(r)}var zs=Uint8Array,oa=Uint16Array,q5=Int32Array,ax=new zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ox=new zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S2=new zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MF=function(r,e){for(var t=new oa(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new q5(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)i[a]=a-t[n]<<5|n;return{b:t,r:i}},QF=MF(ax,2),HF=QF.b,k2=QF.r;HF[28]=258,k2[258]=28;var qF=MF(ox,0),GV=qF.b,iE=qF.r,F2=new oa(32768);for(var Yr=0;Yr<32768;++Yr){var xu=(Yr&43690)>>1|(Yr&21845)<<1;xu=(xu&52428)>>2|(xu&13107)<<2,xu=(xu&61680)>>4|(xu&3855)<<4,F2[Yr]=((xu&65280)>>8|(xu&255)<<8)>>1}var Al=function(r,e,t){for(var n=r.length,i=0,a=new oa(e);i<n;++i)r[i]&&++a[r[i]-1];var o=new oa(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(t){l=new oa(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var u=i<<4|r[i],A=e-r[i],f=o[r[i]-1]++<<A,m=f|(1<<A)-1;f<=m;++f)l[F2[f]>>c]=u}else for(l=new oa(n),i=0;i<n;++i)r[i]&&(l[i]=F2[o[r[i]-1]++]>>15-r[i]);return l},zu=new zs(288);for(var Yr=0;Yr<144;++Yr)zu[Yr]=8;for(var Yr=144;Yr<256;++Yr)zu[Yr]=9;for(var Yr=256;Yr<280;++Yr)zu[Yr]=7;for(var Yr=280;Yr<288;++Yr)zu[Yr]=8;var Mm=new zs(32);for(var Yr=0;Yr<32;++Yr)Mm[Yr]=5;var $V=Al(zu,9,0),YV=Al(zu,9,1),XV=Al(Mm,5,0),JV=Al(Mm,5,1),Lb=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},co=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},Db=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},z5=function(r){return(r+7)/8|0},zF=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new zs(r.subarray(e,t))},ZV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],po=function(r,e,t){var n=new Error(e||ZV[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,po),!t)throw n;return n},eW=function(r,e,t,n){var i=r.length,a=0;if(!i||e.f&&!e.l)return t||new zs(0);var o=!t,l=o||e.i!=2,c=e.i;o&&(t=new zs(i*3));var u=function(le){var he=t.length;if(le>he){var Be=new zs(Math.max(he*2,le));Be.set(t),t=Be}},A=e.f||0,f=e.p||0,m=e.b||0,h=e.l,v=e.d,x=e.m,b=e.n,p=i*8;do{if(!h){A=co(r,f,1);var y=co(r,f+1,3);if(f+=3,y)if(y==1)h=YV,v=JV,x=9,b=5;else if(y==2){var k=co(r,f,31)+257,I=co(r,f+10,15)+4,F=k+co(r,f+5,31)+1;f+=14;for(var C=new zs(F),P=new zs(19),T=0;T<I;++T)P[S2[T]]=co(r,f+T*3,7);f+=I*3;for(var _=Lb(P),U=(1<<_)-1,S=Al(P,_,1),T=0;T<F;){var X=S[co(r,f,U)];f+=X&15;var N=X>>4;if(N<16)C[T++]=N;else{var ie=0,Z=0;for(N==16?(Z=3+co(r,f,3),f+=2,ie=C[T-1]):N==17?(Z=3+co(r,f,7),f+=3):N==18&&(Z=11+co(r,f,127),f+=7);Z--;)C[T++]=ie}}var ce=C.subarray(0,k),re=C.subarray(k);x=Lb(ce),b=Lb(re),h=Al(ce,x,1),v=Al(re,b,1)}else po(1);else{var N=z5(f)+4,w=r[N-4]|r[N-3]<<8,j=N+w;if(j>i){c&&po(0);break}l&&u(m+w),t.set(r.subarray(N,j),m),e.b=m+=w,e.p=f=j*8,e.f=A;continue}if(f>p){c&&po(0);break}}l&&u(m+131072);for(var ae=(1<<x)-1,M=(1<<b)-1,L=f;;L=f){var ie=h[Db(r,f)&ae],V=ie>>4;if(f+=ie&15,f>p){c&&po(0);break}if(ie||po(2),V<256)t[m++]=V;else if(V==256){L=f,h=null;break}else{var K=V-254;if(V>264){var T=V-257,ee=ax[T];K=co(r,f,(1<<ee)-1)+HF[T],f+=ee}var z=v[Db(r,f)&M],D=z>>4;z||po(3),f+=z&15;var re=GV[D];if(D>3){var ee=ox[D];re+=Db(r,f)&(1<<ee)-1,f+=ee}if(f>p){c&&po(0);break}l&&u(m+131072);var H=m+K;if(m<re){var ne=a-re,ue=Math.min(re,H);for(ne+m<0&&po(3);m<ue;++m)t[m]=n[ne+m]}for(;m<H;++m)t[m]=t[m-re]}}e.l=h,e.p=L,e.b=m,e.f=A,h&&(A=1,e.m=x,e.d=v,e.n=b)}while(!A);return m!=t.length&&o?zF(t,0,m):t.subarray(0,m)},nc=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},qf=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Ub=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,a=t.slice();if(!i)return{t:VF,l:0};if(i==1){var o=new zs(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(j,k){return j.f-k.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],u=0,A=1,f=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};A!=i-1;)l=t[t[u].f<t[f].f?u++:f++],c=t[u!=A&&t[u].f<t[f].f?u++:f++],t[A++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var h=new oa(m+1),v=T2(t[A-1],h,0);if(v>e){var n=0,x=0,b=v-e,p=1<<b;for(a.sort(function(k,I){return h[I.s]-h[k.s]||k.f-I.f});n<i;++n){var y=a[n].s;if(h[y]>e)x+=p-(1<<v-h[y]),h[y]=e;else break}for(x>>=b;x>0;){var N=a[n].s;h[N]<e?x-=1<<e-h[N]++-1:++n}for(;n>=0&&x;--n){var w=a[n].s;h[w]==e&&(--h[w],++x)}v=e}return{t:new zs(h),l:v}},T2=function(r,e,t){return r.s==-1?Math.max(T2(r.l,e,t+1),T2(r.r,e,t+1)):e[r.s]=t},aE=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new oa(++e),n=0,i=r[0],a=1,o=function(c){t[n++]=c},l=1;l<=e;++l)if(r[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=r[l]}return{c:t.subarray(0,n),n:e}},zf=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},KF=function(r,e,t){var n=t.length,i=z5(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=t[a];return(i+4+n)*8},oE=function(r,e,t,n,i,a,o,l,c,u,A){nc(e,A++,t),++i[256];for(var f=Ub(i,15),m=f.t,h=f.l,v=Ub(a,15),x=v.t,b=v.l,p=aE(m),y=p.c,N=p.n,w=aE(x),j=w.c,k=w.n,I=new oa(19),F=0;F<y.length;++F)++I[y[F]&31];for(var F=0;F<j.length;++F)++I[j[F]&31];for(var C=Ub(I,7),P=C.t,T=C.l,_=19;_>4&&!P[S2[_-1]];--_);var U=u+5<<3,S=zf(i,zu)+zf(a,Mm)+o,X=zf(i,m)+zf(a,x)+o+14+3*_+zf(I,P)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&U<=S&&U<=X)return KF(e,A,r.subarray(c,c+u));var ie,Z,ce,re;if(nc(e,A,1+(X<S)),A+=2,X<S){ie=Al(m,h,0),Z=m,ce=Al(x,b,0),re=x;var ae=Al(P,T,0);nc(e,A,N-257),nc(e,A+5,k-1),nc(e,A+10,_-4),A+=14;for(var F=0;F<_;++F)nc(e,A+3*F,P[S2[F]]);A+=3*_;for(var M=[y,j],L=0;L<2;++L)for(var V=M[L],F=0;F<V.length;++F){var K=V[F]&31;nc(e,A,ae[K]),A+=P[K],K>15&&(nc(e,A,V[F]>>5&127),A+=V[F]>>12)}}else ie=$V,Z=zu,ce=XV,re=Mm;for(var F=0;F<l;++F){var ee=n[F];if(ee>255){var K=ee>>18&31;qf(e,A,ie[K+257]),A+=Z[K+257],K>7&&(nc(e,A,ee>>23&31),A+=ax[K]);var z=ee&31;qf(e,A,ce[z]),A+=re[z],z>3&&(qf(e,A,ee>>5&8191),A+=ox[z])}else qf(e,A,ie[ee]),A+=Z[ee]}return qf(e,A,ie[256]),A+Z[256]},tW=new q5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VF=new zs(0),rW=function(r,e,t,n,i,a){var o=a.z||r.length,l=new zs(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,A=(a.r||0)&7;if(e){A&&(c[0]=a.r>>3);for(var f=tW[e-1],m=f>>13,h=f&8191,v=(1<<t)-1,x=a.p||new oa(32768),b=a.h||new oa(v+1),p=Math.ceil(t/3),y=2*p,N=function(te){return(r[te]^r[te+1]<<p^r[te+2]<<y)&v},w=new q5(25e3),j=new oa(288),k=new oa(32),I=0,F=0,C=a.i||0,P=0,T=a.w||0,_=0;C+2<o;++C){var U=N(C),S=C&32767,X=b[U];if(x[S]=X,b[U]=S,T<=C){var ie=o-C;if((I>7e3||P>24576)&&(ie>423||!u)){A=oE(r,c,0,w,j,k,F,P,_,C-_,A),P=I=F=0,_=C;for(var Z=0;Z<286;++Z)j[Z]=0;for(var Z=0;Z<30;++Z)k[Z]=0}var ce=2,re=0,ae=h,M=S-X&32767;if(ie>2&&U==N(C-M))for(var L=Math.min(m,ie)-1,V=Math.min(32767,C),K=Math.min(258,ie);M<=V&&--ae&&S!=X;){if(r[C+ce]==r[C+ce-M]){for(var ee=0;ee<K&&r[C+ee]==r[C+ee-M];++ee);if(ee>ce){if(ce=ee,re=M,ee>L)break;for(var z=Math.min(M,ee-2),D=0,Z=0;Z<z;++Z){var H=C-M+Z&32767,ne=x[H],ue=H-ne&32767;ue>D&&(D=ue,X=H)}}}S=X,X=x[S],M+=S-X&32767}if(re){w[P++]=268435456|k2[ce]<<18|iE[re];var le=k2[ce]&31,he=iE[re]&31;F+=ax[le]+ox[he],++j[257+le],++k[he],T=C+ce,++I}else w[P++]=r[C],++j[r[C]]}}for(C=Math.max(C,T);C<o;++C)w[P++]=r[C],++j[r[C]];A=oE(r,c,u,w,j,k,F,P,_,C-_,A),u||(a.r=A&7|c[A/8|0]<<3,A-=7,a.h=b,a.p=x,a.i=C,a.w=T)}else{for(var C=a.w||0;C<o+u;C+=65535){var Be=C+65535;Be>=o&&(c[A/8|0]=u,Be=o),A=KF(c,A+1,r.subarray(C,Be))}a.i=o}return zF(l,0,n+z5(A)+i)},WF=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,a=t.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=t[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},nW=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new zs(a.length+r.length);o.set(a),o.set(r,a.length),r=o,i.w=a.length}return rW(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},GF=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},sW=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=WF();i.p(e.dictionary),GF(r,2,i.d())}},iW=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&po(6,"invalid zlib data"),(r[1]>>5&1)==1&&po(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function I2(r,e){e||(e={});var t=WF();t.p(r);var n=nW(r,e,e.dictionary?6:2,4);return sW(n,e),GF(n,n.length-4,t.d()),n}function aW(r,e){return eW(r.subarray(iW(r),-4),{i:2},e,e)}var oW=typeof TextDecoder<"u"&&new TextDecoder,lW=0;try{oW.decode(VF,{stream:!0}),lW=1}catch{}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ob(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var Dr={log:Ob,warn:function(r){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):Ob.call(null,arguments))},error:function(r){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):Ob(r))}};function Pb(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Md(n.response,e,t)},n.onerror=function(){Dr.error("could not download file")},n.send()}function lE(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bg(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var jm,L2,Md=Dt.saveAs||((typeof window>"u"?"undefined":Er(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Dt.URL||Dt.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?lE(i.href)?Pb(r,e,t):Bg(i,i.target="_blank"):Bg(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(lE(r))Pb(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Bg(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Er(a)!=="object"&&(Dr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Pb(r,e,t);var i=r.type==="application/octet-stream",a=/constructor/i.test(Dt.HTMLElement)||Dt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Er(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var A=l.result;A=o?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=A:location=A,n=null},l.readAsDataURL(r)}else{var c=Dt.URL||Dt.webkitURL,u=c.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $F(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,a=t[n].process,o=i.exec(r);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rb(r,e){var t=r[0],n=r[1],i=r[2],a=r[3];t=Ds(t,n,i,a,e[0],7,-680876936),a=Ds(a,t,n,i,e[1],12,-389564586),i=Ds(i,a,t,n,e[2],17,606105819),n=Ds(n,i,a,t,e[3],22,-1044525330),t=Ds(t,n,i,a,e[4],7,-176418897),a=Ds(a,t,n,i,e[5],12,1200080426),i=Ds(i,a,t,n,e[6],17,-1473231341),n=Ds(n,i,a,t,e[7],22,-45705983),t=Ds(t,n,i,a,e[8],7,1770035416),a=Ds(a,t,n,i,e[9],12,-1958414417),i=Ds(i,a,t,n,e[10],17,-42063),n=Ds(n,i,a,t,e[11],22,-1990404162),t=Ds(t,n,i,a,e[12],7,1804603682),a=Ds(a,t,n,i,e[13],12,-40341101),i=Ds(i,a,t,n,e[14],17,-1502002290),t=Us(t,n=Ds(n,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Us(a,t,n,i,e[6],9,-1069501632),i=Us(i,a,t,n,e[11],14,643717713),n=Us(n,i,a,t,e[0],20,-373897302),t=Us(t,n,i,a,e[5],5,-701558691),a=Us(a,t,n,i,e[10],9,38016083),i=Us(i,a,t,n,e[15],14,-660478335),n=Us(n,i,a,t,e[4],20,-405537848),t=Us(t,n,i,a,e[9],5,568446438),a=Us(a,t,n,i,e[14],9,-1019803690),i=Us(i,a,t,n,e[3],14,-187363961),n=Us(n,i,a,t,e[8],20,1163531501),t=Us(t,n,i,a,e[13],5,-1444681467),a=Us(a,t,n,i,e[2],9,-51403784),i=Us(i,a,t,n,e[7],14,1735328473),t=Os(t,n=Us(n,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Os(a,t,n,i,e[8],11,-2022574463),i=Os(i,a,t,n,e[11],16,1839030562),n=Os(n,i,a,t,e[14],23,-35309556),t=Os(t,n,i,a,e[1],4,-1530992060),a=Os(a,t,n,i,e[4],11,1272893353),i=Os(i,a,t,n,e[7],16,-155497632),n=Os(n,i,a,t,e[10],23,-1094730640),t=Os(t,n,i,a,e[13],4,681279174),a=Os(a,t,n,i,e[0],11,-358537222),i=Os(i,a,t,n,e[3],16,-722521979),n=Os(n,i,a,t,e[6],23,76029189),t=Os(t,n,i,a,e[9],4,-640364487),a=Os(a,t,n,i,e[12],11,-421815835),i=Os(i,a,t,n,e[15],16,530742520),t=Ps(t,n=Os(n,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ps(a,t,n,i,e[7],10,1126891415),i=Ps(i,a,t,n,e[14],15,-1416354905),n=Ps(n,i,a,t,e[5],21,-57434055),t=Ps(t,n,i,a,e[12],6,1700485571),a=Ps(a,t,n,i,e[3],10,-1894986606),i=Ps(i,a,t,n,e[10],15,-1051523),n=Ps(n,i,a,t,e[1],21,-2054922799),t=Ps(t,n,i,a,e[8],6,1873313359),a=Ps(a,t,n,i,e[15],10,-30611744),i=Ps(i,a,t,n,e[6],15,-1560198380),n=Ps(n,i,a,t,e[13],21,1309151649),t=Ps(t,n,i,a,e[4],6,-145523070),a=Ps(a,t,n,i,e[11],10,-1120210379),i=Ps(i,a,t,n,e[2],15,718787259),n=Ps(n,i,a,t,e[9],21,-343485551),r[0]=Iu(t,r[0]),r[1]=Iu(n,r[1]),r[2]=Iu(i,r[2]),r[3]=Iu(a,r[3])}function lx(r,e,t,n,i,a){return e=Iu(Iu(e,r),Iu(n,a)),Iu(e<<i|e>>>32-i,t)}function Ds(r,e,t,n,i,a,o){return lx(e&t|~e&n,r,e,i,a,o)}function Us(r,e,t,n,i,a,o){return lx(e&n|t&~n,r,e,i,a,o)}function Os(r,e,t,n,i,a,o){return lx(e^t^n,r,e,i,a,o)}function Ps(r,e,t,n,i,a,o){return lx(t^(e|~n),r,e,i,a,o)}function YF(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Rb(n,cW(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Rb(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Rb(n,i),n}function cW(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}jm=Dt.atob.bind(Dt),L2=Dt.btoa.bind(Dt);var cE="0123456789abcdef".split("");function uW(r){for(var e="",t=0;t<4;t++)e+=cE[r>>8*t+4&15]+cE[r>>8*t&15];return e}function dW(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function D2(r){return YF(r).map(dW).join("")}var AW=function(r){for(var e=0;e<r.length;e++)r[e]=uW(r[e]);return r.join("")}(YF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Iu(r,e){if(AW){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function U2(r,e){var t,n,i,a;if(r!==t){for(var o=(i=r,a=1+(256/r.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var A=l[c];u=(u+A+o.charCodeAt(c))%256,l[c]=l[u],l[u]=A}t=r,n=l}else l=n;var f=e.length,m=0,h=0,v="";for(c=0;c<f;c++)h=(h+(A=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=A,o=l[(l[m]+l[h])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uE={print:4,modify:8,copy:16,"annot-forms":32};function yh(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(l){if(uE.perm!==void 0)throw new Error("Invalid permission: "+l);i+=uE[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=D2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=U2(this.encryptionKey,this.padding)}function vh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=r[n]}return e}function dE(r){if(Er(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!i],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var o=e[t][a];try{o[0].apply(r,n)}catch(l){Dt.console&&Dr.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function E0(r){if(!(this instanceof E0))return new E0(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function XF(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function qd(r,e,t,n,i){if(!(this instanceof qd))return new qd(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,XF.call(this,n,i)}function jh(r,e,t,n,i){if(!(this instanceof jh))return new jh(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,XF.call(this,n,i)}function Ft(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",A=null;Er(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(A=r.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),o=r.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=dE;var v="1.3",x=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(W){v=W};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var p=h.__private__.getPageFormat=function(W){return b[W]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},N=y.COMPAT;function w(){this.saveGraphicsState(),$(new St(ot,0,0,-ot,0,Po()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),u="n",N=y.ADVANCED}function j(){this.restoreGraphicsState(),u="S",N=y.COMPAT}var k=h.__private__.combineFontStyleAndFontWeight=function(W,ge){if(W=="bold"&&ge=="normal"||W=="bold"&&ge==400||W=="normal"&&ge=="italic"||W=="bold"&&ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ge&&(W=ge==400||ge==="normal"?W==="italic"?"italic":"normal":ge!=700&&ge!=="bold"||W!=="normal"?(ge==700?"bold":ge)+""+W:"bold"),W};h.advancedAPI=function(W){var ge=N===y.COMPAT;return ge&&w.call(this),typeof W!="function"||(W(this),ge&&j.call(this)),this},h.compatAPI=function(W){var ge=N===y.ADVANCED;return ge&&j.call(this),typeof W!="function"||(W(this),ge&&w.call(this)),this},h.isAdvancedAPI=function(){return N===y.ADVANCED};var I,F=function(W){if(N!==y.ADVANCED)throw new Error(W+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(W,ge){var Ce=e||ge;if(isNaN(W)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return W.toFixed(Ce).replace(/0+$/,"")};I=h.hpf=h.__private__.hpf=typeof c=="number"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return C(W,c)}:c==="smart"?function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return C(W,W>-1&&W<1?16:5)}:function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.hpf");return C(W,16)};var P=h.f2=h.__private__.f2=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f2");return C(W,2)},T=h.__private__.f3=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.f3");return C(W,3)},_=h.scale=h.__private__.scale=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.scale");return N===y.COMPAT?W*ot:N===y.ADVANCED?W:void 0},U=function(W){return N===y.COMPAT?Po()-W:N===y.ADVANCED?W:void 0},S=function(W){return _(U(W))};h.__private__.setPrecision=h.setPrecision=function(W){typeof parseInt(W,10)=="number"&&(e=parseInt(W,10))};var X,ie="00000000000000000000000000000000",Z=h.__private__.getFileId=function(){return ie},ce=h.__private__.setFileId=function(W){return ie=W!==void 0&&/^[a-fA-F0-9]{32}$/.test(W)?W.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(zr=new yh(A.userPermissions,A.userPassword,A.ownerPassword,ie)),ie};h.setFileId=function(W){return ce(W),this},h.getFileId=function(){return Z()};var re=h.__private__.convertDateToPDFDate=function(W){var ge=W.getTimezoneOffset(),Ce=ge<0?"+":"-",Fe=Math.floor(Math.abs(ge/60)),Pe=Math.abs(ge%60),Ve=[Ce,K(Fe),"'",K(Pe),"'"].join("");return["D:",W.getFullYear(),K(W.getMonth()+1),K(W.getDate()),K(W.getHours()),K(W.getMinutes()),K(W.getSeconds()),Ve].join("")},ae=h.__private__.convertPDFDateToDate=function(W){var ge=parseInt(W.substr(2,4),10),Ce=parseInt(W.substr(6,2),10)-1,Fe=parseInt(W.substr(8,2),10),Pe=parseInt(W.substr(10,2),10),Ve=parseInt(W.substr(12,2),10),rt=parseInt(W.substr(14,2),10);return new Date(ge,Ce,Fe,Pe,Ve,rt,0)},M=h.__private__.setCreationDate=function(W){var ge;if(W===void 0&&(W=new Date),W instanceof Date)ge=re(W);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(W))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ge=W}return X=ge},L=h.__private__.getCreationDate=function(W){var ge=X;return W==="jsDate"&&(ge=ae(X)),ge};h.setCreationDate=function(W){return M(W),this},h.getCreationDate=function(W){return L(W)};var V,K=h.__private__.padd2=function(W){return("0"+parseInt(W)).slice(-2)},ee=h.__private__.padd2Hex=function(W){return("00"+(W=W.toString())).substr(W.length)},z=0,D=[],H=[],ne=0,ue=[],le=[],he=!1,Be=H,te=function(){z=0,ne=0,H=[],D=[],ue=[],Ma=Hr(),zi=Hr()};h.__private__.setCustomOutputDestination=function(W){he=!0,Be=W};var je=function(W){he||(Be=W)};h.__private__.resetCustomOutputDestination=function(){he=!1,Be=H};var $=h.__private__.out=function(W){return W=W.toString(),ne+=W.length+1,Be.push(W),Be},q=h.__private__.write=function(W){return $(arguments.length===1?W.toString():Array.prototype.join.call(arguments," "))},Q=h.__private__.getArrayBuffer=function(W){for(var ge=W.length,Ce=new ArrayBuffer(ge),Fe=new Uint8Array(Ce);ge--;)Fe[ge]=W.charCodeAt(ge);return Ce},G=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return G};var me=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(W){return me=N===y.ADVANCED?W/ot:W,this};var fe,de=h.__private__.getFontSize=h.getFontSize=function(){return N===y.COMPAT?me:me*ot},be=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(W){return be=W,this},h.__private__.getR2L=h.getR2L=function(){return be};var Ee,ke=h.__private__.setZoomMode=function(W){var ge=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(W))fe=W;else if(isNaN(W)){if(ge.indexOf(W)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+W+'" is not recognized.');fe=W}else fe=parseInt(W,10)};h.__private__.getZoomMode=function(){return fe};var He,Ye=h.__private__.setPageMode=function(W){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(W)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+W+'" is not recognized.');Ee=W};h.__private__.getPageMode=function(){return Ee};var et=h.__private__.setLayoutMode=function(W){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(W)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+W+'" is not recognized.');He=W};h.__private__.getLayoutMode=function(){return He},h.__private__.setDisplayMode=h.setDisplayMode=function(W,ge,Ce){return ke(W),et(ge),Ye(Ce),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(W){if(Object.keys(ft).indexOf(W)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[W]},h.__private__.getDocumentProperties=function(){return ft},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(W){for(var ge in ft)ft.hasOwnProperty(ge)&&W[ge]&&(ft[ge]=W[ge]);return this},h.__private__.setDocumentProperty=function(W,ge){if(Object.keys(ft).indexOf(W)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[W]=ge};var At,ot,Jr,_t,Mn,sr={},Gt={},us=[],Jt={},Hi={},Sr={},vn={},cn=null,pr=0,Ot=[],ir=new dE(h),_o=r.hotfixes||[],Ln={},mi={},qi=[],St=function W(ge,Ce,Fe,Pe,Ve,rt){if(!(this instanceof W))return new W(ge,Ce,Fe,Pe,Ve,rt);isNaN(ge)&&(ge=1),isNaN(Ce)&&(Ce=0),isNaN(Fe)&&(Fe=0),isNaN(Pe)&&(Pe=1),isNaN(Ve)&&(Ve=0),isNaN(rt)&&(rt=0),this._matrix=[ge,Ce,Fe,Pe,Ve,rt]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(W){this._matrix[0]=W}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(W){this._matrix[1]=W}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(W){this._matrix[2]=W}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(W){this._matrix[3]=W}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(W){this._matrix[4]=W}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(W){this._matrix[5]=W}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(W){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(W)},St.prototype.multiply=function(W){var ge=W.sx*this.sx+W.shy*this.shx,Ce=W.sx*this.shy+W.shy*this.sy,Fe=W.shx*this.sx+W.sy*this.shx,Pe=W.shx*this.shy+W.sy*this.sy,Ve=W.tx*this.sx+W.ty*this.shx+this.tx,rt=W.tx*this.shy+W.ty*this.sy+this.ty;return new St(ge,Ce,Fe,Pe,Ve,rt)},St.prototype.decompose=function(){var W=this.sx,ge=this.shy,Ce=this.shx,Fe=this.sy,Pe=this.tx,Ve=this.ty,rt=Math.sqrt(W*W+ge*ge),ht=(W/=rt)*Ce+(ge/=rt)*Fe;Ce-=W*ht,Fe-=ge*ht;var Ct=Math.sqrt(Ce*Ce+Fe*Fe);return ht/=Ct,W*(Fe/=Ct)<ge*(Ce/=Ct)&&(W=-W,ge=-ge,ht=-ht,rt=-rt),{scale:new St(rt,0,0,Ct,0,0),translate:new St(1,0,0,1,Pe,Ve),rotate:new St(W,ge,-ge,W,0,0),skew:new St(1,0,ht,1,0,0)}},St.prototype.toString=function(W){return this.join(" ")},St.prototype.inversed=function(){var W=this.sx,ge=this.shy,Ce=this.shx,Fe=this.sy,Pe=this.tx,Ve=this.ty,rt=1/(W*Fe-ge*Ce),ht=Fe*rt,Ct=-ge*rt,Qt=-Ce*rt,Mt=W*rt;return new St(ht,Ct,Qt,Mt,-ht*Pe-Qt*Ve,-Ct*Pe-Mt*Ve)},St.prototype.applyToPoint=function(W){var ge=W.x*this.sx+W.y*this.shx+this.tx,Ce=W.x*this.shy+W.y*this.sy+this.ty;return new ha(ge,Ce)},St.prototype.applyToRectangle=function(W){var ge=this.applyToPoint(W),Ce=this.applyToPoint(new ha(W.x+W.w,W.y+W.h));return new Oo(ge.x,ge.y,Ce.x-ge.x,Ce.y-ge.y)},St.prototype.clone=function(){var W=this.sx,ge=this.shy,Ce=this.shx,Fe=this.sy,Pe=this.tx,Ve=this.ty;return new St(W,ge,Ce,Fe,Pe,Ve)},h.Matrix=St;var Xs=h.matrixMult=function(W,ge){return ge.multiply(W)},bs=new St(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=bs;var ws=function(W,ge){if(!Hi[W]){var Ce=(ge instanceof qd?"Sh":"P")+(Object.keys(Jt).length+1).toString(10);ge.id=Ce,Hi[W]=Ce,Jt[Ce]=ge,ir.publish("addPattern",ge)}};h.ShadingPattern=qd,h.TilingPattern=jh,h.addShadingPattern=function(W,ge){return F("addShadingPattern()"),ws(W,ge),this},h.beginTilingPattern=function(W){F("beginTilingPattern()"),yA(W.boundingBox[0],W.boundingBox[1],W.boundingBox[2]-W.boundingBox[0],W.boundingBox[3]-W.boundingBox[1],W.matrix)},h.endTilingPattern=function(W,ge){F("endTilingPattern()"),ge.stream=le[V].join(`
`),ws(W,ge),ir.publish("endTilingPattern",ge),qi.pop().restore()};var Qr=h.__private__.newObject=function(){var W=Hr();return $n(W,!0),W},Hr=h.__private__.newObjectDeferred=function(){return z++,D[z]=function(){return ne},z},$n=function(W,ge){return ge=typeof ge=="boolean"&&ge,D[W]=ne,ge&&$(W+" 0 obj"),W},Co=h.__private__.newAdditionalObject=function(){var W={objId:Hr(),content:""};return ue.push(W),W},Ma=Hr(),zi=Hr(),Ki=h.__private__.decodeColorString=function(W){var ge=W.split(" ");if(ge.length!==2||ge[1]!=="g"&&ge[1]!=="G")ge.length===5&&(ge[4]==="k"||ge[4]==="K")&&(ge=[(1-ge[0])*(1-ge[3]),(1-ge[1])*(1-ge[3]),(1-ge[2])*(1-ge[3]),"r"]);else{var Ce=parseFloat(ge[0]);ge=[Ce,Ce,Ce,"r"]}for(var Fe="#",Pe=0;Pe<3;Pe++)Fe+=("0"+Math.floor(255*parseFloat(ge[Pe])).toString(16)).slice(-2);return Fe},Qn=h.__private__.encodeColorString=function(W){var ge;typeof W=="string"&&(W={ch1:W});var Ce=W.ch1,Fe=W.ch2,Pe=W.ch3,Ve=W.ch4,rt=W.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var ht=new $F(Ce);if(ht.ok)Ce=ht.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var Ct=parseInt(Ce.substr(1),16);Ce=Ct>>16&255,Fe=Ct>>8&255,Pe=255&Ct}if(Fe===void 0||Ve===void 0&&Ce===Fe&&Fe===Pe)if(typeof Ce=="string")ge=Ce+" "+rt[0];else switch(W.precision){case 2:ge=P(Ce/255)+" "+rt[0];break;case 3:default:ge=T(Ce/255)+" "+rt[0]}else if(Ve===void 0||Er(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return ge=["1.","1.","1.",rt[1]].join(" ");if(typeof Ce=="string")ge=[Ce,Fe,Pe,rt[1]].join(" ");else switch(W.precision){case 2:ge=[P(Ce/255),P(Fe/255),P(Pe/255),rt[1]].join(" ");break;default:case 3:ge=[T(Ce/255),T(Fe/255),T(Pe/255),rt[1]].join(" ")}}else if(typeof Ce=="string")ge=[Ce,Fe,Pe,Ve,rt[2]].join(" ");else switch(W.precision){case 2:ge=[P(Ce),P(Fe),P(Pe),P(Ve),rt[2]].join(" ");break;case 3:default:ge=[T(Ce),T(Fe),T(Pe),T(Ve),rt[2]].join(" ")}return ge},Vi=h.__private__.getFilters=function(){return o},Js=h.__private__.putStream=function(W){var ge=(W=W||{}).data||"",Ce=W.filters||Vi(),Fe=W.alreadyAppliedFilters||[],Pe=W.addLength1||!1,Ve=ge.length,rt=W.objectId,ht=function(Yn){return Yn};if(A!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(ht=zr.encryptor(rt,0));var Ct={};Ce===!0&&(Ce=["FlateEncode"]);var Qt=W.additionalKeyValues||[],Mt=(Ct=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(ge,Ce):{data:ge,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(Ct.data.length!==0&&(Qt.push({key:"Length",value:Ct.data.length}),Pe===!0&&Qt.push({key:"Length1",value:Ve})),Mt.length!=0)if(Mt.split("/").length-1==1)Qt.push({key:"Filter",value:Mt});else{Qt.push({key:"Filter",value:"["+Mt+"]"});for(var Yt=0;Yt<Qt.length;Yt+=1)if(Qt[Yt].key==="DecodeParms"){for(var Kr=[],Zr=0;Zr<Ct.reverseChain.split("/").length-1;Zr+=1)Kr.push("null");Kr.push(Qt[Yt].value),Qt[Yt].value="["+Kr.join(" ")+"]"}}$("<<");for(var un=0;un<Qt.length;un++)$("/"+Qt[un].key+" "+Qt[un].value);$(">>"),Ct.data.length!==0&&($("stream"),$(ht(Ct.data)),$("endstream"))},la=h.__private__.putPage=function(W){var ge=W.number,Ce=W.data,Fe=W.objId,Pe=W.contentsObjId;$n(Fe,!0),$("<</Type /Page"),$("/Parent "+W.rootDictionaryObjId+" 0 R"),$("/Resources "+W.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(I(W.mediaBox.bottomLeftX))+" "+parseFloat(I(W.mediaBox.bottomLeftY))+" "+I(W.mediaBox.topRightX)+" "+I(W.mediaBox.topRightY)+"]"),W.cropBox!==null&&$("/CropBox ["+I(W.cropBox.bottomLeftX)+" "+I(W.cropBox.bottomLeftY)+" "+I(W.cropBox.topRightX)+" "+I(W.cropBox.topRightY)+"]"),W.bleedBox!==null&&$("/BleedBox ["+I(W.bleedBox.bottomLeftX)+" "+I(W.bleedBox.bottomLeftY)+" "+I(W.bleedBox.topRightX)+" "+I(W.bleedBox.topRightY)+"]"),W.trimBox!==null&&$("/TrimBox ["+I(W.trimBox.bottomLeftX)+" "+I(W.trimBox.bottomLeftY)+" "+I(W.trimBox.topRightX)+" "+I(W.trimBox.topRightY)+"]"),W.artBox!==null&&$("/ArtBox ["+I(W.artBox.bottomLeftX)+" "+I(W.artBox.bottomLeftY)+" "+I(W.artBox.topRightX)+" "+I(W.artBox.topRightY)+"]"),typeof W.userUnit=="number"&&W.userUnit!==1&&$("/UserUnit "+W.userUnit),ir.publish("putPage",{objId:Fe,pageContext:Ot[ge],pageNumber:ge,page:Ce}),$("/Contents "+Pe+" 0 R"),$(">>"),$("endobj");var Ve=Ce.join(`
`);return N===y.ADVANCED&&(Ve+=`
Q`),$n(Pe,!0),Js({data:Ve,filters:Vi(),objectId:Pe}),$("endobj"),Fe},Eo=h.__private__.putPages=function(){var W,ge,Ce=[];for(W=1;W<=pr;W++)Ot[W].objId=Hr(),Ot[W].contentsObjId=Hr();for(W=1;W<=pr;W++)Ce.push(la({number:W,data:le[W],objId:Ot[W].objId,contentsObjId:Ot[W].contentsObjId,mediaBox:Ot[W].mediaBox,cropBox:Ot[W].cropBox,bleedBox:Ot[W].bleedBox,trimBox:Ot[W].trimBox,artBox:Ot[W].artBox,userUnit:Ot[W].userUnit,rootDictionaryObjId:Ma,resourceDictionaryObjId:zi}));$n(Ma,!0),$("<</Type /Pages");var Fe="/Kids [";for(ge=0;ge<pr;ge++)Fe+=Ce[ge]+" 0 R ";$(Fe+"]"),$("/Count "+pr),$(">>"),$("endobj"),ir.publish("postPutPages")},bl=function(W){ir.publish("putFont",{font:W,out:$,newObject:Qr,putStream:Js}),W.isAlreadyPutted!==!0&&(W.objectNumber=Qr(),$("<<"),$("/Type /Font"),$("/BaseFont /"+vh(W.postScriptName)),$("/Subtype /Type1"),typeof W.encoding=="string"&&$("/Encoding /"+W.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},wl=function(){for(var W in sr)sr.hasOwnProperty(W)&&(f===!1||f===!0&&m.hasOwnProperty(W))&&bl(sr[W])},Nl=function(W){W.objectNumber=Qr();var ge=[];ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Form"}),ge.push({key:"BBox",value:"["+[I(W.x),I(W.y),I(W.x+W.width),I(W.y+W.height)].join(" ")+"]"}),ge.push({key:"Matrix",value:"["+W.matrix.toString()+"]"});var Ce=W.pages[1].join(`
`);Js({data:Ce,additionalKeyValues:ge,objectId:W.objectNumber}),$("endobj")},jc=function(){for(var W in Ln)Ln.hasOwnProperty(W)&&Nl(Ln[W])},dA=function(W,ge){var Ce,Fe=[],Pe=1/(ge-1);for(Ce=0;Ce<1;Ce+=Pe)Fe.push(Ce);if(Fe.push(1),W[0].offset!=0){var Ve={offset:0,color:W[0].color};W.unshift(Ve)}if(W[W.length-1].offset!=1){var rt={offset:1,color:W[W.length-1].color};W.push(rt)}for(var ht="",Ct=0,Qt=0;Qt<Fe.length;Qt++){for(Ce=Fe[Qt];Ce>W[Ct+1].offset;)Ct++;var Mt=W[Ct].offset,Yt=(Ce-Mt)/(W[Ct+1].offset-Mt),Kr=W[Ct].color,Zr=W[Ct+1].color;ht+=ee(Math.round((1-Yt)*Kr[0]+Yt*Zr[0]).toString(16))+ee(Math.round((1-Yt)*Kr[1]+Yt*Zr[1]).toString(16))+ee(Math.round((1-Yt)*Kr[2]+Yt*Zr[2]).toString(16))}return ht.trim()},qr=function(W,ge){ge||(ge=21);var Ce=Qr(),Fe=dA(W.colors,ge),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+ge+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Js({data:Fe,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),$("endobj"),W.objectNumber=Qr(),$("<< /ShadingType "+W.type),$("/ColorSpace /DeviceRGB");var Ve="/Coords ["+I(parseFloat(W.coords[0]))+" "+I(parseFloat(W.coords[1]))+" ";W.type===2?Ve+=I(parseFloat(W.coords[2]))+" "+I(parseFloat(W.coords[3])):Ve+=I(parseFloat(W.coords[2]))+" "+I(parseFloat(W.coords[3]))+" "+I(parseFloat(W.coords[4]))+" "+I(parseFloat(W.coords[5])),$(Ve+="]"),W.matrix&&$("/Matrix ["+W.matrix.toString()+"]"),$("/Function "+Ce+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},af=function(W,ge){var Ce=Hr(),Fe=Qr();ge.push({resourcesOid:Ce,objectOid:Fe}),W.objectNumber=Fe;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+W.boundingBox.map(I).join(" ")+"]"}),Pe.push({key:"XStep",value:I(W.xStep)}),Pe.push({key:"YStep",value:I(W.yStep)}),Pe.push({key:"Resources",value:Ce+" 0 R"}),W.matrix&&Pe.push({key:"Matrix",value:"["+W.matrix.toString()+"]"}),Js({data:W.stream,additionalKeyValues:Pe,objectId:W.objectNumber}),$("endobj")},So=function(W){var ge;for(ge in Jt)Jt.hasOwnProperty(ge)&&(Jt[ge]instanceof qd?qr(Jt[ge]):Jt[ge]instanceof jh&&af(Jt[ge],W))},Yu=function(W){for(var ge in W.objectNumber=Qr(),$("<<"),W)switch(ge){case"opacity":$("/ca "+P(W[ge]));break;case"stroke-opacity":$("/CA "+P(W[ge]))}$(">>"),$("endobj")},Bc=function(){var W;for(W in Sr)Sr.hasOwnProperty(W)&&Yu(Sr[W])},Xu=function(){for(var W in $("/XObject <<"),Ln)Ln.hasOwnProperty(W)&&Ln[W].objectNumber>=0&&$("/"+W+" "+Ln[W].objectNumber+" 0 R");ir.publish("putXobjectDict"),$(">>")},AA=function(){zr.oid=Qr(),$("<<"),$("/Filter /Standard"),$("/V "+zr.v),$("/R "+zr.r),$("/U <"+zr.toHexString(zr.U)+">"),$("/O <"+zr.toHexString(zr.O)+">"),$("/P "+zr.P),$(">>"),$("endobj")},jl=function(){for(var W in $("/Font <<"),sr)sr.hasOwnProperty(W)&&(f===!1||f===!0&&m.hasOwnProperty(W))&&$("/"+W+" "+sr[W].objectNumber+" 0 R");$(">>")},pi=function(){if(Object.keys(Jt).length>0){for(var W in $("/Shading <<"),Jt)Jt.hasOwnProperty(W)&&Jt[W]instanceof qd&&Jt[W].objectNumber>=0&&$("/"+W+" "+Jt[W].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),$(">>")}},_c=function(W){if(Object.keys(Jt).length>0){for(var ge in $("/Pattern <<"),Jt)Jt.hasOwnProperty(ge)&&Jt[ge]instanceof h.TilingPattern&&Jt[ge].objectNumber>=0&&Jt[ge].objectNumber<W&&$("/"+ge+" "+Jt[ge].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),$(">>")}},Zs=function(){if(Object.keys(Sr).length>0){var W;for(W in $("/ExtGState <<"),Sr)Sr.hasOwnProperty(W)&&Sr[W].objectNumber>=0&&$("/"+W+" "+Sr[W].objectNumber+" 0 R");ir.publish("putGStateDict"),$(">>")}},an=function(W){$n(W.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),jl(),pi(),_c(W.objectOid),Zs(),Xu(),$(">>"),$("endobj")},hA=function(){var W=[];wl(),Bc(),jc(),So(W),ir.publish("putResources"),W.forEach(an),an({resourcesOid:zi,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources")},fA=function(){ir.publish("putAdditionalObjects");for(var W=0;W<ue.length;W++){var ge=ue[W];$n(ge.objId,!0),$(ge.content),$("endobj")}ir.publish("postPutAdditionalObjects")},Bl=function(W){Gt[W.fontName]=Gt[W.fontName]||{},Gt[W.fontName][W.fontStyle]=W.id},ko=function(W,ge,Ce,Fe,Pe){var Ve={id:"F"+(Object.keys(sr).length+1).toString(10),postScriptName:W,fontName:ge,fontStyle:Ce,encoding:Fe,isStandardFont:Pe||!1,metadata:{}};return ir.publish("addFont",{font:Ve,instance:this}),sr[Ve.id]=Ve,Bl(Ve),Ve.id},_l=function(W){for(var ge=0,Ce=G.length;ge<Ce;ge++){var Fe=ko.call(this,W[ge][0],W[ge][1],W[ge][2],G[ge][3],!0);f===!1&&(m[Fe]=!0);var Pe=W[ge][0].split("-");Bl({id:Fe,fontName:Pe[0],fontStyle:Pe[1]||""})}ir.publish("addFonts",{fonts:sr,dictionary:Gt})},Ns=function(W){return W.foo=function(){try{return W.apply(this,arguments)}catch(Fe){var ge=Fe.stack||"";~ge.indexOf(" at ")&&(ge=ge.split(" at ")[1]);var Ce="Error in function "+ge.split(`
`)[0].split("<")[0]+": "+Fe.message;if(!Dt.console)throw new Error(Ce);Dt.console.error(Ce,Fe),Dt.alert&&alert(Ce)}},W.foo.bar=W,W.foo},Cc=function(W,ge){var Ce,Fe,Pe,Ve,rt,ht,Ct,Qt,Mt;if(Pe=(ge=ge||{}).sourceEncoding||"Unicode",rt=ge.outputEncoding,(ge.autoencode||rt)&&sr[At].metadata&&sr[At].metadata[Pe]&&sr[At].metadata[Pe].encoding&&(Ve=sr[At].metadata[Pe].encoding,!rt&&sr[At].encoding&&(rt=sr[At].encoding),!rt&&Ve.codePages&&(rt=Ve.codePages[0]),typeof rt=="string"&&(rt=Ve[rt]),rt)){for(Ct=!1,ht=[],Ce=0,Fe=W.length;Ce<Fe;Ce++)(Qt=rt[W.charCodeAt(Ce)])?ht.push(String.fromCharCode(Qt)):ht.push(W[Ce]),ht[Ce].charCodeAt(0)>>8&&(Ct=!0);W=ht.join("")}for(Ce=W.length;Ct===void 0&&Ce!==0;)W.charCodeAt(Ce-1)>>8&&(Ct=!0),Ce--;if(!Ct)return W;for(ht=ge.noBOM?[]:[254,255],Ce=0,Fe=W.length;Ce<Fe;Ce++){if((Mt=(Qt=W.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(Mt),ht.push(Qt-(Mt<<8))}return String.fromCharCode.apply(void 0,ht)},js=h.__private__.pdfEscape=h.pdfEscape=function(W,ge){return Cc(W,ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cl=h.__private__.beginPage=function(W){le[++pr]=[],Ot[pr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(W[0]),topRightY:Number(W[1])}},Fo(pr),je(le[V])},Ju=function(W,ge){var Ce,Fe,Pe;switch(t=ge||t,typeof W=="string"&&(Ce=p(W.toLowerCase()),Array.isArray(Ce)&&(Fe=Ce[0],Pe=Ce[1])),Array.isArray(W)&&(Fe=W[0]*ot,Pe=W[1]*ot),isNaN(Fe)&&(Fe=i[0],Pe=i[1]),(Fe>14400||Pe>14400)&&(Dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),Pe=Math.min(14400,Pe)),i=[Fe,Pe],t.substr(0,1)){case"l":Pe>Fe&&(i=[Pe,Fe]);break;case"p":Fe>Pe&&(i=[Pe,Fe])}Cl(i),Tl(rd),$(Bs),sd!==0&&$(sd+" J"),Ll!==0&&$(Ll+" j"),ir.publish("addPage",{pageNumber:pr})},Zu=function(W){W>0&&W<=pr&&(le.splice(W,1),Ot.splice(W,1),pr--,V>pr&&(V=pr),this.setPage(V))},Fo=function(W){W>0&&W<=pr&&(V=W)},of=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return le.length-1},Ec=function(W,ge,Ce){var Fe,Pe=void 0;return Ce=Ce||{},W=W!==void 0?W:sr[At].fontName,ge=ge!==void 0?ge:sr[At].fontStyle,Fe=W.toLowerCase(),Gt[Fe]!==void 0&&Gt[Fe][ge]!==void 0?Pe=Gt[Fe][ge]:Gt[W]!==void 0&&Gt[W][ge]!==void 0?Pe=Gt[W][ge]:Ce.disableWarning===!1&&Dr.warn("Unable to look up font label for font '"+W+"', '"+ge+"'. Refer to getFontList() for available fonts."),Pe||Ce.noFallback||(Pe=Gt.times[ge])==null&&(Pe=Gt.times.normal),Pe},ar=h.__private__.putInfo=function(){var W=Qr(),ge=function(Fe){return Fe};for(var Ce in A!==null&&(ge=zr.encryptor(W,0)),$("<<"),$("/Producer ("+js(ge("jsPDF "+Ft.version))+")"),ft)ft.hasOwnProperty(Ce)&&ft[Ce]&&$("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+js(ge(ft[Ce]))+")");$("/CreationDate ("+js(ge(X))+")"),$(">>"),$("endobj")},Sc=h.__private__.putCatalog=function(W){var ge=(W=W||{}).rootDictionaryObjId||Ma;switch(Qr(),$("<<"),$("/Type /Catalog"),$("/Pages "+ge+" 0 R"),fe||(fe="fullwidth"),fe){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+fe;Ce.substr(Ce.length-1)==="%"&&(fe=parseInt(fe)/100),typeof fe=="number"&&$("/OpenAction [3 0 R /XYZ null null "+P(fe)+"]")}switch(He||(He="continuous"),He){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}Ee&&$("/PageMode /"+Ee),ir.publish("putCatalog"),$(">>"),$("endobj")},mA=h.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(z+1)),$("/Root "+z+" 0 R"),$("/Info "+(z-1)+" 0 R"),A!==null&&$("/Encrypt "+zr.oid+" 0 R"),$("/ID [ <"+ie+"> <"+ie+"> ]"),$(">>")},ed=h.__private__.putHeader=function(){$("%PDF-"+v),$("%ºß¬à")},pA=h.__private__.putXRef=function(){var W="0000000000";$("xref"),$("0 "+(z+1)),$("0000000000 65535 f ");for(var ge=1;ge<=z;ge++)typeof D[ge]=="function"?$((W+D[ge]()).slice(-10)+" 00000 n "):D[ge]!==void 0?$((W+D[ge]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},ca=h.__private__.buildDocument=function(){te(),je(H),ir.publish("buildDocument"),ed(),Eo(),fA(),hA(),A!==null&&AA(),ar(),Sc();var W=ne;return pA(),mA(),$("startxref"),$(""+W),$("%%EOF"),je(le[V]),H.join(`
`)},El=h.__private__.getBlob=function(W){return new Blob([Q(W)],{type:"application/pdf"})},To=h.output=h.__private__.output=Ns(function(W,ge){switch(typeof(ge=ge||{})=="string"?ge={filename:ge}:ge.filename=ge.filename||"generated.pdf",W){case void 0:return ca();case"save":h.save(ge.filename);break;case"arraybuffer":return Q(ca());case"blob":return El(ca());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(El(ca()))||void 0;Dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Fe=ca();try{Ce=L2(Fe)}catch{Ce=L2(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+ge.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ge.pdfObjectUrl&&(Pe=ge.pdfObjectUrl,Ve="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ge)+");<\/script></body></html>",ht=Dt.open();return ht!==null&&ht.document.write(rt),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ge.filename+'" width="500px" height="400px" /></body></html>',Qt=Dt.open();if(Qt!==null){Qt.document.write(Ct);var Mt=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=ge.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mt.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ge)+'"></iframe></body></html>',Kr=Dt.open();if(Kr!==null&&(Kr.document.write(Yt),Kr.document.title=ge.filename),Kr||typeof safari>"u")return Kr;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",ge);default:return null}}),Sl=function(W){return Array.isArray(_o)===!0&&_o.indexOf(W)>-1};switch(n){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=Sl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ot=n}var zr=null;M(),ce();var ua=function(W){return A!==null?zr.encryptor(W,0):function(ge){return ge}},Wi=h.__private__.getPageInfo=h.getPageInfo=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[W].objId,pageNumber:W,pageContext:Ot[W]}},Lt=h.__private__.getPageInfoByObjId=function(W){if(isNaN(W)||W%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ge in Ot)if(Ot[ge].objId===W)break;return Wi(ge)},kl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ot[V].objId,pageNumber:V,pageContext:Ot[V]}};h.addPage=function(){return Ju.apply(this,arguments),this},h.setPage=function(){return Fo.apply(this,arguments),je.call(this,le[V]),this},h.insertPage=function(W){return this.addPage(),this.movePage(V,W),this},h.movePage=function(W,ge){var Ce,Fe;if(W>ge){Ce=le[W],Fe=Ot[W];for(var Pe=W;Pe>ge;Pe--)le[Pe]=le[Pe-1],Ot[Pe]=Ot[Pe-1];le[ge]=Ce,Ot[ge]=Fe,this.setPage(ge)}else if(W<ge){Ce=le[W],Fe=Ot[W];for(var Ve=W;Ve<ge;Ve++)le[Ve]=le[Ve+1],Ot[Ve]=Ot[Ve+1];le[ge]=Ce,Ot[ge]=Fe,this.setPage(ge)}return this},h.deletePage=function(){return Zu.apply(this,arguments),this},h.__private__.text=h.text=function(W,ge,Ce,Fe,Pe){var Ve,rt,ht,Ct,Qt,Mt,Yt,Kr,Zr,un=(Fe=Fe||{}).scope||this;if(typeof W=="number"&&typeof ge=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var Yn=Ce;Ce=ge,ge=W,W=Yn}if(arguments[3]instanceof St?(F("The transform parameter of text() with a Matrix value"),Zr=Pe):(ht=arguments[4],Ct=arguments[5],Er(Yt=arguments[3])==="object"&&Yt!==null||(typeof ht=="string"&&(Ct=ht,ht=null),typeof Yt=="string"&&(Ct=Yt,Yt=null),typeof Yt=="number"&&(ht=Yt,Yt=null),Fe={flags:Yt,angle:ht,align:Ct})),isNaN(ge)||isNaN(Ce)||W==null)throw new Error("Invalid arguments passed to jsPDF.text");if(W.length===0)return un;var Dn="",Xi=!1,ti=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:Fl,yi=un.internal.scaleFactor;function Ro(Nr){return Nr=Nr.split("	").join(Array(Fe.TabLen||9).join(" ")),js(Nr,Yt)}function od(Nr){for(var hr,tn=Nr.concat(),dn=[],pa=tn.length;pa--;)typeof(hr=tn.shift())=="string"?dn.push(hr):Array.isArray(Nr)&&(hr.length===1||hr[1]===void 0&&hr[2]===void 0)?dn.push(hr[0]):dn.push([hr[0],hr[1],hr[2]]);return dn}function Rc(Nr,hr){var tn;if(typeof Nr=="string")tn=hr(Nr)[0];else if(Array.isArray(Nr)){for(var dn,pa,$c=Nr.concat(),Hl=[],ud=$c.length;ud--;)typeof(dn=$c.shift())=="string"?Hl.push(hr(dn)[0]):Array.isArray(dn)&&typeof dn[0]=="string"&&(pa=hr(dn[0],dn[1],dn[2]),Hl.push([pa[0],pa[1],pa[2]]));tn=Hl}return tn}var Dl=!1,Mc=!0;if(typeof W=="string")Dl=!0;else if(Array.isArray(W)){var Qc=W.concat();rt=[];for(var Ul,en=Qc.length;en--;)(typeof(Ul=Qc.shift())!="string"||Array.isArray(Ul)&&typeof Ul[0]!="string")&&(Mc=!1);Dl=Mc}if(Dl===!1)throw new Error('Type of text must be string or Array. "'+W+'" is not recognized.');typeof W=="string"&&(W=W.match(/[\r?\n]/)?W.split(/\r\n|\r|\n/g):[W]);var Hc=me/un.internal.scaleFactor,qc=Hc*(ti-1);switch(Fe.baseline){case"bottom":Ce-=qc;break;case"top":Ce+=Hc-qc;break;case"hanging":Ce+=Hc-2*qc;break;case"middle":Ce+=Hc/2-qc}if((Mt=Fe.maxWidth||0)>0&&(typeof W=="string"?W=un.splitTextToSize(W,Mt):Object.prototype.toString.call(W)==="[object Array]"&&(W=W.reduce(function(Nr,hr){return Nr.concat(un.splitTextToSize(hr,Mt))},[]))),Ve={text:W,x:ge,y:Ce,options:Fe,mutex:{pdfEscape:js,activeFontKey:At,fonts:sr,activeFontSize:me}},ir.publish("preProcessText",Ve),W=Ve.text,ht=(Fe=Ve.options).angle,!(Zr instanceof St)&&ht&&typeof ht=="number"){ht*=Math.PI/180,Fe.rotationDirection===0&&(ht=-ht),N===y.ADVANCED&&(ht=-ht);var zc=Math.cos(ht),Kc=Math.sin(ht);Zr=new St(zc,Kc,-Kc,zc,0,0)}else ht&&ht instanceof St&&(Zr=ht);N!==y.ADVANCED||Zr||(Zr=bs),(Qt=Fe.charSpace||Uo)!==void 0&&(Dn+=I(_(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Kr=Fe.horizontalScale)!==void 0&&(Dn+=I(100*Kr)+` Tz
`),Fe.lang;var ds=-1,Ol=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,qa=un.internal.getCurrentPageInfo().pageContext;switch(Ol){case 0:case!1:case"fill":ds=0;break;case 1:case!0:case"stroke":ds=1;break;case 2:case"fillThenStroke":ds=2;break;case 3:case"invisible":ds=3;break;case 4:case"fillAndAddForClipping":ds=4;break;case 5:case"strokeAndAddPathForClipping":ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ds=6;break;case 7:case"addToPathForClipping":ds=7}var vA=qa.usedRenderingMode!==void 0?qa.usedRenderingMode:-1;ds!==-1?Dn+=ds+` Tr
`:vA!==-1&&(Dn+=`0 Tr
`),ds!==-1&&(qa.usedRenderingMode=ds),Ct=Fe.align||"left";var As,Vc=me*ti,ld=un.internal.pageSize.getWidth(),Wc=sr[At];Qt=Fe.charSpace||Uo,Mt=Fe.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var fa=[],Mo=function(Nr){return un.getStringUnitWidth(Nr,{font:Wc,charSpace:Qt,fontSize:me,doKerning:!1})*me/yi};if(Object.prototype.toString.call(W)==="[object Array]"){var hs;rt=od(W),Ct!=="left"&&(As=rt.map(Mo));var Xn,Qo=0;if(Ct==="right"){ge-=As[0],W=[],en=rt.length;for(var za=0;za<en;za++)za===0?(Xn=gi(ge),hs=xi(Ce)):(Xn=_(Qo-As[za]),hs=-Vc),W.push([rt[za],Xn,hs]),Qo=As[za]}else if(Ct==="center"){ge-=As[0]/2,W=[],en=rt.length;for(var Ka=0;Ka<en;Ka++)Ka===0?(Xn=gi(ge),hs=xi(Ce)):(Xn=_((Qo-As[Ka])/2),hs=-Vc),W.push([rt[Ka],Xn,hs]),Qo=As[Ka]}else if(Ct==="left"){W=[],en=rt.length;for(var Gc=0;Gc<en;Gc++)W.push(rt[Gc])}else if(Ct==="justify"&&Wc.encoding==="Identity-H"){W=[],en=rt.length,Mt=Mt!==0?Mt:ld;for(var Va=0,or=0;or<en;or++)if(hs=or===0?xi(Ce):-Vc,Xn=or===0?gi(ge):Va,or<en-1){var Wa=_((Mt-As[or])/(rt[or].split(" ").length-1)),Jn=rt[or].split(" ");W.push([Jn[0]+" ",Xn,hs]),Va=0;for(var ri=1;ri<Jn.length;ri++){var Pl=(Mo(Jn[ri-1]+" "+Jn[ri])-Mo(Jn[ri]))*yi+Wa;ri==Jn.length-1?W.push([Jn[ri],Pl,0]):W.push([Jn[ri]+" ",Pl,0]),Va-=Pl}}else W.push([rt[or],Xn,hs]);W.push(["",Va,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(W=[],en=rt.length,Mt=Mt!==0?Mt:ld,or=0;or<en;or++)hs=or===0?xi(Ce):-Vc,Xn=or===0?gi(ge):0,or<en-1?fa.push(I(_((Mt-As[or])/(rt[or].split(" ").length-1)))):fa.push(0),W.push([rt[or],Xn,hs])}}var cd=typeof Fe.R2L=="boolean"?Fe.R2L:be;cd===!0&&(W=Rc(W,function(Nr,hr,tn){return[Nr.split("").reverse().join(""),hr,tn]})),Ve={text:W,x:ge,y:Ce,options:Fe,mutex:{pdfEscape:js,activeFontKey:At,fonts:sr,activeFontSize:me}},ir.publish("postProcessText",Ve),W=Ve.text,Xi=Ve.mutex.isHex||!1;var Rl=sr[At].encoding;Rl!=="WinAnsiEncoding"&&Rl!=="StandardEncoding"||(W=Rc(W,function(Nr,hr,tn){return[Ro(Nr),hr,tn]})),rt=od(W),W=[];for(var Ml,Ql,ni,Ga=0,ma=1,$a=Array.isArray(rt[0])?ma:Ga,Ya="",Ho=function(Nr,hr,tn){var dn="";return tn instanceof St?(tn=typeof Fe.angle=="number"?Xs(tn,new St(1,0,0,1,Nr,hr)):Xs(new St(1,0,0,1,Nr,hr),tn),N===y.ADVANCED&&(tn=Xs(new St(1,0,0,-1,0,0),tn)),dn=tn.join(" ")+` Tm
`):dn=I(Nr)+" "+I(hr)+` Td
`,dn},Hn=0;Hn<rt.length;Hn++){switch(Ya="",$a){case ma:ni=(Xi?"<":"(")+rt[Hn][0]+(Xi?">":")"),Ml=parseFloat(rt[Hn][1]),Ql=parseFloat(rt[Hn][2]);break;case Ga:ni=(Xi?"<":"(")+rt[Hn]+(Xi?">":")"),Ml=gi(ge),Ql=xi(Ce)}fa!==void 0&&fa[Hn]!==void 0&&(Ya=fa[Hn]+` Tw
`),Hn===0?W.push(Ya+Ho(Ml,Ql,Zr)+ni):$a===Ga?W.push(Ya+ni):$a===ma&&W.push(Ya+Ho(Ml,Ql,Zr)+ni)}W=$a===Ga?W.join(` Tj
T* `):W.join(` Tj
`),W+=` Tj
`;var _s=`BT
/`;return _s+=At+" "+me+` Tf
`,_s+=I(me*ti)+` TL
`,_s+=bn+`
`,_s+=Dn,_s+=W,$(_s+="ET"),m[At]=!0,un};var da=h.__private__.clip=h.clip=function(W){return $(W==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return da("evenodd")},h.__private__.discardPath=h.discardPath=function(){return $("n"),this};var Aa=h.__private__.isValidStyle=function(W){var ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(W)!==-1&&(ge=!0),ge};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(W){return Aa(W)&&(u=W),this};var td=h.__private__.getStyle=h.getStyle=function(W){var ge=u;switch(W){case"D":case"S":ge="S";break;case"F":ge="f";break;case"FD":case"DF":ge="B";break;case"f":case"f*":case"B":case"B*":ge=W}return ge},Io=h.close=function(){return $("h"),this};h.stroke=function(){return $("S"),this},h.fill=function(W){return kc("f",W),this},h.fillEvenOdd=function(W){return kc("f*",W),this},h.fillStroke=function(W){return kc("B",W),this},h.fillStrokeEvenOdd=function(W){return kc("B*",W),this};var kc=function(W,ge){Er(ge)==="object"?gA(ge,W):$(W)},Fc=function(W){W===null||N===y.ADVANCED&&W===void 0||(W=td(W),$(W))};function Tc(W,ge,Ce,Fe,Pe){var Ve=new jh(ge||this.boundingBox,Ce||this.xStep,Fe||this.yStep,this.gState,Pe||this.matrix);Ve.stream=this.stream;var rt=W+"$$"+this.cloneIndex+++"$$";return ws(rt,Ve),Ve}var gA=function(W,ge){var Ce=Hi[W.key],Fe=Jt[Ce];if(Fe instanceof qd)$("q"),$(lf(ge)),Fe.gState&&h.setGState(Fe.gState),$(W.matrix.toString()+" cm"),$("/"+Ce+" sh"),$("Q");else if(Fe instanceof jh){var Pe=new St(1,0,0,-1,0,Po());W.matrix&&(Pe=Pe.multiply(W.matrix||bs),Ce=Tc.call(Fe,W.key,W.boundingBox,W.xStep,W.yStep,Pe).id),$("q"),$("/Pattern cs"),$("/"+Ce+" scn"),Fe.gState&&h.setGState(Fe.gState),$(ge),$("Q")}},lf=function(W){switch(W){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qa=h.moveTo=function(W,ge){return $(I(_(W))+" "+I(S(ge))+" m"),this},Gi=h.lineTo=function(W,ge){return $(I(_(W))+" "+I(S(ge))+" l"),this},ei=h.curveTo=function(W,ge,Ce,Fe,Pe,Ve){return $([I(_(W)),I(S(ge)),I(_(Ce)),I(S(Fe)),I(_(Pe)),I(S(Ve)),"c"].join(" ")),this};h.__private__.line=h.line=function(W,ge,Ce,Fe,Pe){if(isNaN(W)||isNaN(ge)||isNaN(Ce)||isNaN(Fe)||!Aa(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return N===y.COMPAT?this.lines([[Ce-W,Fe-ge]],W,ge,[1,1],Pe||"S"):this.lines([[Ce-W,Fe-ge]],W,ge,[1,1]).stroke()},h.__private__.lines=h.lines=function(W,ge,Ce,Fe,Pe,Ve){var rt,ht,Ct,Qt,Mt,Yt,Kr,Zr,un,Yn,Dn,Xi;if(typeof W=="number"&&(Xi=Ce,Ce=ge,ge=W,W=Xi),Fe=Fe||[1,1],Ve=Ve||!1,isNaN(ge)||isNaN(Ce)||!Array.isArray(W)||!Array.isArray(Fe)||!Aa(Pe)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qa(ge,Ce),rt=Fe[0],ht=Fe[1],Qt=W.length,Yn=ge,Dn=Ce,Ct=0;Ct<Qt;Ct++)(Mt=W[Ct]).length===2?(Yn=Mt[0]*rt+Yn,Dn=Mt[1]*ht+Dn,Gi(Yn,Dn)):(Yt=Mt[0]*rt+Yn,Kr=Mt[1]*ht+Dn,Zr=Mt[2]*rt+Yn,un=Mt[3]*ht+Dn,Yn=Mt[4]*rt+Yn,Dn=Mt[5]*ht+Dn,ei(Yt,Kr,Zr,un,Yn,Dn));return Ve&&Io(),Fc(Pe),this},h.path=function(W){for(var ge=0;ge<W.length;ge++){var Ce=W[ge],Fe=Ce.c;switch(Ce.op){case"m":Qa(Fe[0],Fe[1]);break;case"l":Gi(Fe[0],Fe[1]);break;case"c":ei.apply(this,Fe);break;case"h":Io()}}return this},h.__private__.rect=h.rect=function(W,ge,Ce,Fe,Pe){if(isNaN(W)||isNaN(ge)||isNaN(Ce)||isNaN(Fe)||!Aa(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===y.COMPAT&&(Fe=-Fe),$([I(_(W)),I(S(ge)),I(_(Ce)),I(_(Fe)),"re"].join(" ")),Fc(Pe),this},h.__private__.triangle=h.triangle=function(W,ge,Ce,Fe,Pe,Ve,rt){if(isNaN(W)||isNaN(ge)||isNaN(Ce)||isNaN(Fe)||isNaN(Pe)||isNaN(Ve)||!Aa(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-W,Fe-ge],[Pe-Ce,Ve-Fe],[W-Pe,ge-Ve]],W,ge,[1,1],rt,!0),this},h.__private__.roundedRect=h.roundedRect=function(W,ge,Ce,Fe,Pe,Ve,rt){if(isNaN(W)||isNaN(ge)||isNaN(Ce)||isNaN(Fe)||isNaN(Pe)||isNaN(Ve)||!Aa(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*Ce),Ve=Math.min(Ve,.5*Fe),this.lines([[Ce-2*Pe,0],[Pe*ht,0,Pe,Ve-Ve*ht,Pe,Ve],[0,Fe-2*Ve],[0,Ve*ht,-Pe*ht,Ve,-Pe,Ve],[2*Pe-Ce,0],[-Pe*ht,0,-Pe,-Ve*ht,-Pe,-Ve],[0,2*Ve-Fe],[0,-Ve*ht,Pe*ht,-Ve,Pe,-Ve]],W+Pe,ge,[1,1],rt,!0),this},h.__private__.ellipse=h.ellipse=function(W,ge,Ce,Fe,Pe){if(isNaN(W)||isNaN(ge)||isNaN(Ce)||isNaN(Fe)||!Aa(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*Ce,rt=4/3*(Math.SQRT2-1)*Fe;return Qa(W+Ce,ge),ei(W+Ce,ge-rt,W+Ve,ge-Fe,W,ge-Fe),ei(W-Ve,ge-Fe,W-Ce,ge-rt,W-Ce,ge),ei(W-Ce,ge+rt,W-Ve,ge+Fe,W,ge+Fe),ei(W+Ve,ge+Fe,W+Ce,ge+rt,W+Ce,ge),Fc(Pe),this},h.__private__.circle=h.circle=function(W,ge,Ce,Fe){if(isNaN(W)||isNaN(ge)||isNaN(Ce)||!Aa(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(W,ge,Ce,Ce,Fe)},h.setFont=function(W,ge,Ce){return Ce&&(ge=k(ge,Ce)),At=Ec(W,ge,{disableWarning:!1}),this};var Ic=h.__private__.getFont=h.getFont=function(){return sr[Ec.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var W,ge,Ce={};for(W in Gt)if(Gt.hasOwnProperty(W))for(ge in Ce[W]=[],Gt[W])Gt[W].hasOwnProperty(ge)&&Ce[W].push(ge);return Ce},h.addFont=function(W,ge,Ce,Fe,Pe){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(Ce=k(Ce,Fe)),Pe=Pe||"Identity-H",ko.call(this,W,ge,Ce,Pe)};var Fl,rd=r.lineWidth||.200025,Lo=h.__private__.getLineWidth=h.getLineWidth=function(){return rd},Tl=h.__private__.setLineWidth=h.setLineWidth=function(W){return rd=W,$(I(_(W))+" w"),this};h.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(W,ge){if(W=W||[],ge=ge||0,isNaN(ge)||!Array.isArray(W))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return W=W.map(function(Ce){return I(_(Ce))}).join(" "),ge=I(_(ge)),$("["+W+"] "+ge+" d"),this};var Lc=h.__private__.getLineHeight=h.getLineHeight=function(){return me*Fl};h.__private__.getLineHeight=h.getLineHeight=function(){return me*Fl};var nd=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(W){return typeof(W=W||1.15)=="number"&&(Fl=W),this},$i=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Fl};nd(r.lineHeight);var gi=h.__private__.getHorizontalCoordinate=function(W){return _(W)},xi=h.__private__.getVerticalCoordinate=function(W){return N===y.ADVANCED?W:Ot[V].mediaBox.topRightY-Ot[V].mediaBox.bottomLeftY-_(W)},xA=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(W){return I(gi(W))},Yi=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(W){return I(xi(W))},Bs=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ki(Bs)},h.__private__.setStrokeColor=h.setDrawColor=function(W,ge,Ce,Fe){return Bs=Qn({ch1:W,ch2:ge,ch3:Ce,ch4:Fe,pdfColorType:"draw",precision:2}),$(Bs),this};var Dc=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ki(Dc)},h.__private__.setFillColor=h.setFillColor=function(W,ge,Ce,Fe){return Dc=Qn({ch1:W,ch2:ge,ch3:Ce,ch4:Fe,pdfColorType:"fill",precision:2}),$(Dc),this};var bn=r.textColor||"0 g",Do=h.__private__.getTextColor=h.getTextColor=function(){return Ki(bn)};h.__private__.setTextColor=h.setTextColor=function(W,ge,Ce,Fe){return bn=Qn({ch1:W,ch2:ge,ch3:Ce,ch4:Fe,pdfColorType:"text",precision:3}),this};var Uo=r.charSpace,Il=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Uo||0)};h.__private__.setCharSpace=h.setCharSpace=function(W){if(isNaN(W))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Uo=W,this};var sd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(W){var ge=h.CapJoinStyles[W];if(ge===void 0)throw new Error("Line cap style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=ge,$(ge+" J"),this};var Ll=0;h.__private__.setLineJoin=h.setLineJoin=function(W){var ge=h.CapJoinStyles[W];if(ge===void 0)throw new Error("Line join style of '"+W+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ll=ge,$(ge+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(W){if(W=W||0,isNaN(W))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(I(_(W))+" M"),this},h.GState=E0,h.setGState=function(W){(W=typeof W=="string"?Sr[vn[W]]:Uc(null,W)).equals(cn)||($("/"+W.id+" gs"),cn=W)};var Uc=function(W,ge){if(!W||!vn[W]){var Ce=!1;for(var Fe in Sr)if(Sr.hasOwnProperty(Fe)&&Sr[Fe].equals(ge)){Ce=!0;break}if(Ce)ge=Sr[Fe];else{var Pe="GS"+(Object.keys(Sr).length+1).toString(10);Sr[Pe]=ge,ge.id=Pe}return W&&(vn[W]=ge.id),ir.publish("addGState",ge),ge}};h.addGState=function(W,ge){return Uc(W,ge),this},h.saveGraphicsState=function(){return $("q"),us.push({key:At,size:me,color:bn}),this},h.restoreGraphicsState=function(){$("Q");var W=us.pop();return At=W.key,me=W.size,bn=W.color,cn=null,this},h.setCurrentTransformationMatrix=function(W){return $(W.toString()+" cm"),this},h.comment=function(W){return $("#"+W),this};var ha=function(W,ge){var Ce=W||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(Ve){isNaN(Ve)||(Ce=parseFloat(Ve))}});var Fe=ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(Ve){isNaN(Ve)||(Fe=parseFloat(Ve))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ve){Pe=Ve.toString()}}),this},Oo=function(W,ge,Ce,Fe){ha.call(this,W,ge),this.type="rect";var Pe=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(rt){isNaN(rt)||(Pe=parseFloat(rt))}});var Ve=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(rt){isNaN(rt)||(Ve=parseFloat(rt))}}),this},Oc=function(){this.page=pr,this.currentPage=V,this.pages=le.slice(0),this.pagesContext=Ot.slice(0),this.x=Jr,this.y=_t,this.matrix=Mn,this.width=Ha(V),this.height=Po(V),this.outputDestination=Be,this.id="",this.objectNumber=-1};Oc.prototype.restore=function(){pr=this.page,V=this.currentPage,Ot=this.pagesContext,le=this.pages,Jr=this.x,_t=this.y,Mn=this.matrix,id(V,this.width),ad(V,this.height),Be=this.outputDestination};var yA=function(W,ge,Ce,Fe,Pe){qi.push(new Oc),pr=V=0,le=[],Jr=W,_t=ge,Mn=Pe,Cl([Ce,Fe])},cf=function(W){if(mi[W])qi.pop().restore();else{var ge=new Oc,Ce="Xo"+(Object.keys(Ln).length+1).toString(10);ge.id=Ce,mi[W]=Ce,Ln[Ce]=ge,ir.publish("addFormObject",ge),qi.pop().restore()}};for(var Pc in h.beginFormObject=function(W,ge,Ce,Fe,Pe){return yA(W,ge,Ce,Fe,Pe),this},h.endFormObject=function(W){return cf(W),this},h.doFormObject=function(W,ge){var Ce=Ln[mi[W]];return $("q"),$(ge.toString()+" cm"),$("/"+Ce.id+" Do"),$("Q"),this},h.getFormObject=function(W){var ge=Ln[mi[W]];return{x:ge.x,y:ge.y,width:ge.width,height:ge.height,matrix:ge.matrix}},h.save=function(W,ge){return W=W||"generated.pdf",(ge=ge||{}).returnPromise=ge.returnPromise||!1,ge.returnPromise===!1?(Md(El(ca()),W),typeof Md.unload=="function"&&Dt.setTimeout&&setTimeout(Md.unload,911),this):new Promise(function(Ce,Fe){try{var Pe=Md(El(ca()),W);typeof Md.unload=="function"&&Dt.setTimeout&&setTimeout(Md.unload,911),Ce(Pe)}catch(Ve){Fe(Ve.message)}})},Ft.API)Ft.API.hasOwnProperty(Pc)&&(Pc==="events"&&Ft.API.events.length?function(W,ge){var Ce,Fe,Pe;for(Pe=ge.length-1;Pe!==-1;Pe--)Ce=ge[Pe][0],Fe=ge[Pe][1],W.subscribe.apply(W,[Ce].concat(typeof Fe=="function"?[Fe]:Fe))}(ir,Ft.API.events):h[Pc]=Ft.API[Pc]);var Ha=h.getPageWidth=function(W){return(Ot[W=W||V].mediaBox.topRightX-Ot[W].mediaBox.bottomLeftX)/ot},id=h.setPageWidth=function(W,ge){Ot[W].mediaBox.topRightX=ge*ot+Ot[W].mediaBox.bottomLeftX},Po=h.getPageHeight=function(W){return(Ot[W=W||V].mediaBox.topRightY-Ot[W].mediaBox.bottomLeftY)/ot},ad=h.setPageHeight=function(W,ge){Ot[W].mediaBox.topRightY=ge*ot+Ot[W].mediaBox.bottomLeftY};return h.internal={pdfEscape:js,getStyle:td,getFont:Ic,getFontSize:de,getCharSpace:Il,getTextColor:Do,getLineHeight:Lc,getLineHeightFactor:$i,getLineWidth:Lo,write:q,getHorizontalCoordinate:gi,getVerticalCoordinate:xi,getCoordinateString:xA,getVerticalCoordinateString:Yi,collections:{},newObject:Qr,newAdditionalObject:Co,newObjectDeferred:Hr,newObjectDeferredBegin:$n,getFilters:Vi,putStream:Js,events:ir,scaleFactor:ot,pageSize:{getWidth:function(){return Ha(V)},setWidth:function(W){id(V,W)},getHeight:function(){return Po(V)},setHeight:function(W){ad(V,W)}},encryptionOptions:A,encryption:zr,getEncryptor:ua,output:To,getNumberOfPages:of,pages:le,out:$,f2:P,f3:T,getPageInfo:Wi,getPageInfoByObjId:Lt,getCurrentPageInfo:kl,getPDFVersion:x,Point:ha,Rectangle:Oo,Matrix:St,hasHotfix:Sl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ha(V)},set:function(W){id(V,W)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Po(V)},set:function(W){ad(V,W)},enumerable:!0,configurable:!0}),_l.call(h,G),At="F1",Ju(i,t),ir.publish("initialized"),h}yh.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},yh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},yh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},yh.prototype.processOwnerPassword=function(r,e){return U2(D2(e).substr(0,5),r)},yh.prototype.encryptor=function(r,e){var t=D2(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return U2(t,n)}},E0.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Er(r)!==Er(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Ft.API={events:[]},Ft.version="3.0.1";var pn=Ft.API,K5=1,lA=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(r){return r.toFixed(2)},yu=function(r){return r.toFixed(5)};pn.__acroform__={};var Qi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},AE=function(r){return r*K5},rl=function(r){var e=new ZF,t=wt.internal.getHeight(r)||0,n=wt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ht(n)),Number(Ht(t))],e},hW=pn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},fW=pn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},mW=pn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},En=pn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mW(r,e-1)},Sn=pn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hW(r,e-1)},kn=pn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fW(r,e-1)},pW=pn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],a=r[1],o=r[2],l=r[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=t(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Ht(c.lowerLeft_X)),Number(Ht(c.lowerLeft_Y)),Number(Ht(c.upperRight_X)),Number(Ht(c.upperRight_Y))]},gW=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=O2(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=rl(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},O2=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=t,o=wt.internal.getHeight(r)||0;o=o<0?-o:o;var l=wt.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(T,_,U){if(T+1<i.length){var S=_+" "+i[T+1][0];return _g(S,r,U).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var u,A,f=_g("3",r,a).height,m=r.multiline?o-a:(o-f)/2,h=m+=2,v=0,x=0,b=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+_g(e,r,a=12).width+", FieldWidth:"+l+`
`;break}for(var p="",y=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var w=!1;if(i[N].length!==1&&b!==i[N].length-1){if((f+2)*(y+2)+2>o)continue e;p+=i[N][b],w=!0,x=N,N--}else{p=(p+=i[N][b]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var j=parseInt(N),k=c(j,p,a),I=N>=i.length-1;if(k&&!I){p+=" ",b=0;continue}if(k||I){if(I)x=j;else if(r.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!r.multiline||(f+2)*(y+2)+2>o)continue e;x=j}}for(var F="",C=v;C<=x;C++){var P=i[C];if(r.multiline){if(C===x){F+=P[b]+" ",b=(b+1)%P.length;continue}if(C===v){F+=P[P.length-1]+" ";continue}}F+=P[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,A=_g(F,r,a).width,r.textAlign){case"right":u=l-A-2;break;case"center":u=(l-A)/2;break;case"left":default:u=2}e+=Ht(u)+" "+Ht(h)+` Td
`,e+="("+lA(F)+`) Tj
`,e+=-Ht(u)+` 0 Td
`,h=-(a+2),A=0,v=w?x:x+1,y++,p=""}break}return n.text=e,n.fontSize=a,n},_g=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},xW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yW=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},vW=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,i=r[t];e.internal.newObjectDeferredBegin(i.objId,!0),Er(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},bW=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(jo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(xW)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K5=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new eT,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&yW(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=pW(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=wt.createDefaultAppearanceStream(l),Er(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var A=gW(l);c.push({key:"AP",value:"<</N "+A+">>"}),i.internal.acroformPlugin.xForms.push(A)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(i,l)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,l)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&vW(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},JF=pn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(o){return o};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),Er(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+lA(n(r[a].toString()))+")"):i+=r[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mb=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+lA(n(r))+")"},cl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};cl.prototype.toString=function(){return this.objId+" 0 R"},cl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},cl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:JF(i,this.objId,this.scope)}):i instanceof cl?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var ZF=function(){cl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Qi(ZF,cl);var eT=function(){cl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+lA(t(r))+")"}},set:function(t){r=t}})};Qi(eT,cl);var jo=function r(){cl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!En(e,3)},set:function(p){p?this.F=Sn(e,3):this.F=kn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');t=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof S0)return;a="FieldObject"+r.FieldNum++}var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+lA(p(a))+")"},set:function(p){a=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(p){a=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/K5:u},set:function(p){u=p}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(p){A=p}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof S0||this instanceof Zd))return Mb(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=p}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof os?m:Mb(m,this.objId,this.scope)},set:function(p){p=p.toString(),m=this instanceof os?p:p.substr(0,1)==="("?ah(p.substr(1,p.length-2)):ah(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof os?ah(m.substr(1,m.length-1)):m},set:function(p){p=p.toString(),m=this instanceof os?"/"+p:p}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof os?h:Mb(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=this instanceof os?p:p.substr(0,1)==="("?ah(p.substr(1,p.length-2)):ah(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof os?ah(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof os?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(p){p=!!p,x=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(p){v=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,1)},set:function(p){p?this.Ff=Sn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,2)},set:function(p){p?this.Ff=Sn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,3)},set:function(p){p?this.Ff=Sn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');b=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(b){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Qi(jo,cl);var Sh=function(){jo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return JF(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,18)},set:function(t){t?this.Ff=Sn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Sn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,20)},set:function(t){t?(this.Ff=Sn(this.Ff,20),e.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,22)},set:function(t){t?this.Ff=Sn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(t){t?this.Ff=Sn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,27)},set:function(t){t?this.Ff=Sn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Qi(Sh,jo);var kh=function(){Sh.call(this),this.fontName="helvetica",this.combo=!1};Qi(kh,Sh);var Fh=function(){kh.call(this),this.combo=!0};Qi(Fh,kh);var Xg=function(){Fh.call(this),this.edit=!0};Qi(Xg,Fh);var os=function(){jo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,15)},set:function(t){t?this.Ff=Sn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,16)},set:function(t){t?this.Ff=Sn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,17)},set:function(t){t?this.Ff=Sn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(t){t?this.Ff=Sn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+lA(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Er(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Qi(os,jo);var Jg=function(){os.call(this),this.pushButton=!0};Qi(Jg,os);var Th=function(){os.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Qi(Th,os);var S0=function(){var r,e;jo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+lA(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Er(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qi(S0,jo),Th.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Th.prototype.createOption=function(r){var e=new S0;return e.Parent=this,e.optionName=r,this.Kids.push(e),wW.call(this.scope,e),e};var Zg=function(){os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Qi(Zg,os);var Zd=function(){jo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,13)},set:function(e){e?this.Ff=Sn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,21)},set:function(e){e?this.Ff=Sn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,23)},set:function(e){e?this.Ff=Sn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,24)},set:function(e){e?this.Ff=Sn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,25)},set:function(e){e?this.Ff=Sn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,26)},set:function(e){e?this.Ff=Sn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qi(Zd,jo);var e0=function(){Zd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!En(this.Ff,14)},set:function(r){r?this.Ff=Sn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};Qi(e0,Zd);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=rl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=O2(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ht(wt.internal.getWidth(r))+" "+Ht(wt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ht(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=rl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=wt.internal.getHeight(r),o=wt.internal.getWidth(r),l=O2(r,r.caption);return i.push("1 g"),i.push("0 0 "+Ht(o)+" "+Ht(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ht(o-1)+" "+Ht(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Ht(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=rl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(wt.internal.getWidth(r))+" "+Ht(wt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=wt.RadioButton.Circle.YesNormal,e.D[r]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=rl(r);e.scope=r.scope;var t=[],n=wt.internal.getWidth(r)<=wt.internal.getHeight(r)?wt.internal.getWidth(r)/4:wt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=wt.internal.Bezier_C,a=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yu(wt.internal.getWidth(r)/2)+" "+yu(wt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=rl(r);e.scope=r.scope;var t=[],n=wt.internal.getWidth(r)<=wt.internal.getHeight(r)?wt.internal.getWidth(r)/4:wt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*wt.internal.Bezier_C).toFixed(5)),o=Number((n*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(wt.internal.getWidth(r)/2)+" "+yu(wt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yu(wt.internal.getWidth(r)/2)+" "+yu(wt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=rl(r);e.scope=r.scope;var t=[],n=wt.internal.getWidth(r)<=wt.internal.getHeight(r)?wt.internal.getWidth(r)/4:wt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yu(wt.internal.getWidth(r)/2)+" "+yu(wt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=wt.RadioButton.Cross.YesNormal,e.D[r]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=rl(r);e.scope=r.scope;var t=[],n=wt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ht(wt.internal.getWidth(r)-2)+" "+Ht(wt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ht(n.x1.x)+" "+Ht(n.x1.y)+" m"),t.push(Ht(n.x2.x)+" "+Ht(n.x2.y)+" l"),t.push(Ht(n.x4.x)+" "+Ht(n.x4.y)+" m"),t.push(Ht(n.x3.x)+" "+Ht(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=rl(r);e.scope=r.scope;var t=wt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ht(wt.internal.getWidth(r))+" "+Ht(wt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ht(wt.internal.getWidth(r)-2)+" "+Ht(wt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ht(t.x1.x)+" "+Ht(t.x1.y)+" m"),n.push(Ht(t.x2.x)+" "+Ht(t.x2.y)+" l"),n.push(Ht(t.x4.x)+" "+Ht(t.x4.y)+" m"),n.push(Ht(t.x3.x)+" "+Ht(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=rl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(wt.internal.getWidth(r))+" "+Ht(wt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};wt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=wt.internal.getWidth(r),t=wt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},wt.internal.getWidth=function(r){var e=0;return Er(r)==="object"&&(e=AE(r.Rect[2])),e},wt.internal.getHeight=function(r){var e=0;return Er(r)==="object"&&(e=AE(r.Rect[3])),e};var wW=pn.addField=function(r){if(bW(this,r),!(r instanceof jo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};pn.AcroFormChoiceField=Sh,pn.AcroFormListBox=kh,pn.AcroFormComboBox=Fh,pn.AcroFormEditBox=Xg,pn.AcroFormButton=os,pn.AcroFormPushButton=Jg,pn.AcroFormRadioButton=Th,pn.AcroFormCheckBox=Zg,pn.AcroFormTextField=Zd,pn.AcroFormPasswordField=e0,pn.AcroFormAppearance=wt,pn.AcroForm={ChoiceField:Sh,ListBox:kh,ComboBox:Fh,EditBox:Xg,Button:os,PushButton:Jg,RadioButton:Th,CheckBox:Zg,TextField:Zd,PasswordField:e0,Appearance:wt},Ft.AcroForm={ChoiceField:Sh,ListBox:kh,ComboBox:Fh,EditBox:Xg,Button:os,PushButton:Jg,RadioButton:Th,CheckBox:Zg,TextField:Zd,PasswordField:e0,Appearance:wt};Ft.AcroForm;function tT(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(T,_){var U,S,X,ie,Z,ce=e;if((_=_||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(k(T))for(Z in t)for(X=t[Z],U=0;U<X.length;U+=1){for(ie=!0,S=0;S<X[U].length;S+=1)if(X[U][S]!==void 0&&X[U][S]!==T[S]){ie=!1;break}if(ie===!0){ce=Z;break}}else for(Z in t)for(X=t[Z],U=0;U<X.length;U+=1){for(ie=!0,S=0;S<X[U].length;S+=1)if(X[U][S]!==void 0&&X[U][S]!==T.charCodeAt(S)){ie=!1;break}if(ie===!0){ce=Z;break}}return ce===e&&_!==e&&(ce=_),ce},i=function T(_){for(var U=this.internal.write,S=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:_.width}),ie.push({key:"Height",value:_.height}),_.colorSpace===b.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===b.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var Z="",ce=0,re=_.transparency.length;ce<re;ce++)Z+=_.transparency[ce]+" "+_.transparency[ce]+" ";ie.push({key:"Mask",value:"["+Z+"]"})}_.sMask!==void 0&&ie.push({key:"SMask",value:_.objectId+1+" 0 R"});var ae=_.filter!==void 0?["/"+_.filter]:void 0;if(S({data:_.data,additionalKeyValues:ie,alreadyAppliedFilters:ae,objectId:_.objectId}),U("endobj"),"sMask"in _&&_.sMask!==void 0){var M="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,L={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:M,data:_.sMask};"filter"in _&&(L.filter=_.filter),T.call(this,L)}if(_.colorSpace===b.INDEXED){var V=this.internal.newObject();S({data:F(new Uint8Array(_.palette)),objectId:V}),U("endobj")}},a=function(){var T=this.internal.collections.addImage_images;for(var _ in T)i.call(this,T[_])},o=function(){var T,_=this.internal.collections.addImage_images,U=this.internal.write;for(var S in _)U("/I"+(T=_[S]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},u=function(){return Object.keys(this.internal.collections.addImage_images).length},A=function(T){return typeof r["process"+T.toUpperCase()]=="function"},f=function(T){return Er(T)==="object"&&T.nodeType===1},m=function(T,_){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var U=""+T.getAttribute("src");if(U.indexOf("data:image/")===0)return jm(unescape(U).split("base64,").pop());var S=r.loadFile(U,!0);if(S!==void 0)return S}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var X;switch(_){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return jm(T.toDataURL(X,1).split("base64,").pop())}},h=function(T){var _=this.internal.collections.addImage_images;if(_){for(var U in _)if(T===_[U].alias)return _[U]}},v=function(T,_,U){return T||_||(T=-96,_=-96),T<0&&(T=-1*U.width*72/T/this.internal.scaleFactor),_<0&&(_=-1*U.height*72/_/this.internal.scaleFactor),T===0&&(T=_*U.width/U.height),_===0&&(_=T*U.height/U.width),[T,_]},x=function(T,_,U,S,X,ie){var Z=v.call(this,U,S,X),ce=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,ae=c.call(this);if(U=Z[0],S=Z[1],ae[X.index]=X,ie){ie*=Math.PI/180;var M=Math.cos(ie),L=Math.sin(ie),V=function(ee){return ee.toFixed(4)},K=[V(M),V(L),V(-1*L),V(M),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ce(T),re(_+S),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ce(U),"0","0",ce(S),"0","0","cm"].join(" "))):this.internal.write([ce(U),"0","0",ce(S),ce(T),re(_+S),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},b=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=r.__addimage__.sHashCode=function(T){var _,U,S=0;if(typeof T=="string")for(U=T.length,_=0;_<U;_++)S=(S<<5)-S+T.charCodeAt(_),S|=0;else if(k(T))for(U=T.byteLength/2,_=0;_<U;_++)S=(S<<5)-S+T[_],S|=0;return S},N=r.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var _=!0;return T.length===0&&(_=!1),T.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(_=!1),_},w=r.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var _=T.indexOf(",");return _<0?null:T.substring(0,_).trim().endsWith("base64")?T.substring(_+1):null},j=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(T){return j()&&T instanceof ArrayBuffer};var k=r.__addimage__.isArrayBufferView=function(T){return j()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},I=r.__addimage__.binaryStringToUint8Array=function(T){for(var _=T.length,U=new Uint8Array(_),S=0;S<_;S++)U[S]=T.charCodeAt(S);return U},F=r.__addimage__.arrayBufferToBinaryString=function(T){for(var _="",U=k(T)?T:new Uint8Array(T),S=0;S<U.length;S+=8192)_+=String.fromCharCode.apply(null,U.subarray(S,S+8192));return _};r.addImage=function(){var T,_,U,S,X,ie,Z,ce,re;if(typeof arguments[1]=="number"?(_=e,U=arguments[1],S=arguments[2],X=arguments[3],ie=arguments[4],Z=arguments[5],ce=arguments[6],re=arguments[7]):(_=arguments[1],U=arguments[2],S=arguments[3],X=arguments[4],ie=arguments[5],Z=arguments[6],ce=arguments[7],re=arguments[8]),Er(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var ae=T;T=ae.imageData,_=ae.format||_||e,U=ae.x||U||0,S=ae.y||S||0,X=ae.w||ae.width||X,ie=ae.h||ae.height||ie,Z=ae.alias||Z,ce=ae.compression||ce,re=ae.rotation||ae.angle||re}var M=this.internal.getFilters();if(ce===void 0&&M.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(U)||isNaN(S))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=C.call(this,T,_,Z,ce);return x.call(this,U,S,X,ie,L,re),this};var C=function(T,_,U,S){var X,ie,Z;if(typeof T=="string"&&n(T)===e){T=unescape(T);var ce=P(T,!1);(ce!==""||(ce=r.loadFile(T,!0))!==void 0)&&(T=ce)}if(f(T)&&(T=m(T,_)),_=n(T,_),!A(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((Z=U)==null||Z.length===0)&&(U=function(re){return typeof re=="string"||k(re)?y(re):k(re.data)?y(re.data):null}(T)),(X=h.call(this,U))||(j()&&(T instanceof Uint8Array||_==="RGBA"||(ie=T,T=I(T))),X=this["process"+_.toUpperCase()](T,u.call(this),U,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in r.image_compression?re:p.NONE}(S),ie)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},P=r.__addimage__.convertBase64ToBinaryString=function(T,_){_=typeof _!="boolean"||_;var U,S="";if(typeof T=="string"){var X;U=(X=w(T))!==null&&X!==void 0?X:T;try{S=jm(U)}catch(ie){if(_)throw N(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return S};r.getImageProperties=function(T){var _,U,S="";if(f(T)&&(T=m(T)),typeof T=="string"&&n(T)===e&&((S=P(T,!1))===""&&(S=r.loadFile(T)||""),T=S),U=n(T),!A(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!j()||T instanceof Uint8Array||(T=I(T)),!(_=this["process"+U.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=U,_}})(Ft.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,A=!1,f=0;f<u.length&&!A;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(x.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(p(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(p(y))+") >>",x.content=a;var N=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(x.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var k=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+k+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:u(n),w:c(t+i),h:u(n+a)},options:o,type:"link"})},r.textWithLink=function(t,n,i,a){var o,l,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var A=this.splitTextToSize(t,l).length;o=Math.ceil(u*A)}else l=c,o=u;return this.text(t,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Ft.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=r.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=r.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var A=r.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(x){var b=0,p=t,y="",N=0;for(b=0;b<x.length;b+=1)p[x.charCodeAt(b)]!==void 0?(N++,typeof(p=p[x.charCodeAt(b)])=="number"&&(y+=String.fromCharCode(p),p=t,N=0),b===x.length-1&&(p=t,y+=x.charAt(b-(N-1)),b-=N-1,N=0)):(p=t,y+=x.charAt(b-N),b-=N,N=0);return y};r.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var m=r.__arabicParser__.getCorrectForm=function(x,b,p){return o(x)?a(x)===!1?-1:!u(x)||!o(b)&&!o(p)||!o(p)&&l(b)||l(x)&&!o(b)||l(x)&&c(b)||l(x)&&l(b)?0:A(x)&&o(b)&&!l(b)&&o(p)&&u(p)?3:l(x)||!o(p)?1:2:-1},h=function(x){var b=0,p=0,y=0,N="",w="",j="",k=(x=x||"").split("\\s+"),I=[];for(b=0;b<k.length;b+=1){for(I.push(""),p=0;p<k[b].length;p+=1)N=k[b][p],w=k[b][p-1],j=k[b][p+1],o(N)?(y=m(N,w,j),I[b]+=y!==-1?String.fromCharCode(e[N.charCodeAt(0)][y]):N):I[b]+=N;I[b]=f(I[b])}return I.join(" ")},v=r.__arabicParser__.processArabic=r.processArabic=function(){var x,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(b)){var y=0;for(p=[],y=0;y<b.length;y+=1)Array.isArray(b[y])?p.push([h(b[y][0]),b[y][1],b[y][2]]):p.push([h(b[y])]);x=p}else x=h(b);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};r.events.push(["preProcessText",v])}(Ft.API),Ft.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ft.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){n.call(this);var A=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,x=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var p=u.maxWidth;p>0?typeof c=="string"?c=this.splitTextToSize(c,p):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,w){return N.concat(b.splitTextToSize(w,p))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)h<(x=this.getStringUnitWidth(c[y],{font:f})*A)&&(h=x);return h!==0&&(v=c.length),{w:h/=m,h:Math.max((v*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/m,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-A,c.y+A,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+A,{align:"center",baseline:"top",maxWidth:c.width-A-A}):this.text(c.text,c.x+A,c.y+A,{align:"left",baseline:"top",maxWidth:c.width-A-A})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,A,f,m){if(n.call(this),!A)throw new Error("No data for PDF table.");var h,v,x,b,p=[],y=[],N=[],w={},j={},k=[],I=[],F=(m=m||{}).autoSize||!1,C=m.printHeaders!==!1,P=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},e),_=typeof m.padding=="number"?m.padding:3,U=m.headerBackgroundColor||"#c8c8c8",S=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=S,this.setFontSize(P),f==null)y=p=Object.keys(A[0]),N=p.map(function(){return"left"});else if(Array.isArray(f)&&Er(f[0])==="object")for(p=f.map(function(ae){return ae.name}),y=f.map(function(ae){return ae.prompt||ae.name||""}),N=f.map(function(ae){return ae.align||"left"}),h=0;h<f.length;h+=1)j[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=p=f,N=p.map(function(){return"left"}));if(F||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<p.length;h+=1){for(w[b=p[h]]=A.map(function(ae){return ae[b]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=w[b],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)k.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[b]=Math.max.apply(null,k)+_+_,k=[]}if(C){var X={};for(h=0;h<p.length;h+=1)X[p[h]]={},X[p[h]].text=y[h],X[p[h]].align=N[h];var ie=l.call(this,X,j);I=p.map(function(ae){return new a(c,u,j[ae],ie,X[ae].text,void 0,X[ae].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var Z=f.reduce(function(ae,M){return ae[M.name]=M.align,ae},{});for(h=0;h<A.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:A[h]},this);var ce=l.call(this,A[h],j);for(x=0;x<p.length;x+=1){var re=A[h][p[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:x,data:re},this),o.call(this,new a(c,u,j[p[x]],ce,re,h+2,Z[p[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var A=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-A-A)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+A+A},this).reduce(function(h,v){return Math.max(h,v)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){A=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(A.y=this.internal.__cell__.margins.top||0,m.push(A)),A.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,A),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(Ft.API);var rT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],P2=tT(nT),sT=[100,200,300,400,500,600,700,800,900],NW=tT(sT);function R2(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return rT[a=a||"normal"]?a:"normal"}(r.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(a){return typeof P2[a=a||"normal"]=="number"?a:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function hE(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var jW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mE(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function BW(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},jW,t.genericFontFamilies||{}),a=null,o=null,l=0;l<e.length;++l)if(i[(a=R2(e[l])).family]&&(a.family=i[a.family]),r.hasOwnProperty(a.family)){o=r[a.family];break}if(!(o=o||r[n]))throw new Error("Could not find a font-family for the rule '"+mE(a)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var A=P2[c],f=A<=P2.normal?-1:1,m=hE(u,nT,A,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(a.stretch,o),o=function(c,u){if(u[c])return u[c];for(var A=rT[c],f=0;f<A.length;++f)if(u[A[f]])return u[A[f]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var A=NW[c],f=hE(u,sT,A,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+mE(a)+"'.");return o}function pE(r){return r.trimLeft()}function _W(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function CW(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Cg,gE,xE,Qb=["times"];(function(r){var e,t,n,i,a,o,l,c,u,A=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new A}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=L;Object.defineProperty(this,"pdf",{get:function(){return V}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(je){K=!!je}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(je){ee=!!je}});var z=0;Object.defineProperty(this,"posX",{get:function(){return z},set:function(je){isNaN(je)||(z=je)}});var D=0;Object.defineProperty(this,"posY",{get:function(){return D},set:function(je){isNaN(je)||(D=je)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(je){var $;typeof je=="number"?$=[je,je,je,je]:(($=new Array(4))[0]=je[0],$[1]=je.length>=2?je[1]:$[0],$[2]=je.length>=3?je[2]:$[0],$[3]=je.length>=4?je[3]:$[1]),u.margin=$}});var H=!1;Object.defineProperty(this,"autoPaging",{get:function(){return H},set:function(je){H=je}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(je){ne=je}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(je){ue=je}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(je){je instanceof A&&(u=je)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(je){u.path=je}});var le=[];Object.defineProperty(this,"ctxStack",{get:function(){return le},set:function(je){le=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var $;$=m(je),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var $=m(je);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var he=null;function Be(je,$){if(he===null){var q=function(Q){var G=[];return Object.keys(Q).forEach(function(me){Q[me].forEach(function(fe){var de=null;switch(fe){case"bold":de={family:me,weight:"bold"};break;case"italic":de={family:me,style:"italic"};break;case"bolditalic":de={family:me,weight:"bold",style:"italic"};break;case"":case"normal":de={family:me}}de!==null&&(de.ref={name:me,style:fe},G.push(de))})}),G}(je.getFontList());he=function(Q){for(var G={},me=0;me<Q.length;++me){var fe=R2(Q[me]),de=fe.family,be=fe.stretch,Ee=fe.style,ke=fe.weight;G[de]=G[de]||{},G[de][be]=G[de][be]||{},G[de][be][Ee]=G[de][be][Ee]||{},G[de][be][Ee][ke]=fe}return G}(q.concat($))}return he}var te=null;Object.defineProperty(this,"fontFaces",{get:function(){return te},set:function(je){he=null,te=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var $;if(this.ctx.font=je,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var q=$[1];$[2];var Q=$[3],G=$[4];$[5];var me=$[6],fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(G)[2];G=Math.floor(fe==="px"?parseFloat(G)*this.pdf.internal.scaleFactor:fe==="em"?parseFloat(G)*this.pdf.getFontSize():parseFloat(G)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(G);var de=function(ft){var At,ot,Jr=[],_t=ft.trim();if(_t==="")return Qb;if(_t in fE)return[fE[_t]];for(;_t!=="";){switch(ot=null,At=(_t=pE(_t)).charAt(0)){case'"':case"'":ot=_W(_t.substring(1),At);break;default:ot=CW(_t)}if(ot===null||(Jr.push(ot[0]),(_t=pE(ot[1]))!==""&&_t.charAt(0)!==","))return Qb;_t=_t.replace(/^,/,"")}return Jr}(me);if(this.fontFaces){var be=BW(Be(this.pdf,this.fontFaces),de.map(function(ft){return{family:ft,stretch:"normal",weight:Q,style:q}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ee="";(Q==="bold"||parseInt(Q,10)>=700||q==="bold")&&(Ee="bold"),q==="italic"&&(Ee+="italic"),Ee.length===0&&(Ee="normal");for(var ke="",He={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<de.length;Ye++){if(this.pdf.internal.getFont(de[Ye],Ee,{noFallback:!0,disableWarning:!0})!==void 0){ke=de[Ye];break}if(Ee==="bolditalic"&&this.pdf.internal.getFont(de[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=de[Ye],Ee="bold";else if(this.pdf.internal.getFont(de[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=de[Ye],Ee="normal";break}}if(ke===""){for(var et=0;et<de.length;et++)if(He[de[et]]){ke=He[de[et]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,Ee)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,V){if(isNaN(L)||isNaN(V))throw Dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(L,V));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(L,V)},f.prototype.closePath=function(){var L=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Er(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){L=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,V){if(isNaN(L)||isNaN(V))throw Dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(L,V));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,V,K,ee){if(isNaN(K)||isNaN(ee)||isNaN(L)||isNaN(V))throw Dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var z=this.ctx.transform.applyToPoint(new o(K,ee)),D=this.ctx.transform.applyToPoint(new o(L,V));this.path.push({type:"qct",x1:D.x,y1:D.y,x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.bezierCurveTo=function(L,V,K,ee,z,D){if(isNaN(z)||isNaN(D)||isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee))throw Dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var H=this.ctx.transform.applyToPoint(new o(z,D)),ne=this.ctx.transform.applyToPoint(new o(L,V)),ue=this.ctx.transform.applyToPoint(new o(K,ee));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:ue.x,y2:ue.y,x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},f.prototype.arc=function(L,V,K,ee,z,D){if(isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(z))throw Dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(D=!!D,!this.ctx.transform.isIdentity){var H=this.ctx.transform.applyToPoint(new o(L,V));L=H.x,V=H.y;var ne=this.ctx.transform.applyToPoint(new o(0,K)),ue=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ne.x-ue.x,2)+Math.pow(ne.y-ue.y,2))}Math.abs(z-ee)>=2*Math.PI&&(ee=0,z=2*Math.PI),this.path.push({type:"arc",x:L,y:V,radius:K,startAngle:ee,endAngle:z,counterclockwise:D})},f.prototype.arcTo=function(L,V,K,ee,z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,V,K,ee){if(isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee))throw Dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,V),this.lineTo(L+K,V),this.lineTo(L+K,V+ee),this.lineTo(L,V+ee),this.lineTo(L,V),this.lineTo(L+K,V),this.lineTo(L,V)},f.prototype.fillRect=function(L,V,K,ee){if(isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee))throw Dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var z={};this.lineCap!=="butt"&&(z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,V,K,ee),this.fill(),z.hasOwnProperty("lineCap")&&(this.lineCap=z.lineCap),z.hasOwnProperty("lineJoin")&&(this.lineJoin=z.lineJoin)}},f.prototype.strokeRect=function(L,V,K,ee){if(isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee))throw Dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,V,K,ee),this.stroke())},f.prototype.clearRect=function(L,V,K,ee){if(isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee))throw Dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,V,K,ee))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(V),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(L){var V,K,ee,z;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))V=0,K=0,ee=0,z=0;else{var D=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(D!==null)V=parseInt(D[1]),K=parseInt(D[2]),ee=parseInt(D[3]),z=1;else if((D=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)V=parseInt(D[1]),K=parseInt(D[2]),ee=parseInt(D[3]),z=parseFloat(D[4]);else{if(z=1,typeof L=="string"&&L.charAt(0)!=="#"){var H=new $F(L);L=H.ok?H.toHex():"#000000"}L.length===4?(V=L.substring(1,2),V+=V,K=L.substring(2,3),K+=K,ee=L.substring(3,4),ee+=ee):(V=L.substring(1,3),K=L.substring(3,5),ee=L.substring(5,7)),V=parseInt(V,16),K=parseInt(K,16),ee=parseInt(ee,16)}}return{r:V,g:K,b:ee,a:z,style:L}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,V,K,ee){if(isNaN(V)||isNaN(K)||typeof L!="string")throw Dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!h.call(this)){var z=ce(this.ctx.transform.rotation),D=this.ctx.transform.scaleX;_.call(this,{text:L,x:V,y:K,scale:D,angle:z,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function(L,V,K,ee){if(isNaN(V)||isNaN(K)||typeof L!="string")throw Dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ee=isNaN(ee)?void 0:ee;var z=ce(this.ctx.transform.rotation),D=this.ctx.transform.scaleX;_.call(this,{text:L,x:V,y:K,scale:D,renderingMode:"stroke",angle:z,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function(L){if(typeof L!="string")throw Dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,K=this.pdf.internal.scaleFactor,ee=V.internal.getFontSize(),z=V.getStringUnitWidth(L)*ee/V.internal.scaleFactor,D=function(H){var ne=(H=H||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new D({width:z*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(L,V){if(isNaN(L)||isNaN(V))throw Dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(L,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(L){if(isNaN(L))throw Dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(L,V){if(isNaN(L)||isNaN(V))throw Dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,L,V);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(L,V,K,ee,z,D){if(isNaN(L)||isNaN(V)||isNaN(K)||isNaN(ee)||isNaN(z)||isNaN(D))throw Dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var H=new c(L,V,K,ee,z,D);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.setTransform=function(L,V,K,ee,z,D){L=isNaN(L)?1:L,V=isNaN(V)?0:V,K=isNaN(K)?0:K,ee=isNaN(ee)?1:ee,z=isNaN(z)?0:z,D=isNaN(D)?0:D,this.ctx.transform=new c(L,V,K,ee,z,D)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,V,K,ee,z,D,H,ne,ue){var le=this.pdf.getImageProperties(L),he=1,Be=1,te=1,je=1;ee!==void 0&&ne!==void 0&&(te=ne/ee,je=ue/z,he=le.width/ee*ne/ee,Be=le.height/z*ue/z),D===void 0&&(D=V,H=K,V=0,K=0),ee!==void 0&&ne===void 0&&(ne=ee,ue=z),ee===void 0&&ne===void 0&&(ne=le.width,ue=le.height);for(var $,q=this.ctx.transform.decompose(),Q=ce(q.rotate.shx),G=new c,me=(G=(G=(G=G.multiply(q.translate)).multiply(q.skew)).multiply(q.scale)).applyToRectangle(new l(D-V*te,H-K*je,ee*he,z*Be)),fe=b.call(this,me),de=[],be=0;be<fe.length;be+=1)de.indexOf(fe[be])===-1&&de.push(fe[be]);if(N(de),this.autoPaging)for(var Ee=de[0],ke=de[de.length-1],He=Ee;He<ke+1;He++){this.pdf.setPage(He);var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=He===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=He===1?0:ft+(He-2)*At;if(this.ctx.clip_path.length!==0){var Jr=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y($,this.posX+this.margin[3],-ot+et+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Jr}var _t=JSON.parse(JSON.stringify(me));_t=y([_t],this.posX+this.margin[3],-ot+et+this.ctx.prevPageLastElemOffset)[0];var Mn=(He>Ee||He<ke)&&x.call(this);Mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,At,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Q),Mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",me.x,me.y,me.w,me.h,null,null,Q)};var b=function(L,V,K){var ee=[];V=V||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var z=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ee.push(Math.floor((L.y+z)/K)+1);break;case"arc":ee.push(Math.floor((L.y+z-L.radius)/K)+1),ee.push(Math.floor((L.y+z+L.radius)/K)+1);break;case"qct":var D=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ee.push(Math.floor((D.y+z)/K)+1),ee.push(Math.floor((D.y+D.h+z)/K)+1);break;case"bct":var H=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ee.push(Math.floor((H.y+z)/K)+1),ee.push(Math.floor((H.y+H.h+z)/K)+1);break;case"rect":ee.push(Math.floor((L.y+z)/K)+1),ee.push(Math.floor((L.y+L.h+z)/K)+1)}for(var ne=0;ne<ee.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ne];)p.call(this);return ee},p=function(){var L=this.fillStyle,V=this.strokeStyle,K=this.font,ee=this.lineCap,z=this.lineWidth,D=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=V,this.font=K,this.lineCap=ee,this.lineWidth=z,this.lineJoin=D},y=function(L,V,K){for(var ee=0;ee<L.length;ee++)switch(L[ee].type){case"bct":L[ee].x2+=V,L[ee].y2+=K;case"qct":L[ee].x1+=V,L[ee].y1+=K;case"mt":case"lt":case"arc":default:L[ee].x+=V,L[ee].y+=K}return L},N=function(L){return L.sort(function(V,K){return V-K})},w=function(L,V){for(var K,ee,z=this.fillStyle,D=this.strokeStyle,H=this.lineCap,ne=this.lineWidth,ue=Math.abs(ne*this.ctx.transform.scaleX),le=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),te=[],je=0;je<Be.length;je++)if(Be[je].x!==void 0)for(var $=b.call(this,Be[je]),q=0;q<$.length;q+=1)te.indexOf($[q])===-1&&te.push($[q]);for(var Q=0;Q<te.length;Q++)for(;this.pdf.internal.getNumberOfPages()<te[Q];)p.call(this);if(N(te),this.autoPaging)for(var G=te[0],me=te[te.length-1],fe=G;fe<me+1;fe++){this.pdf.setPage(fe),this.fillStyle=z,this.strokeStyle=D,this.lineCap=H,this.lineWidth=ue,this.lineJoin=le;var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=fe===1?this.posY+this.margin[0]:this.margin[0],Ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=fe===1?0:Ee+(fe-2)*ke;if(this.ctx.clip_path.length!==0){var Ye=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-He+be+this.ctx.prevPageLastElemOffset),j.call(this,L,!0),this.path=Ye}if(ee=JSON.parse(JSON.stringify(he)),this.path=y(ee,this.posX+this.margin[3],-He+be+this.ctx.prevPageLastElemOffset),V===!1||fe===0){var et=(fe>G||fe<me)&&x.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,ke,null).clip().discardPath()),j.call(this,L,V),et&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=ue,j.call(this,L,V),this.lineWidth=ne;this.path=he},j=function(L,V){if((L!=="stroke"||V||!v.call(this))&&(L==="stroke"||V||!h.call(this))){for(var K,ee,z=[],D=this.path,H=0;H<D.length;H++){var ne=D[H];switch(ne.type){case"begin":z.push({begin:!0});break;case"close":z.push({close:!0});break;case"mt":z.push({start:ne,deltas:[],abs:[]});break;case"lt":var ue=z.length;if(D[H-1]&&!isNaN(D[H-1].x)&&(K=[ne.x-D[H-1].x,ne.y-D[H-1].y],ue>0)){for(;ue>=0;ue--)if(z[ue-1].close!==!0&&z[ue-1].begin!==!0){z[ue-1].deltas.push(K),z[ue-1].abs.push(ne);break}}break;case"bct":K=[ne.x1-D[H-1].x,ne.y1-D[H-1].y,ne.x2-D[H-1].x,ne.y2-D[H-1].y,ne.x-D[H-1].x,ne.y-D[H-1].y],z[z.length-1].deltas.push(K);break;case"qct":var le=D[H-1].x+2/3*(ne.x1-D[H-1].x),he=D[H-1].y+2/3*(ne.y1-D[H-1].y),Be=ne.x+2/3*(ne.x1-ne.x),te=ne.y+2/3*(ne.y1-ne.y),je=ne.x,$=ne.y;K=[le-D[H-1].x,he-D[H-1].y,Be-D[H-1].x,te-D[H-1].y,je-D[H-1].x,$-D[H-1].y],z[z.length-1].deltas.push(K);break;case"arc":z.push({deltas:[],abs:[],arc:!0}),Array.isArray(z[z.length-1].abs)&&z[z.length-1].abs.push(ne)}}ee=V?null:L==="stroke"?"stroke":"fill";for(var q=!1,Q=0;Q<z.length;Q++)if(z[Q].arc)for(var G=z[Q].abs,me=0;me<G.length;me++){var fe=G[me];fe.type==="arc"?F.call(this,fe.x,fe.y,fe.radius,fe.startAngle,fe.endAngle,fe.counterclockwise,void 0,V,!q):U.call(this,fe.x,fe.y),q=!0}else if(z[Q].close===!0)this.pdf.internal.out("h"),q=!1;else if(z[Q].begin!==!0){var de=z[Q].start.x,be=z[Q].start.y;S.call(this,z[Q].deltas,de,be),q=!0}ee&&C.call(this,ee),V&&P.call(this)}},k=function(L){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-K;case"top":return L+V-K;case"hanging":return L+V-2*K;case"middle":return L+V/2-K;case"ideographic":return L;case"alphabetic":default:return L}},I=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(V,K){this.colorStops.push([V,K])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(L,V,K,ee,z,D,H,ne,ue){for(var le=ie.call(this,K,ee,z,D),he=0;he<le.length;he++){var Be=le[he];he===0&&(ue?T.call(this,Be.x1+L,Be.y1+V):U.call(this,Be.x1+L,Be.y1+V)),X.call(this,L,V,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}ne?P.call(this):C.call(this,H)},C=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(L,V){this.pdf.internal.out(t(L)+" "+n(V)+" m")},_=function(L){var V;switch(L.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var K=this.pdf.getTextDimensions(L.text),ee=k.call(this,L.y),z=I.call(this,ee)-K.h,D=this.ctx.transform.applyToPoint(new o(L.x,ee)),H=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(H.translate)).multiply(H.skew)).multiply(H.scale);for(var ue,le,he,Be=this.ctx.transform.applyToRectangle(new l(L.x,ee,K.w,K.h)),te=ne.applyToRectangle(new l(L.x,z,K.w,K.h)),je=b.call(this,te),$=[],q=0;q<je.length;q+=1)$.indexOf(je[q])===-1&&$.push(je[q]);if(N($),this.autoPaging)for(var Q=$[0],G=$[$.length-1],me=Q;me<G+1;me++){this.pdf.setPage(me);var fe=me===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ee=be-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],He=ke-this.margin[3],Ye=me===1?0:de+(me-2)*Ee;if(this.ctx.clip_path.length!==0){var et=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ue,this.posX+this.margin[3],-1*Ye+fe),j.call(this,"fill",!0),this.path=et}var ft=y([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-Ye+fe+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*L.scale),he=this.lineWidth,this.lineWidth=he*L.scale);var At=this.autoPaging!=="text";if(At||ft.y+ft.h<=be){if(At||ft.y>=fe&&ft.x<=ke){var ot=At?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||ke-ft.x)[0],Jr=y([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-Ye+fe+this.ctx.prevPageLastElemOffset)[0],_t=At&&(me>Q||me<G)&&x.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Ee,null).clip().discardPath()),this.pdf.text(ot,Jr.x,Jr.y,{angle:L.angle,align:V,renderingMode:L.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else ft.y<be&&(this.ctx.prevPageLastElemOffset+=be-ft.y);L.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)}else L.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*L.scale),he=this.lineWidth,this.lineWidth=he*L.scale),this.pdf.text(L.text,D.x+this.posX,D.y+this.posY,{angle:L.angle,align:V,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)},U=function(L,V,K,ee){K=K||0,ee=ee||0,this.pdf.internal.out(t(L+K)+" "+n(V+ee)+" l")},S=function(L,V,K){return this.pdf.lines(L,V,K,null,null)},X=function(L,V,K,ee,z,D,H,ne){this.pdf.internal.out([e(i(K+L)),e(a(ee+V)),e(i(z+L)),e(a(D+V)),e(i(H+L)),e(a(ne+V)),"c"].join(" "))},ie=function(L,V,K,ee){for(var z=2*Math.PI,D=Math.PI/2;V>K;)V-=z;var H=Math.abs(K-V);H<z&&ee&&(H=z-H);for(var ne=[],ue=ee?-1:1,le=V;H>1e-5;){var he=le+ue*Math.min(H,D);ne.push(Z.call(this,L,le,he)),H-=Math.abs(he-le),le=he}return ne},Z=function(L,V,K){var ee=(K-V)/2,z=L*Math.cos(ee),D=L*Math.sin(ee),H=z,ne=-D,ue=H*H+ne*ne,le=ue+H*z+ne*D,he=4/3*(Math.sqrt(2*ue*le)-le)/(H*D-ne*z),Be=H-he*ne,te=ne+he*H,je=Be,$=-te,q=ee+V,Q=Math.cos(q),G=Math.sin(q);return{x1:L*Math.cos(V),y1:L*Math.sin(V),x2:Be*Q-te*G,y2:Be*G+te*Q,x3:je*Q-$*G,y3:je*G+$*Q,x4:L*Math.cos(K),y4:L*Math.sin(K)}},ce=function(L){return 180*L/Math.PI},re=function(L,V,K,ee,z,D){var H=L+.5*(K-L),ne=V+.5*(ee-V),ue=z+.5*(K-z),le=D+.5*(ee-D),he=Math.min(L,z,H,ue),Be=Math.max(L,z,H,ue),te=Math.min(V,D,ne,le),je=Math.max(V,D,ne,le);return new l(he,te,Be-he,je-te)},ae=function(L,V,K,ee,z,D,H,ne){var ue,le,he,Be,te,je,$,q,Q,G,me,fe,de,be,Ee=K-L,ke=ee-V,He=z-K,Ye=D-ee,et=H-z,ft=ne-D;for(le=0;le<41;le++)Q=($=(he=L+(ue=le/40)*Ee)+ue*((te=K+ue*He)-he))+ue*(te+ue*(z+ue*et-te)-$),G=(q=(Be=V+ue*ke)+ue*((je=ee+ue*Ye)-Be))+ue*(je+ue*(D+ue*ft-je)-q),le==0?(me=Q,fe=G,de=Q,be=G):(me=Math.min(me,Q),fe=Math.min(fe,G),de=Math.max(de,Q),be=Math.max(be,G));return new l(Math.round(me),Math.round(fe),Math.round(de-me),Math.round(be-fe))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,V,K=(L=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:V}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Ft.API),function(r){var e=function(a){var o,l,c,u,A,f,m,h,v,x;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(A=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(f=(A=((A=((A=((A=(A-(x=A%85))/85)-(v=A%85))/85)-(h=A%85))/85)-(m=A%85))/85)%85,l.push(f+33,m+33,h+33,v+33,x+33)):l.push(122);return function(b,p){for(var y=p;y>0;y--)b.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,c,u,A,f=String,m="length",h=255,v="charCodeAt",x="slice",b="replace";for(a[x](-2),a=a[x](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],u=0,A=(a+=o="uuuuu"[x](a[m]%5||5))[m];A>u;u+=5)l=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),c.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(p,y){for(var N=y;N>0;N--)p.pop()}(c,o[m]),f.fromCharCode.apply(f,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=I2(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};r.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ft.API),function(r){r.loadFile=function(e,t,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,A){var f=new XMLHttpRequest,m=0,h=function(v){var x=v.length,b=[],p=String.fromCharCode;for(m=0;m<x;m+=1)b.push(p(255&v.charCodeAt(m)));return b.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?A(h(this.responseText)):A(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,o)}catch{}return l}(e,t,n)},r.loadImageFile=r.loadFile}(Ft.API),function(r){function e(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):La(()=>Promise.resolve().then(()=>WV),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):La(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Er(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,A){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)A!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(c(m,A));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var h=u[m],v=h.src.find(function(x){return x.format==="truetype"});v&&c.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,A){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,A).then(function(f){return c.updateProgress(1),f})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),A=c.call(u,o,l);return a.convert(A,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ft.getPageSize=function(o,l,c){if(Er(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var A,f=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+l}var h,v=0,x=0;if(m.hasOwnProperty(f))v=m[f][1]/A,x=m[f][0]/A;else try{v=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>v&&(h=x,x=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>x&&(h=x,x=v,v=h)}return{width:x,height:v,unit:l,k:A,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(R2):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(Ft.API),Ft.API.addJS=function(r){return xE=r,this.internal.events.subscribe("postPutResources",function(){Cg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Cg!==void 0&&gE!==void 0&&this.internal.out("/Names <</JavaScript "+Cg+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,A=[];for(a=0;a<u;a++){var f=t.internal.newObject();A.push(f);var m=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<A.length;a++)t.internal.write("(page_"+(a+1)+")"+A[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Ft.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,x={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=h,e.indexOf(f.charCodeAt(b+1))!==-1){m=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),x={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:m,numcomponents:f.charCodeAt(b+9)};break}h=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return x}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}A={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return A}}(Ft.API);var oh,Eg,yE,vE,bE,EW=function(){var r,e,t;function n(a){var o,l,c,u,A,f,m,h,v,x,b,p,y,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var w,j;for(j=[],w=0;w<4;++w)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},A=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*A/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=f?.data||this.imgData,p=0;0<=o?p<o:p>o;0<=o?++p:--p)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(y=0;0<=x?y<x:y>x;0<=x?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(b=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,b.slice(0,m)),this.text[h]=String.fromCharCode.apply(String,b.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function A(f,m,h,v){var x,b,p,y,N,w,j,k,I,F,C,P,T,_,U,S,X,ie,Z,ce,re,ae=Math.ceil((u.width-f)/h),M=Math.ceil((u.height-m)/v),L=u.width==ae&&u.height==M;for(_=o*ae,P=L?l:new Uint8Array(_*M),w=a.length,T=0,b=0;T<M&&c<w;){switch(a[c++]){case 0:for(y=X=0;X<_;y=X+=1)P[b++]=a[c++];break;case 1:for(y=ie=0;ie<_;y=ie+=1)x=a[c++],N=y<o?0:P[b-o],P[b++]=(x+N)%256;break;case 2:for(y=Z=0;Z<_;y=Z+=1)x=a[c++],p=(y-y%o)/o,U=T&&P[(T-1)*_+p*o+y%o],P[b++]=(U+x)%256;break;case 3:for(y=ce=0;ce<_;y=ce+=1)x=a[c++],p=(y-y%o)/o,N=y<o?0:P[b-o],U=T&&P[(T-1)*_+p*o+y%o],P[b++]=(x+Math.floor((N+U)/2))%256;break;case 4:for(y=re=0;re<_;y=re+=1)x=a[c++],p=(y-y%o)/o,N=y<o?0:P[b-o],T===0?U=S=0:(U=P[(T-1)*_+p*o+y%o],S=p&&P[(T-1)*_+(p-1)*o+y%o]),j=N+U-S,k=Math.abs(j-N),F=Math.abs(j-U),C=Math.abs(j-S),I=k<=F&&k<=C?N:F<=C?U:S,P[b++]=(x+I)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!L){var V=((m+T*v)*u.width+f)*o,K=T*_;for(y=0;y<ae;y+=1){for(var ee=0;ee<o;ee+=1)l[V++]=P[K++];V+=(h-1)*o}}T++}}return a=aW(a),u.interlaceMethod==1?(A(0,0,8,8),A(4,0,8,8),A(0,4,4,8),A(2,0,4,4),A(0,2,2,4),A(1,0,2,2),A(0,1,1,2)):A(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,c,u,A,f,m,h;for(l=this.palette,A=this.transparency.indexed||[],u=new Uint8Array((A.length||0)+l.length),c=0,a=0,o=f=0,m=l.length;f<m;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(h=A[a++])!=null?h:255;return u},n.prototype.copyToImageData=function(a,o){var l,c,u,A,f,m,h,v,x,b,p;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(p=this._decodedPalette)!=null?p:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=a.data||a).length,f=x||o,A=m=0,c===1)for(;A<v;)h=x?4*o[A/4]:m,b=f[h++],u[A++]=b,u[A++]=b,u[A++]=b,u[A++]=l?f[h++]:255,m=h;else for(;A<v;)h=x?4*o[A/4]:m,u[A++]=f[h++],u[A++]=f[h++],u[A++]=f[h++],u[A++]=l?f[h++]:255,m=h},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Dt)==="[object Window]"){try{e=Dt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(a){var o;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,c,u,A,f,m,h;if(this.animation){for(h=[],l=A=0,f=(m=this.animation.frames).length;A<f;l=++A)o=m[l],c=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,h.push(o.image=r(c));return h}},n.prototype.renderFrame=function(a,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),u?.disposeOp===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,c,u,A,f,m=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,A=f.numPlays,(o=function(){var h,v;if(h=l++%u,v=c[h],m.renderFrame(a,h),u>1&&l/u<A)return m.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function SW(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],a=i>>7,o=1<<(7&i)+1;r[e++],r[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var u=!0,A=[],f=0,m=null,h=0,v=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,v=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=r[e++];f=r[e++]|r[e++]<<8,m=r[e++],(1&x)==0&&(m=null),h=x>>2&7,e++;break;case 254:for(;;){if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var b=r[e++]|r[e++]<<8,p=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,w=r[e++],j=w>>6&1,k=1<<(7&w)+1,I=l,F=c,C=!1;w>>7&&(C=!0,I=e,F=k,e+=3*k);var P=e;for(e++;;){var T;if(!((T=r[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}A.push({x:b,y:p,width:y,height:N,has_local_palette:C,palette_offset:I,palette_size:F,data_offset:P,data_length:e-P,transparent_index:m,interlaced:!!j,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return v},this.frameInfo=function(_){if(_<0||_>=A.length)throw new Error("Frame index out of range.");return A[_]},this.decodeAndBlitFrameBGRA=function(_,U){var S=this.frameInfo(_),X=S.width*S.height,ie=new Uint8Array(X);wE(r,S.data_offset,ie,X);var Z=S.palette_offset,ce=S.transparent_index;ce===null&&(ce=256);var re=S.width,ae=t-re,M=re,L=4*(S.y*t+S.x),V=4*((S.y+S.height)*t+S.x),K=L,ee=4*ae;S.interlaced===!0&&(ee+=4*t*7);for(var z=8,D=0,H=ie.length;D<H;++D){var ne=ie[D];if(M===0&&(M=re,(K+=ee)>=V&&(ee=4*ae+4*t*(z-1),K=L+(re+ae)*(z<<1),z>>=1)),ne===ce)K+=4;else{var ue=r[Z+3*ne],le=r[Z+3*ne+1],he=r[Z+3*ne+2];U[K++]=he,U[K++]=le,U[K++]=ue,U[K++]=255}--M}},this.decodeAndBlitFrameRGBA=function(_,U){var S=this.frameInfo(_),X=S.width*S.height,ie=new Uint8Array(X);wE(r,S.data_offset,ie,X);var Z=S.palette_offset,ce=S.transparent_index;ce===null&&(ce=256);var re=S.width,ae=t-re,M=re,L=4*(S.y*t+S.x),V=4*((S.y+S.height)*t+S.x),K=L,ee=4*ae;S.interlaced===!0&&(ee+=4*t*7);for(var z=8,D=0,H=ie.length;D<H;++D){var ne=ie[D];if(M===0&&(M=re,(K+=ee)>=V&&(ee=4*ae+4*t*(z-1),K=L+(re+ae)*(z<<1),z>>=1)),ne===ce)K+=4;else{var ue=r[Z+3*ne],le=r[Z+3*ne+1],he=r[Z+3*ne+2];U[K++]=ue,U[K++]=le,U[K++]=he,U[K++]=255}--M}}}function wE(r,e,t,n){for(var i=r[e++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,A=0,f=0,m=0,h=r[e++],v=new Int32Array(4096),x=null;;){for(;A<16&&h!==0;)f|=r[e++]<<A,A+=8,h===1?h=r[e++]:--h;if(A<c)break;var b=f&u;if(f>>=c,A-=c,b!==a){if(b===o)break;for(var p=b<l?b:x,y=0,N=p;N>a;)N=v[N]>>8,++y;var w=N;if(m+y+(p!==b?1:0)>n)return void Dr.log("Warning, gif stream longer than expected.");t[m++]=w;var j=m+=y;for(p!==b&&(t[m++]=w),N=p;y--;)N=v[N],t[--j]=255&N,N>>=8;x!==null&&l<4096&&(v[l++]=x<<8|w,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=b}else l=o+1,u=(1<<(c=i+1))-1,x=null}return m!==n&&Dr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hb(r){var e,t,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),v=new Array(64),x=[],b=0,p=7,y=new Array(64),N=new Array(64),w=new Array(64),j=new Array(256),k=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(L,V){for(var K=0,ee=0,z=new Array,D=1;D<=16;D++){for(var H=1;H<=L[D];H++)z[V[ee]]=[],z[V[ee]][0]=K,z[V[ee]][1]=D,ee++,K++;K*=2}return z}function Z(L){for(var V=L[0],K=L[1]-1;K>=0;)V&1<<K&&(b|=1<<p),K--,--p<0&&(b==255?(ce(255),ce(0)):ce(b),p=7,b=0)}function ce(L){x.push(L)}function re(L){ce(L>>8&255),ce(255&L)}function ae(L,V,K,ee,z){for(var D,H=z[0],ne=z[240],ue=function(G,me){var fe,de,be,Ee,ke,He,Ye,et,ft,At,ot=0;for(ft=0;ft<8;++ft){fe=G[ot],de=G[ot+1],be=G[ot+2],Ee=G[ot+3],ke=G[ot+4],He=G[ot+5],Ye=G[ot+6];var Jr=fe+(et=G[ot+7]),_t=fe-et,Mn=de+Ye,sr=de-Ye,Gt=be+He,us=be-He,Jt=Ee+ke,Hi=Ee-ke,Sr=Jr+Jt,vn=Jr-Jt,cn=Mn+Gt,pr=Mn-Gt;G[ot]=Sr+cn,G[ot+4]=Sr-cn;var Ot=.707106781*(pr+vn);G[ot+2]=vn+Ot,G[ot+6]=vn-Ot;var ir=.382683433*((Sr=Hi+us)-(pr=sr+_t)),_o=.5411961*Sr+ir,Ln=1.306562965*pr+ir,mi=.707106781*(cn=us+sr),qi=_t+mi,St=_t-mi;G[ot+5]=St+_o,G[ot+3]=St-_o,G[ot+1]=qi+Ln,G[ot+7]=qi-Ln,ot+=8}for(ot=0,ft=0;ft<8;++ft){fe=G[ot],de=G[ot+8],be=G[ot+16],Ee=G[ot+24],ke=G[ot+32],He=G[ot+40],Ye=G[ot+48];var Xs=fe+(et=G[ot+56]),bs=fe-et,ws=de+Ye,Qr=de-Ye,Hr=be+He,$n=be-He,Co=Ee+ke,Ma=Ee-ke,zi=Xs+Co,Ki=Xs-Co,Qn=ws+Hr,Vi=ws-Hr;G[ot]=zi+Qn,G[ot+32]=zi-Qn;var Js=.707106781*(Vi+Ki);G[ot+16]=Ki+Js,G[ot+48]=Ki-Js;var la=.382683433*((zi=Ma+$n)-(Vi=Qr+bs)),Eo=.5411961*zi+la,bl=1.306562965*Vi+la,wl=.707106781*(Qn=$n+Qr),Nl=bs+wl,jc=bs-wl;G[ot+40]=jc+Eo,G[ot+24]=jc-Eo,G[ot+8]=Nl+bl,G[ot+56]=Nl-bl,ot++}for(ft=0;ft<64;++ft)At=G[ft]*me[ft],h[ft]=At>0?At+.5|0:At-.5|0;return h}(L,V),le=0;le<64;++le)v[I[le]]=ue[le];var he=v[0]-K;K=v[0],he==0?Z(ee[0]):(Z(ee[m[D=32767+he]]),Z(f[D]));for(var Be=63;Be>0&&v[Be]==0;)Be--;if(Be==0)return Z(H),K;for(var te,je=1;je<=Be;){for(var $=je;v[je]==0&&je<=Be;)++je;var q=je-$;if(q>=16){te=q>>4;for(var Q=1;Q<=te;++Q)Z(ne);q&=15}D=32767+v[je],Z(z[(q<<4)+m[D]]),Z(f[D]),je++}return Be!=63&&Z(H),K}function M(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(V){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var z=o((K[ee]*V+50)/100);z=Math.min(Math.max(z,1),255),l[I[ee]]=z}for(var D=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],H=0;H<64;H++){var ne=o((D[H]*V+50)/100);ne=Math.min(Math.max(ne,1),255),c[I[H]]=ne}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],le=0,he=0;he<8;he++)for(var Be=0;Be<8;Be++)u[le]=1/(l[I[le]]*ue[he]*ue[Be]*8),A[le]=1/(c[I[le]]*ue[he]*ue[Be]*8),le++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,V){V&&M(V),x=new Array,b=0,p=7,re(65496),re(65504),re(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),re(1),re(1),ce(0),ce(0),function(){re(65499),re(132),ce(0);for(var de=0;de<64;de++)ce(l[de]);ce(1);for(var be=0;be<64;be++)ce(c[be])}(),function(de,be){re(65472),re(17),ce(8),re(be),re(de),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(L.width,L.height),function(){re(65476),re(418),ce(0);for(var de=0;de<16;de++)ce(F[de+1]);for(var be=0;be<=11;be++)ce(C[be]);ce(16);for(var Ee=0;Ee<16;Ee++)ce(P[Ee+1]);for(var ke=0;ke<=161;ke++)ce(T[ke]);ce(1);for(var He=0;He<16;He++)ce(_[He+1]);for(var Ye=0;Ye<=11;Ye++)ce(U[Ye]);ce(17);for(var et=0;et<16;et++)ce(S[et+1]);for(var ft=0;ft<=161;ft++)ce(X[ft])}(),re(65498),re(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var K=0,ee=0,z=0;b=0,p=7,this.encode.displayName="_encode_";for(var D,H,ne,ue,le,he,Be,te,je,$=L.data,q=L.width,Q=L.height,G=4*q,me=0;me<Q;){for(D=0;D<G;){for(le=G*me+D,Be=-1,te=0,je=0;je<64;je++)he=le+(te=je>>3)*G+(Be=4*(7&je)),me+te>=Q&&(he-=G*(me+1+te-Q)),D+Be>=G&&(he-=D+Be-G+4),H=$[he++],ne=$[he++],ue=$[he++],y[je]=(k[H]+k[ne+256>>0]+k[ue+512>>0]>>16)-128,N[je]=(k[H+768>>0]+k[ne+1024>>0]+k[ue+1280>>0]>>16)-128,w[je]=(k[H+1280>>0]+k[ne+1536>>0]+k[ue+1792>>0]>>16)-128;K=ae(y,u,K,e,n),ee=ae(N,A,ee,t,i),z=ae(w,A,z,t,i),D+=32}me+=8}if(p>=0){var fe=[];fe[1]=p+1,fe[0]=(1<<p+1)-1,Z(fe)}return re(65497),new Uint8Array(x)},r=r||50,function(){for(var L=String.fromCharCode,V=0;V<256;V++)j[V]=L(V)}(),e=ie(F,C),t=ie(_,U),n=ie(P,T),i=ie(S,X),function(){for(var L=1,V=2,K=1;K<=15;K++){for(var ee=L;ee<V;ee++)m[32767+ee]=K,f[32767+ee]=[],f[32767+ee][1]=K,f[32767+ee][0]=ee;for(var z=-(V-1);z<=-L;z++)m[32767+z]=K,f[32767+z]=[],f[32767+z][1]=K,f[32767+z][0]=V-1+z;L<<=1,V<<=1}}(),function(){for(var L=0;L<256;L++)k[L]=19595*L,k[L+256>>0]=38470*L,k[L+512>>0]=7471*L+32768,k[L+768>>0]=-11059*L,k[L+1024>>0]=-21709*L,k[L+1280>>0]=32768*L+8421375,k[L+1536>>0]=-27439*L,k[L+1792>>0]=-5329*L}(),M(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uo(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NE(r){function e(F){if(!F)throw Error("assert :P")}function t(F,C,P){for(var T=0;4>T;T++)if(F[C+T]!=P.charCodeAt(T))return!0;return!1}function n(F,C,P,T,_){for(var U=0;U<_;U++)F[C+U]=P[T+U]}function i(F,C,P,T){for(var _=0;_<T;_++)F[C+_]=P}function a(F){return new Int32Array(F)}function o(F,C){for(var P=[],T=0;T<F;T++)P.push(new C);return P}function l(F,C){var P=[];return function T(_,U,S){for(var X=S[U],ie=0;ie<X&&(_.push(S.length>U+1?[]:new C),!(S.length<U+1));ie++)T(_[ie],U+1,S)}(P,0,F),P}var c=function(){var F=this;function C(E,R){for(var J=1<<R-1>>>0;E&J;)J>>>=1;return J?(E&J-1)+J:E}function P(E,R,J,oe,pe){e(!(oe%J));do E[R+(oe-=J)]=pe;while(0<oe)}function T(E,R,J,oe,pe){if(e(2328>=pe),512>=pe)var xe=a(512);else if((xe=a(pe))==null)return 0;return function(ve,we,Ne,_e,Te,Re){var Me,Oe,Xe=we,Ke=1<<Ne,Le=a(16),De=a(16);for(e(Te!=0),e(_e!=null),e(ve!=null),e(0<Ne),Oe=0;Oe<Te;++Oe){if(15<_e[Oe])return 0;++Le[_e[Oe]]}if(Le[0]==Te)return 0;for(De[1]=0,Me=1;15>Me;++Me){if(Le[Me]>1<<Me)return 0;De[Me+1]=De[Me]+Le[Me]}for(Oe=0;Oe<Te;++Oe)Me=_e[Oe],0<_e[Oe]&&(Re[De[Me]++]=Oe);if(De[15]==1)return(_e=new _).g=0,_e.value=Re[0],P(ve,Xe,1,Ke,_e),Ke;var Ge,We=-1,$e=Ke-1,mt=0,ut=1,kt=1,dt=1<<Ne;for(Oe=0,Me=1,Te=2;Me<=Ne;++Me,Te<<=1){if(ut+=kt<<=1,0>(kt-=Le[Me]))return 0;for(;0<Le[Me];--Le[Me])(_e=new _).g=Me,_e.value=Re[Oe++],P(ve,Xe+mt,Te,dt,_e),mt=C(mt,Me)}for(Me=Ne+1,Te=2;15>=Me;++Me,Te<<=1){if(ut+=kt<<=1,0>(kt-=Le[Me]))return 0;for(;0<Le[Me];--Le[Me]){if(_e=new _,(mt&$e)!=We){for(Xe+=dt,Ge=1<<(We=Me)-Ne;15>We&&!(0>=(Ge-=Le[We]));)++We,Ge<<=1;Ke+=dt=1<<(Ge=We-Ne),ve[we+(We=mt&$e)].g=Ge+Ne,ve[we+We].value=Xe-we-We}_e.g=Me-Ne,_e.value=Re[Oe++],P(ve,Xe+(mt>>Ne),Te,dt,_e),mt=C(mt,Me)}}return ut!=2*De[15]-1?0:Ke}(E,R,J,oe,pe,xe)}function _(){this.value=this.g=0}function U(){this.value=this.g=0}function S(){this.G=o(5,_),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(en,U)}function X(E,R,J,oe){e(E!=null),e(R!=null),e(2147483648>oe),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=R,E.pa=J,E.Jd=R,E.Yc=J+oe,E.Zc=4<=oe?J+oe-4+1:J,D(E)}function ie(E,R){for(var J=0;0<R--;)J|=ne(E,128)<<R;return J}function Z(E,R){var J=ie(E,R);return H(E)?-J:J}function ce(E,R,J,oe){var pe,xe=0;for(e(E!=null),e(R!=null),e(4294967288>oe),E.Sb=oe,E.Ra=0,E.u=0,E.h=0,4<oe&&(oe=4),pe=0;pe<oe;++pe)xe+=R[J+pe]<<8*pe;E.Ra=xe,E.bb=oe,E.oa=R,E.pa=J}function re(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<zc-8>>>0,++E.bb,E.u-=8;K(E)&&(E.h=1,E.u=0)}function ae(E,R){if(e(0<=R),!E.h&&R<=qc){var J=V(E)&Hc[R];return E.u+=R,re(E),J}return E.h=1,E.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(E){return E.Ra>>>(E.u&zc-1)>>>0}function K(E){return e(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>zc}function ee(E,R){E.u=R,E.h=K(E)}function z(E){E.u>=Kc&&(e(E.u>=Kc),re(E))}function D(E){e(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(e(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function H(E){return ie(E,1)}function ne(E,R){var J=E.Ca;0>E.b&&D(E);var oe=E.b,pe=J*R>>>8,xe=(E.I>>>oe>pe)+0;for(xe?(J-=pe,E.I-=pe+1<<oe>>>0):J=pe+1,oe=J,pe=0;256<=oe;)pe+=8,oe>>=8;return oe=7^pe+ds[oe],E.b-=oe,E.Ca=(J<<oe)-1,xe}function ue(E,R,J){E[R+0]=J>>24&255,E[R+1]=J>>16&255,E[R+2]=J>>8&255,E[R+3]=J>>0&255}function le(E,R){return E[R+0]<<0|E[R+1]<<8}function he(E,R){return le(E,R)|E[R+2]<<16}function Be(E,R){return le(E,R)|le(E,R+2)<<16}function te(E,R){var J=1<<R;return e(E!=null),e(0<R),E.X=a(J),E.X==null?0:(E.Mb=32-R,E.Xa=R,1)}function je(E,R){e(E!=null),e(R!=null),e(E.Xa==R.Xa),n(R.X,0,E.X,0,1<<R.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function q(E,R,J,oe){e(J!=null),e(oe!=null);var pe=J[0],xe=oe[0];return pe==0&&(pe=(E*xe+R/2)/R),xe==0&&(xe=(R*pe+E/2)/E),0>=pe||0>=xe?0:(J[0]=pe,oe[0]=xe,1)}function Q(E,R){return E+(1<<R)-1>>>R}function G(E,R){return((4278255360&E)+(4278255360&R)>>>0&4278255360)+((16711935&E)+(16711935&R)>>>0&16711935)>>>0}function me(E,R){F[R]=function(J,oe,pe,xe,ve,we,Ne){var _e;for(_e=0;_e<ve;++_e){var Te=F[E](we[Ne+_e-1],pe,xe+_e);we[Ne+_e]=G(J[oe+_e],Te)}}}function fe(){this.ud=this.hd=this.jd=0}function de(E,R){return((4278124286&(E^R))>>>1)+(E&R)>>>0}function be(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Ee(E,R){return be(E+(E-R+.5>>1))}function ke(E,R,J){return Math.abs(R-J)-Math.abs(E-J)}function He(E,R,J,oe,pe,xe,ve){for(oe=xe[ve-1],J=0;J<pe;++J)xe[ve+J]=oe=G(E[R+J],oe)}function Ye(E,R,J,oe,pe){var xe;for(xe=0;xe<J;++xe){var ve=E[R+xe],we=ve>>8&255,Ne=16711935&(Ne=(Ne=16711935&ve)+((we<<16)+we));oe[pe+xe]=(4278255360&ve)+Ne>>>0}}function et(E,R){R.jd=E>>0&255,R.hd=E>>8&255,R.ud=E>>16&255}function ft(E,R,J,oe,pe,xe){var ve;for(ve=0;ve<oe;++ve){var we=R[J+ve],Ne=we>>>8,_e=we,Te=255&(Te=(Te=we>>>16)+((E.jd<<24>>24)*(Ne<<24>>24)>>>5));_e=255&(_e=(_e=_e+((E.hd<<24>>24)*(Ne<<24>>24)>>>5))+((E.ud<<24>>24)*(Te<<24>>24)>>>5)),pe[xe+ve]=(4278255360&we)+(Te<<16)+_e}}function At(E,R,J,oe,pe){F[R]=function(xe,ve,we,Ne,_e,Te,Re,Me,Oe){for(Ne=Re;Ne<Me;++Ne)for(Re=0;Re<Oe;++Re)_e[Te++]=pe(we[oe(xe[ve++])])},F[E]=function(xe,ve,we,Ne,_e,Te,Re){var Me=8>>xe.b,Oe=xe.Ea,Xe=xe.K[0],Ke=xe.w;if(8>Me)for(xe=(1<<xe.b)-1,Ke=(1<<Me)-1;ve<we;++ve){var Le,De=0;for(Le=0;Le<Oe;++Le)Le&xe||(De=oe(Ne[_e++])),Te[Re++]=pe(Xe[De&Ke]),De>>=Me}else F["VP8LMapColor"+J](Ne,_e,Xe,Ke,Te,Re,ve,we,Oe)}}function ot(E,R,J,oe,pe){for(J=R+J;R<J;){var xe=E[R++];oe[pe++]=xe>>16&255,oe[pe++]=xe>>8&255,oe[pe++]=xe>>0&255}}function Jr(E,R,J,oe,pe){for(J=R+J;R<J;){var xe=E[R++];oe[pe++]=xe>>16&255,oe[pe++]=xe>>8&255,oe[pe++]=xe>>0&255,oe[pe++]=xe>>24&255}}function _t(E,R,J,oe,pe){for(J=R+J;R<J;){var xe=(ve=E[R++])>>16&240|ve>>12&15,ve=ve>>0&240|ve>>28&15;oe[pe++]=xe,oe[pe++]=ve}}function Mn(E,R,J,oe,pe){for(J=R+J;R<J;){var xe=(ve=E[R++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;oe[pe++]=xe,oe[pe++]=ve}}function sr(E,R,J,oe,pe){for(J=R+J;R<J;){var xe=E[R++];oe[pe++]=xe>>0&255,oe[pe++]=xe>>8&255,oe[pe++]=xe>>16&255}}function Gt(E,R,J,oe,pe,xe){if(xe==0)for(J=R+J;R<J;)ue(oe,((xe=E[R++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),pe+=32;else n(oe,pe,E,R,J)}function us(E,R){F[R][0]=F[E+"0"],F[R][1]=F[E+"1"],F[R][2]=F[E+"2"],F[R][3]=F[E+"3"],F[R][4]=F[E+"4"],F[R][5]=F[E+"5"],F[R][6]=F[E+"6"],F[R][7]=F[E+"7"],F[R][8]=F[E+"8"],F[R][9]=F[E+"9"],F[R][10]=F[E+"10"],F[R][11]=F[E+"11"],F[R][12]=F[E+"12"],F[R][13]=F[E+"13"],F[R][14]=F[E+"0"],F[R][15]=F[E+"0"]}function Jt(E){return E==Xc||E==ql||E==hd||E==fd}function Hi(){this.eb=[],this.size=this.A=this.fb=0}function Sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hi,this.f.kb=new Sr,this.sd=null}function cn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function ir(E,R){var J=E.T,oe=R.ba.f.RGBA,pe=oe.eb,xe=oe.fb+E.ka*oe.A,ve=Es[R.ba.S],we=E.y,Ne=E.O,_e=E.f,Te=E.N,Re=E.ea,Me=E.W,Oe=R.cc,Xe=R.dc,Ke=R.Mc,Le=R.Nc,De=E.ka,Ge=E.ka+E.T,We=E.U,$e=We+1>>1;for(De==0?ve(we,Ne,null,null,_e,Te,Re,Me,_e,Te,Re,Me,pe,xe,null,null,We):(ve(R.ec,R.fc,we,Ne,Oe,Xe,Ke,Le,_e,Te,Re,Me,pe,xe-oe.A,pe,xe,We),++J);De+2<Ge;De+=2)Oe=_e,Xe=Te,Ke=Re,Le=Me,Te+=E.Rc,Me+=E.Rc,xe+=2*oe.A,ve(we,(Ne+=2*E.fa)-E.fa,we,Ne,Oe,Xe,Ke,Le,_e,Te,Re,Me,pe,xe-oe.A,pe,xe,We);return Ne+=E.fa,E.j+Ge<E.o?(n(R.ec,R.fc,we,Ne,We),n(R.cc,R.dc,_e,Te,$e),n(R.Mc,R.Nc,Re,Me,$e),J--):1&Ge||ve(we,Ne,null,null,_e,Te,Re,Me,_e,Te,Re,Me,pe,xe+oe.A,null,null,We),J}function _o(E,R,J){var oe=E.F,pe=[E.J];if(oe!=null){var xe=E.U,ve=R.ba.S,we=ve==Ad||ve==hd;R=R.ba.f.RGBA;var Ne=[0],_e=E.ka;Ne[0]=E.T,E.Kb&&(_e==0?--Ne[0]:(--_e,pe[0]-=E.width),E.j+E.ka+E.T==E.o&&(Ne[0]=E.o-E.j-_e));var Te=R.eb;_e=R.fb+_e*R.A,E=hr(oe,pe[0],E.width,xe,Ne,Te,_e+(we?0:3),R.A),e(J==Ne),E&&Jt(ve)&&_s(Te,_e,we,xe,Ne,R.A)}return 0}function Ln(E){var R=E.ma,J=R.ba.S,oe=11>J,pe=J==qo||J==dd||J==Ad||J==jr||J==12||Jt(J);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!Mc(R.Oa,E,pe?11:12))return 0;if(pe&&Jt(J)&&rt(),E.da)alert("todo:use_scaling");else{if(oe){if(R.Ib=Ot,E.Kb){if(J=E.U+1>>1,R.memory=a(E.U+2*J),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+E.U,R.Mc=R.cc,R.Nc=R.dc+J,R.Ib=ir,rt()}}else alert("todo:EmitYUV");pe&&(R.Jb=_o,oe&&Pe())}if(oe&&!qn){for(E=0;256>E;++E)Ss[E]=89858*(E-128)+Ji>>Xa,ks[E]=-22014*(E-128)+Ji,tu[E]=-45773*(E-128),Wl[E]=113618*(E-128)+Ji>>Xa;for(E=fr;E<gr;++E)R=76283*(E-16)+Ji>>Xa,BA[E-fr]=ti(R,255),sp[E-fr]=ti(R+8>>4,15);qn=1}return 1}function mi(E){var R=E.ma,J=E.U,oe=E.T;return e(!(1&E.ka)),0>=J||0>=oe?0:(J=R.Ib(E,R),R.Jb!=null&&R.Jb(E,R,J),R.Dc+=J,1)}function qi(E){E.ma.memory=null}function St(E,R,J,oe){return ae(E,8)!=47?0:(R[0]=ae(E,14)+1,J[0]=ae(E,14)+1,oe[0]=ae(E,1),ae(E,3)!=0?0:!E.h)}function Xs(E,R){if(4>E)return E+1;var J=E-2>>1;return(2+(1&E)<<J)+ae(R,J)+1}function bs(E,R){return 120<R?R-120:1<=(J=((J=yx[R-1])>>4)*E+(8-(15&J)))?J:1;var J}function ws(E,R,J){var oe=V(J),pe=E[R+=255&oe].g-8;return 0<pe&&(ee(J,J.u+8),oe=V(J),R+=E[R].value,R+=oe&(1<<pe)-1),ee(J,J.u+E[R].g),E[R].value}function Qr(E,R,J){return J.g+=E.g,J.value+=E.value<<R>>>0,e(8>=J.g),E.g}function Hr(E,R,J){var oe=E.xc;return e((R=oe==0?0:E.vc[E.md*(J>>oe)+(R>>oe)])<E.Wb),E.Ya[R]}function $n(E,R,J,oe){var pe=E.ab,xe=E.c*R,ve=E.C;R=ve+R;var we=J,Ne=oe;for(oe=E.Ta,J=E.Ua;0<pe--;){var _e=E.gc[pe],Te=ve,Re=R,Me=we,Oe=Ne,Xe=(Ne=oe,we=J,_e.Ea);switch(e(Te<Re),e(Re<=_e.nc),_e.hc){case 2:vA(Me,Oe,(Re-Te)*Xe,Ne,we);break;case 0:var Ke=Te,Le=Re,De=Ne,Ge=we,We=(dt=_e).Ea;Ke==0&&(Ol(Me,Oe,null,null,1,De,Ge),He(Me,Oe+1,0,0,We-1,De,Ge+1),Oe+=We,Ge+=We,++Ke);for(var $e=1<<dt.b,mt=$e-1,ut=Q(We,dt.b),kt=dt.K,dt=dt.w+(Ke>>dt.b)*ut;Ke<Le;){var tr=kt,rr=dt,Zt=1;for(qa(Me,Oe,De,Ge-We,1,De,Ge);Zt<We;){var qt=(Zt&~mt)+$e;qt>We&&(qt=We),(0,fa[tr[rr++]>>8&15])(Me,Oe+ +Zt,De,Ge+Zt-We,qt-Zt,De,Ge+Zt),Zt=qt}Oe+=We,Ge+=We,++Ke&mt||(dt+=ut)}Re!=_e.nc&&n(Ne,we-Xe,Ne,we+(Re-Te-1)*Xe,Xe);break;case 1:for(Xe=Me,Le=Oe,We=(Me=_e.Ea)-(Ge=Me&~(De=(Oe=1<<_e.b)-1)),Ke=Q(Me,_e.b),$e=_e.K,_e=_e.w+(Te>>_e.b)*Ke;Te<Re;){for(mt=$e,ut=_e,kt=new fe,dt=Le+Ge,tr=Le+Me;Le<dt;)et(mt[ut++],kt),Mo(kt,Xe,Le,Oe,Ne,we),Le+=Oe,we+=Oe;Le<tr&&(et(mt[ut++],kt),Mo(kt,Xe,Le,We,Ne,we),Le+=We,we+=We),++Te&De||(_e+=Ke)}break;case 3:if(Me==Ne&&Oe==we&&0<_e.b){for(Le=Ne,Me=Xe=we+(Re-Te)*Xe-(Ge=(Re-Te)*Q(_e.Ea,_e.b)),Oe=Ne,De=we,Ke=[],Ge=(We=Ge)-1;0<=Ge;--Ge)Ke[Ge]=Oe[De+Ge];for(Ge=We-1;0<=Ge;--Ge)Le[Me+Ge]=Ke[Ge];As(_e,Te,Re,Ne,Xe,Ne,we)}else As(_e,Te,Re,Me,Oe,Ne,we)}we=oe,Ne=J}Ne!=J&&n(oe,J,we,Ne,xe)}function Co(E,R){var J=E.V,oe=E.Ba+E.c*E.C,pe=R-E.C;if(e(R<=E.l.o),e(16>=pe),0<pe){var xe=E.l,ve=E.Ta,we=E.Ua,Ne=xe.width;if($n(E,pe,J,oe),pe=we=[we],e((J=E.C)<(oe=R)),e(xe.v<xe.va),oe>xe.o&&(oe=xe.o),J<xe.j){var _e=xe.j-J;J=xe.j,pe[0]+=_e*Ne}if(J>=oe?J=0:(pe[0]+=4*xe.v,xe.ka=J-xe.j,xe.U=xe.va-xe.v,xe.T=oe-J,J=1),J){if(we=we[0],11>(J=E.ca).S){var Te=J.f.RGBA,Re=(oe=J.S,pe=xe.U,xe=xe.T,_e=Te.eb,Te.A),Me=xe;for(Te=Te.fb+E.Ma*Te.A;0<Me--;){var Oe=ve,Xe=we,Ke=pe,Le=_e,De=Te;switch(oe){case bA:hs(Oe,Xe,Ke,Le,De);break;case qo:Xn(Oe,Xe,Ke,Le,De);break;case Xc:Xn(Oe,Xe,Ke,Le,De),_s(Le,De,0,Ke,1,0);break;case Zm:Ka(Oe,Xe,Ke,Le,De);break;case dd:Gt(Oe,Xe,Ke,Le,De,1);break;case ql:Gt(Oe,Xe,Ke,Le,De,1),_s(Le,De,0,Ke,1,0);break;case Ad:Gt(Oe,Xe,Ke,Le,De,0);break;case hd:Gt(Oe,Xe,Ke,Le,De,0),_s(Le,De,1,Ke,1,0);break;case jr:Qo(Oe,Xe,Ke,Le,De);break;case fd:Qo(Oe,Xe,Ke,Le,De),Nr(Le,De,Ke,1,0);break;case wA:za(Oe,Xe,Ke,Le,De);break;default:e(0)}we+=Ne,Te+=Re}E.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");e(E.Ma<=J.height)}}E.C=R,e(E.C<=E.i)}function Ma(E){var R;if(0<E.ua)return 0;for(R=0;R<E.Wb;++R){var J=E.Ya[R].G,oe=E.Ya[R].H;if(0<J[1][oe[1]+0].g||0<J[2][oe[2]+0].g||0<J[3][oe[3]+0].g)return 0}return 1}function zi(E,R,J,oe,pe,xe){if(E.Z!=0){var ve=E.qd,we=E.rd;for(e(Zn[E.Z]!=null);R<J;++R)Zn[E.Z](ve,we,oe,pe,oe,pe,xe),ve=oe,we=pe,pe+=xe;E.qd=ve,E.rd=we}}function Ki(E,R){var J=E.l.ma,oe=J.Z==0||J.Z==1?E.l.j:E.C;if(oe=E.C<oe?oe:E.C,e(R<=E.l.o),R>oe){var pe=E.l.width,xe=J.ca,ve=J.tb+pe*oe,we=E.V,Ne=E.Ba+E.c*oe,_e=E.gc;e(E.ab==1),e(_e[0].hc==3),ld(_e[0],oe,R,we,Ne,xe,ve),zi(J,oe,R,xe,ve,pe)}E.C=E.Ma=R}function Qn(E,R,J,oe,pe,xe,ve){var we=E.$/oe,Ne=E.$%oe,_e=E.m,Te=E.s,Re=J+E.$,Me=Re;pe=J+oe*pe;var Oe=J+oe*xe,Xe=280+Te.ua,Ke=E.Pb?we:16777216,Le=0<Te.ua?Te.Wa:null,De=Te.wc,Ge=Re<Oe?Hr(Te,Ne,we):null;e(E.C<xe),e(Oe<=pe);var We=!1;e:for(;;){for(;We||Re<Oe;){var $e=0;if(we>=Ke){var mt=Re-J;e((Ke=E).Pb),Ke.wd=Ke.m,Ke.xd=mt,0<Ke.s.ua&&je(Ke.s.Wa,Ke.s.vb),Ke=we+jA}if(Ne&De||(Ge=Hr(Te,Ne,we)),e(Ge!=null),Ge.Qb&&(R[Re]=Ge.qb,We=!0),!We)if(z(_e),Ge.jc){$e=_e,mt=R;var ut=Re,kt=Ge.pd[V($e)&en-1];e(Ge.jc),256>kt.g?(ee($e,$e.u+kt.g),mt[ut]=kt.value,$e=0):(ee($e,$e.u+kt.g-256),e(256<=kt.value),$e=kt.value),$e==0&&(We=!0)}else $e=ws(Ge.G[0],Ge.H[0],_e);if(_e.h)break;if(We||256>$e){if(!We)if(Ge.nd)R[Re]=(Ge.qb|$e<<8)>>>0;else{if(z(_e),We=ws(Ge.G[1],Ge.H[1],_e),z(_e),mt=ws(Ge.G[2],Ge.H[2],_e),ut=ws(Ge.G[3],Ge.H[3],_e),_e.h)break;R[Re]=(ut<<24|We<<16|$e<<8|mt)>>>0}if(We=!1,++Re,++Ne>=oe&&(Ne=0,++we,ve!=null&&we<=xe&&!(we%16)&&ve(E,we),Le!=null))for(;Me<Re;)$e=R[Me++],Le.X[(506832829*$e&4294967295)>>>Le.Mb]=$e}else if(280>$e){if($e=Xs($e-256,_e),mt=ws(Ge.G[4],Ge.H[4],_e),z(_e),mt=bs(oe,mt=Xs(mt,_e)),_e.h)break;if(Re-J<mt||pe-Re<$e)break e;for(ut=0;ut<$e;++ut)R[Re+ut]=R[Re+ut-mt];for(Re+=$e,Ne+=$e;Ne>=oe;)Ne-=oe,++we,ve!=null&&we<=xe&&!(we%16)&&ve(E,we);if(e(Re<=pe),Ne&De&&(Ge=Hr(Te,Ne,we)),Le!=null)for(;Me<Re;)$e=R[Me++],Le.X[(506832829*$e&4294967295)>>>Le.Mb]=$e}else{if(!($e<Xe))break e;for(We=$e-280,e(Le!=null);Me<Re;)$e=R[Me++],Le.X[(506832829*$e&4294967295)>>>Le.Mb]=$e;$e=Re,e(!(We>>>(mt=Le).Xa)),R[$e]=mt.X[We],We=!0}We||e(_e.h==K(_e))}if(E.Pb&&_e.h&&Re<pe)e(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&je(E.s.vb,E.s.Wa);else{if(_e.h)break e;ve?.(E,we>xe?xe:we),E.a=0,E.$=Re-J}return 1}return E.a=3,0}function Vi(E){e(E!=null),E.vc=null,E.yc=null,E.Ya=null;var R=E.Wa;R!=null&&(R.X=null),E.vb=null,e(E!=null)}function Js(){var E=new cf;return E==null?null:(E.a=0,E.xb=Zc,us("Predictor","VP8LPredictors"),us("Predictor","VP8LPredictors_C"),us("PredictorAdd","VP8LPredictorsAdd"),us("PredictorAdd","VP8LPredictorsAdd_C"),vA=Ye,Mo=ft,hs=ot,Xn=Jr,Qo=_t,za=Mn,Ka=sr,F.VP8LMapColor32b=Vc,F.VP8LMapColor8b=Wc,E)}function la(E,R,J,oe,pe){var xe=1,ve=[E],we=[R],Ne=oe.m,_e=oe.s,Te=null,Re=0;e:for(;;){if(J)for(;xe&&ae(Ne,1);){var Me=ve,Oe=we,Xe=oe,Ke=1,Le=Xe.m,De=Xe.gc[Xe.ab],Ge=ae(Le,2);if(Xe.Oc&1<<Ge)xe=0;else{switch(Xe.Oc|=1<<Ge,De.hc=Ge,De.Ea=Me[0],De.nc=Oe[0],De.K=[null],++Xe.ab,e(4>=Xe.ab),Ge){case 0:case 1:De.b=ae(Le,3)+2,Ke=la(Q(De.Ea,De.b),Q(De.nc,De.b),0,Xe,De.K),De.K=De.K[0];break;case 3:var We,$e=ae(Le,8)+1,mt=16<$e?0:4<$e?1:2<$e?2:3;if(Me[0]=Q(De.Ea,mt),De.b=mt,We=Ke=la($e,1,0,Xe,De.K)){var ut,kt=$e,dt=De,tr=1<<(8>>dt.b),rr=a(tr);if(rr==null)We=0;else{var Zt=dt.K[0],qt=dt.w;for(rr[0]=dt.K[0][0],ut=1;ut<1*kt;++ut)rr[ut]=G(Zt[qt+ut],rr[ut-1]);for(;ut<4*tr;++ut)rr[ut]=0;dt.K[0]=null,dt.K[0]=rr,We=1}}Ke=We;break;case 2:break;default:e(0)}xe=Ke}}if(ve=ve[0],we=we[0],xe&&ae(Ne,1)&&!(xe=1<=(Re=ae(Ne,4))&&11>=Re)){oe.a=3;break e}var mr;if(mr=xe)t:{var xr,Ut,Vr,ps=oe,on=ve,wn=we,ur=Re,es=J,ts=ps.m,Wr=ps.s,Nn=[null],zn=1,Fs=0,wi=tp[ur];r:for(;;){if(es&&ae(ts,1)){var Gr=ae(ts,3)+2,An=Q(on,Gr),si=Q(wn,Gr),Vo=An*si;if(!la(An,si,0,ps,Nn))break r;for(Nn=Nn[0],Wr.xc=Gr,xr=0;xr<Vo;++xr){var Za=Nn[xr]>>8&65535;Nn[xr]=Za,Za>=zn&&(zn=Za+1)}}if(ts.h)break r;for(Ut=0;5>Ut;++Ut){var dr=zl[Ut];!Ut&&0<ur&&(dr+=1<<ur),Fs<dr&&(Fs=dr)}var ya=o(zn*wi,_),_A=zn,mf=o(_A,S);if(mf==null)var Ni=null;else e(65536>=_A),Ni=mf;var ji=a(Fs);if(Ni==null||ji==null||ya==null){ps.a=1;break r}var $l=ya;for(xr=Vr=0;xr<zn;++xr){var Bi=Ni[xr],eo=Bi.G,Yl=Bi.H,ru=0,ii=1,nu=0;for(Ut=0;5>Ut;++Ut){dr=zl[Ut],eo[Ut]=$l,Yl[Ut]=Vr,!Ut&&0<ur&&(dr+=1<<ur);s:{var Wo,to=dr,su=ps,va=ji,ap=$l,pf=Vr,Ir=0,Zi=su.m,gf=ae(Zi,1);if(i(va,0,0,to),gf){var xf=ae(Zi,1)+1,CA=ae(Zi,1),EA=ae(Zi,CA==0?1:8);va[EA]=1,xf==2&&(va[EA=ae(Zi,8)]=1);var ba=1}else{var Or=a(19),hn=ae(Zi,4)+4;if(19<hn){su.a=3;var ln=0;break s}for(Wo=0;Wo<hn;++Wo)Or[xx[Wo]]=ae(Zi,3);var iu=void 0,ro=void 0,au=su,jx=Or,jn=to,SA=va,yd=0,wa=au.m,ea=8,ai=o(128,_);n:for(;T(ai,0,7,jx,19);){if(ae(wa,1)){var vd=2+2*ae(wa,3);if((iu=2+ae(wa,vd))>jn)break n}else iu=jn;for(ro=0;ro<jn&&iu--;){z(wa);var kA=ai[0+(127&V(wa))];ee(wa,wa.u+kA.g);var Go=kA.value;if(16>Go)SA[ro++]=Go,Go!=0&&(ea=Go);else{var op=Go==16,yf=Go-16,lp=NA[yf],vf=ae(wa,md[yf])+lp;if(ro+vf>jn)break n;for(var cp=op?ea:0;0<vf--;)SA[ro++]=cp}}yd=1;break n}yd||(au.a=3),ba=yd}(ba=ba&&!Zi.h)&&(Ir=T(ap,pf,8,va,to)),ba&&Ir!=0?ln=Ir:(su.a=3,ln=0)}if(ln==0)break r;if(ii&&ep[Ut]==1&&(ii=$l[Vr].g==0),ru+=$l[Vr].g,Vr+=ln,3>=Ut){var ou,FA=ji[0];for(ou=1;ou<dr;++ou)ji[ou]>FA&&(FA=ji[ou]);nu+=FA}}if(Bi.nd=ii,Bi.Qb=0,ii&&(Bi.qb=(eo[3][Yl[3]+0].value<<24|eo[1][Yl[1]+0].value<<16|eo[2][Yl[2]+0].value)>>>0,ru==0&&256>eo[0][Yl[0]+0].value&&(Bi.Qb=1,Bi.qb+=eo[0][Yl[0]+0].value<<8)),Bi.jc=!Bi.Qb&&6>nu,Bi.jc){var bd,oi=Bi;for(bd=0;bd<en;++bd){var no=bd,ta=oi.pd[no],Xl=oi.G[0][oi.H[0]+no];256<=Xl.value?(ta.g=Xl.g+256,ta.value=Xl.value):(ta.g=0,ta.value=0,no>>=Qr(Xl,8,ta),no>>=Qr(oi.G[1][oi.H[1]+no],16,ta),no>>=Qr(oi.G[2][oi.H[2]+no],0,ta),Qr(oi.G[3][oi.H[3]+no],24,ta))}}}Wr.vc=Nn,Wr.Wb=zn,Wr.Ya=Ni,Wr.yc=ya,mr=1;break t}mr=0}if(!(xe=mr)){oe.a=3;break e}if(0<Re){if(_e.ua=1<<Re,!te(_e.Wa,Re)){oe.a=1,xe=0;break e}}else _e.ua=0;var TA=oe,IA=ve,up=we,LA=TA.s,DA=LA.xc;if(TA.c=IA,TA.i=up,LA.md=Q(IA,DA),LA.wc=DA==0?-1:(1<<DA)-1,J){oe.xb=xa;break e}if((Te=a(ve*we))==null){oe.a=1,xe=0;break e}xe=(xe=Qn(oe,Te,0,ve,we,we,null))&&!Ne.h;break e}return xe?(pe!=null?pe[0]=Te:(e(Te==null),e(J)),oe.$=0,J||Vi(_e)):Vi(_e),xe}function Eo(E,R){var J=E.c*E.i,oe=J+R+16*R;return e(E.c<=R),E.V=a(oe),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+J+R,1)}function bl(E,R){var J=E.C,oe=R-J,pe=E.V,xe=E.Ba+E.c*J;for(e(R<=E.l.o);0<oe;){var ve=16<oe?16:oe,we=E.l.ma,Ne=E.l.width,_e=Ne*ve,Te=we.ca,Re=we.tb+Ne*J,Me=E.Ta,Oe=E.Ua;$n(E,ve,pe,xe),tn(Me,Oe,Te,Re,_e),zi(we,J,J+ve,Te,Re,Ne),oe-=ve,pe+=ve*E.c,J+=ve}e(J==R),E.C=E.Ma=R}function wl(){this.ub=this.yd=this.td=this.Rb=0}function Nl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jc(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function dA(){this.Yb=function(){var E=[];return function R(J,oe,pe){for(var xe=pe[oe],ve=0;ve<xe&&(J.push(pe.length>oe+1?[]:0),!(pe.length<oe+1));ve++)R(J[ve],oe+1,pe)}(E,0,[3,11]),E}()}function qr(){this.jb=a(3),this.Wc=l([4,8],dA),this.Xc=l([4,17],dA)}function af(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function So(){this.ld=this.La=this.dd=this.tc=0}function Yu(){this.Na=this.la=0}function Bc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function AA(){this.uc=this.M=this.Nb=0,this.wa=Array(new So),this.Y=0,this.ya=Array(new Xu),this.aa=0,this.l=new _c}function jl(){this.y=a(16),this.f=a(8),this.ea=a(8)}function pi(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new wl,this.Kc=new Nl,this.ed=new af,this.Qa=new jc,this.Ic=this.$c=this.Aa=0,this.D=new AA,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,M),this.ia=0,this.pb=o(4,Bc),this.Pa=new qr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jl),this.Hd=0,this.rb=Array(new Yu),this.sb=0,this.wa=Array(new So),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xu),this.L=this.aa=0,this.gd=l([4,2],So),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _c(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zs(){var E=new pi;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,Kl||(Kl=Bl)),E}function an(E,R,J){return E.a==0&&(E.a=R,E.sc=J,E.cb=0),0}function hA(E,R,J){return 3<=J&&E[R+0]==157&&E[R+1]==1&&E[R+2]==42}function fA(E,R){if(E==null)return 0;if(E.a=0,E.sc="OK",R==null)return an(E,2,"null VP8Io passed to VP8GetHeaders()");var J=R.data,oe=R.w,pe=R.ha;if(4>pe)return an(E,7,"Truncated header.");var xe=J[oe+0]|J[oe+1]<<8|J[oe+2]<<16,ve=E.Od;if(ve.Rb=!(1&xe),ve.td=xe>>1&7,ve.yd=xe>>4&1,ve.ub=xe>>5,3<ve.td)return an(E,3,"Incorrect keyframe parameters.");if(!ve.yd)return an(E,4,"Frame not displayable.");oe+=3,pe-=3;var we=E.Kc;if(ve.Rb){if(7>pe)return an(E,7,"cannot parse picture header");if(!hA(J,oe,pe))return an(E,3,"Bad code word");we.c=16383&(J[oe+4]<<8|J[oe+3]),we.Td=J[oe+4]>>6,we.i=16383&(J[oe+6]<<8|J[oe+5]),we.Ud=J[oe+6]>>6,oe+=7,pe-=7,E.za=we.c+15>>4,E.Ub=we.i+15>>4,R.width=we.c,R.height=we.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,i((xe=E.Pa).jb,0,255,xe.jb.length),e((xe=E.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,i(xe.Zb,0,0,xe.Zb.length),i(xe.Lb,0,0,xe.Lb)}if(ve.ub>pe)return an(E,7,"bad partition length");X(xe=E.m,J,oe,ve.ub),oe+=ve.ub,pe-=ve.ub,ve.Rb&&(we.Ld=H(xe),we.Kd=H(xe)),we=E.Qa;var Ne,_e=E.Pa;if(e(xe!=null),e(we!=null),we.Cb=H(xe),we.Cb){if(we.Bb=H(xe),H(xe)){for(we.Fb=H(xe),Ne=0;4>Ne;++Ne)we.Zb[Ne]=H(xe)?Z(xe,7):0;for(Ne=0;4>Ne;++Ne)we.Lb[Ne]=H(xe)?Z(xe,6):0}if(we.Bb)for(Ne=0;3>Ne;++Ne)_e.jb[Ne]=H(xe)?ie(xe,8):255}else we.Bb=0;if(xe.Ka)return an(E,3,"cannot parse segment header");if((we=E.ed).zd=H(xe),we.Tb=ie(xe,6),we.wb=ie(xe,3),we.Pc=H(xe),we.Pc&&H(xe)){for(_e=0;4>_e;++_e)H(xe)&&(we.vd[_e]=Z(xe,6));for(_e=0;4>_e;++_e)H(xe)&&(we.od[_e]=Z(xe,6))}if(E.L=we.Tb==0?0:we.zd?1:2,xe.Ka)return an(E,3,"cannot parse filter header");var Te=pe;if(pe=Ne=oe,oe=Ne+Te,we=Te,E.Xb=(1<<ie(E.m,2))-1,Te<3*(_e=E.Xb))J=7;else{for(Ne+=3*_e,we-=3*_e,Te=0;Te<_e;++Te){var Re=J[pe+0]|J[pe+1]<<8|J[pe+2]<<16;Re>we&&(Re=we),X(E.Jc[+Te],J,Ne,Re),Ne+=Re,we-=Re,pe+=3}X(E.Jc[+_e],J,Ne,we),J=Ne<oe?0:5}if(J!=0)return an(E,J,"cannot parse partitions");for(J=ie(Ne=E.m,7),pe=H(Ne)?Z(Ne,4):0,oe=H(Ne)?Z(Ne,4):0,we=H(Ne)?Z(Ne,4):0,_e=H(Ne)?Z(Ne,4):0,Ne=H(Ne)?Z(Ne,4):0,Te=E.Qa,Re=0;4>Re;++Re){if(Te.Cb){var Me=Te.Zb[Re];Te.Fb||(Me+=J)}else{if(0<Re){E.pb[Re]=E.pb[0];continue}Me=J}var Oe=E.pb[Re];Oe.Sc[0]=Jc[ti(Me+pe,127)],Oe.Sc[1]=pd[ti(Me+0,127)],Oe.Eb[0]=2*Jc[ti(Me+oe,127)],Oe.Eb[1]=101581*pd[ti(Me+we,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=Jc[ti(Me+_e,117)],Oe.Qc[1]=pd[ti(Me+Ne,127)],Oe.lc=Me+Ne}if(!ve.Rb)return an(E,4,"Not a key frame.");for(H(xe),ve=E.Pa,J=0;4>J;++J){for(pe=0;8>pe;++pe)for(oe=0;3>oe;++oe)for(we=0;11>we;++we)_e=ne(xe,bx[J][pe][oe][we])?ie(xe,8):np[J][pe][oe][we],ve.Wc[J][pe].Yb[oe][we]=_e;for(pe=0;17>pe;++pe)ve.Xc[J][pe]=ve.Wc[J][Af[pe]]}return E.kc=H(xe),E.kc&&(E.Bd=ie(xe,8)),E.cb=1}function Bl(E,R,J,oe,pe,xe,ve){var we=R[pe].Yb[J];for(J=0;16>pe;++pe){if(!ne(E,we[J+0]))return pe;for(;!ne(E,we[J+1]);)if(we=R[++pe].Yb[0],J=0,pe==16)return 16;var Ne=R[pe+1].Yb;if(ne(E,we[J+2])){var _e=E,Te=0;if(ne(_e,(Me=we)[(Re=J)+3]))if(ne(_e,Me[Re+6])){for(we=0,Re=2*(Te=ne(_e,Me[Re+8]))+(Me=ne(_e,Me[Re+9+Te])),Te=0,Me=uf[Re];Me[we];++we)Te+=Te+ne(_e,Me[we]);Te+=3+(8<<Re)}else ne(_e,Me[Re+7])?(Te=7+2*ne(_e,165),Te+=ne(_e,145)):Te=5+ne(_e,159);else Te=ne(_e,Me[Re+4])?3+ne(_e,Me[Re+5]):2;we=Ne[2]}else Te=1,we=Ne[1];Ne=ve+df[pe],0>(_e=E).b&&D(_e);var Re,Me=_e.b,Oe=(Re=_e.Ca>>1)-(_e.I>>Me)>>31;--_e.b,_e.Ca+=Oe,_e.Ca|=1,_e.I-=(Re+1&Oe)<<Me,xe[Ne]=((Te^Oe)-Oe)*oe[(0<pe)+0]}return 16}function ko(E){var R=E.rb[E.sb-1];R.la=0,R.Na=0,i(E.zc,0,0,E.zc.length),E.ja=0}function _l(E,R){if(E==null)return 0;if(R==null)return an(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!fA(E,R))return 0;if(e(E.cb),R.ac==null||R.ac(R)){R.ob&&(E.L=0);var J=Gl[E.L];if(E.L==2?(E.yb=0,E.zb=0):(E.yb=R.v-J>>4,E.zb=R.j-J>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=R.o+15+J>>4,E.Hb=R.va+15+J>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var oe=E.ed;for(J=0;4>J;++J){var pe;if(E.Qa.Cb){var xe=E.Qa.Lb[J];E.Qa.Fb||(xe+=oe.Tb)}else xe=oe.Tb;for(pe=0;1>=pe;++pe){var ve=E.gd[J][pe],we=xe;if(oe.Pc&&(we+=oe.vd[0],pe&&(we+=oe.od[0])),0<(we=0>we?0:63<we?63:we)){var Ne=we;0<oe.wb&&(Ne=4<oe.wb?Ne>>2:Ne>>1)>9-oe.wb&&(Ne=9-oe.wb),1>Ne&&(Ne=1),ve.dd=Ne,ve.tc=2*we+Ne,ve.ld=40<=we?2:15<=we?1:0}else ve.tc=0;ve.La=pe}}}J=0}else an(E,6,"Frame setup failed"),J=E.a;if(J=J==0){if(J){E.$c=0,0<E.Aa||(E.Ic=Ja);e:{J=E.Ic,oe=4*(Ne=E.za);var _e=32*Ne,Te=Ne+1,Re=0<E.L?Ne*(0<E.Aa?2:1):0,Me=(E.Aa==2?2:1)*Ne;if((ve=oe+832+(pe=3*(16*J+Gl[E.L])/2*_e)+(xe=E.Fa!=null&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=ve)J=0;else{if(ve>E.Vb){if(E.Vb=0,E.Ec=a(ve),E.Fc=0,E.Ec==null){J=an(E,1,"no memory during frame initialization.");break e}E.Vb=ve}ve=E.Ec,we=E.Fc,E.Ac=ve,E.Bc=we,we+=oe,E.Gd=o(_e,jl),E.Hd=0,E.rb=o(Te+1,Yu),E.sb=1,E.wa=Re?o(Re,So):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=Ne),e(!0),E.oc=ve,E.pc=we,we+=832,E.ya=o(Me,Xu),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,E.Aa==2&&(E.D.aa+=Ne),E.R=16*Ne,E.B=8*Ne,Ne=(_e=Gl[E.L])*E.R,_e=_e/2*E.B,E.sa=ve,E.ta=we+Ne,E.qa=E.sa,E.ra=E.ta+16*J*E.R+_e,E.Ha=E.qa,E.Ia=E.ra+8*J*E.B+_e,E.$c=0,we+=pe,E.mb=xe?ve:null,E.nb=xe?we:null,e(we+xe<=E.Fc+E.Vb),ko(E),i(E.Ac,E.Bc,0,oe),J=1}}if(J){if(R.ka=0,R.y=E.sa,R.O=E.ta,R.f=E.qa,R.N=E.ra,R.ea=E.Ha,R.Vd=E.Ia,R.fa=E.R,R.Rc=E.B,R.F=null,R.J=0,!ud){for(J=-255;255>=J;++J)dn[255+J]=0>J?-J:J;for(J=-1020;1020>=J;++J)pa[1020+J]=-128>J?-128:127<J?127:J;for(J=-112;112>=J;++J)$c[112+J]=-16>J?-16:15<J?15:J;for(J=-255;510>=J;++J)Hl[255+J]=0>J?0:255<J?255:J;ud=1}Gc=ar,Va=Zu,Wa=Fo,Jn=of,ri=Ec,or=Ju,Pl=Dc,cd=bn,Rl=Il,Ml=sd,Ql=Do,ni=Uo,Ga=Ll,ma=Uc,$a=$i,Ya=gi,Ho=xi,Hn=xA,bi[0]=Aa,bi[1]=mA,bi[2]=kl,bi[3]=da,bi[4]=td,bi[5]=kc,bi[6]=Io,bi[7]=Fc,bi[8]=gA,bi[9]=Tc,ms[0]=Sl,ms[1]=pA,ms[2]=ca,ms[3]=El,ms[4]=zr,ms[5]=ua,ms[6]=Wi,Cs[0]=ei,Cs[1]=ed,Cs[2]=lf,Cs[3]=Qa,Cs[4]=Fl,Cs[5]=Ic,Cs[6]=rd,J=1}else J=0}J&&(J=function(Oe,Xe){for(Oe.M=0;Oe.M<Oe.Va;++Oe.M){var Ke,Le=Oe.Jc[Oe.M&Oe.Xb],De=Oe.m,Ge=Oe;for(Ke=0;Ke<Ge.za;++Ke){var We=De,$e=Ge,mt=$e.Ac,ut=$e.Bc+4*Ke,kt=$e.zc,dt=$e.ya[$e.aa+Ke];if($e.Qa.Bb?dt.$b=ne(We,$e.Pa.jb[0])?2+ne(We,$e.Pa.jb[2]):ne(We,$e.Pa.jb[1]):dt.$b=0,$e.kc&&(dt.Ad=ne(We,$e.Bd)),dt.Za=!ne(We,145)+0,dt.Za){var tr=dt.Ob,rr=0;for($e=0;4>$e;++$e){var Zt,qt=kt[0+$e];for(Zt=0;4>Zt;++Zt){qt=vx[mt[ut+Zt]][qt];for(var mr=rp[ne(We,qt[0])];0<mr;)mr=rp[2*mr+ne(We,qt[mr])];qt=-mr,mt[ut+Zt]=qt}n(tr,rr,mt,ut,4),rr+=4,kt[0+$e]=qt}}else qt=ne(We,156)?ne(We,128)?1:3:ne(We,163)?2:0,dt.Ob[0]=qt,i(mt,ut,qt,4),i(kt,0,qt,4);dt.Dd=ne(We,142)?ne(We,114)?ne(We,183)?1:3:2:0}if(Ge.m.Ka)return an(Oe,7,"Premature end-of-partition0 encountered.");for(;Oe.ja<Oe.za;++Oe.ja){if(Ge=Le,We=(De=Oe).rb[De.sb-1],mt=De.rb[De.sb+De.ja],Ke=De.ya[De.aa+De.ja],ut=De.kc?Ke.Ad:0)We.la=mt.la=0,Ke.Za||(We.Na=mt.Na=0),Ke.Hc=0,Ke.Gc=0,Ke.ia=0;else{var xr,Ut;if(We=mt,mt=Ge,ut=De.Pa.Xc,kt=De.ya[De.aa+De.ja],dt=De.pb[kt.$b],$e=kt.ad,tr=0,rr=De.rb[De.sb-1],qt=Zt=0,i($e,tr,0,384),kt.Za)var Vr=0,ps=ut[3];else{mr=a(16);var on=We.Na+rr.Na;if(on=Kl(mt,ut[1],on,dt.Eb,0,mr,0),We.Na=rr.Na=(0<on)+0,1<on)Gc(mr,0,$e,tr);else{var wn=mr[0]+3>>3;for(mr=0;256>mr;mr+=16)$e[tr+mr]=wn}Vr=1,ps=ut[0]}var ur=15&We.la,es=15&rr.la;for(mr=0;4>mr;++mr){var ts=1&es;for(wn=Ut=0;4>wn;++wn)ur=ur>>1|(ts=(on=Kl(mt,ps,on=ts+(1&ur),dt.Sc,Vr,$e,tr))>Vr)<<7,Ut=Ut<<2|(3<on?3:1<on?2:$e[tr+0]!=0),tr+=16;ur>>=4,es=es>>1|ts<<7,Zt=(Zt<<8|Ut)>>>0}for(ps=ur,Vr=es>>4,xr=0;4>xr;xr+=2){for(Ut=0,ur=We.la>>4+xr,es=rr.la>>4+xr,mr=0;2>mr;++mr){for(ts=1&es,wn=0;2>wn;++wn)on=ts+(1&ur),ur=ur>>1|(ts=0<(on=Kl(mt,ut[2],on,dt.Qc,0,$e,tr)))<<3,Ut=Ut<<2|(3<on?3:1<on?2:$e[tr+0]!=0),tr+=16;ur>>=2,es=es>>1|ts<<5}qt|=Ut<<4*xr,ps|=ur<<4<<xr,Vr|=(240&es)<<xr}We.la=ps,rr.la=Vr,kt.Hc=Zt,kt.Gc=qt,kt.ia=43690&qt?0:dt.ia,ut=!(Zt|qt)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Ke.$b][Ke.Za],De.wa[De.Y+De.ja].La|=!ut),Ge.Ka)return an(Oe,7,"Premature end-of-file encountered.")}if(ko(Oe),De=Xe,Ge=1,Ke=(Le=Oe).D,We=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(Ke.M=Le.M,Ke.uc=We,Rc(Le,Ke),Ge=1,Ke=(Ut=Le.D).Nb,We=(qt=Gl[Le.L])*Le.R,mt=qt/2*Le.B,mr=16*Ke*Le.R,wn=8*Ke*Le.B,ut=Le.sa,kt=Le.ta-We+mr,dt=Le.qa,$e=Le.ra-mt+wn,tr=Le.Ha,rr=Le.Ia-mt+wn,es=(ur=Ut.M)==0,Zt=ur>=Le.Va-1,Le.Aa==2&&Rc(Le,Ut),Ut.uc)for(ts=(on=Le).D.M,e(on.D.uc),Ut=on.yb;Ut<on.Hb;++Ut){Vr=Ut,ps=ts;var Wr=(Nn=(dr=on).D).Nb;xr=dr.R;var Nn=Nn.wa[Nn.Y+Vr],zn=dr.sa,Fs=dr.ta+16*Wr*xr+16*Vr,wi=Nn.dd,Gr=Nn.tc;if(Gr!=0)if(e(3<=Gr),dr.L==1)0<Vr&&Ya(zn,Fs,xr,Gr+4),Nn.La&&Hn(zn,Fs,xr,Gr),0<ps&&$a(zn,Fs,xr,Gr+4),Nn.La&&Ho(zn,Fs,xr,Gr);else{var An=dr.B,si=dr.qa,Vo=dr.ra+8*Wr*An+8*Vr,Za=dr.Ha,dr=dr.Ia+8*Wr*An+8*Vr;Wr=Nn.ld,0<Vr&&(cd(zn,Fs,xr,Gr+4,wi,Wr),Ml(si,Vo,Za,dr,An,Gr+4,wi,Wr)),Nn.La&&(ni(zn,Fs,xr,Gr,wi,Wr),ma(si,Vo,Za,dr,An,Gr,wi,Wr)),0<ps&&(Pl(zn,Fs,xr,Gr+4,wi,Wr),Rl(si,Vo,Za,dr,An,Gr+4,wi,Wr)),Nn.La&&(Ql(zn,Fs,xr,Gr,wi,Wr),Ga(si,Vo,Za,dr,An,Gr,wi,Wr))}}if(Le.ia&&alert("todo:DitherRow"),De.put!=null){if(Ut=16*ur,ur=16*(ur+1),es?(De.y=Le.sa,De.O=Le.ta+mr,De.f=Le.qa,De.N=Le.ra+wn,De.ea=Le.Ha,De.W=Le.Ia+wn):(Ut-=qt,De.y=ut,De.O=kt,De.f=dt,De.N=$e,De.ea=tr,De.W=rr),Zt||(ur-=qt),ur>De.o&&(ur=De.o),De.F=null,De.J=null,Le.Fa!=null&&0<Le.Fa.length&&Ut<ur&&(De.J=ad(Le,De,Ut,ur-Ut),De.F=Le.mb,De.F==null&&De.F.length==0)){Ge=an(Le,3,"Could not decode alpha data.");break e}Ut<De.j&&(qt=De.j-Ut,Ut=De.j,e(!(1&qt)),De.O+=Le.R*qt,De.N+=Le.B*(qt>>1),De.W+=Le.B*(qt>>1),De.F!=null&&(De.J+=De.width*qt)),Ut<ur&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=Ut-De.j,De.U=De.va-De.v,De.T=ur-Ut,Ge=De.put(De))}Ke+1!=Le.Ic||Zt||(n(Le.sa,Le.ta-We,ut,kt+16*Le.R,We),n(Le.qa,Le.ra-mt,dt,$e+8*Le.B,mt),n(Le.Ha,Le.Ia-mt,tr,rr+8*Le.B,mt))}if(!Ge)return an(Oe,6,"Output aborted.")}return 1}(E,R)),R.bc!=null&&R.bc(R),J&=1}return J?(E.cb=0,J):0}function Ns(E,R,J,oe,pe){pe=E[R+J+32*oe]+(pe>>3),E[R+J+32*oe]=-256&pe?0>pe?0:255:pe}function Cc(E,R,J,oe,pe,xe){Ns(E,R,0,J,oe+pe),Ns(E,R,1,J,oe+xe),Ns(E,R,2,J,oe-xe),Ns(E,R,3,J,oe-pe)}function js(E){return(20091*E>>16)+E}function Cl(E,R,J,oe){var pe,xe=0,ve=a(16);for(pe=0;4>pe;++pe){var we=E[R+0]+E[R+8],Ne=E[R+0]-E[R+8],_e=(35468*E[R+4]>>16)-js(E[R+12]),Te=js(E[R+4])+(35468*E[R+12]>>16);ve[xe+0]=we+Te,ve[xe+1]=Ne+_e,ve[xe+2]=Ne-_e,ve[xe+3]=we-Te,xe+=4,R++}for(pe=xe=0;4>pe;++pe)we=(E=ve[xe+0]+4)+ve[xe+8],Ne=E-ve[xe+8],_e=(35468*ve[xe+4]>>16)-js(ve[xe+12]),Ns(J,oe,0,0,we+(Te=js(ve[xe+4])+(35468*ve[xe+12]>>16))),Ns(J,oe,1,0,Ne+_e),Ns(J,oe,2,0,Ne-_e),Ns(J,oe,3,0,we-Te),xe++,oe+=32}function Ju(E,R,J,oe){var pe=E[R+0]+4,xe=35468*E[R+4]>>16,ve=js(E[R+4]),we=35468*E[R+1]>>16;Cc(J,oe,0,pe+ve,E=js(E[R+1]),we),Cc(J,oe,1,pe+xe,E,we),Cc(J,oe,2,pe-xe,E,we),Cc(J,oe,3,pe-ve,E,we)}function Zu(E,R,J,oe,pe){Cl(E,R,J,oe),pe&&Cl(E,R+16,J,oe+4)}function Fo(E,R,J,oe){Va(E,R+0,J,oe,1),Va(E,R+32,J,oe+128,1)}function of(E,R,J,oe){var pe;for(E=E[R+0]+4,pe=0;4>pe;++pe)for(R=0;4>R;++R)Ns(J,oe,R,pe,E)}function Ec(E,R,J,oe){E[R+0]&&Jn(E,R+0,J,oe),E[R+16]&&Jn(E,R+16,J,oe+4),E[R+32]&&Jn(E,R+32,J,oe+128),E[R+48]&&Jn(E,R+48,J,oe+128+4)}function ar(E,R,J,oe){var pe,xe=a(16);for(pe=0;4>pe;++pe){var ve=E[R+0+pe]+E[R+12+pe],we=E[R+4+pe]+E[R+8+pe],Ne=E[R+4+pe]-E[R+8+pe],_e=E[R+0+pe]-E[R+12+pe];xe[0+pe]=ve+we,xe[8+pe]=ve-we,xe[4+pe]=_e+Ne,xe[12+pe]=_e-Ne}for(pe=0;4>pe;++pe)ve=(E=xe[0+4*pe]+3)+xe[3+4*pe],we=xe[1+4*pe]+xe[2+4*pe],Ne=xe[1+4*pe]-xe[2+4*pe],_e=E-xe[3+4*pe],J[oe+0]=ve+we>>3,J[oe+16]=_e+Ne>>3,J[oe+32]=ve-we>>3,J[oe+48]=_e-Ne>>3,oe+=64}function Sc(E,R,J){var oe,pe=R-32,xe=fs,ve=255-E[pe-1];for(oe=0;oe<J;++oe){var we,Ne=xe,_e=ve+E[R-1];for(we=0;we<J;++we)E[R+we]=Ne[_e+E[pe+we]];R+=32}}function mA(E,R){Sc(E,R,4)}function ed(E,R){Sc(E,R,8)}function pA(E,R){Sc(E,R,16)}function ca(E,R){var J;for(J=0;16>J;++J)n(E,R+32*J,E,R-32,16)}function El(E,R){var J;for(J=16;0<J;--J)i(E,R,E[R-1],16),R+=32}function To(E,R,J){var oe;for(oe=0;16>oe;++oe)i(R,J+32*oe,E,16)}function Sl(E,R){var J,oe=16;for(J=0;16>J;++J)oe+=E[R-1+32*J]+E[R+J-32];To(oe>>5,E,R)}function zr(E,R){var J,oe=8;for(J=0;16>J;++J)oe+=E[R-1+32*J];To(oe>>4,E,R)}function ua(E,R){var J,oe=8;for(J=0;16>J;++J)oe+=E[R+J-32];To(oe>>4,E,R)}function Wi(E,R){To(128,E,R)}function Lt(E,R,J){return E+2*R+J+2>>2}function kl(E,R){var J,oe=R-32;for(oe=new Uint8Array([Lt(E[oe-1],E[oe+0],E[oe+1]),Lt(E[oe+0],E[oe+1],E[oe+2]),Lt(E[oe+1],E[oe+2],E[oe+3]),Lt(E[oe+2],E[oe+3],E[oe+4])]),J=0;4>J;++J)n(E,R+32*J,oe,0,oe.length)}function da(E,R){var J=E[R-1],oe=E[R-1+32],pe=E[R-1+64],xe=E[R-1+96];ue(E,R+0,16843009*Lt(E[R-1-32],J,oe)),ue(E,R+32,16843009*Lt(J,oe,pe)),ue(E,R+64,16843009*Lt(oe,pe,xe)),ue(E,R+96,16843009*Lt(pe,xe,xe))}function Aa(E,R){var J,oe=4;for(J=0;4>J;++J)oe+=E[R+J-32]+E[R-1+32*J];for(oe>>=3,J=0;4>J;++J)i(E,R+32*J,oe,4)}function td(E,R){var J=E[R-1+0],oe=E[R-1+32],pe=E[R-1+64],xe=E[R-1-32],ve=E[R+0-32],we=E[R+1-32],Ne=E[R+2-32],_e=E[R+3-32];E[R+0+96]=Lt(oe,pe,E[R-1+96]),E[R+1+96]=E[R+0+64]=Lt(J,oe,pe),E[R+2+96]=E[R+1+64]=E[R+0+32]=Lt(xe,J,oe),E[R+3+96]=E[R+2+64]=E[R+1+32]=E[R+0+0]=Lt(ve,xe,J),E[R+3+64]=E[R+2+32]=E[R+1+0]=Lt(we,ve,xe),E[R+3+32]=E[R+2+0]=Lt(Ne,we,ve),E[R+3+0]=Lt(_e,Ne,we)}function Io(E,R){var J=E[R+1-32],oe=E[R+2-32],pe=E[R+3-32],xe=E[R+4-32],ve=E[R+5-32],we=E[R+6-32],Ne=E[R+7-32];E[R+0+0]=Lt(E[R+0-32],J,oe),E[R+1+0]=E[R+0+32]=Lt(J,oe,pe),E[R+2+0]=E[R+1+32]=E[R+0+64]=Lt(oe,pe,xe),E[R+3+0]=E[R+2+32]=E[R+1+64]=E[R+0+96]=Lt(pe,xe,ve),E[R+3+32]=E[R+2+64]=E[R+1+96]=Lt(xe,ve,we),E[R+3+64]=E[R+2+96]=Lt(ve,we,Ne),E[R+3+96]=Lt(we,Ne,Ne)}function kc(E,R){var J=E[R-1+0],oe=E[R-1+32],pe=E[R-1+64],xe=E[R-1-32],ve=E[R+0-32],we=E[R+1-32],Ne=E[R+2-32],_e=E[R+3-32];E[R+0+0]=E[R+1+64]=xe+ve+1>>1,E[R+1+0]=E[R+2+64]=ve+we+1>>1,E[R+2+0]=E[R+3+64]=we+Ne+1>>1,E[R+3+0]=Ne+_e+1>>1,E[R+0+96]=Lt(pe,oe,J),E[R+0+64]=Lt(oe,J,xe),E[R+0+32]=E[R+1+96]=Lt(J,xe,ve),E[R+1+32]=E[R+2+96]=Lt(xe,ve,we),E[R+2+32]=E[R+3+96]=Lt(ve,we,Ne),E[R+3+32]=Lt(we,Ne,_e)}function Fc(E,R){var J=E[R+0-32],oe=E[R+1-32],pe=E[R+2-32],xe=E[R+3-32],ve=E[R+4-32],we=E[R+5-32],Ne=E[R+6-32],_e=E[R+7-32];E[R+0+0]=J+oe+1>>1,E[R+1+0]=E[R+0+64]=oe+pe+1>>1,E[R+2+0]=E[R+1+64]=pe+xe+1>>1,E[R+3+0]=E[R+2+64]=xe+ve+1>>1,E[R+0+32]=Lt(J,oe,pe),E[R+1+32]=E[R+0+96]=Lt(oe,pe,xe),E[R+2+32]=E[R+1+96]=Lt(pe,xe,ve),E[R+3+32]=E[R+2+96]=Lt(xe,ve,we),E[R+3+64]=Lt(ve,we,Ne),E[R+3+96]=Lt(we,Ne,_e)}function Tc(E,R){var J=E[R-1+0],oe=E[R-1+32],pe=E[R-1+64],xe=E[R-1+96];E[R+0+0]=J+oe+1>>1,E[R+2+0]=E[R+0+32]=oe+pe+1>>1,E[R+2+32]=E[R+0+64]=pe+xe+1>>1,E[R+1+0]=Lt(J,oe,pe),E[R+3+0]=E[R+1+32]=Lt(oe,pe,xe),E[R+3+32]=E[R+1+64]=Lt(pe,xe,xe),E[R+3+64]=E[R+2+64]=E[R+0+96]=E[R+1+96]=E[R+2+96]=E[R+3+96]=xe}function gA(E,R){var J=E[R-1+0],oe=E[R-1+32],pe=E[R-1+64],xe=E[R-1+96],ve=E[R-1-32],we=E[R+0-32],Ne=E[R+1-32],_e=E[R+2-32];E[R+0+0]=E[R+2+32]=J+ve+1>>1,E[R+0+32]=E[R+2+64]=oe+J+1>>1,E[R+0+64]=E[R+2+96]=pe+oe+1>>1,E[R+0+96]=xe+pe+1>>1,E[R+3+0]=Lt(we,Ne,_e),E[R+2+0]=Lt(ve,we,Ne),E[R+1+0]=E[R+3+32]=Lt(J,ve,we),E[R+1+32]=E[R+3+64]=Lt(oe,J,ve),E[R+1+64]=E[R+3+96]=Lt(pe,oe,J),E[R+1+96]=Lt(xe,pe,oe)}function lf(E,R){var J;for(J=0;8>J;++J)n(E,R+32*J,E,R-32,8)}function Qa(E,R){var J;for(J=0;8>J;++J)i(E,R,E[R-1],8),R+=32}function Gi(E,R,J){var oe;for(oe=0;8>oe;++oe)i(R,J+32*oe,E,8)}function ei(E,R){var J,oe=8;for(J=0;8>J;++J)oe+=E[R+J-32]+E[R-1+32*J];Gi(oe>>4,E,R)}function Ic(E,R){var J,oe=4;for(J=0;8>J;++J)oe+=E[R+J-32];Gi(oe>>3,E,R)}function Fl(E,R){var J,oe=4;for(J=0;8>J;++J)oe+=E[R-1+32*J];Gi(oe>>3,E,R)}function rd(E,R){Gi(128,E,R)}function Lo(E,R,J){var oe=E[R-J],pe=E[R+0],xe=3*(pe-oe)+ga[1020+E[R-2*J]-E[R+J]],ve=Yc[112+(xe+4>>3)];E[R-J]=fs[255+oe+Yc[112+(xe+3>>3)]],E[R+0]=fs[255+pe-ve]}function Tl(E,R,J,oe){var pe=E[R+0],xe=E[R+J];return vi[255+E[R-2*J]-E[R-J]]>oe||vi[255+xe-pe]>oe}function Lc(E,R,J,oe){return 4*vi[255+E[R-J]-E[R+0]]+vi[255+E[R-2*J]-E[R+J]]<=oe}function nd(E,R,J,oe,pe){var xe=E[R-3*J],ve=E[R-2*J],we=E[R-J],Ne=E[R+0],_e=E[R+J],Te=E[R+2*J],Re=E[R+3*J];return 4*vi[255+we-Ne]+vi[255+ve-_e]>oe?0:vi[255+E[R-4*J]-xe]<=pe&&vi[255+xe-ve]<=pe&&vi[255+ve-we]<=pe&&vi[255+Re-Te]<=pe&&vi[255+Te-_e]<=pe&&vi[255+_e-Ne]<=pe}function $i(E,R,J,oe){var pe=2*oe+1;for(oe=0;16>oe;++oe)Lc(E,R+oe,J,pe)&&Lo(E,R+oe,J)}function gi(E,R,J,oe){var pe=2*oe+1;for(oe=0;16>oe;++oe)Lc(E,R+oe*J,1,pe)&&Lo(E,R+oe*J,1)}function xi(E,R,J,oe){var pe;for(pe=3;0<pe;--pe)$i(E,R+=4*J,J,oe)}function xA(E,R,J,oe){var pe;for(pe=3;0<pe;--pe)gi(E,R+=4,J,oe)}function Yi(E,R,J,oe,pe,xe,ve,we){for(xe=2*xe+1;0<pe--;){if(nd(E,R,J,xe,ve))if(Tl(E,R,J,we))Lo(E,R,J);else{var Ne=E,_e=R,Te=J,Re=Ne[_e-2*Te],Me=Ne[_e-Te],Oe=Ne[_e+0],Xe=Ne[_e+Te],Ke=Ne[_e+2*Te],Le=27*(Ge=ga[1020+3*(Oe-Me)+ga[1020+Re-Xe]])+63>>7,De=18*Ge+63>>7,Ge=9*Ge+63>>7;Ne[_e-3*Te]=fs[255+Ne[_e-3*Te]+Ge],Ne[_e-2*Te]=fs[255+Re+De],Ne[_e-Te]=fs[255+Me+Le],Ne[_e+0]=fs[255+Oe-Le],Ne[_e+Te]=fs[255+Xe-De],Ne[_e+2*Te]=fs[255+Ke-Ge]}R+=oe}}function Bs(E,R,J,oe,pe,xe,ve,we){for(xe=2*xe+1;0<pe--;){if(nd(E,R,J,xe,ve))if(Tl(E,R,J,we))Lo(E,R,J);else{var Ne=E,_e=R,Te=J,Re=Ne[_e-Te],Me=Ne[_e+0],Oe=Ne[_e+Te],Xe=Yc[112+((Ke=3*(Me-Re))+4>>3)],Ke=Yc[112+(Ke+3>>3)],Le=Xe+1>>1;Ne[_e-2*Te]=fs[255+Ne[_e-2*Te]+Le],Ne[_e-Te]=fs[255+Re+Ke],Ne[_e+0]=fs[255+Me-Xe],Ne[_e+Te]=fs[255+Oe-Le]}R+=oe}}function Dc(E,R,J,oe,pe,xe){Yi(E,R,J,1,16,oe,pe,xe)}function bn(E,R,J,oe,pe,xe){Yi(E,R,1,J,16,oe,pe,xe)}function Do(E,R,J,oe,pe,xe){var ve;for(ve=3;0<ve;--ve)Bs(E,R+=4*J,J,1,16,oe,pe,xe)}function Uo(E,R,J,oe,pe,xe){var ve;for(ve=3;0<ve;--ve)Bs(E,R+=4,1,J,16,oe,pe,xe)}function Il(E,R,J,oe,pe,xe,ve,we){Yi(E,R,pe,1,8,xe,ve,we),Yi(J,oe,pe,1,8,xe,ve,we)}function sd(E,R,J,oe,pe,xe,ve,we){Yi(E,R,1,pe,8,xe,ve,we),Yi(J,oe,1,pe,8,xe,ve,we)}function Ll(E,R,J,oe,pe,xe,ve,we){Bs(E,R+4*pe,pe,1,8,xe,ve,we),Bs(J,oe+4*pe,pe,1,8,xe,ve,we)}function Uc(E,R,J,oe,pe,xe,ve,we){Bs(E,R+4,1,pe,8,xe,ve,we),Bs(J,oe+4,1,pe,8,xe,ve,we)}function ha(){this.ba=new vn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Oc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yA(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new S,this.yc=new _}function cf(){this.xb=this.a=0,this.l=new _c,this.ca=new vn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yA,this.ab=0,this.gc=o(4,Oc),this.Oc=0}function Pc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _c,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ha(E,R,J,oe,pe,xe,ve){for(E=E==null?0:E[R+0],R=0;R<ve;++R)pe[xe+R]=E+J[oe+R]&255,E=pe[xe+R]}function id(E,R,J,oe,pe,xe,ve){var we;if(E==null)Ha(null,null,J,oe,pe,xe,ve);else for(we=0;we<ve;++we)pe[xe+we]=E[R+we]+J[oe+we]&255}function Po(E,R,J,oe,pe,xe,ve){if(E==null)Ha(null,null,J,oe,pe,xe,ve);else{var we,Ne=E[R+0],_e=Ne,Te=Ne;for(we=0;we<ve;++we)_e=Te+(Ne=E[R+we])-_e,Te=J[oe+we]+(-256&_e?0>_e?0:255:_e)&255,_e=Ne,pe[xe+we]=Te}}function ad(E,R,J,oe){var pe=R.width,xe=R.o;if(e(E!=null&&R!=null),0>J||0>=oe||J+oe>xe)return null;if(!E.Cc){if(E.ga==null){var ve;if(E.ga=new Pc,(ve=E.ga==null)||(ve=R.width*R.o,e(E.Gb.length==0),E.Gb=a(ve),E.Uc=0,E.Gb==null?ve=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,ve=1),ve=!ve),!ve){ve=E.ga;var we=E.Fa,Ne=E.P,_e=E.qc,Te=E.mb,Re=E.nb,Me=Ne+1,Oe=_e-1,Xe=ve.l;if(e(we!=null&&Te!=null&&R!=null),Zn[0]=null,Zn[1]=Ha,Zn[2]=id,Zn[3]=Po,ve.ca=Te,ve.tb=Re,ve.c=R.width,ve.i=R.height,e(0<ve.c&&0<ve.i),1>=_e)R=0;else if(ve.$a=we[Ne+0]>>0&3,ve.Z=we[Ne+0]>>2&3,ve.Lc=we[Ne+0]>>4&3,Ne=we[Ne+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Ne)R=0;else if(Xe.put=mi,Xe.ac=Ln,Xe.bc=qi,Xe.ma=ve,Xe.width=R.width,Xe.height=R.height,Xe.Da=R.Da,Xe.v=R.v,Xe.va=R.va,Xe.j=R.j,Xe.o=R.o,ve.$a)e:{e(ve.$a==1),R=Js();t:for(;;){if(R==null){R=0;break e}if(e(ve!=null),ve.mc=R,R.c=ve.c,R.i=ve.i,R.l=ve.l,R.l.ma=ve,R.l.width=ve.c,R.l.height=ve.i,R.a=0,ce(R.m,we,Me,Oe),!la(ve.c,ve.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Ma(R.s)?(ve.ic=1,we=R.c*R.i,R.Ta=null,R.Ua=0,R.V=a(we),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(ve.ic=0,R=Eo(R,ve.c)),!R))break t;R=1;break e}ve.mc=null,R=0}else R=Oe>=ve.c*ve.i;ve=!R}if(ve)return null;E.ga.Lc!=1?E.Ga=0:oe=xe-J}e(E.ga!=null),e(J+oe<=xe);e:{if(R=(we=E.ga).c,xe=we.l.o,we.$a==0){if(Me=E.rc,Oe=E.Vc,Xe=E.Fa,Ne=E.P+1+J*R,_e=E.mb,Te=E.nb+J*R,e(Ne<=E.P+E.qc),we.Z!=0)for(e(Zn[we.Z]!=null),ve=0;ve<oe;++ve)Zn[we.Z](Me,Oe,Xe,Ne,_e,Te,R),Me=_e,Oe=Te,Te+=R,Ne+=R;else for(ve=0;ve<oe;++ve)n(_e,Te,Xe,Ne,R),Me=_e,Oe=Te,Te+=R,Ne+=R;E.rc=Me,E.Vc=Oe}else{if(e(we.mc!=null),R=J+oe,e((ve=we.mc)!=null),e(R<=ve.i),ve.C>=R)R=1;else if(we.ic||Pe(),we.ic){we=ve.V,Me=ve.Ba,Oe=ve.c;var Ke=ve.i,Le=(Xe=1,Ne=ve.$/Oe,_e=ve.$%Oe,Te=ve.m,Re=ve.s,ve.$),De=Oe*Ke,Ge=Oe*R,We=Re.wc,$e=Le<Ge?Hr(Re,_e,Ne):null;e(Le<=De),e(R<=Ke),e(Ma(Re));t:for(;;){for(;!Te.h&&Le<Ge;){if(_e&We||($e=Hr(Re,_e,Ne)),e($e!=null),z(Te),256>(Ke=ws($e.G[0],$e.H[0],Te)))we[Me+Le]=Ke,++Le,++_e>=Oe&&(_e=0,++Ne<=R&&!(Ne%16)&&Ki(ve,Ne));else{if(!(280>Ke)){Xe=0;break t}Ke=Xs(Ke-256,Te);var mt,ut=ws($e.G[4],$e.H[4],Te);if(z(Te),!(Le>=(ut=bs(Oe,ut=Xs(ut,Te)))&&De-Le>=Ke)){Xe=0;break t}for(mt=0;mt<Ke;++mt)we[Me+Le+mt]=we[Me+Le+mt-ut];for(Le+=Ke,_e+=Ke;_e>=Oe;)_e-=Oe,++Ne<=R&&!(Ne%16)&&Ki(ve,Ne);Le<Ge&&_e&We&&($e=Hr(Re,_e,Ne))}e(Te.h==K(Te))}Ki(ve,Ne>R?R:Ne);break t}!Xe||Te.h&&Le<De?(Xe=0,ve.a=Te.h?5:3):ve.$=Le,R=Xe}else R=Qn(ve,ve.V,ve.Ba,ve.c,ve.i,R,bl);if(!R){oe=0;break e}}J+oe>=xe&&(E.Cc=1),oe=1}if(!oe)return null;if(E.Cc&&((oe=E.ga)!=null&&(oe.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+J*pe}function W(E,R,J,oe,pe,xe){for(;0<pe--;){var ve,we=E,Ne=R+(J?1:0),_e=E,Te=R+(J?0:3);for(ve=0;ve<oe;++ve){var Re=_e[Te+4*ve];Re!=255&&(Re*=32897,we[Ne+4*ve+0]=we[Ne+4*ve+0]*Re>>23,we[Ne+4*ve+1]=we[Ne+4*ve+1]*Re>>23,we[Ne+4*ve+2]=we[Ne+4*ve+2]*Re>>23)}R+=xe}}function ge(E,R,J,oe,pe){for(;0<oe--;){var xe;for(xe=0;xe<J;++xe){var ve=E[R+2*xe+0],we=15&(_e=E[R+2*xe+1]),Ne=4369*we,_e=(240&_e|_e>>4)*Ne>>16;E[R+2*xe+0]=(240&ve|ve>>4)*Ne>>16&240|(15&ve|ve<<4)*Ne>>16>>4&15,E[R+2*xe+1]=240&_e|we}R+=pe}}function Ce(E,R,J,oe,pe,xe,ve,we){var Ne,_e,Te=255;for(_e=0;_e<pe;++_e){for(Ne=0;Ne<oe;++Ne){var Re=E[R+Ne];xe[ve+4*Ne]=Re,Te&=Re}R+=J,ve+=we}return Te!=255}function Fe(E,R,J,oe,pe){var xe;for(xe=0;xe<pe;++xe)J[oe+xe]=E[R+xe]>>8}function Pe(){_s=W,Nr=ge,hr=Ce,tn=Fe}function Ve(E,R,J){F[E]=function(oe,pe,xe,ve,we,Ne,_e,Te,Re,Me,Oe,Xe,Ke,Le,De,Ge,We){var $e,mt=We-1>>1,ut=we[Ne+0]|_e[Te+0]<<16,kt=Re[Me+0]|Oe[Xe+0]<<16;e(oe!=null);var dt=3*ut+kt+131074>>2;for(R(oe[pe+0],255&dt,dt>>16,Ke,Le),xe!=null&&(dt=3*kt+ut+131074>>2,R(xe[ve+0],255&dt,dt>>16,De,Ge)),$e=1;$e<=mt;++$e){var tr=we[Ne+$e]|_e[Te+$e]<<16,rr=Re[Me+$e]|Oe[Xe+$e]<<16,Zt=ut+tr+kt+rr+524296,qt=Zt+2*(tr+kt)>>3;dt=qt+ut>>1,ut=(Zt=Zt+2*(ut+rr)>>3)+tr>>1,R(oe[pe+2*$e-1],255&dt,dt>>16,Ke,Le+(2*$e-1)*J),R(oe[pe+2*$e-0],255&ut,ut>>16,Ke,Le+(2*$e-0)*J),xe!=null&&(dt=Zt+kt>>1,ut=qt+rr>>1,R(xe[ve+2*$e-1],255&dt,dt>>16,De,Ge+(2*$e-1)*J),R(xe[ve+2*$e+0],255&ut,ut>>16,De,Ge+(2*$e+0)*J)),ut=tr,kt=rr}1&We||(dt=3*ut+kt+131074>>2,R(oe[pe+We-1],255&dt,dt>>16,Ke,Le+(We-1)*J),xe!=null&&(dt=3*kt+ut+131074>>2,R(xe[ve+We-1],255&dt,dt>>16,De,Ge+(We-1)*J)))}}function rt(){Es[bA]=wx,Es[qo]=zo,Es[Zm]=Nx,Es[dd]=eu,Es[Ad]=Vl,Es[jr]=gd,Es[wA]=hf,Es[Xc]=zo,Es[ql]=eu,Es[hd]=Vl,Es[fd]=gd}function ht(E){return E&-16384?0>E?0:255:E>>Ko}function Ct(E,R){return ht((19077*E>>8)+(26149*R>>8)-14234)}function Qt(E,R,J){return ht((19077*E>>8)-(6419*R>>8)-(13320*J>>8)+8708)}function Mt(E,R){return ht((19077*E>>8)+(33050*R>>8)-17685)}function Yt(E,R,J,oe,pe){oe[pe+0]=Ct(E,J),oe[pe+1]=Qt(E,R,J),oe[pe+2]=Mt(E,R)}function Kr(E,R,J,oe,pe){oe[pe+0]=Mt(E,R),oe[pe+1]=Qt(E,R,J),oe[pe+2]=Ct(E,J)}function Zr(E,R,J,oe,pe){var xe=Qt(E,R,J);R=xe<<3&224|Mt(E,R)>>3,oe[pe+0]=248&Ct(E,J)|xe>>5,oe[pe+1]=R}function un(E,R,J,oe,pe){var xe=240&Mt(E,R)|15;oe[pe+0]=240&Ct(E,J)|Qt(E,R,J)>>4,oe[pe+1]=xe}function Yn(E,R,J,oe,pe){oe[pe+0]=255,Yt(E,R,J,oe,pe+1)}function Dn(E,R,J,oe,pe){Kr(E,R,J,oe,pe),oe[pe+3]=255}function Xi(E,R,J,oe,pe){Yt(E,R,J,oe,pe),oe[pe+3]=255}function ti(E,R){return 0>E?0:E>R?R:E}function yi(E,R,J){F[E]=function(oe,pe,xe,ve,we,Ne,_e,Te,Re){for(var Me=Te+(-2&Re)*J;Te!=Me;)R(oe[pe+0],xe[ve+0],we[Ne+0],_e,Te),R(oe[pe+1],xe[ve+0],we[Ne+0],_e,Te+J),pe+=2,++ve,++Ne,Te+=2*J;1&Re&&R(oe[pe+0],xe[ve+0],we[Ne+0],_e,Te)}}function Ro(E,R,J){return J==0?E==0?R==0?6:5:R==0?4:0:J}function od(E,R,J,oe,pe){switch(E>>>30){case 3:Va(R,J,oe,pe,0);break;case 2:or(R,J,oe,pe);break;case 1:Jn(R,J,oe,pe)}}function Rc(E,R){var J,oe,pe=R.M,xe=R.Nb,ve=E.oc,we=E.pc+40,Ne=E.oc,_e=E.pc+584,Te=E.oc,Re=E.pc+600;for(J=0;16>J;++J)ve[we+32*J-1]=129;for(J=0;8>J;++J)Ne[_e+32*J-1]=129,Te[Re+32*J-1]=129;for(0<pe?ve[we-1-32]=Ne[_e-1-32]=Te[Re-1-32]=129:(i(ve,we-32-1,127,21),i(Ne,_e-32-1,127,9),i(Te,Re-32-1,127,9)),oe=0;oe<E.za;++oe){var Me=R.ya[R.aa+oe];if(0<oe){for(J=-1;16>J;++J)n(ve,we+32*J-4,ve,we+32*J+12,4);for(J=-1;8>J;++J)n(Ne,_e+32*J-4,Ne,_e+32*J+4,4),n(Te,Re+32*J-4,Te,Re+32*J+4,4)}var Oe=E.Gd,Xe=E.Hd+oe,Ke=Me.ad,Le=Me.Hc;if(0<pe&&(n(ve,we-32,Oe[Xe].y,0,16),n(Ne,_e-32,Oe[Xe].f,0,8),n(Te,Re-32,Oe[Xe].ea,0,8)),Me.Za){var De=ve,Ge=we-32+16;for(0<pe&&(oe>=E.za-1?i(De,Ge,Oe[Xe].y[15],4):n(De,Ge,Oe[Xe+1].y,0,4)),J=0;4>J;J++)De[Ge+128+J]=De[Ge+256+J]=De[Ge+384+J]=De[Ge+0+J];for(J=0;16>J;++J,Le<<=2)De=ve,Ge=we+ff[J],bi[Me.Ob[J]](De,Ge),od(Le,Ke,16*+J,De,Ge)}else if(De=Ro(oe,pe,Me.Ob[0]),ms[De](ve,we),Le!=0)for(J=0;16>J;++J,Le<<=2)od(Le,Ke,16*+J,ve,we+ff[J]);for(J=Me.Gc,De=Ro(oe,pe,Me.Dd),Cs[De](Ne,_e),Cs[De](Te,Re),Le=Ke,De=Ne,Ge=_e,255&(Me=J>>0)&&(170&Me?Wa(Le,256,De,Ge):ri(Le,256,De,Ge)),Me=Te,Le=Re,255&(J>>=8)&&(170&J?Wa(Ke,320,Me,Le):ri(Ke,320,Me,Le)),pe<E.Ub-1&&(n(Oe[Xe].y,0,ve,we+480,16),n(Oe[Xe].f,0,Ne,_e+224,8),n(Oe[Xe].ea,0,Te,Re+224,8)),J=8*xe*E.B,Oe=E.sa,Xe=E.ta+16*oe+16*xe*E.R,Ke=E.qa,Me=E.ra+8*oe+J,Le=E.Ha,De=E.Ia+8*oe+J,J=0;16>J;++J)n(Oe,Xe+J*E.R,ve,we+32*J,16);for(J=0;8>J;++J)n(Ke,Me+J*E.B,Ne,_e+32*J,8),n(Le,De+J*E.B,Te,Re+32*J,8)}}function Dl(E,R,J,oe,pe,xe,ve,we,Ne){var _e=[0],Te=[0],Re=0,Me=Ne!=null?Ne.kd:0,Oe=Ne??new Oo;if(E==null||12>J)return 7;Oe.data=E,Oe.w=R,Oe.ha=J,R=[R],J=[J],Oe.gb=[Oe.gb];e:{var Xe=R,Ke=J,Le=Oe.gb;if(e(E!=null),e(Ke!=null),e(Le!=null),Le[0]=0,12<=Ke[0]&&!t(E,Xe[0],"RIFF")){if(t(E,Xe[0]+8,"WEBP")){Le=3;break e}var De=Be(E,Xe[0]+4);if(12>De||4294967286<De){Le=3;break e}if(Me&&De>Ke[0]-8){Le=7;break e}Le[0]=De,Xe[0]+=12,Ke[0]-=12}Le=0}if(Le!=0)return Le;for(De=0<Oe.gb[0],J=J[0];;){e:{var Ge=E;Ke=R,Le=J;var We=_e,$e=Te,mt=Xe=[0];if((dt=Re=[Re])[0]=0,8>Le[0])Le=7;else{if(!t(Ge,Ke[0],"VP8X")){if(Be(Ge,Ke[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var ut=Be(Ge,Ke[0]+8),kt=1+he(Ge,Ke[0]+12);if(2147483648<=kt*(Ge=1+he(Ge,Ke[0]+15))){Le=3;break e}mt!=null&&(mt[0]=ut),We!=null&&(We[0]=kt),$e!=null&&($e[0]=Ge),Ke[0]+=18,Le[0]-=18,dt[0]=1}Le=0}}if(Re=Re[0],Xe=Xe[0],Le!=0)return Le;if(Ke=!!(2&Xe),!De&&Re)return 3;if(xe!=null&&(xe[0]=!!(16&Xe)),ve!=null&&(ve[0]=Ke),we!=null&&(we[0]=0),ve=_e[0],Xe=Te[0],Re&&Ke&&Ne==null){Le=0;break}if(4>J){Le=7;break}if(De&&Re||!De&&!Re&&!t(E,R[0],"ALPH")){J=[J],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{ut=E,Le=R,De=J;var dt=Oe.gb;We=Oe.na,$e=Oe.P,mt=Oe.Sa,kt=22,e(ut!=null),e(De!=null),Ge=Le[0];var tr=De[0];for(e(We!=null),e(mt!=null),We[0]=null,$e[0]=null,mt[0]=0;;){if(Le[0]=Ge,De[0]=tr,8>tr){Le=7;break e}var rr=Be(ut,Ge+4);if(4294967286<rr){Le=3;break e}var Zt=8+rr+1&-2;if(kt+=Zt,0<dt&&kt>dt){Le=3;break e}if(!t(ut,Ge,"VP8 ")||!t(ut,Ge,"VP8L")){Le=0;break e}if(tr[0]<Zt){Le=7;break e}t(ut,Ge,"ALPH")||(We[0]=ut,$e[0]=Ge+8,mt[0]=rr),Ge+=Zt,tr-=Zt}}if(J=J[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Le!=0)break}J=[J],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(dt=E,Le=R,De=J,We=Oe.gb[0],$e=Oe.Ja,mt=Oe.xa,ut=Le[0],Ge=!t(dt,ut,"VP8 "),kt=!t(dt,ut,"VP8L"),e(dt!=null),e(De!=null),e($e!=null),e(mt!=null),8>De[0])Le=7;else{if(Ge||kt){if(dt=Be(dt,ut+4),12<=We&&dt>We-12){Le=3;break e}if(Me&&dt>De[0]-8){Le=7;break e}$e[0]=dt,Le[0]+=8,De[0]-=8,mt[0]=kt}else mt[0]=5<=De[0]&&dt[ut+0]==47&&!(dt[ut+4]>>5),$e[0]=De[0];Le=0}if(J=J[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],R=R[0],Le!=0)break;if(4294967286<Oe.Ja)return 3;if(we==null||Ke||(we[0]=Oe.xa?2:1),ve=[ve],Xe=[Xe],Oe.xa){if(5>J){Le=7;break}we=ve,Me=Xe,Ke=xe,E==null||5>J?E=0:5<=J&&E[R+0]==47&&!(E[R+4]>>5)?(De=[0],dt=[0],We=[0],ce($e=new L,E,R,J),St($e,De,dt,We)?(we!=null&&(we[0]=De[0]),Me!=null&&(Me[0]=dt[0]),Ke!=null&&(Ke[0]=We[0]),E=1):E=0):E=0}else{if(10>J){Le=7;break}we=Xe,E==null||10>J||!hA(E,R+3,J-3)?E=0:(Me=E[R+0]|E[R+1]<<8|E[R+2]<<16,Ke=16383&(E[R+7]<<8|E[R+6]),E=16383&(E[R+9]<<8|E[R+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Oe.Ja||!Ke||!E?E=0:(ve&&(ve[0]=Ke),we&&(we[0]=E),E=1))}if(!E||(ve=ve[0],Xe=Xe[0],Re&&(_e[0]!=ve||Te[0]!=Xe)))return 3;Ne!=null&&(Ne[0]=Oe,Ne.offset=R-Ne.w,e(4294967286>R-Ne.w),e(Ne.offset==Ne.ha-J));break}return Le==0||Le==7&&Re&&Ne==null?(xe!=null&&(xe[0]|=Oe.na!=null&&0<Oe.na.length),oe!=null&&(oe[0]=ve),pe!=null&&(pe[0]=Xe),0):Le}function Mc(E,R,J){var oe=R.width,pe=R.height,xe=0,ve=0,we=oe,Ne=pe;if(R.Da=E!=null&&0<E.Da,R.Da&&(we=E.cd,Ne=E.bd,xe=E.v,ve=E.j,11>J||(xe&=-2,ve&=-2),0>xe||0>ve||0>=we||0>=Ne||xe+we>oe||ve+Ne>pe))return 0;if(R.v=xe,R.j=ve,R.va=xe+we,R.o=ve+Ne,R.U=we,R.T=Ne,R.da=E!=null&&0<E.da,R.da){if(!q(we,Ne,J=[E.ib],xe=[E.hb]))return 0;R.ib=J[0],R.hb=xe[0]}return R.ob=E!=null&&E.ob,R.Kb=E==null||!E.Sd,R.da&&(R.ob=R.ib<3*oe/4&&R.hb<3*pe/4,R.Kb=0),1}function Qc(E){if(E==null)return 2;if(11>E.S){var R=E.f.RGBA;R.fb+=(E.height-1)*R.A,R.A=-R.A}else R=E.f.kb,E=E.height,R.O+=(E-1)*R.fa,R.fa=-R.fa,R.N+=(E-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(E-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(E-1)*R.lb,R.lb=-R.lb);return 0}function Ul(E,R,J,oe){if(oe==null||0>=E||0>=R)return 2;if(J!=null){if(J.Da){var pe=J.cd,xe=J.bd,ve=-2&J.v,we=-2&J.j;if(0>ve||0>we||0>=pe||0>=xe||ve+pe>E||we+xe>R)return 2;E=pe,R=xe}if(J.da){if(!q(E,R,pe=[J.ib],xe=[J.hb]))return 2;E=pe[0],R=xe[0]}}oe.width=E,oe.height=R;e:{var Ne=oe.width,_e=oe.height;if(E=oe.S,0>=Ne||0>=_e||!(E>=bA&&13>E))E=2;else{if(0>=oe.Rd&&oe.sd==null){ve=xe=pe=R=0;var Te=(we=Ne*xd[E])*_e;if(11>E||(xe=(_e+1)/2*(R=(Ne+1)/2),E==12&&(ve=(pe=Ne)*_e)),(_e=a(Te+2*xe+ve))==null){E=1;break e}oe.sd=_e,11>E?((Ne=oe.f.RGBA).eb=_e,Ne.fb=0,Ne.A=we,Ne.size=Te):((Ne=oe.f.kb).y=_e,Ne.O=0,Ne.fa=we,Ne.Fd=Te,Ne.f=_e,Ne.N=0+Te,Ne.Ab=R,Ne.Cd=xe,Ne.ea=_e,Ne.W=0+Te+xe,Ne.Db=R,Ne.Ed=xe,E==12&&(Ne.F=_e,Ne.J=0+Te+2*xe),Ne.Tc=ve,Ne.lb=pe)}if(R=1,pe=oe.S,xe=oe.width,ve=oe.height,pe>=bA&&13>pe)if(11>pe)E=oe.f.RGBA,R&=(we=Math.abs(E.A))*(ve-1)+xe<=E.size,R&=we>=xe*xd[pe],R&=E.eb!=null;else{E=oe.f.kb,we=(xe+1)/2,Te=(ve+1)/2,Ne=Math.abs(E.fa),_e=Math.abs(E.Ab);var Re=Math.abs(E.Db),Me=Math.abs(E.lb),Oe=Me*(ve-1)+xe;R&=Ne*(ve-1)+xe<=E.Fd,R&=_e*(Te-1)+we<=E.Cd,R=(R&=Re*(Te-1)+we<=E.Ed)&Ne>=xe&_e>=we&Re>=we,R&=E.y!=null,R&=E.f!=null,R&=E.ea!=null,pe==12&&(R&=Me>=xe,R&=Oe<=E.Tc,R&=E.F!=null)}else R=0;E=R?0:2}}return E!=0||J!=null&&J.fd&&(E=Qc(oe)),E}var en=64,Hc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qc=24,zc=32,Kc=8,ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(E){return E},F.Predictor2=function(E,R,J){return R[J+0]},F.Predictor3=function(E,R,J){return R[J+1]},F.Predictor4=function(E,R,J){return R[J-1]},F.Predictor5=function(E,R,J){return de(de(E,R[J+1]),R[J+0])},F.Predictor6=function(E,R,J){return de(E,R[J-1])},F.Predictor7=function(E,R,J){return de(E,R[J+0])},F.Predictor8=function(E,R,J){return de(R[J-1],R[J+0])},F.Predictor9=function(E,R,J){return de(R[J+0],R[J+1])},F.Predictor10=function(E,R,J){return de(de(E,R[J-1]),de(R[J+0],R[J+1]))},F.Predictor11=function(E,R,J){var oe=R[J+0];return 0>=ke(oe>>24&255,E>>24&255,(R=R[J-1])>>24&255)+ke(oe>>16&255,E>>16&255,R>>16&255)+ke(oe>>8&255,E>>8&255,R>>8&255)+ke(255&oe,255&E,255&R)?oe:E},F.Predictor12=function(E,R,J){var oe=R[J+0];return(be((E>>24&255)+(oe>>24&255)-((R=R[J-1])>>24&255))<<24|be((E>>16&255)+(oe>>16&255)-(R>>16&255))<<16|be((E>>8&255)+(oe>>8&255)-(R>>8&255))<<8|be((255&E)+(255&oe)-(255&R)))>>>0},F.Predictor13=function(E,R,J){var oe=R[J-1];return(Ee((E=de(E,R[J+0]))>>24&255,oe>>24&255)<<24|Ee(E>>16&255,oe>>16&255)<<16|Ee(E>>8&255,oe>>8&255)<<8|Ee(E>>0&255,oe>>0&255))>>>0};var Ol=F.PredictorAdd0;F.PredictorAdd1=He,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var qa=F.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var vA,As=F.ColorIndexInverseTransform,Vc=F.MapARGB,ld=F.VP8LColorIndexInverseTransformAlpha,Wc=F.MapAlpha,fa=F.VP8LPredictorsAdd=[];fa.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Mo,hs,Xn,Qo,za,Ka,Gc,Va,or,Wa,Jn,ri,Pl,cd,Rl,Ml,Ql,ni,Ga,ma,$a,Ya,Ho,Hn,_s,Nr,hr,tn,dn=a(511),pa=a(2041),$c=a(225),Hl=a(767),ud=0,ga=pa,Yc=$c,fs=Hl,vi=dn,bA=0,qo=1,Zm=2,dd=3,Ad=4,jr=5,wA=6,Xc=7,ql=8,hd=9,fd=10,md=[2,3,7],NA=[3,3,11],zl=[280,256,256,256,40],ep=[0,1,1,1,0],xx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jA=8,Jc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kl=null,uf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],df=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],np=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Af=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ms=[],bi=[],Cs=[],xa=1,Zc=2,Zn=[],Es=[];Ve("UpsampleRgbLinePair",Yt,3),Ve("UpsampleBgrLinePair",Kr,3),Ve("UpsampleRgbaLinePair",Xi,4),Ve("UpsampleBgraLinePair",Dn,4),Ve("UpsampleArgbLinePair",Yn,4),Ve("UpsampleRgba4444LinePair",un,2),Ve("UpsampleRgb565LinePair",Zr,2);var wx=F.UpsampleRgbLinePair,Nx=F.UpsampleBgrLinePair,zo=F.UpsampleRgbaLinePair,eu=F.UpsampleBgraLinePair,Vl=F.UpsampleArgbLinePair,gd=F.UpsampleRgba4444LinePair,hf=F.UpsampleRgb565LinePair,Xa=16,Ji=1<<Xa-1,fr=-227,gr=482,Ko=6,qn=0,Ss=a(256),Wl=a(256),tu=a(256),ks=a(256),BA=a(gr-fr),sp=a(gr-fr);yi("YuvToRgbRow",Yt,3),yi("YuvToBgrRow",Kr,3),yi("YuvToRgbaRow",Xi,4),yi("YuvToBgraRow",Dn,4),yi("YuvToArgbRow",Yn,4),yi("YuvToRgba4444Row",un,2),yi("YuvToRgb565Row",Zr,2);var ff=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gl=[0,2,8],ip=[8,7,6,4,4,2,2,2,1,1,1,1],Ja=1;this.WebPDecodeRGBA=function(E,R,J,oe,pe){var xe=qo,ve=new ha,we=new vn;ve.ba=we,we.S=xe,we.width=[we.width],we.height=[we.height];var Ne=we.width,_e=we.height,Te=new cn;if(Te==null||E==null)var Re=2;else e(Te!=null),Re=Dl(E,R,J,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Re!=0?Ne=0:(Ne!=null&&(Ne[0]=Te.width[0]),_e!=null&&(_e[0]=Te.height[0]),Ne=1),Ne){we.width=we.width[0],we.height=we.height[0],oe!=null&&(oe[0]=we.width),pe!=null&&(pe[0]=we.height);e:{if(oe=new _c,(pe=new Oo).data=E,pe.w=R,pe.ha=J,pe.kd=1,R=[0],e(pe!=null),((E=Dl(pe.data,pe.w,pe.ha,null,null,null,R,null,pe))==0||E==7)&&R[0]&&(E=4),(R=E)==0){if(e(ve!=null),oe.data=pe.data,oe.w=pe.w+pe.offset,oe.ha=pe.ha-pe.offset,oe.put=mi,oe.ac=Ln,oe.bc=qi,oe.ma=ve,pe.xa){if((E=Js())==null){ve=1;break e}if(function(Me,Oe){var Xe=[0],Ke=[0],Le=[0];t:for(;;){if(Me==null)return 0;if(Oe==null)return Me.a=2,0;if(Me.l=Oe,Me.a=0,ce(Me.m,Oe.data,Oe.w,Oe.ha),!St(Me.m,Xe,Ke,Le)){Me.a=3;break t}if(Me.xb=Zc,Oe.width=Xe[0],Oe.height=Ke[0],!la(Xe[0],Ke[0],1,Me,null))break t;return 1}return e(Me.a!=0),0}(E,oe)){if(oe=(R=Ul(oe.width,oe.height,ve.Oa,ve.ba))==0){t:{oe=E;r:for(;;){if(oe==null){oe=0;break t}if(e(oe.s.yc!=null),e(oe.s.Ya!=null),e(0<oe.s.Wb),e((J=oe.l)!=null),e((pe=J.ma)!=null),oe.xb!=0){if(oe.ca=pe.ba,oe.tb=pe.tb,e(oe.ca!=null),!Mc(pe.Oa,J,dd)){oe.a=2;break r}if(!Eo(oe,J.width)||J.da)break r;if((J.da||Jt(oe.ca.S))&&Pe(),11>oe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),oe.ca.f.kb.F!=null&&Pe()),oe.Pb&&0<oe.s.ua&&oe.s.vb.X==null&&!te(oe.s.vb,oe.s.Wa.Xa)){oe.a=1;break r}oe.xb=0}if(!Qn(oe,oe.V,oe.Ba,oe.c,oe.i,J.o,Co))break r;pe.Dc=oe.Ma,oe=1;break t}e(oe.a!=0),oe=0}oe=!oe}oe&&(R=E.a)}else R=E.a}else{if((E=new Zs)==null){ve=1;break e}if(E.Fa=pe.na,E.P=pe.P,E.qc=pe.Sa,fA(E,oe)){if((R=Ul(oe.width,oe.height,ve.Oa,ve.ba))==0){if(E.Aa=0,J=ve.Oa,e((pe=E)!=null),J!=null){if(0<(Ne=0>(Ne=J.Md)?0:100<Ne?255:255*Ne/100)){for(_e=Te=0;4>_e;++_e)12>(Re=pe.pb[_e]).lc&&(Re.ia=Ne*ip[0>Re.lc?0:Re.lc]>>3),Te|=Re.ia;Te&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=J.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}_l(E,oe)||(R=E.a)}}else R=E.a}R==0&&ve.Oa!=null&&ve.Oa.fd&&(R=Qc(ve.ba))}ve=R}xe=ve!=0?null:11>xe?we.f.RGBA.eb:we.f.kb.y}else xe=null;return xe};var xd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(F,C){for(var P="",T=0;T<4;T++)P+=String.fromCharCode(F[C++]);return P}function A(F,C){return(F[C+0]<<0|F[C+1]<<8|F[C+2]<<16)>>>0}function f(F,C){return(F[C+0]<<0|F[C+1]<<8|F[C+2]<<16|F[C+3]<<24)>>>0}new c;var m=[0],h=[0],v=[],x=new c,b=r,p=function(F,C){var P={},T=0,_=!1,U=0,S=0;if(P.frames=[],!function(V,K,ee,z){for(var D=0;D<z;D++)if(V[K+D]!=ee.charCodeAt(D))return!0;return!1}(F,C,"RIFF",4)){for(f(F,C+=4),C+=8;C<F.length;){var X=u(F,C),ie=f(F,C+=4);C+=4;var Z=ie+(1&ie);switch(X){case"VP8 ":case"VP8L":P.frames[T]===void 0&&(P.frames[T]={}),(ae=P.frames[T]).src_off=_?S:C-8,ae.src_size=U+ie+8,T++,_&&(_=!1,U=0,S=0);break;case"VP8X":(ae=P.header={}).feature_flags=F[C];var ce=C+4;ae.canvas_width=1+A(F,ce),ce+=3,ae.canvas_height=1+A(F,ce),ce+=3;break;case"ALPH":_=!0,U=Z+8,S=C-8;break;case"ANIM":(ae=P.header).bgcolor=f(F,C),ce=C+4,ae.loop_count=(M=F)[(L=ce)+0]<<0|M[L+1]<<8,ce+=2;break;case"ANMF":var re,ae;(ae=P.frames[T]={}).offset_x=2*A(F,C),C+=3,ae.offset_y=2*A(F,C),C+=3,ae.width=1+A(F,C),C+=3,ae.height=1+A(F,C),C+=3,ae.duration=A(F,C),C+=3,re=F[C++],ae.dispose=1&re,ae.blend=re>>1&1}X!="ANMF"&&(C+=Z)}var M,L;return P}}(b,0);p.response=b,p.rgbaoutput=!0,p.dataurl=!1;var y=p.header?p.header:null,N=p.frames?p.frames:null;if(y){y.loop_counter=y.loop_count,m=[y.canvas_height],h=[y.canvas_width];for(var w=0;w<N.length&&N[w].blend!=0;w++);}var j=N[0],k=x.WebPDecodeRGBA(b,j.src_off,j.src_size,h,m);j.rgba=k,j.imgwidth=h[0],j.imgheight=m[0];for(var I=0;I<h[0]*m[0]*4;I++)v[I]=k[I];return this.width=h,this.height=m,this.data=v,this}(function(r){var e=function(){return typeof I2=="function"},t=function(m,h,v,x){var b=4,p=o;switch(x){case r.image_compression.FAST:b=1,p=a;break;case r.image_compression.MEDIUM:b=6,p=l;break;case r.image_compression.SLOW:b=9,p=c}m=n(m,h,v,p);var y=I2(m,{level:b});return r.__addimage__.arrayBufferToBinaryString(y)},n=function(m,h,v,x){for(var b,p,y,N=m.length/h,w=new Uint8Array(m.length+N),j=A(),k=0;k<N;k+=1){if(y=k*h,b=m.subarray(y,y+h),x)w.set(x(b,v,p),y+k);else{for(var I,F=j.length,C=[];I<F;I+=1)C[I]=j[I](b,v,p);var P=f(C.concat());w.set(C[P],y+k)}p=b}return w},i=function(m){var h=Array.apply([],m);return h.unshift(0),h},a=function(m,h){var v,x=[],b=m.length;x[0]=1;for(var p=0;p<b;p+=1)v=m[p-h]||0,x[p+1]=m[p]-v+256&255;return x},o=function(m,h,v){var x,b=[],p=m.length;b[0]=2;for(var y=0;y<p;y+=1)x=v&&v[y]||0,b[y+1]=m[y]-x+256&255;return b},l=function(m,h,v){var x,b,p=[],y=m.length;p[0]=3;for(var N=0;N<y;N+=1)x=m[N-h]||0,b=v&&v[N]||0,p[N+1]=m[N]+256-(x+b>>>1)&255;return p},c=function(m,h,v){var x,b,p,y,N=[],w=m.length;N[0]=4;for(var j=0;j<w;j+=1)x=m[j-h]||0,b=v&&v[j]||0,p=v&&v[j-h]||0,y=u(x,b,p),N[j+1]=m[j]-y+256&255;return N},u=function(m,h,v){if(m===h&&h===v)return m;var x=Math.abs(h-v),b=Math.abs(m-v),p=Math.abs(m+h-v-v);return x<=b&&x<=p?m:b<=p?h:v},A=function(){return[i,a,o,l,c]},f=function(m){var h=m.map(function(v){return v.reduce(function(x,b){return x+Math.abs(b)},0)});return h.indexOf(Math.min.apply(null,h))};r.processPNG=function(m,h,v,x){var b,p,y,N,w,j,k,I,F,C,P,T,_,U,S,X=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(y=new EW(m)).imgData,p=y.bits,b=y.colorSpace,w=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){F=(I=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,P=new Uint8Array(F*y.colors),C=new Uint8Array(F);var Z,ce=y.pixelBitlength-y.bits;for(U=0,S=0;U<F;U++){for(_=I[U],Z=0;Z<ce;)P[S++]=_>>>Z&255,Z+=y.bits;C[U]=_>>>Z&255}}if(y.bits===16){F=(I=new Uint32Array(y.decodePixels().buffer)).length,P=new Uint8Array(F*(32/y.pixelBitlength)*y.colors),C=new Uint8Array(F*(32/y.pixelBitlength)),T=y.colors>1,U=0,S=0;for(var re=0;U<F;)_=I[U++],P[S++]=_>>>0&255,T&&(P[S++]=_>>>16&255,_=I[U++],P[S++]=_>>>0&255),C[re++]=_>>>16&255;p=8}x!==r.image_compression.NONE&&e()?(m=t(P,y.width*y.colors,y.colors,x),k=t(C,y.width,1,x)):(m=P,k=C,X=void 0)}if(y.colorType===3&&(b=this.color_spaces.INDEXED,j=y.palette,y.transparency.indexed)){var ae=y.transparency.indexed,M=0;for(U=0,F=ae.length;U<F;++U)M+=ae[U];if((M/=255)===F-1&&ae.indexOf(0)!==-1)N=[ae.indexOf(0)];else if(M!==F){for(I=y.decodePixels(),C=new Uint8Array(I.length),U=0,F=I.length;U<F;U++)C[U]=ae[I[U]];k=t(C,y.width,1)}}var L=function(V){var K;switch(V){case r.image_compression.FAST:K=11;break;case r.image_compression.MEDIUM:K=13;break;case r.image_compression.SLOW:K=14;break;default:K=12}return K}(x);return X===this.decode.FLATE_DECODE&&(ie="/Predictor "+L+" "),ie+="/Colors "+w+" /BitsPerComponent "+p+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:m,index:h,filter:X,decodeParameters:ie,transparency:N,palette:j,sMask:k,predictor:L,width:y.width,height:y.height,bitsPerComponent:p,colorSpace:b}}}})(Ft.API),function(r){r.processGIF89A=function(e,t,n,i){var a=new SW(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},A=new Hb(100).encode(u,100);return r.processJPEG.call(this,A,t,n,i)},r.processGIF87A=r.processGIF89A}(Ft.API),uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uo.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Dr.log("bit decode error:"+t)}},uo.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},uo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},uo.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},uo.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,A=n*this.width*4+4*i;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=o,this.data[A+3]=u}this.pos+=r}},uo.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,u=(o>>11)/e*255|0,A=i*this.width*4+4*a;this.data[A]=u,this.data[A+1]=c,this.data[A+2]=l,this.data[A+3]=255}this.pos+=r}},uo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},uo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},uo.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var a=new uo(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Hb(100).encode(c,100);return r.processJPEG.call(this,u,t,n,i)}}(Ft.API),NE.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var a=new NE(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new Hb(100).encode(c,100);return r.processJPEG.call(this,u,t,n,i)}}(Ft.API),Ft.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var A=n[u],f=n[u+1],m=n[u+2],h=n[u+3];a[l++]=A,a[l++]=f,a[l++]=m,o[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ft.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oh=Ft.API,Eg=oh.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,A=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,h=r.length,v=0,x=l[0]||c,b=[];for(t=0;t<h;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=f&&Er(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/A:0,b.push((l[n]||x)/c+m)),v=n;return b},yE=oh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return oh.processArabic&&(r=oh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Eg.apply(this,arguments).reduce(function(a,o){return a+o},0)},vE=function(r,e,t,n){for(var i=[],a=0,o=r.length,l=0;a!==o&&l+e[a]<t;)l+=e[a],a++;i.push(r.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(r.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(r.slice(c,a)),i},bE=function(r,e,t){t||(t={});var n,i,a,o,l,c,u,A=[],f=[A],m=t.textIndent||0,h=0,v=0,x=r.split(" "),b=Eg.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var p=Array(c).join(" "),y=[];x.map(function(w){(w=w.split(/\s*\n/)).length>1?y=y.concat(w.map(function(j,k){return(k&&j.length?`
`:"")+j})):y.push(w[0])}),x=y,c=yE.apply(this,[p,t])}for(a=0,o=x.length;a<o;a++){var N=0;if(n=x[a],c&&n[0]==`
`&&(n=n.substr(1),N=1),m+h+(v=(i=Eg.apply(this,[n,t])).reduce(function(w,j){return w+j},0))>e||N){if(v>e){for(l=vE.apply(this,[n,i,e-(m+h),e]),A.push(l.shift()),A=[l.pop()];l.length;)f.push([l.shift()]);v=i.slice(n.length-(A[0]?A[0].length:0)).reduce(function(w,j){return w+j},0)}else A=[n];f.push(A),m=v+c,h=b}else A.push(n),m+=h+v,h=b}return u=c?function(w,j){return(j?p:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},oh.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var f=this.internal.getFont(A.fontName,A.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(bE.apply(this,[n[l],o,a]));return u},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=r.__fontmetrics__.compress=function(f){var m,h,v,x,b=["{"];for(var p in f){if(m=f[p],isNaN(parseInt(p,10))?h="'"+p+"'":(p=parseInt(p,10),h=(h=a(p).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof m=="number")m<0?(v=a(m).slice(3),x="-"):(v=a(m).slice(2),x=""),v=x+v.slice(0,-1)+n[v.slice(-1)];else{if(Er(m)!=="object")throw new Error("Don't know what to do with value type "+Er(m)+".");v=o(m)}b.push(h+v)}return b.push("}"),b.join("")},l=r.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,h,v,x,b={},p=1,y=b,N=[],w="",j="",k=f.length-1,I=1;I<k;I+=1)(x=f[I])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(x):x=="{"?(N.push([y,v]),y={},v=void 0):x=="}"?((h=N.pop())[0][h[1]]=y,v=void 0,y=h[0]):x=="-"?p=-1:v===void 0?t.hasOwnProperty(x)?(w+=t[x],v=parseInt(w,16)*p,p=1,w=""):w+=x:t.hasOwnProperty(x)?(j+=t[x],y[v]=parseInt(j,16)*p,p=1,v=void 0,j=""):j+=x;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},A={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(f){var m=f.font,h=A.Unicode[m.postScriptName];h&&(m.metadata.Unicode={},m.metadata.Unicode.widths=h.widths,m.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])}(Ft.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(jm(l)),o.metadata=r.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ft),function(r){function e(){return(Dt.canvg?Promise.resolve(Dt.canvg):La(()=>import("./index.es-BSx3cuI7.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ft.API.addSvgAsImage=function(t,n,i,a,o,l,c,u){if(isNaN(n)||isNaN(i))throw Dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=a,A.height=o;var f=A.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,A.width,A.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(v){return v.fromString(f,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(m)}).then(function(){h.addImage(A.toDataURL("image/jpeg",1),n,i,a,o,c,u)})}}(),Ft.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Ft.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,A=0,f=0;function m(v,x){var b,p=!1;for(b=0;b<v.length;b+=1)v[b]===x&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)t[l[f]].value=t[l[f]].defaultValue,t[l[f]].explicitSet=!1}if(Er(r)==="object"){for(i in r)if(a=r[i],m(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&m(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(A=0;A<a[u].length;A+=1)typeof a[u][A]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?x.push("/"+v+" /"+t[v].value):x.push("/"+v+" "+t[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ft.API),function(r){var e=r.API,t=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],A=[""],f=0,m=a.length;f<m;++f){if(l=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return A.join("");l=l.toString(16),A.push(u[4-l.length],l)}return A.join("")},n=function(a){var o,l,c,u,A,f,m;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(a).sort(function(h,v){return h-v})).length;f<m;f++)o=l[f],c.length>=100&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(A+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),A+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,A=o.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",v=0;v<m.length;v++)h+=String.fromCharCode(m[v]);var x=u();A({data:h,addLength1:!0,objectId:x}),c("endobj");var b=u();A({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var p=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vh(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+vh(l.fontName)),c("/FontDescriptor "+p+" 0 R"),c("/W "+r.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+vh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,A=o.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var v=u();A({data:m,addLength1:!0,objectId:v}),c("endobj");var x=u();A({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+vh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var p=0;p<l.metadata.hmtx.widths.length;p++)l.metadata.hmtx.widths[p]=parseInt(l.metadata.hmtx.widths[p]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+vh(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,A=a.options||{},f=a.mutex||{},m=f.pdfEscape,h=f.activeFontKey,v=f.fonts,x=h,b="",p=0,y="",N=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:A,mutex:f};for(y=l,x=h,Array.isArray(l)&&(y=l[0]),p=0;p<y.length;p+=1)v[x].metadata.hasOwnProperty("cmap")&&(o=v[x].metadata.cmap.unicode.codeMap[y[p].charCodeAt(0)]),o||y[p].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?b+=y[p]:b+="";var w="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?w=m(b,x).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(w=t(b,v[x])),f.isHex=!0,{text:w,x:c,y:u,options:A,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(Ft),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ft.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,A,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,N=0;this.__bidiEngine__={};var w=function(T){var _=T.charCodeAt(),U=_>>8,S=x[U];return S!==void 0?f[256*S+(255&_)]:U===252||U===253?"AL":p.test(U)?"L":U===8?"R":"N"},j=function(T){for(var _,U=0;U<T.length;U++){if((_=w(T.charAt(U)))==="L")return!1;if(_==="R")return!0}return!1},k=function(T,_,U,S){var X,ie,Z,ce,re=_[S];switch(re){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(re="AN");break;case"AL":y=!0,re="R";break;case"WS":re="N";break;case"CS":S<1||S+1>=_.length||(X=U[S-1])!=="EN"&&X!=="AN"||(ie=_[S+1])!=="EN"&&ie!=="AN"?re="N":y&&(ie="AN"),re=ie===X?ie:"N";break;case"ES":re=(X=S>0?U[S-1]:"B")==="EN"&&S+1<_.length&&_[S+1]==="EN"?"EN":"N";break;case"ET":if(S>0&&U[S-1]==="EN"){re="EN";break}if(y){re="N";break}for(Z=S+1,ce=_.length;Z<ce&&_[Z]==="ET";)Z++;re=Z<ce&&_[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ce=_.length,Z=S+1;Z<ce&&_[Z]==="NSM";)Z++;if(Z<ce){var ae=T[S],M=ae>=1425&&ae<=2303||ae===64286;if(X=_[Z],M&&(X==="R"||X==="AL")){re="R";break}}}re=S<1||(X=_[S-1])==="B"?"N":U[S-1];break;case"B":y=!1,i=!0,re=N;break;case"S":a=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":re="N"}return re},I=function(T,_,U){var S=T.split("");return U&&F(S,U,{hiLevel:N}),S.reverse(),_&&_.reverse(),S.join("")},F=function(T,_,U){var S,X,ie,Z,ce,re=-1,ae=T.length,M=0,L=[],V=N?h:m,K=[];for(y=!1,i=!1,a=!1,X=0;X<ae;X++)K[X]=w(T[X]);for(ie=0;ie<ae;ie++){if(ce=M,L[ie]=k(T,K,L,ie),S=240&(M=V[ce][v[L[ie]]]),M&=15,_[ie]=Z=V[M][5],S>0)if(S===16){for(X=re;X<ie;X++)_[X]=1;re=-1}else re=-1;if(V[M][6])re===-1&&(re=ie);else if(re>-1){for(X=re;X<ie;X++)_[X]=Z;re=-1}K[ie]==="B"&&(_[ie]=0),U.hiLevel|=Z}a&&function(ee,z,D){for(var H=0;H<D;H++)if(ee[H]==="S"){z[H]=N;for(var ne=H-1;ne>=0&&ee[ne]==="WS";ne--)z[ne]=N}}(K,_,ae)},C=function(T,_,U,S,X){if(!(X.hiLevel<T)){if(T===1&&N===1&&!i)return _.reverse(),void(U&&U.reverse());for(var ie,Z,ce,re,ae=_.length,M=0;M<ae;){if(S[M]>=T){for(ce=M+1;ce<ae&&S[ce]>=T;)ce++;for(re=M,Z=ce-1;re<Z;re++,Z--)ie=_[re],_[re]=_[Z],_[Z]=ie,U&&(ie=U[re],U[re]=U[Z],U[Z]=ie);M=ce}M++}}},P=function(T,_,U){var S=T.split(""),X={hiLevel:N};return U||(U=[]),F(S,U,X),function(ie,Z,ce){if(ce.hiLevel!==0&&A)for(var re,ae=0;ae<ie.length;ae++)Z[ae]===1&&(re=b.indexOf(ie[ae]))>=0&&(ie[ae]=b[re+1])}(S,U,X),C(2,S,_,U,X),C(1,S,_,U,X),S.join("")};return this.__bidiEngine__.doBidiReorder=function(T,_,U){if(function(X,ie){if(ie)for(var Z=0;Z<X.length;Z++)ie[Z]=Z;l===void 0&&(l=j(X)),u===void 0&&(u=j(X))}(T,_),o||!c||u)if(o&&c&&l^u)N=l?1:0,T=I(T,_,U);else if(!o&&c&&u)N=l?1:0,T=P(T,_,U),T=I(T,_);else if(!o||l||c||u){if(o&&!c&&l^u)T=I(T,_),l?(N=0,T=P(T,_,U)):(N=1,T=P(T,_,U),T=I(T,_));else if(o&&l&&!c&&u)N=1,T=P(T,_,U),T=I(T,_);else if(!o&&!c&&l^u){var S=A;l?(N=1,T=P(T,_,U),N=0,A=!1,T=P(T,_,U),A=S):(N=0,T=P(T,_,U),T=I(T,_),N=1,A=!1,T=P(T,_,U),A=S,T=I(T,_))}}else N=0,T=P(T,_,U);else N=l?1:0,T=P(T,_,U);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,A=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([t.doBidiReorder(i[l])]);n.text=o}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ft),Ft.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ku(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new zW(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new kW(this.contents),this.head=new TW(this),this.name=new OW(this),this.cmap=new iT(this),this.toUnicode={},this.hhea=new IW(this),this.maxp=new PW(this),this.hmtx=new RW(this),this.post=new DW(this),this.os2=new LW(this),this.loca=new qW(this),this.glyf=new MW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return o*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Bo,Ku=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,a,o,l,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},r}(),kW=function(){var r;function e(t){var n,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,a,o,l,c,u,A,f,m,h,v,x;for(x in h=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),A=16*h-f,(i=new Ku).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(A),a=16*h,u=i.pos+a,l=null,v=[],t)for(m=t[x],i.writeString(x),i.writeInt(r(m)),i.writeInt(u),i.writeInt(m.length),v=v.concat(m),x==="head"&&(l=u),u+=m.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-r(i.data),i.pos=l+8,i.writeUInt32(n),i.data},r=function(t){var n,i,a,o;for(t=aT.call(t);t.length%4;)t.push(0);for(a=new Ku(t),i=0,n=0,o=t.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),FW={}.hasOwnProperty,yl=function(r,e){for(var t in e)FW.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Bo=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var TW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Ku).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),jE=function(){function r(e,t){var n,i,a,o,l,c,u,A,f,m,h,v,x,b,p,y,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),m=h/2,e.pos+=6,a=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(e.readUInt16());return j}(),e.pos+=2,x=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(e.readUInt16());return j}(),u=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(e.readUInt16());return j}(),A=function(){var w,j;for(j=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)j.push(e.readUInt16());return j}(),i=(this.length-e.pos+this.offset)/2,l=function(){var w,j;for(j=[],c=w=0;0<=i?w<i:w>i;c=0<=i?++w:--w)j.push(e.readUInt16());return j}(),c=p=0,N=a.length;p<N;c=++p)for(b=a[c],n=y=v=x[c];v<=b?y<=b:y>=b;n=v<=b?++y:--y)A[c]===0?o=n+u[c]:(o=l[A[c]/2+(n-v)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=f}return r.encode=function(e,t){var n,i,a,o,l,c,u,A,f,m,h,v,x,b,p,y,N,w,j,k,I,F,C,P,T,_,U,S,X,ie,Z,ce,re,ae,M,L,V,K,ee,z,D,H,ne,ue,le,he;switch(S=new Ku,o=Object.keys(e).sort(function(Be,te){return Be-te}),t){case"macroman":for(x=0,b=function(){var Be=[];for(v=0;v<256;++v)Be.push(0);return Be}(),y={0:0},a={},X=0,re=o.length;X<re;X++)y[ne=e[i=o[X]]]==null&&(y[ne]=++x),a[i]={old:e[i],new:y[e[i]]},b[i]=y[e[i]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(b),{charMap:a,subtable:S.data,maxGlyphID:x+1};case"unicode":for(_=[],f=[],N=0,y={},n={},p=u=null,ie=0,ae=o.length;ie<ae;ie++)y[j=e[i=o[ie]]]==null&&(y[j]=++N),n[i]={old:j,new:y[j]},l=y[j]-i,p!=null&&l===u||(p&&f.push(p),_.push(i),u=l),p=i;for(p&&f.push(p),f.push(65535),_.push(65535),P=2*(C=_.length),F=2*Math.pow(Math.log(C)/Math.LN2,2),m=Math.log(F/2)/Math.LN2,I=2*C-F,c=[],k=[],h=[],v=Z=0,M=_.length;Z<M;v=++Z){if(T=_[v],A=f[v],T===65535){c.push(0),k.push(0);break}if(T-(U=n[T].new)>=32768)for(c.push(0),k.push(2*(h.length+C-v)),i=ce=T;T<=A?ce<=A:ce>=A;i=T<=A?++ce:--ce)h.push(n[i].new);else c.push(U-T),k.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*C+2*h.length),S.writeUInt16(0),S.writeUInt16(P),S.writeUInt16(F),S.writeUInt16(m),S.writeUInt16(I),D=0,L=f.length;D<L;D++)i=f[D],S.writeUInt16(i);for(S.writeUInt16(0),H=0,V=_.length;H<V;H++)i=_[H],S.writeUInt16(i);for(ue=0,K=c.length;ue<K;ue++)l=c[ue],S.writeUInt16(l);for(le=0,ee=k.length;le<ee;le++)w=k[le],S.writeUInt16(w);for(he=0,z=h.length;he<z;he++)x=h[he],S.writeUInt16(x);return{charMap:n,subtable:S.data,maxGlyphID:N+1}}},r}(),iT=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new jE(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,a;return n==null&&(n="macroman"),i=jE.encode(t,n),(a=new Ku).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),IW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),LW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),DW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)n=t.readByte(),a.push(this.names.push(t.readString(n)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(t.readUInt32());return u}).call(this)}},e}(),UW=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,a,o,l,c,u,A,f,m,h;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(u={},o=f=0,m=i.length;f<m;o=++f)a=i[o],t.pos=a.offset,A=t.readString(a.length),l=new UW(A,a),u[h=a.nameID]==null&&(u[h]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),PW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),RW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,a,o,l,c,u;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,f;for(f=[],n=A=0;0<=a?A<a:A>a;n=0<=a?++A:--A)f.push(t.readInt16());return f}(),this.widths=(function(){var A,f,m,h;for(h=[],A=0,f=(m=this.metrics).length;A<f;A++)o=m[A],h.push(o.advance);return h}).call(this),i=this.widths[this.widths.length-1],u=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),aT=[].slice,MW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,a,o,l,c,u,A,f,m;return t in this.cache?this.cache[t]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,l=(c=new Ku(n.read(a))).readShort(),A=c.readShort(),m=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[t]=l===-1?new HW(c,A,m,u,f):new QW(c,l,A,m,u,f),this.cache[t]))},e.prototype.encode=function(t,n,i){var a,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)a=t[n[c]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},e}(),QW=function(){function r(e,t,n,i,a,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),HW=function(){function r(e,t,n,i,a){var o,l;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Ku(aT.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),qW=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return yl(e,Bo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<n.length&&n[o]==l){++o,i[l]=a;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(a+=u)}for(var A=new Array(4*i.length),f=0;f<i.length;++f)A[4*f+3]=255&i[f],A[4*f+2]=(65280&i[f])>>8,A[4*f+1]=(16711680&i[f])>>16,A[4*f]=(4278190080&i[f])>>24;return A},e}(),zW=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,a,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(n=i[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))n=c[a],i[a]=n;return i},r.prototype.encode=function(e,t){var n,i,a,o,l,c,u,A,f,m,h,v,x,b,p;for(i in n=iT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},p=n.charMap)h[(c=p[i]).old]=c.new;for(v in m=n.maxGlyphID,o)v in h||(h[v]=m++);return A=function(y){var N,w;for(N in w={},y)w[y[N]]=N;return w}(h),f=Object.keys(A).sort(function(y,N){return y-N}),x=function(){var y,N,w;for(w=[],y=0,N=f.length;y<N;y++)l=f[y],w.push(A[l]);return w}(),a=this.font.glyf.encode(o,x,h),u=this.font.loca.encode(a.offsets,x),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},r}();Ft.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,a,o;if(Array.isArray(t))return"["+function(){var l,c,u;for(u=[],l=0,c=t.length;l<c;l++)n=t[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)o=t[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+t},e}();function KW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}let VW=class{generateId(){return KW()}compileTemplate(e,t){let n=e;return n=n.replace("<style>",`<style>
      @page {
        size: A4;
        margin: 15mm;
      }
      @media print {
        body {
          margin: 0;
          padding: 0;
          font-family: Arial, sans-serif;
          font-size: 12pt;
          line-height: 1.4;
        }
        .page-break {
          page-break-after: always;
          break-after: page;
          height: 0;
          display: block;
          border: none;
        }
        .signature-area {
          page-break-inside: avoid;
        }
        .signature-block {
          page-break-inside: avoid;
        }
        .financial-table {
          page-break-inside: avoid;
        }
        .legal-notice {
          page-break-inside: avoid;
        }
      }
      /* Styles pour la prévisualisation des sauts de page */
      .page-break {
        border-top: 1px dashed #ccc;
        margin: 20px 0;
        position: relative;
      }
      .page-break::before {
        content: "Saut de page";
        position: absolute;
        top: -10px;
        left: 50%;
        transform: translateX(-50%);
        background: #f0f0f0;
        padding: 0 10px;
        font-size: 10px;
        color: #999;
      }
    `),n=n.replace(/\{\{(\w+)\}\}/g,(i,a)=>t[a]!==void 0?String(t[a]):i),n=n.replace(/\{\{#if (\w+)\}\}(.*?)\{\{\/if\}\}/gs,(i,a,o)=>t[a]?o:""),t.rent&&t.charges&&(t.total=(parseFloat(t.rent)+parseFloat(t.charges)).toFixed(2),n=n.replace(/\{\{total\}\}/g,t.total)),n=this.addPageBreaks(n),n}addPageBreaks(e){const t=["ARTICLE 5 - ÉTAT DES LIEUX</div>","ARTICLE 8 - PERFORMANCE ÉNERGÉTIQUE</div>","ARTICLE 11 - CLAUSE RÉSOLUTOIRE</div>"];let n=e;return t.forEach(i=>{const a=n.indexOf(i)+i.length;a>i.length&&(n=n.substring(0,a)+`
<div class="page-break"></div>
`+n.substring(a))}),n=n.replace(/<div class="party-info">/g,'<div class="party-info" style="page-break-inside: avoid;">'),n=n.replace(/<div class="article-content">/g,'<div class="article-content" style="page-break-inside: avoid;">'),n=n.replace(/<div class="signature-block">/g,'<div class="signature-block" style="page-break-inside: avoid;">'),n=n.replace(/<table class="financial-table">/g,'<table class="financial-table" style="page-break-inside: avoid;">'),n}validateData(e,t){const n={};return e.forEach(i=>{const a=t[i.name];if(i.required&&(!a||a==="")){n[i.name]=`${i.label} est requis`;return}if(a&&i.validation){const o=i.validation;if(i.type==="number"){const l=parseFloat(a);isNaN(l)?n[i.name]=`${i.label} doit être un nombre valide`:(o.min!==void 0&&l<o.min&&(n[i.name]=`${i.label} doit être supérieur ou égal à ${o.min}`),o.max!==void 0&&l>o.max&&(n[i.name]=`${i.label} doit être inférieur ou égal à ${o.max}`))}i.type==="text"&&o.pattern&&(new RegExp(o.pattern).test(a)||(n[i.name]=o.message||`${i.label} n'est pas au bon format`))}}),{isValid:Object.keys(n).length===0,errors:n}}prefillData(e,t,n){const i={};return t&&(i.propertyAddress=t.address,i.propertyType=this.getPropertyTypeLabel(t.type),i.surface=t.surface,i.rooms=t.rooms,i.rent=t.rent,i.charges=t.charges),n&&(i.tenantName=`${n.firstName} ${n.lastName}`,i.tenantAddress="",i.leaseStart=n.leaseStart.toISOString().split("T")[0],i.leaseEnd=n.leaseEnd.toISOString().split("T")[0],i.deposit=n.deposit),i.documentDate=new Date().toISOString().split("T")[0],i.landlordName="",i.landlordAddress="",i}getPropertyTypeLabel(e){return{apartment:"Appartement",house:"Maison",studio:"Studio",parking:"Parking",commercial:"Local commercial"}[e]||e}async generatePDF(e,t={}){try{if(!Pf(e))return console.error("Template non trouvé:",e),null;const i=await this.generateDocument({templateId:e,data:t,userId:"local-user"});return i?await this.convertHtmlToPdf(i.content):(console.error("Impossible de générer le document HTML"),null)}catch(n){return console.error("Erreur lors de la génération du PDF:",n),null}}async convertHtmlToPdf(e){try{const t=document.createElement("div");t.innerHTML=e,t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="210mm",t.style.padding="20mm",t.style.backgroundColor="white",t.style.fontFamily="Arial, sans-serif",t.style.fontSize="12px",t.style.lineHeight="1.4",document.body.appendChild(t);const n=await Eh(t,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"});document.body.removeChild(t);const i=new Ft("p","mm","a4"),a=n.toDataURL("image/png"),o=i.internal.pageSize.getWidth(),l=i.internal.pageSize.getHeight(),c=n.width,u=n.height,A=Math.min(o/c,l/u),f=c*A,m=u*A,h=(o-f)/2,v=(l-m)/2;return i.addImage(a,"PNG",h,v,f,m),i.output("datauristring").split(",")[1]}catch(t){return console.error("Erreur lors de la conversion HTML vers PDF:",t),null}}async generateDocument(e){const t=Pf(e.templateId);if(!t)throw new Error(`Template non trouvé: ${e.templateId}`);const n=this.validateData(t.fields,e.data);if(!n.isValid)throw new Error(`Données invalides: ${Object.values(n.errors).join(", ")}`);const i=this.compileTemplate(t.content,e.data);return{id:this.generateId(),templateId:t.id,name:`${t.name} - ${new Date().toLocaleDateString()}`,type:t.type,status:"draft",propertyId:e.propertyId,tenantId:e.tenantId,userId:e.userId,data:e.data,content:i,signatures:e.signers?.map(o=>({id:this.generateId(),signerName:o.name,signerEmail:o.email,signerRole:o.role}))||[],createdAt:new Date,updatedAt:new Date,metadata:{version:"1.0",generatedBy:"EasyBail Document Generator",legalFramework:t.legalCompliance.join(", ")}}}async previewDocument(e,t){const n=Pf(e);if(!n)throw new Error("Template non trouvé");return this.compileTemplate(n.content,t)}getPrefillData(e,t,n){const i=Pf(e);return i?this.prefillData(i,t,n):{}}validateFormData(e,t){const n=Pf(e);return n?this.validateData(n.fields,t):{isValid:!1,errors:{template:"Template non trouvé"}}}};const lh=new VW,WW=({template:r,userId:e,properties:t,tenants:n,onSave:i,onCancel:a,isOpen:o})=>{const[l,c]=Ae.useState({}),[u,A]=Ae.useState({}),[f,m]=Ae.useState(""),[h,v]=Ae.useState(""),[x,b]=Ae.useState(""),[p,y]=Ae.useState(!1),[N,w]=Ae.useState(!1);Ae.useEffect(()=>{if(o){const T=lh.getPrefillData(r.id,t.find(_=>_.id===f),n.find(_=>_.id===h));c(T)}},[o,r.id,f,h,t,n]);const j=(T,_)=>{c(U=>({...U,[T.name]:_})),u[T.name]&&A(U=>({...U,[T.name]:""}))},k=T=>{m(T);const _=t.find(U=>U.id===T);if(_){const U=lh.getPrefillData(r.id,_);c(S=>({...S,...U}))}},I=T=>{v(T);const _=n.find(U=>U.id===T);if(_){const U=lh.getPrefillData(r.id,void 0,_);c(S=>({...S,...U}))}},F=async()=>{try{w(!0);const T=await lh.previewDocument(r.id,l);b(T),y(!0)}catch(T){console.error("Erreur lors de la prévisualisation:",T)}finally{w(!1)}},C=async T=>{T.preventDefault();try{w(!0);const _=lh.validateFormData(r.id,l);if(!_.isValid){A(_.errors);return}const U=await lh.generateDocument({templateId:r.id,data:l,userId:e,propertyId:f||void 0,tenantId:h||void 0});i(U)}catch(_){console.error("Erreur lors de la génération:",_),A({general:_.message})}finally{w(!1)}},P=T=>{const _=l[T.name]||T.defaultValue||"",U=!!u[T.name];switch(T.type){case"text":return s.jsx("input",{type:"text",value:_,onChange:S=>j(T,S.target.value),placeholder:T.placeholder,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${U?"border-red-300 bg-red-50":"border-gray-300"}`});case"textarea":return s.jsx("textarea",{value:_,onChange:S=>j(T,S.target.value),placeholder:T.placeholder,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${U?"border-red-300 bg-red-50":"border-gray-300"}`});case"number":return s.jsx("input",{type:"number",value:_,onChange:S=>j(T,parseFloat(S.target.value)||0),placeholder:T.placeholder,min:T.validation?.min,max:T.validation?.max,step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${U?"border-red-300 bg-red-50":"border-gray-300"}`});case"date":return s.jsx("input",{type:"date",value:_,onChange:S=>j(T,S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${U?"border-red-300 bg-red-50":"border-gray-300"}`});case"select":return s.jsxs("select",{value:_,onChange:S=>j(T,S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${U?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Sélectionner..."}),T.options?.map((S,X)=>s.jsx("option",{value:S,children:S},X))]});case"checkbox":return s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:!!_,onChange:S=>j(T,S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:T.label})]});default:return null}};return o?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.name}),s.jsx("p",{className:"text-gray-600",children:r.description})]})]}),s.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:p?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Aperçu du document"}),s.jsx("button",{onClick:()=>y(!1),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Retour au formulaire"})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-8 prose max-w-none",dangerouslySetInnerHTML:{__html:x}})]}):s.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[u.general&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Em,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800",children:u.general})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ws,{className:"h-4 w-4 inline mr-1"}),"Bien immobilier (optionnel)"]}),s.jsxs("select",{value:f,onChange:T=>k(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Sélectionner un bien..."}),t.map(T=>s.jsxs("option",{value:T.id,children:[T.name," - ",T.address]},T.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx($s,{className:"h-4 w-4 inline mr-1"}),"Locataire (optionnel)"]}),s.jsxs("select",{value:h,onChange:T=>I(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Sélectionner un locataire..."}),n.map(T=>s.jsxs("option",{value:T.id,children:[T.firstName," ",T.lastName]},T.id))]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.fields.map(T=>s.jsxs("div",{className:T.type==="textarea"?"md:col-span-2":"",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[T.label,T.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),P(T),u[T.name]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u[T.name]})]},T.id))}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600"}),s.jsx("h4",{className:"font-medium text-green-900",children:"Conformité légale"})]}),s.jsxs("p",{className:"text-green-800 text-sm",children:["Ce document est conforme aux réglementations : ",r.legalCompliance.join(", ")]})]})]})}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:a,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{type:"button",onClick:F,disabled:N,className:"px-6 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-4 w-4"}),s.jsx("span",{children:"Aperçu"})]}),s.jsxs("button",{onClick:C,disabled:N,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[N?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-4 w-4"}),s.jsx("span",{children:"Générer le document"})]})]})]})]})}):null};var Zo=3.77952755906,Sg={method:"save",resolution:3,page:{margin:0,format:"A4",orientation:"portrait"},canvas:{mimeType:"image/jpeg",qualityRatio:1,useCORS:!0,logging:!1},overrides:{}},GW=class{pdf;canvas;options;constructor(r,e){this.canvas=r,this.options=e,this.pdf=new Ft({format:this.options.page.format,orientation:this.options.page.orientation,...this.options.overrides?.pdf,unit:"mm"})}getMarginTopMM(){const r=typeof this.options.page.margin=="object"?this.options.page.margin.top:this.options.page.margin;return Number(r)}getMarginLeftMM(){const r=typeof this.options.page.margin=="object"?this.options.page.margin.left:this.options.page.margin;return Number(r)}getMarginRightMM(){const r=typeof this.options.page.margin=="object"?this.options.page.margin.right:this.options.page.margin;return Number(r)}getMarginBottomMM(){const r=typeof this.options.page.margin=="object"?this.options.page.margin.bottom:this.options.page.margin;return Number(r)}getMarginTop(){return this.getMarginTopMM()*Zo}getMarginBottom(){return this.getMarginBottomMM()*Zo}getMarginLeft(){return this.getMarginLeftMM()*Zo}getMarginRight(){return this.getMarginRightMM()*Zo}getScale(){return this.options.resolution}getPageHeight(){return this.getPageHeightMM()*Zo}getPageHeightMM(){return this.pdf.internal.pageSize.height}getPageWidthMM(){return this.pdf.internal.pageSize.width}getPageWidth(){return this.getPageWidthMM()*Zo}getOriginalCanvasWidth(){return this.canvas.width/this.getScale()}getOriginalCanvasHeight(){return this.canvas.height/this.getScale()}getCanvasPageAvailableHeight(){return this.getPageAvailableHeight()*this.getScale()*this.getHorizontalFitFactor()}getPageAvailableWidth(){return this.getPageWidth()-(this.getMarginLeft()+this.getMarginRight())}getPageAvailableHeight(){return this.getPageHeight()-(this.getMarginTop()+this.getMarginBottom())}getPageAvailableWidthMM(){return this.getPageAvailableWidth()/Zo}getPageAvailableHeightMM(){return this.getPageAvailableHeight()/Zo}getNumberPages(){return Math.ceil(this.canvas.height/this.getCanvasPageAvailableHeight())}getHorizontalFitFactor(){return this.getPageAvailableWidth()<this.getOriginalCanvasWidth()?this.getOriginalCanvasWidth()/this.getPageAvailableWidth():1}getCanvasOffsetY(r){return this.getCanvasPageAvailableHeight()*(r-1)}getCanvasHeightLeft(r){return this.canvas.height-this.getCanvasOffsetY(r)}getCanvasPageHeight(r){if(this.canvas.height<this.getCanvasPageAvailableHeight())return this.canvas.height;const e=this.getCanvasHeightLeft(r);return e<this.getCanvasPageAvailableHeight()?e:this.getCanvasPageAvailableHeight()}getCanvasPageWidth(){return this.canvas.width}createCanvasPage(r){const e=this.getCanvasPageWidth(),t=this.getCanvasPageHeight(r),n=document.createElement("canvas");return n.setAttribute("width",String(e)),n.setAttribute("height",String(t)),n.getContext("2d").drawImage(this.canvas,0,this.getCanvasOffsetY(r),this.canvas.width,t,0,0,this.canvas.width,t),n}convert(){let r=1;const e=this.getNumberPages();for(;r<=e;){r>1&&this.pdf.addPage(this.options.page.format,this.options.page.orientation);const t=this.createCanvasPage(r),n=t.toDataURL(this.options.canvas.mimeType,this.options.canvas.qualityRatio);this.pdf.setPage(r),this.pdf.addImage({imageData:n,width:t.width/(this.getScale()*Zo*this.getHorizontalFitFactor()),height:t.height/(this.getScale()*Zo*this.getHorizontalFitFactor()),x:this.getMarginLeftMM(),y:this.getMarginTopMM()}),r+=1}return this.pdf}},$W=r=>r?{...Sg,...r,canvas:{...Sg.canvas,...r.canvas},page:{...Sg.page,...r.page}}:Sg,YW=r=>typeof r=="function"?r():r?.current,XW=r=>{const e=Ae.useRef(),t=Ae.useCallback(n=>JW(e,r??n),[e,r]);return{targetRef:e,toPDF:t}},JW=async(r,e)=>{const t=$W(e),n=YW(r);if(!n){console.error("Unable to get the target element.");return}const i=await Eh(n,{useCORS:t.canvas.useCORS,logging:t.canvas.logging,scale:t.resolution,...t.overrides?.canvas}),o=new GW(i,t).convert();switch(t.method){case"build":return o;case"open":return window.open(o.output("bloburl"),"_blank"),o;case"save":default:{const l=t.filename??`${new Date().getTime()}.pdf`;return await o.save(l,{returnPromise:!0}),o}}},t0={exports:{}},ZW=t0.exports,BE;function eG(){return BE||(BE=1,function(r,e){(function(t,n){n()})(ZW,function(){function t(u,A){return typeof A>"u"?A={autoBom:!1}:typeof A!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,A,f){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){c(m.response,A,f)},m.onerror=function(){console.error("could not download file")},m.send()}function i(u){var A=new XMLHttpRequest;A.open("HEAD",u,!1);try{A.send()}catch{}return 200<=A.status&&299>=A.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(A)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof _u=="object"&&_u.global===_u?_u:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,A,f){var m=o.URL||o.webkitURL,h=document.createElement("a");A=A||u.name||"download",h.download=A,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?a(h):i(h.href)?n(u,A,f):a(h,h.target="_blank")):(h.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(h.href)},4e4),setTimeout(function(){a(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,A,f){if(A=A||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(t(u,f),A);else if(i(u))n(u,A,f);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){a(m)})}}:function(u,A,f,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return n(u,A,f);var h=u.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||h&&v||l)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var N=b.result;N=x?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=N:location=N,m=null},b.readAsDataURL(u)}else{var p=o.URL||o.webkitURL,y=p.createObjectURL(u);m?m.location=y:location.href=y,m=null,setTimeout(function(){p.revokeObjectURL(y)},4e4)}});o.saveAs=c.saveAs=c,r.exports=c})}(t0)),t0.exports}var tG=eG(),rG=Object.defineProperty,nG=Object.defineProperties,sG=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,iG=Object.prototype.hasOwnProperty,aG=Object.prototype.propertyIsEnumerable,M2=(r,e,t)=>e in r?rG(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nr=(r,e)=>{for(var t in e||(e={}))iG.call(e,t)&&M2(r,t,e[t]);if(_E)for(var t of _E(e))aG.call(e,t)&&M2(r,t,e[t]);return r},Qh=(r,e)=>nG(r,sG(e)),Ze=(r,e,t)=>M2(r,typeof e!="symbol"?e+"":e,t),oG=(r,e,t)=>new Promise((n,i)=>{var a=c=>{try{l(t.next(c))}catch(u){i(u)}},o=c=>{try{l(t.throw(c))}catch(u){i(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,o);l((t=t.apply(r,e)).next())});class k0{constructor(e){Ze(this,"rootKey"),this.rootKey=e}}const lG=Object.seal({});class st extends k0{constructor(e){super(e),Ze(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(i=>i instanceof k0?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((t=n[0])!=null&&t._attr)?n[0]:n:lG}}addChildElement(e){return this.root.push(e),this}}class cx extends st{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class Rt extends k0{constructor(e){super("_attr"),Ze(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const a=this.xmlKeys&&this.xmlKeys[n]||n;t[a]=i}}),{_attr:t}}}class ux extends k0{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:a})=>Qh(nr({},n),{[i]:a}),{})}}}class Tn extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qb={},kg={exports:{}},CE;function V5(){if(CE)return kg.exports;CE=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(j,k,I){return Function.prototype.apply.call(j,k,I)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:t=function(j){return Object.getOwnPropertyNames(j)};function n(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(j){return j!==j};function a(){a.init.call(this)}kg.exports=a,kg.exports.once=p,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function l(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");o=w}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||i(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this};function c(w){return w._maxListeners===void 0?a.defaultMaxListeners:w._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(j){for(var k=[],I=1;I<arguments.length;I++)k.push(arguments[I]);var F=j==="error",C=this._events;if(C!==void 0)F=F&&C.error===void 0;else if(!F)return!1;if(F){var P;if(k.length>0&&(P=k[0]),P instanceof Error)throw P;var T=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw T.context=P,T}var _=C[j];if(_===void 0)return!1;if(typeof _=="function")e(_,this,k);else for(var U=_.length,S=v(_,U),I=0;I<U;++I)e(S[I],this,k);return!0};function u(w,j,k,I){var F,C,P;if(l(k),C=w._events,C===void 0?(C=w._events=Object.create(null),w._eventsCount=0):(C.newListener!==void 0&&(w.emit("newListener",j,k.listener?k.listener:k),C=w._events),P=C[j]),P===void 0)P=C[j]=k,++w._eventsCount;else if(typeof P=="function"?P=C[j]=I?[k,P]:[P,k]:I?P.unshift(k):P.push(k),F=c(w),F>0&&P.length>F&&!P.warned){P.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=w,T.type=j,T.count=P.length,n(T)}return w}a.prototype.addListener=function(j,k){return u(this,j,k,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(j,k){return u(this,j,k,!0)};function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,j,k){var I={fired:!1,wrapFn:void 0,target:w,type:j,listener:k},F=A.bind(I);return F.listener=k,I.wrapFn=F,F}a.prototype.once=function(j,k){return l(k),this.on(j,f(this,j,k)),this},a.prototype.prependOnceListener=function(j,k){return l(k),this.prependListener(j,f(this,j,k)),this},a.prototype.removeListener=function(j,k){var I,F,C,P,T;if(l(k),F=this._events,F===void 0)return this;if(I=F[j],I===void 0)return this;if(I===k||I.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete F[j],F.removeListener&&this.emit("removeListener",j,I.listener||k));else if(typeof I!="function"){for(C=-1,P=I.length-1;P>=0;P--)if(I[P]===k||I[P].listener===k){T=I[P].listener,C=P;break}if(C<0)return this;C===0?I.shift():x(I,C),I.length===1&&(F[j]=I[0]),F.removeListener!==void 0&&this.emit("removeListener",j,T||k)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(j){var k,I,F;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[j]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[j]),this;if(arguments.length===0){var C=Object.keys(I),P;for(F=0;F<C.length;++F)P=C[F],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=I[j],typeof k=="function")this.removeListener(j,k);else if(k!==void 0)for(F=k.length-1;F>=0;F--)this.removeListener(j,k[F]);return this};function m(w,j,k){var I=w._events;if(I===void 0)return[];var F=I[j];return F===void 0?[]:typeof F=="function"?k?[F.listener||F]:[F]:k?b(F):v(F,F.length)}a.prototype.listeners=function(j){return m(this,j,!0)},a.prototype.rawListeners=function(j){return m(this,j,!1)},a.listenerCount=function(w,j){return typeof w.listenerCount=="function"?w.listenerCount(j):h.call(w,j)},a.prototype.listenerCount=h;function h(w){var j=this._events;if(j!==void 0){var k=j[w];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function v(w,j){for(var k=new Array(j),I=0;I<j;++I)k[I]=w[I];return k}function x(w,j){for(;j+1<w.length;j++)w[j]=w[j+1];w.pop()}function b(w){for(var j=new Array(w.length),k=0;k<j.length;++k)j[k]=w[k].listener||w[k];return j}function p(w,j){return new Promise(function(k,I){function F(P){w.removeListener(j,C),I(P)}function C(){typeof w.removeListener=="function"&&w.removeListener("error",F),k([].slice.call(arguments))}N(w,j,C,{once:!0}),j!=="error"&&y(w,F,{once:!0})})}function y(w,j,k){typeof w.on=="function"&&N(w,"error",j,k)}function N(w,j,k,I){if(typeof w.on=="function")I.once?w.once(j,k):w.on(j,k);else if(typeof w.addEventListener=="function")w.addEventListener(j,function F(C){I.once&&w.removeEventListener(j,F),k(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return kg.exports}var Fg={exports:{}},EE;function Gu(){return EE||(EE=1,typeof Object.create=="function"?Fg.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Fg.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Fg.exports}function cG(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lT={exports:{}},In=lT.exports={},sl,il;function Q2(){throw new Error("setTimeout has not been defined")}function H2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?sl=setTimeout:sl=Q2}catch{sl=Q2}try{typeof clearTimeout=="function"?il=clearTimeout:il=H2}catch{il=H2}})();function cT(r){if(sl===setTimeout)return setTimeout(r,0);if((sl===Q2||!sl)&&setTimeout)return sl=setTimeout,setTimeout(r,0);try{return sl(r,0)}catch{try{return sl.call(null,r,0)}catch{return sl.call(this,r,0)}}}function uG(r){if(il===clearTimeout)return clearTimeout(r);if((il===H2||!il)&&clearTimeout)return il=clearTimeout,clearTimeout(r);try{return il(r)}catch{try{return il.call(null,r)}catch{return il.call(this,r)}}}var fc=[],Ih=!1,Wd,r0=-1;function dG(){!Ih||!Wd||(Ih=!1,Wd.length?fc=Wd.concat(fc):r0=-1,fc.length&&uT())}function uT(){if(!Ih){var r=cT(dG);Ih=!0;for(var e=fc.length;e;){for(Wd=fc,fc=[];++r0<e;)Wd&&Wd[r0].run();r0=-1,e=fc.length}Wd=null,Ih=!1,uG(r)}}In.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];fc.push(new dT(r,e)),fc.length===1&&!Ih&&cT(uT)};function dT(r,e){this.fun=r,this.array=e}dT.prototype.run=function(){this.fun.apply(null,this.array)};In.title="browser";In.browser=!0;In.env={};In.argv=[];In.version="";In.versions={};function Nc(){}In.on=Nc;In.addListener=Nc;In.once=Nc;In.off=Nc;In.removeListener=Nc;In.removeAllListeners=Nc;In.emit=Nc;In.prependListener=Nc;In.prependOnceListener=Nc;In.listeners=function(r){return[]};In.binding=function(r){throw new Error("process.binding is not supported")};In.cwd=function(){return"/"};In.chdir=function(r){throw new Error("process.chdir is not supported")};In.umask=function(){return 0};var AG=lT.exports;const Kt=cG(AG);var zb,SE;function AT(){return SE||(SE=1,zb=V5().EventEmitter),zb}var Kb={},Kf={},kE;function hG(){if(kE)return Kf;kE=1,Kf.byteLength=l,Kf.toByteArray=u,Kf.fromByteArray=m;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(h){var v=h.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=h.indexOf("=");x===-1&&(x=v);var b=x===v?0:4-x%4;return[x,b]}function l(h){var v=o(h),x=v[0],b=v[1];return(x+b)*3/4-b}function c(h,v,x){return(v+x)*3/4-x}function u(h){var v,x=o(h),b=x[0],p=x[1],y=new t(c(h,b,p)),N=0,w=p>0?b-4:b,j;for(j=0;j<w;j+=4)v=e[h.charCodeAt(j)]<<18|e[h.charCodeAt(j+1)]<<12|e[h.charCodeAt(j+2)]<<6|e[h.charCodeAt(j+3)],y[N++]=v>>16&255,y[N++]=v>>8&255,y[N++]=v&255;return p===2&&(v=e[h.charCodeAt(j)]<<2|e[h.charCodeAt(j+1)]>>4,y[N++]=v&255),p===1&&(v=e[h.charCodeAt(j)]<<10|e[h.charCodeAt(j+1)]<<4|e[h.charCodeAt(j+2)]>>2,y[N++]=v>>8&255,y[N++]=v&255),y}function A(h){return r[h>>18&63]+r[h>>12&63]+r[h>>6&63]+r[h&63]}function f(h,v,x){for(var b,p=[],y=v;y<x;y+=3)b=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(h[y+2]&255),p.push(A(b));return p.join("")}function m(h){for(var v,x=h.length,b=x%3,p=[],y=16383,N=0,w=x-b;N<w;N+=y)p.push(f(h,N,N+y>w?w:N+y));return b===1?(v=h[x-1],p.push(r[v>>2]+r[v<<4&63]+"==")):b===2&&(v=(h[x-2]<<8)+h[x-1],p.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),p.join("")}return Kf}var Tg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var FE;function fG(){return FE||(FE=1,Tg.read=function(r,e,t,n,i){var a,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,A=-7,f=t?i-1:0,m=t?-1:1,h=r[e+f];for(f+=m,a=h&(1<<-A)-1,h>>=-A,A+=l;A>0;a=a*256+r[e+f],f+=m,A-=8);for(o=a&(1<<-A)-1,a>>=-A,A+=n;A>0;o=o*256+r[e+f],f+=m,A-=8);if(a===0)a=1-u;else{if(a===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(h?-1:1)*o*Math.pow(2,a-n)},Tg.write=function(r,e,t,n,i,a){var o,l,c,u=a*8-i-1,A=(1<<u)-1,f=A>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,v=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=A):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=m/c:e+=m*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=A?(l=0,o=A):o+f>=1?(l=(e*c-1)*Math.pow(2,i),o=o+f):(l=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;r[t+h]=l&255,h+=v,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;r[t+h]=o&255,h+=v,o/=256,u-=8);r[t+h-v]|=x*128}),Tg}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var TE;function dx(){return TE||(TE=1,function(r){var e=hG(),t=fG(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50;var i=2147483647;r.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var $=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf($,q),$.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o($){if($>i)throw new RangeError('The value "'+$+'" is invalid for option "size"');var q=new Uint8Array($);return Object.setPrototypeOf(q,l.prototype),q}function l($,q,Q){if(typeof $=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f($)}return c($,q,Q)}l.poolSize=8192;function c($,q,Q){if(typeof $=="string")return m($,q);if(ArrayBuffer.isView($))return v($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Be($,ArrayBuffer)||$&&Be($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be($,SharedArrayBuffer)||$&&Be($.buffer,SharedArrayBuffer)))return x($,q,Q);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=$.valueOf&&$.valueOf();if(G!=null&&G!==$)return l.from(G,q,Q);var me=b($);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return l.from($[Symbol.toPrimitive]("string"),q,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}l.from=function($,q,Q){return c($,q,Q)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function A($,q,Q){return u($),$<=0?o($):q!==void 0?typeof Q=="string"?o($).fill(q,Q):o($).fill(q):o($)}l.alloc=function($,q,Q){return A($,q,Q)};function f($){return u($),o($<0?0:p($)|0)}l.allocUnsafe=function($){return f($)},l.allocUnsafeSlow=function($){return f($)};function m($,q){if((typeof q!="string"||q==="")&&(q="utf8"),!l.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var Q=N($,q)|0,G=o(Q),me=G.write($,q);return me!==Q&&(G=G.slice(0,me)),G}function h($){for(var q=$.length<0?0:p($.length)|0,Q=o(q),G=0;G<q;G+=1)Q[G]=$[G]&255;return Q}function v($){if(Be($,Uint8Array)){var q=new Uint8Array($);return x(q.buffer,q.byteOffset,q.byteLength)}return h($)}function x($,q,Q){if(q<0||$.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<q+(Q||0))throw new RangeError('"length" is outside of buffer bounds');var G;return q===void 0&&Q===void 0?G=new Uint8Array($):Q===void 0?G=new Uint8Array($,q):G=new Uint8Array($,q,Q),Object.setPrototypeOf(G,l.prototype),G}function b($){if(l.isBuffer($)){var q=p($.length)|0,Q=o(q);return Q.length===0||$.copy(Q,0,0,q),Q}if($.length!==void 0)return typeof $.length!="number"||te($.length)?o(0):h($);if($.type==="Buffer"&&Array.isArray($.data))return h($.data)}function p($){if($>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return $|0}function y($){return+$!=$&&($=0),l.alloc(+$)}l.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==l.prototype},l.compare=function(q,Q){if(Be(q,Uint8Array)&&(q=l.from(q,q.offset,q.byteLength)),Be(Q,Uint8Array)&&(Q=l.from(Q,Q.offset,Q.byteLength)),!l.isBuffer(q)||!l.isBuffer(Q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===Q)return 0;for(var G=q.length,me=Q.length,fe=0,de=Math.min(G,me);fe<de;++fe)if(q[fe]!==Q[fe]){G=q[fe],me=Q[fe];break}return G<me?-1:me<G?1:0},l.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(q,Q){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return l.alloc(0);var G;if(Q===void 0)for(Q=0,G=0;G<q.length;++G)Q+=q[G].length;var me=l.allocUnsafe(Q),fe=0;for(G=0;G<q.length;++G){var de=q[G];if(Be(de,Uint8Array))fe+de.length>me.length?l.from(de).copy(me,fe):Uint8Array.prototype.set.call(me,de,fe);else if(l.isBuffer(de))de.copy(me,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=de.length}return me};function N($,q){if(l.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Be($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var Q=$.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&Q===0)return 0;for(var me=!1;;)switch(q){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return H($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q*2;case"hex":return Q>>>1;case"base64":return le($).length;default:if(me)return G?-1:H($).length;q=(""+q).toLowerCase(),me=!0}}l.byteLength=N;function w($,q,Q){var G=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0,q>>>=0,Q<=q))return"";for($||($="utf8");;)switch($){case"hex":return re(this,q,Q);case"utf8":case"utf-8":return S(this,q,Q);case"ascii":return Z(this,q,Q);case"latin1":case"binary":return ce(this,q,Q);case"base64":return U(this,q,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,q,Q);default:if(G)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),G=!0}}l.prototype._isBuffer=!0;function j($,q,Q){var G=$[q];$[q]=$[Q],$[Q]=G}l.prototype.swap16=function(){var q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Q=0;Q<q;Q+=2)j(this,Q,Q+1);return this},l.prototype.swap32=function(){var q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Q=0;Q<q;Q+=4)j(this,Q,Q+3),j(this,Q+1,Q+2);return this},l.prototype.swap64=function(){var q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Q=0;Q<q;Q+=8)j(this,Q,Q+7),j(this,Q+1,Q+6),j(this,Q+2,Q+5),j(this,Q+3,Q+4);return this},l.prototype.toString=function(){var q=this.length;return q===0?"":arguments.length===0?S(this,0,q):w.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(q){if(!l.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:l.compare(this,q)===0},l.prototype.inspect=function(){var q="",Q=r.INSPECT_MAX_BYTES;return q=this.toString("hex",0,Q).replace(/(.{2})/g,"$1 ").trim(),this.length>Q&&(q+=" ... "),"<Buffer "+q+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(q,Q,G,me,fe){if(Be(q,Uint8Array)&&(q=l.from(q,q.offset,q.byteLength)),!l.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(Q===void 0&&(Q=0),G===void 0&&(G=q?q.length:0),me===void 0&&(me=0),fe===void 0&&(fe=this.length),Q<0||G>q.length||me<0||fe>this.length)throw new RangeError("out of range index");if(me>=fe&&Q>=G)return 0;if(me>=fe)return-1;if(Q>=G)return 1;if(Q>>>=0,G>>>=0,me>>>=0,fe>>>=0,this===q)return 0;for(var de=fe-me,be=G-Q,Ee=Math.min(de,be),ke=this.slice(me,fe),He=q.slice(Q,G),Ye=0;Ye<Ee;++Ye)if(ke[Ye]!==He[Ye]){de=ke[Ye],be=He[Ye];break}return de<be?-1:be<de?1:0};function k($,q,Q,G,me){if($.length===0)return-1;if(typeof Q=="string"?(G=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),Q=+Q,te(Q)&&(Q=me?0:$.length-1),Q<0&&(Q=$.length+Q),Q>=$.length){if(me)return-1;Q=$.length-1}else if(Q<0)if(me)Q=0;else return-1;if(typeof q=="string"&&(q=l.from(q,G)),l.isBuffer(q))return q.length===0?-1:I($,q,Q,G,me);if(typeof q=="number")return q=q&255,typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call($,q,Q):Uint8Array.prototype.lastIndexOf.call($,q,Q):I($,[q],Q,G,me);throw new TypeError("val must be string, number or Buffer")}function I($,q,Q,G,me){var fe=1,de=$.length,be=q.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if($.length<2||q.length<2)return-1;fe=2,de/=2,be/=2,Q/=2}function Ee(ft,At){return fe===1?ft[At]:ft.readUInt16BE(At*fe)}var ke;if(me){var He=-1;for(ke=Q;ke<de;ke++)if(Ee($,ke)===Ee(q,He===-1?0:ke-He)){if(He===-1&&(He=ke),ke-He+1===be)return He*fe}else He!==-1&&(ke-=ke-He),He=-1}else for(Q+be>de&&(Q=de-be),ke=Q;ke>=0;ke--){for(var Ye=!0,et=0;et<be;et++)if(Ee($,ke+et)!==Ee(q,et)){Ye=!1;break}if(Ye)return ke}return-1}l.prototype.includes=function(q,Q,G){return this.indexOf(q,Q,G)!==-1},l.prototype.indexOf=function(q,Q,G){return k(this,q,Q,G,!0)},l.prototype.lastIndexOf=function(q,Q,G){return k(this,q,Q,G,!1)};function F($,q,Q,G){Q=Number(Q)||0;var me=$.length-Q;G?(G=Number(G),G>me&&(G=me)):G=me;var fe=q.length;G>fe/2&&(G=fe/2);for(var de=0;de<G;++de){var be=parseInt(q.substr(de*2,2),16);if(te(be))return de;$[Q+de]=be}return de}function C($,q,Q,G){return he(H(q,$.length-Q),$,Q,G)}function P($,q,Q,G){return he(ne(q),$,Q,G)}function T($,q,Q,G){return he(le(q),$,Q,G)}function _($,q,Q,G){return he(ue(q,$.length-Q),$,Q,G)}l.prototype.write=function(q,Q,G,me){if(Q===void 0)me="utf8",G=this.length,Q=0;else if(G===void 0&&typeof Q=="string")me=Q,G=this.length,Q=0;else if(isFinite(Q))Q=Q>>>0,isFinite(G)?(G=G>>>0,me===void 0&&(me="utf8")):(me=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-Q;if((G===void 0||G>fe)&&(G=fe),q.length>0&&(G<0||Q<0)||Q>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");for(var de=!1;;)switch(me){case"hex":return F(this,q,Q,G);case"utf8":case"utf-8":return C(this,q,Q,G);case"ascii":case"latin1":case"binary":return P(this,q,Q,G);case"base64":return T(this,q,Q,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,q,Q,G);default:if(de)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),de=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U($,q,Q){return q===0&&Q===$.length?e.fromByteArray($):e.fromByteArray($.slice(q,Q))}function S($,q,Q){Q=Math.min($.length,Q);for(var G=[],me=q;me<Q;){var fe=$[me],de=null,be=fe>239?4:fe>223?3:fe>191?2:1;if(me+be<=Q){var Ee,ke,He,Ye;switch(be){case 1:fe<128&&(de=fe);break;case 2:Ee=$[me+1],(Ee&192)===128&&(Ye=(fe&31)<<6|Ee&63,Ye>127&&(de=Ye));break;case 3:Ee=$[me+1],ke=$[me+2],(Ee&192)===128&&(ke&192)===128&&(Ye=(fe&15)<<12|(Ee&63)<<6|ke&63,Ye>2047&&(Ye<55296||Ye>57343)&&(de=Ye));break;case 4:Ee=$[me+1],ke=$[me+2],He=$[me+3],(Ee&192)===128&&(ke&192)===128&&(He&192)===128&&(Ye=(fe&15)<<18|(Ee&63)<<12|(ke&63)<<6|He&63,Ye>65535&&Ye<1114112&&(de=Ye))}}de===null?(de=65533,be=1):de>65535&&(de-=65536,G.push(de>>>10&1023|55296),de=56320|de&1023),G.push(de),me+=be}return ie(G)}var X=4096;function ie($){var q=$.length;if(q<=X)return String.fromCharCode.apply(String,$);for(var Q="",G=0;G<q;)Q+=String.fromCharCode.apply(String,$.slice(G,G+=X));return Q}function Z($,q,Q){var G="";Q=Math.min($.length,Q);for(var me=q;me<Q;++me)G+=String.fromCharCode($[me]&127);return G}function ce($,q,Q){var G="";Q=Math.min($.length,Q);for(var me=q;me<Q;++me)G+=String.fromCharCode($[me]);return G}function re($,q,Q){var G=$.length;(!q||q<0)&&(q=0),(!Q||Q<0||Q>G)&&(Q=G);for(var me="",fe=q;fe<Q;++fe)me+=je[$[fe]];return me}function ae($,q,Q){for(var G=$.slice(q,Q),me="",fe=0;fe<G.length-1;fe+=2)me+=String.fromCharCode(G[fe]+G[fe+1]*256);return me}l.prototype.slice=function(q,Q){var G=this.length;q=~~q,Q=Q===void 0?G:~~Q,q<0?(q+=G,q<0&&(q=0)):q>G&&(q=G),Q<0?(Q+=G,Q<0&&(Q=0)):Q>G&&(Q=G),Q<q&&(Q=q);var me=this.subarray(q,Q);return Object.setPrototypeOf(me,l.prototype),me};function M($,q,Q){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+q>Q)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(q,Q,G){q=q>>>0,Q=Q>>>0,G||M(q,Q,this.length);for(var me=this[q],fe=1,de=0;++de<Q&&(fe*=256);)me+=this[q+de]*fe;return me},l.prototype.readUintBE=l.prototype.readUIntBE=function(q,Q,G){q=q>>>0,Q=Q>>>0,G||M(q,Q,this.length);for(var me=this[q+--Q],fe=1;Q>0&&(fe*=256);)me+=this[q+--Q]*fe;return me},l.prototype.readUint8=l.prototype.readUInt8=function(q,Q){return q=q>>>0,Q||M(q,1,this.length),this[q]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(q,Q){return q=q>>>0,Q||M(q,2,this.length),this[q]|this[q+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(q,Q){return q=q>>>0,Q||M(q,2,this.length),this[q]<<8|this[q+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(q,Q){return q=q>>>0,Q||M(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(q,Q){return q=q>>>0,Q||M(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},l.prototype.readIntLE=function(q,Q,G){q=q>>>0,Q=Q>>>0,G||M(q,Q,this.length);for(var me=this[q],fe=1,de=0;++de<Q&&(fe*=256);)me+=this[q+de]*fe;return fe*=128,me>=fe&&(me-=Math.pow(2,8*Q)),me},l.prototype.readIntBE=function(q,Q,G){q=q>>>0,Q=Q>>>0,G||M(q,Q,this.length);for(var me=Q,fe=1,de=this[q+--me];me>0&&(fe*=256);)de+=this[q+--me]*fe;return fe*=128,de>=fe&&(de-=Math.pow(2,8*Q)),de},l.prototype.readInt8=function(q,Q){return q=q>>>0,Q||M(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},l.prototype.readInt16LE=function(q,Q){q=q>>>0,Q||M(q,2,this.length);var G=this[q]|this[q+1]<<8;return G&32768?G|4294901760:G},l.prototype.readInt16BE=function(q,Q){q=q>>>0,Q||M(q,2,this.length);var G=this[q+1]|this[q]<<8;return G&32768?G|4294901760:G},l.prototype.readInt32LE=function(q,Q){return q=q>>>0,Q||M(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},l.prototype.readInt32BE=function(q,Q){return q=q>>>0,Q||M(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},l.prototype.readFloatLE=function(q,Q){return q=q>>>0,Q||M(q,4,this.length),t.read(this,q,!0,23,4)},l.prototype.readFloatBE=function(q,Q){return q=q>>>0,Q||M(q,4,this.length),t.read(this,q,!1,23,4)},l.prototype.readDoubleLE=function(q,Q){return q=q>>>0,Q||M(q,8,this.length),t.read(this,q,!0,52,8)},l.prototype.readDoubleBE=function(q,Q){return q=q>>>0,Q||M(q,8,this.length),t.read(this,q,!1,52,8)};function L($,q,Q,G,me,fe){if(!l.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>me||q<fe)throw new RangeError('"value" argument is out of bounds');if(Q+G>$.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(q,Q,G,me){if(q=+q,Q=Q>>>0,G=G>>>0,!me){var fe=Math.pow(2,8*G)-1;L(this,q,Q,G,fe,0)}var de=1,be=0;for(this[Q]=q&255;++be<G&&(de*=256);)this[Q+be]=q/de&255;return Q+G},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(q,Q,G,me){if(q=+q,Q=Q>>>0,G=G>>>0,!me){var fe=Math.pow(2,8*G)-1;L(this,q,Q,G,fe,0)}var de=G-1,be=1;for(this[Q+de]=q&255;--de>=0&&(be*=256);)this[Q+de]=q/be&255;return Q+G},l.prototype.writeUint8=l.prototype.writeUInt8=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,1,255,0),this[Q]=q&255,Q+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,2,65535,0),this[Q]=q&255,this[Q+1]=q>>>8,Q+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,2,65535,0),this[Q]=q>>>8,this[Q+1]=q&255,Q+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,4,4294967295,0),this[Q+3]=q>>>24,this[Q+2]=q>>>16,this[Q+1]=q>>>8,this[Q]=q&255,Q+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,4,4294967295,0),this[Q]=q>>>24,this[Q+1]=q>>>16,this[Q+2]=q>>>8,this[Q+3]=q&255,Q+4},l.prototype.writeIntLE=function(q,Q,G,me){if(q=+q,Q=Q>>>0,!me){var fe=Math.pow(2,8*G-1);L(this,q,Q,G,fe-1,-fe)}var de=0,be=1,Ee=0;for(this[Q]=q&255;++de<G&&(be*=256);)q<0&&Ee===0&&this[Q+de-1]!==0&&(Ee=1),this[Q+de]=(q/be>>0)-Ee&255;return Q+G},l.prototype.writeIntBE=function(q,Q,G,me){if(q=+q,Q=Q>>>0,!me){var fe=Math.pow(2,8*G-1);L(this,q,Q,G,fe-1,-fe)}var de=G-1,be=1,Ee=0;for(this[Q+de]=q&255;--de>=0&&(be*=256);)q<0&&Ee===0&&this[Q+de+1]!==0&&(Ee=1),this[Q+de]=(q/be>>0)-Ee&255;return Q+G},l.prototype.writeInt8=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,1,127,-128),q<0&&(q=255+q+1),this[Q]=q&255,Q+1},l.prototype.writeInt16LE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,2,32767,-32768),this[Q]=q&255,this[Q+1]=q>>>8,Q+2},l.prototype.writeInt16BE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,2,32767,-32768),this[Q]=q>>>8,this[Q+1]=q&255,Q+2},l.prototype.writeInt32LE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,4,2147483647,-2147483648),this[Q]=q&255,this[Q+1]=q>>>8,this[Q+2]=q>>>16,this[Q+3]=q>>>24,Q+4},l.prototype.writeInt32BE=function(q,Q,G){return q=+q,Q=Q>>>0,G||L(this,q,Q,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[Q]=q>>>24,this[Q+1]=q>>>16,this[Q+2]=q>>>8,this[Q+3]=q&255,Q+4};function V($,q,Q,G,me,fe){if(Q+G>$.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function K($,q,Q,G,me){return q=+q,Q=Q>>>0,me||V($,q,Q,4),t.write($,q,Q,G,23,4),Q+4}l.prototype.writeFloatLE=function(q,Q,G){return K(this,q,Q,!0,G)},l.prototype.writeFloatBE=function(q,Q,G){return K(this,q,Q,!1,G)};function ee($,q,Q,G,me){return q=+q,Q=Q>>>0,me||V($,q,Q,8),t.write($,q,Q,G,52,8),Q+8}l.prototype.writeDoubleLE=function(q,Q,G){return ee(this,q,Q,!0,G)},l.prototype.writeDoubleBE=function(q,Q,G){return ee(this,q,Q,!1,G)},l.prototype.copy=function(q,Q,G,me){if(!l.isBuffer(q))throw new TypeError("argument should be a Buffer");if(G||(G=0),!me&&me!==0&&(me=this.length),Q>=q.length&&(Q=q.length),Q||(Q=0),me>0&&me<G&&(me=G),me===G||q.length===0||this.length===0)return 0;if(Q<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),q.length-Q<me-G&&(me=q.length-Q+G);var fe=me-G;return this===q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Q,G,me):Uint8Array.prototype.set.call(q,this.subarray(G,me),Q),fe},l.prototype.fill=function(q,Q,G,me){if(typeof q=="string"){if(typeof Q=="string"?(me=Q,Q=0,G=this.length):typeof G=="string"&&(me=G,G=this.length),me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!l.isEncoding(me))throw new TypeError("Unknown encoding: "+me);if(q.length===1){var fe=q.charCodeAt(0);(me==="utf8"&&fe<128||me==="latin1")&&(q=fe)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(Q<0||this.length<Q||this.length<G)throw new RangeError("Out of range index");if(G<=Q)return this;Q=Q>>>0,G=G===void 0?this.length:G>>>0,q||(q=0);var de;if(typeof q=="number")for(de=Q;de<G;++de)this[de]=q;else{var be=l.isBuffer(q)?q:l.from(q,me),Ee=be.length;if(Ee===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(de=0;de<G-Q;++de)this[de+Q]=be[de%Ee]}return this};var z=/[^+/0-9A-Za-z-_]/g;function D($){if($=$.split("=")[0],$=$.trim().replace(z,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function H($,q){q=q||1/0;for(var Q,G=$.length,me=null,fe=[],de=0;de<G;++de){if(Q=$.charCodeAt(de),Q>55295&&Q<57344){if(!me){if(Q>56319){(q-=3)>-1&&fe.push(239,191,189);continue}else if(de+1===G){(q-=3)>-1&&fe.push(239,191,189);continue}me=Q;continue}if(Q<56320){(q-=3)>-1&&fe.push(239,191,189),me=Q;continue}Q=(me-55296<<10|Q-56320)+65536}else me&&(q-=3)>-1&&fe.push(239,191,189);if(me=null,Q<128){if((q-=1)<0)break;fe.push(Q)}else if(Q<2048){if((q-=2)<0)break;fe.push(Q>>6|192,Q&63|128)}else if(Q<65536){if((q-=3)<0)break;fe.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(Q<1114112){if((q-=4)<0)break;fe.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw new Error("Invalid code point")}return fe}function ne($){for(var q=[],Q=0;Q<$.length;++Q)q.push($.charCodeAt(Q)&255);return q}function ue($,q){for(var Q,G,me,fe=[],de=0;de<$.length&&!((q-=2)<0);++de)Q=$.charCodeAt(de),G=Q>>8,me=Q%256,fe.push(me),fe.push(G);return fe}function le($){return e.toByteArray(D($))}function he($,q,Q,G){for(var me=0;me<G&&!(me+Q>=q.length||me>=$.length);++me)q[me+Q]=$[me];return me}function Be($,q){return $ instanceof q||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===q.name}function te($){return $!==$}var je=function(){for(var $="0123456789abcdef",q=new Array(256),Q=0;Q<16;++Q)for(var G=Q*16,me=0;me<16;++me)q[G+me]=$[Q]+$[me];return q}()}(Kb)),Kb}var Vb={},Wb={},Gb,IE;function hT(){return IE||(IE=1,Gb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),Gb}var $b,LE;function W5(){if(LE)return $b;LE=1;var r=hT();return $b=function(){return r()&&!!Symbol.toStringTag},$b}var Yb,DE;function fT(){return DE||(DE=1,Yb=Object),Yb}var Xb,UE;function mG(){return UE||(UE=1,Xb=Error),Xb}var Jb,OE;function pG(){return OE||(OE=1,Jb=EvalError),Jb}var Zb,PE;function gG(){return PE||(PE=1,Zb=RangeError),Zb}var e1,RE;function xG(){return RE||(RE=1,e1=ReferenceError),e1}var t1,ME;function mT(){return ME||(ME=1,t1=SyntaxError),t1}var r1,QE;function Gm(){return QE||(QE=1,r1=TypeError),r1}var n1,HE;function yG(){return HE||(HE=1,n1=URIError),n1}var s1,qE;function vG(){return qE||(qE=1,s1=Math.abs),s1}var i1,zE;function bG(){return zE||(zE=1,i1=Math.floor),i1}var a1,KE;function wG(){return KE||(KE=1,a1=Math.max),a1}var o1,VE;function NG(){return VE||(VE=1,o1=Math.min),o1}var l1,WE;function jG(){return WE||(WE=1,l1=Math.pow),l1}var c1,GE;function BG(){return GE||(GE=1,c1=Math.round),c1}var u1,$E;function _G(){return $E||($E=1,u1=Number.isNaN||function(e){return e!==e}),u1}var d1,YE;function CG(){if(YE)return d1;YE=1;var r=_G();return d1=function(t){return r(t)||t===0?t:t<0?-1:1},d1}var A1,XE;function EG(){return XE||(XE=1,A1=Object.getOwnPropertyDescriptor),A1}var h1,JE;function $m(){if(JE)return h1;JE=1;var r=EG();if(r)try{r([],"length")}catch{r=null}return h1=r,h1}var f1,ZE;function Ax(){if(ZE)return f1;ZE=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return f1=r,f1}var m1,eS;function SG(){if(eS)return m1;eS=1;var r=typeof Symbol<"u"&&Symbol,e=hT();return m1=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},m1}var p1,tS;function pT(){return tS||(tS=1,p1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),p1}var g1,rS;function gT(){if(rS)return g1;rS=1;var r=fT();return g1=r.getPrototypeOf||null,g1}var x1,nS;function kG(){if(nS)return x1;nS=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(c,u){for(var A=[],f=0;f<c.length;f+=1)A[f]=c[f];for(var m=0;m<u.length;m+=1)A[m+c.length]=u[m];return A},a=function(c,u){for(var A=[],f=u,m=0;f<c.length;f+=1,m+=1)A[m]=c[f];return A},o=function(l,c){for(var u="",A=0;A<l.length;A+=1)u+=l[A],A+1<l.length&&(u+=c);return u};return x1=function(c){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(r+u);for(var A=a(arguments,1),f,m=function(){if(this instanceof f){var p=u.apply(this,i(A,arguments));return Object(p)===p?p:this}return u.apply(c,i(A,arguments))},h=t(0,u.length-A.length),v=[],x=0;x<h;x++)v[x]="$"+x;if(f=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(m),u.prototype){var b=function(){};b.prototype=u.prototype,f.prototype=new b,b.prototype=null}return f},x1}var y1,sS;function Ym(){if(sS)return y1;sS=1;var r=kG();return y1=Function.prototype.bind||r,y1}var v1,iS;function G5(){return iS||(iS=1,v1=Function.prototype.call),v1}var b1,aS;function xT(){return aS||(aS=1,b1=Function.prototype.apply),b1}var w1,oS;function FG(){return oS||(oS=1,w1=typeof Reflect<"u"&&Reflect&&Reflect.apply),w1}var N1,lS;function TG(){if(lS)return N1;lS=1;var r=Ym(),e=xT(),t=G5(),n=FG();return N1=n||r.call(t,e),N1}var j1,cS;function IG(){if(cS)return j1;cS=1;var r=Ym(),e=Gm(),t=G5(),n=TG();return j1=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(r,t,a)},j1}var B1,uS;function LG(){if(uS)return B1;uS=1;var r=IG(),e=$m(),t;try{t=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return B1=n&&typeof n.get=="function"?r([n.get]):typeof a=="function"?function(l){return a(l==null?l:i(l))}:!1,B1}var _1,dS;function DG(){if(dS)return _1;dS=1;var r=pT(),e=gT(),t=LG();return _1=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,_1}var C1,AS;function UG(){if(AS)return C1;AS=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Ym();return C1=t.call(r,e),C1}var E1,hS;function $5(){if(hS)return E1;hS=1;var r,e=fT(),t=mG(),n=pG(),i=gG(),a=xG(),o=mT(),l=Gm(),c=yG(),u=vG(),A=bG(),f=wG(),m=NG(),h=jG(),v=BG(),x=CG(),b=Function,p=function(ne){try{return b('"use strict"; return ('+ne+").constructor;")()}catch{}},y=$m(),N=Ax(),w=function(){throw new l},j=y?function(){try{return arguments.callee,w}catch{try{return y(arguments,"callee").get}catch{return w}}}():w,k=SG()(),I=DG(),F=gT(),C=pT(),P=xT(),T=G5(),_={},U=typeof Uint8Array>"u"||!I?r:I(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":k&&I?I([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":_,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&I?I(I([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!I?r:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!I?r:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&I?I(""[Symbol.iterator]()):r,"%Symbol%":k?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":j,"%TypedArray%":U,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":P,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":F,"%Math.abs%":u,"%Math.floor%":A,"%Math.max%":f,"%Math.min%":m,"%Math.pow%":h,"%Math.round%":v,"%Math.sign%":x,"%Reflect.getPrototypeOf%":C};if(I)try{null.error}catch(ne){var X=I(I(ne));S["%Error.prototype%"]=X}var ie=function ne(ue){var le;if(ue==="%AsyncFunction%")le=p("async function () {}");else if(ue==="%GeneratorFunction%")le=p("function* () {}");else if(ue==="%AsyncGeneratorFunction%")le=p("async function* () {}");else if(ue==="%AsyncGenerator%"){var he=ne("%AsyncGeneratorFunction%");he&&(le=he.prototype)}else if(ue==="%AsyncIteratorPrototype%"){var Be=ne("%AsyncGenerator%");Be&&I&&(le=I(Be.prototype))}return S[ue]=le,le},Z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ce=Ym(),re=UG(),ae=ce.call(T,Array.prototype.concat),M=ce.call(P,Array.prototype.splice),L=ce.call(T,String.prototype.replace),V=ce.call(T,String.prototype.slice),K=ce.call(T,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,D=function(ue){var le=V(ue,0,1),he=V(ue,-1);if(le==="%"&&he!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(he==="%"&&le!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var Be=[];return L(ue,ee,function(te,je,$,q){Be[Be.length]=$?L(q,z,"$1"):je||te}),Be},H=function(ue,le){var he=ue,Be;if(re(Z,he)&&(Be=Z[he],he="%"+Be[0]+"%"),re(S,he)){var te=S[he];if(te===_&&(te=ie(he)),typeof te>"u"&&!le)throw new l("intrinsic "+ue+" exists, but is not available. Please file an issue!");return{alias:Be,name:he,value:te}}throw new o("intrinsic "+ue+" does not exist!")};return E1=function(ue,le){if(typeof ue!="string"||ue.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new l('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,ue)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var he=D(ue),Be=he.length>0?he[0]:"",te=H("%"+Be+"%",le),je=te.name,$=te.value,q=!1,Q=te.alias;Q&&(Be=Q[0],M(he,ae([0,1],Q)));for(var G=1,me=!0;G<he.length;G+=1){var fe=he[G],de=V(fe,0,1),be=V(fe,-1);if((de==='"'||de==="'"||de==="`"||be==='"'||be==="'"||be==="`")&&de!==be)throw new o("property names with quotes must have matching quotes");if((fe==="constructor"||!me)&&(q=!0),Be+="."+fe,je="%"+Be+"%",re(S,je))$=S[je];else if($!=null){if(!(fe in $)){if(!le)throw new l("base intrinsic for "+ue+" exists, but the property is not available.");return}if(y&&G+1>=he.length){var Ee=y($,fe);me=!!Ee,me&&"get"in Ee&&!("originalValue"in Ee.get)?$=Ee.get:$=$[fe]}else me=re($,fe),$=$[fe];me&&!q&&(S[je]=$)}}return $},E1}var S1={exports:{}},k1,fS;function OG(){if(fS)return k1;fS=1;var r=Ax(),e=mT(),t=Gm(),n=$m();return k1=function(a,o,l){if(!a||typeof a!="object"&&typeof a!="function")throw new t("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,A=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,m=!!n&&n(a,o);if(r)r(a,o,{configurable:A===null&&m?m.configurable:!A,enumerable:c===null&&m?m.enumerable:!c,value:l,writable:u===null&&m?m.writable:!u});else if(f||!c&&!u&&!A)a[o]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},k1}var F1,mS;function PG(){if(mS)return F1;mS=1;var r=Ax(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},F1=e,F1}var T1,pS;function RG(){if(pS)return T1;pS=1;var r=$5(),e=OG(),t=PG()(),n=$m(),i=Gm(),a=r("%Math.floor%");return T1=function(l,c){if(typeof l!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],A=!0,f=!0;if("length"in l&&n){var m=n(l,"length");m&&!m.configurable&&(A=!1),m&&!m.writable&&(f=!1)}return(A||f||!u)&&(t?e(l,"length",c,!0,!0):e(l,"length",c)),l},T1}var gS;function yT(){return gS||(gS=1,function(r){var e=Ym(),t=$5(),n=RG(),i=Gm(),a=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(o,a),c=Ax(),u=t("%Math.max%");r.exports=function(m){if(typeof m!="function")throw new i("a function is required");var h=l(e,o,arguments);return n(h,1+u(0,m.length-(arguments.length-1)),!0)};var A=function(){return l(e,a,arguments)};c?c(r.exports,"apply",{value:A}):r.exports.apply=A}(S1)),S1.exports}var I1,xS;function vT(){if(xS)return I1;xS=1;var r=$5(),e=yT(),t=e(r("String.prototype.indexOf"));return I1=function(i,a){var o=r(i,!!a);return typeof o=="function"&&t(i,".prototype.")>-1?e(o):o},I1}var L1,yS;function MG(){if(yS)return L1;yS=1;var r=W5()(),e=vT(),t=e("Object.prototype.toString"),n=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},i=function(l){return n(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},a=function(){return n(arguments)}();return n.isLegacyArguments=i,L1=a?n:i,L1}var D1,vS;function QG(){if(vS)return D1;vS=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=W5()(),i=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return D1=function(c){if(typeof c!="function")return!1;if(t.test(e.call(c)))return!0;if(!n){var u=r.call(c);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var A=a();o=A?i(A):!1}return i(c)===o},D1}var U1,bS;function HG(){if(bS)return U1;bS=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(y){y!==n&&(e=null)}else e=null;var i=/^\s*class\b/,a=function(N){try{var w=r.call(N);return i.test(w)}catch{return!1}},o=function(N){try{return a(N)?!1:(r.call(N),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",u="[object Function]",A="[object GeneratorFunction]",f="[object HTMLAllCollection]",m="[object HTML document.all class]",h="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,x=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var p=document.all;l.call(p)===l.call(document.all)&&(b=function(N){if((x||!N)&&(typeof N>"u"||typeof N=="object"))try{var w=l.call(N);return(w===f||w===m||w===h||w===c)&&N("")==null}catch{}return!1})}return U1=e?function(N){if(b(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{e(N,null,t)}catch(w){if(w!==n)return!1}return!a(N)&&o(N)}:function(N){if(b(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(v)return o(N);if(a(N))return!1;var w=l.call(N);return w!==u&&w!==A&&!/^\[object HTML/.test(w)?!1:o(N)},U1}var O1,wS;function qG(){if(wS)return O1;wS=1;var r=HG(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(c,u,A){for(var f=0,m=c.length;f<m;f++)t.call(c,f)&&(A==null?u(c[f],f,c):u.call(A,c[f],f,c))},i=function(c,u,A){for(var f=0,m=c.length;f<m;f++)A==null?u(c.charAt(f),f,c):u.call(A,c.charAt(f),f,c)},a=function(c,u,A){for(var f in c)t.call(c,f)&&(A==null?u(c[f],f,c):u.call(A,c[f],f,c))},o=function(c,u,A){if(!r(u))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=A),e.call(c)==="[object Array]"?n(c,u,f):typeof c=="string"?i(c,u,f):a(c,u,f)};return O1=o,O1}var P1,NS;function zG(){return NS||(NS=1,P1=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),P1}var R1,jS;function KG(){if(jS)return R1;jS=1;var r=zG(),e=typeof globalThis>"u"?ul:globalThis;return R1=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},R1}var M1,BS;function bT(){if(BS)return M1;BS=1;var r=qG(),e=KG(),t=yT(),n=vT(),i=$m(),a=n("Object.prototype.toString"),o=W5()(),l=typeof globalThis>"u"?ul:globalThis,c=e(),u=n("String.prototype.slice"),A=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(b,p){for(var y=0;y<b.length;y+=1)if(b[y]===p)return y;return-1},m={__proto__:null};o&&i&&A?r(c,function(x){var b=new l[x];if(Symbol.toStringTag in b){var p=A(b),y=i(p,Symbol.toStringTag);if(!y){var N=A(p);y=i(N,Symbol.toStringTag)}m["$"+x]=t(y.get)}}):r(c,function(x){var b=new l[x],p=b.slice||b.set;p&&(m["$"+x]=t(p))});var h=function(b){var p=!1;return r(m,function(y,N){if(!p)try{"$"+y(b)===N&&(p=u(N,1))}catch{}}),p},v=function(b){var p=!1;return r(m,function(y,N){if(!p)try{y(b),p=u(N,1)}catch{}}),p};return M1=function(b){if(!b||typeof b!="object")return!1;if(!o){var p=u(a(b),8,-1);return f(c,p)>-1?p:p!=="Object"?!1:v(b)}return i?h(b):null},M1}var Q1,_S;function VG(){if(_S)return Q1;_S=1;var r=bT();return Q1=function(t){return!!r(t)},Q1}var CS;function WG(){return CS||(CS=1,function(r){var e=MG(),t=QG(),n=bT(),i=VG();function a(G){return G.call.bind(G)}var o=typeof BigInt<"u",l=typeof Symbol<"u",c=a(Object.prototype.toString),u=a(Number.prototype.valueOf),A=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(o)var m=a(BigInt.prototype.valueOf);if(l)var h=a(Symbol.prototype.valueOf);function v(G,me){if(typeof G!="object")return!1;try{return me(G),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function x(G){return typeof Promise<"u"&&G instanceof Promise||G!==null&&typeof G=="object"&&typeof G.then=="function"&&typeof G.catch=="function"}r.isPromise=x;function b(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):i(G)||V(G)}r.isArrayBufferView=b;function p(G){return n(G)==="Uint8Array"}r.isUint8Array=p;function y(G){return n(G)==="Uint8ClampedArray"}r.isUint8ClampedArray=y;function N(G){return n(G)==="Uint16Array"}r.isUint16Array=N;function w(G){return n(G)==="Uint32Array"}r.isUint32Array=w;function j(G){return n(G)==="Int8Array"}r.isInt8Array=j;function k(G){return n(G)==="Int16Array"}r.isInt16Array=k;function I(G){return n(G)==="Int32Array"}r.isInt32Array=I;function F(G){return n(G)==="Float32Array"}r.isFloat32Array=F;function C(G){return n(G)==="Float64Array"}r.isFloat64Array=C;function P(G){return n(G)==="BigInt64Array"}r.isBigInt64Array=P;function T(G){return n(G)==="BigUint64Array"}r.isBigUint64Array=T;function _(G){return c(G)==="[object Map]"}_.working=typeof Map<"u"&&_(new Map);function U(G){return typeof Map>"u"?!1:_.working?_(G):G instanceof Map}r.isMap=U;function S(G){return c(G)==="[object Set]"}S.working=typeof Set<"u"&&S(new Set);function X(G){return typeof Set>"u"?!1:S.working?S(G):G instanceof Set}r.isSet=X;function ie(G){return c(G)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function Z(G){return typeof WeakMap>"u"?!1:ie.working?ie(G):G instanceof WeakMap}r.isWeakMap=Z;function ce(G){return c(G)==="[object WeakSet]"}ce.working=typeof WeakSet<"u"&&ce(new WeakSet);function re(G){return ce(G)}r.isWeakSet=re;function ae(G){return c(G)==="[object ArrayBuffer]"}ae.working=typeof ArrayBuffer<"u"&&ae(new ArrayBuffer);function M(G){return typeof ArrayBuffer>"u"?!1:ae.working?ae(G):G instanceof ArrayBuffer}r.isArrayBuffer=M;function L(G){return c(G)==="[object DataView]"}L.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&L(new DataView(new ArrayBuffer(1),0,1));function V(G){return typeof DataView>"u"?!1:L.working?L(G):G instanceof DataView}r.isDataView=V;var K=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ee(G){return c(G)==="[object SharedArrayBuffer]"}function z(G){return typeof K>"u"?!1:(typeof ee.working>"u"&&(ee.working=ee(new K)),ee.working?ee(G):G instanceof K)}r.isSharedArrayBuffer=z;function D(G){return c(G)==="[object AsyncFunction]"}r.isAsyncFunction=D;function H(G){return c(G)==="[object Map Iterator]"}r.isMapIterator=H;function ne(G){return c(G)==="[object Set Iterator]"}r.isSetIterator=ne;function ue(G){return c(G)==="[object Generator]"}r.isGeneratorObject=ue;function le(G){return c(G)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=le;function he(G){return v(G,u)}r.isNumberObject=he;function Be(G){return v(G,A)}r.isStringObject=Be;function te(G){return v(G,f)}r.isBooleanObject=te;function je(G){return o&&v(G,m)}r.isBigIntObject=je;function $(G){return l&&v(G,h)}r.isSymbolObject=$;function q(G){return he(G)||Be(G)||te(G)||je(G)||$(G)}r.isBoxedPrimitive=q;function Q(G){return typeof Uint8Array<"u"&&(M(G)||z(G))}r.isAnyArrayBuffer=Q,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(G){Object.defineProperty(r,G,{enumerable:!1,value:function(){throw new Error(G+" is not supported in userland")}})})}(Wb)),Wb}var H1,ES;function GG(){return ES||(ES=1,H1=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),H1}var SS;function wT(){return SS||(SS=1,function(r){var e=Object.getOwnPropertyDescriptors||function(V){for(var K=Object.keys(V),ee={},z=0;z<K.length;z++)ee[K[z]]=Object.getOwnPropertyDescriptor(V,K[z]);return ee},t=/%[sdj%]/g;r.format=function(L){if(!j(L)){for(var V=[],K=0;K<arguments.length;K++)V.push(o(arguments[K]));return V.join(" ")}for(var K=1,ee=arguments,z=ee.length,D=String(L).replace(t,function(ne){if(ne==="%%")return"%";if(K>=z)return ne;switch(ne){case"%s":return String(ee[K++]);case"%d":return Number(ee[K++]);case"%j":try{return JSON.stringify(ee[K++])}catch{return"[Circular]"}default:return ne}}),H=ee[K];K<z;H=ee[++K])y(H)||!C(H)?D+=" "+H:D+=" "+o(H);return D},r.deprecate=function(L,V){if(typeof Kt<"u"&&Kt.noDeprecation===!0)return L;if(typeof Kt>"u")return function(){return r.deprecate(L,V).apply(this,arguments)};var K=!1;function ee(){if(!K){if(Kt.throwDeprecation)throw new Error(V);Kt.traceDeprecation?console.trace(V):console.error(V),K=!0}return L.apply(this,arguments)}return ee};var n={},i=/^$/;if(Kt.env.NODE_DEBUG){var a=Kt.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}r.debuglog=function(L){if(L=L.toUpperCase(),!n[L])if(i.test(L)){var V=Kt.pid;n[L]=function(){var K=r.format.apply(r,arguments);console.error("%s %d: %s",L,V,K)}}else n[L]=function(){};return n[L]};function o(L,V){var K={seen:[],stylize:c};return arguments.length>=3&&(K.depth=arguments[2]),arguments.length>=4&&(K.colors=arguments[3]),p(V)?K.showHidden=V:V&&r._extend(K,V),I(K.showHidden)&&(K.showHidden=!1),I(K.depth)&&(K.depth=2),I(K.colors)&&(K.colors=!1),I(K.customInspect)&&(K.customInspect=!0),K.colors&&(K.stylize=l),A(K,L,K.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(L,V){var K=o.styles[V];return K?"\x1B["+o.colors[K][0]+"m"+L+"\x1B["+o.colors[K][1]+"m":L}function c(L,V){return L}function u(L){var V={};return L.forEach(function(K,ee){V[K]=!0}),V}function A(L,V,K){if(L.customInspect&&V&&_(V.inspect)&&V.inspect!==r.inspect&&!(V.constructor&&V.constructor.prototype===V)){var ee=V.inspect(K,L);return j(ee)||(ee=A(L,ee,K)),ee}var z=f(L,V);if(z)return z;var D=Object.keys(V),H=u(D);if(L.showHidden&&(D=Object.getOwnPropertyNames(V)),T(V)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return m(V);if(D.length===0){if(_(V)){var ne=V.name?": "+V.name:"";return L.stylize("[Function"+ne+"]","special")}if(F(V))return L.stylize(RegExp.prototype.toString.call(V),"regexp");if(P(V))return L.stylize(Date.prototype.toString.call(V),"date");if(T(V))return m(V)}var ue="",le=!1,he=["{","}"];if(b(V)&&(le=!0,he=["[","]"]),_(V)){var Be=V.name?": "+V.name:"";ue=" [Function"+Be+"]"}if(F(V)&&(ue=" "+RegExp.prototype.toString.call(V)),P(V)&&(ue=" "+Date.prototype.toUTCString.call(V)),T(V)&&(ue=" "+m(V)),D.length===0&&(!le||V.length==0))return he[0]+ue+he[1];if(K<0)return F(V)?L.stylize(RegExp.prototype.toString.call(V),"regexp"):L.stylize("[Object]","special");L.seen.push(V);var te;return le?te=h(L,V,K,H,D):te=D.map(function(je){return v(L,V,K,H,je,le)}),L.seen.pop(),x(te,ue,he)}function f(L,V){if(I(V))return L.stylize("undefined","undefined");if(j(V)){var K="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(K,"string")}if(w(V))return L.stylize(""+V,"number");if(p(V))return L.stylize(""+V,"boolean");if(y(V))return L.stylize("null","null")}function m(L){return"["+Error.prototype.toString.call(L)+"]"}function h(L,V,K,ee,z){for(var D=[],H=0,ne=V.length;H<ne;++H)ce(V,String(H))?D.push(v(L,V,K,ee,String(H),!0)):D.push("");return z.forEach(function(ue){ue.match(/^\d+$/)||D.push(v(L,V,K,ee,ue,!0))}),D}function v(L,V,K,ee,z,D){var H,ne,ue;if(ue=Object.getOwnPropertyDescriptor(V,z)||{value:V[z]},ue.get?ue.set?ne=L.stylize("[Getter/Setter]","special"):ne=L.stylize("[Getter]","special"):ue.set&&(ne=L.stylize("[Setter]","special")),ce(ee,z)||(H="["+z+"]"),ne||(L.seen.indexOf(ue.value)<0?(y(K)?ne=A(L,ue.value,null):ne=A(L,ue.value,K-1),ne.indexOf(`
`)>-1&&(D?ne=ne.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(le){return"   "+le}).join(`
`))):ne=L.stylize("[Circular]","special")),I(H)){if(D&&z.match(/^\d+$/))return ne;H=JSON.stringify(""+z),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=L.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=L.stylize(H,"string"))}return H+": "+ne}function x(L,V,K){var ee=L.reduce(function(z,D){return D.indexOf(`
`)>=0,z+D.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ee>60?K[0]+(V===""?"":V+`
 `)+" "+L.join(`,
  `)+" "+K[1]:K[0]+V+" "+L.join(", ")+" "+K[1]}r.types=WG();function b(L){return Array.isArray(L)}r.isArray=b;function p(L){return typeof L=="boolean"}r.isBoolean=p;function y(L){return L===null}r.isNull=y;function N(L){return L==null}r.isNullOrUndefined=N;function w(L){return typeof L=="number"}r.isNumber=w;function j(L){return typeof L=="string"}r.isString=j;function k(L){return typeof L=="symbol"}r.isSymbol=k;function I(L){return L===void 0}r.isUndefined=I;function F(L){return C(L)&&S(L)==="[object RegExp]"}r.isRegExp=F,r.types.isRegExp=F;function C(L){return typeof L=="object"&&L!==null}r.isObject=C;function P(L){return C(L)&&S(L)==="[object Date]"}r.isDate=P,r.types.isDate=P;function T(L){return C(L)&&(S(L)==="[object Error]"||L instanceof Error)}r.isError=T,r.types.isNativeError=T;function _(L){return typeof L=="function"}r.isFunction=_;function U(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||typeof L>"u"}r.isPrimitive=U,r.isBuffer=GG();function S(L){return Object.prototype.toString.call(L)}function X(L){return L<10?"0"+L.toString(10):L.toString(10)}var ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(){var L=new Date,V=[X(L.getHours()),X(L.getMinutes()),X(L.getSeconds())].join(":");return[L.getDate(),ie[L.getMonth()],V].join(" ")}r.log=function(){console.log("%s - %s",Z(),r.format.apply(r,arguments))},r.inherits=Gu(),r._extend=function(L,V){if(!V||!C(V))return L;for(var K=Object.keys(V),ee=K.length;ee--;)L[K[ee]]=V[K[ee]];return L};function ce(L,V){return Object.prototype.hasOwnProperty.call(L,V)}var re=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(re&&V[re]){var K=V[re];if(typeof K!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(K,re,{value:K,enumerable:!1,writable:!1,configurable:!0}),K}function K(){for(var ee,z,D=new Promise(function(ue,le){ee=ue,z=le}),H=[],ne=0;ne<arguments.length;ne++)H.push(arguments[ne]);H.push(function(ue,le){ue?z(ue):ee(le)});try{V.apply(this,H)}catch(ue){z(ue)}return D}return Object.setPrototypeOf(K,Object.getPrototypeOf(V)),re&&Object.defineProperty(K,re,{value:K,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(K,e(V))},r.promisify.custom=re;function ae(L,V){if(!L){var K=new Error("Promise was rejected with a falsy value");K.reason=L,L=K}return V(L)}function M(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var K=[],ee=0;ee<arguments.length;ee++)K.push(arguments[ee]);var z=K.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var D=this,H=function(){return z.apply(D,arguments)};L.apply(this,K).then(function(ne){Kt.nextTick(H.bind(null,null,ne))},function(ne){Kt.nextTick(ae.bind(null,ne,H))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(L)),Object.defineProperties(V,e(L)),V}r.callbackify=M}(Vb)),Vb}var q1,kS;function $G(){if(kS)return q1;kS=1;function r(m,h){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);h&&(x=x.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),v.push.apply(v,x)}return v}function e(m){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?r(Object(v),!0).forEach(function(x){t(m,x,v[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):r(Object(v)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(v,x))})}return m}function t(m,h,v){return h in m?Object.defineProperty(m,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[h]=v,m}function n(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function i(m,h){for(var v=0;v<h.length;v++){var x=h[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}function a(m,h,v){return h&&i(m.prototype,h),m}var o=dx(),l=o.Buffer,c=wT(),u=c.inspect,A=u&&u.custom||"inspect";function f(m,h,v){l.prototype.copy.call(m,h,v)}return q1=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return a(m,[{key:"push",value:function(v){var x={data:v,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(v){var x={data:v,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var x=this.head,b=""+x.data;x=x.next;)b+=v+x.data;return b}},{key:"concat",value:function(v){if(this.length===0)return l.alloc(0);for(var x=l.allocUnsafe(v>>>0),b=this.head,p=0;b;)f(b.data,x,p),p+=b.data.length,b=b.next;return x}},{key:"consume",value:function(v,x){var b;return v<this.head.data.length?(b=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?b=this.shift():b=x?this._getString(v):this._getBuffer(v),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var x=this.head,b=1,p=x.data;for(v-=p.length;x=x.next;){var y=x.data,N=v>y.length?y.length:v;if(N===y.length?p+=y:p+=y.slice(0,v),v-=N,v===0){N===y.length?(++b,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=y.slice(N));break}++b}return this.length-=b,p}},{key:"_getBuffer",value:function(v){var x=l.allocUnsafe(v),b=this.head,p=1;for(b.data.copy(x),v-=b.data.length;b=b.next;){var y=b.data,N=v>y.length?y.length:v;if(y.copy(x,x.length-v,0,N),v-=N,v===0){N===y.length?(++p,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=y.slice(N));break}++p}return this.length-=p,x}},{key:A,value:function(v,x){return u(this,e({},x,{depth:0,customInspect:!1}))}}]),m}(),q1}var z1,FS;function NT(){if(FS)return z1;FS=1;function r(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return u||A?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Kt.nextTick(i,this,o)):Kt.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!l&&f?c._writableState?c._writableState.errorEmitted?Kt.nextTick(t,c):(c._writableState.errorEmitted=!0,Kt.nextTick(e,c,f)):Kt.nextTick(e,c,f):l?(Kt.nextTick(t,c),l(f)):Kt.nextTick(t,c)}),this)}function e(o,l){i(o,l),t(o)}function t(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function a(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return z1={destroy:r,undestroy:n,errorOrDestroy:a},z1}var K1={},TS;function sf(){if(TS)return K1;TS=1;function r(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function t(l,c,u){u||(u=Error);function A(m,h,v){return typeof c=="string"?c:c(m,h,v)}var f=function(m){r(h,m);function h(v,x,b){return m.call(this,A(v,x,b))||this}return h}(u);f.prototype.name=u.name,f.prototype.code=l,e[l]=f}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(A){return String(A)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function a(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,c,u){var A;typeof c=="string"&&i(c,"not ")?(A="must not be",c=c.replace(/^not /,"")):A="must be";var f;if(a(l," argument"))f="The ".concat(l," ").concat(A," ").concat(n(c,"type"));else{var m=o(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(m," ").concat(A," ").concat(n(c,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),K1.codes=e,K1}var V1,IS;function jT(){if(IS)return V1;IS=1;var r=sf().codes.ERR_INVALID_OPT_VALUE;function e(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function t(n,i,a,o){var l=e(i,o,a);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?a:"highWaterMark";throw new r(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return V1={getHighWaterMark:t},V1}var W1,LS;function YG(){if(LS)return W1;LS=1,W1=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function a(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this,arguments)}return a}function e(t){try{if(!ul.localStorage)return!1}catch{return!1}var n=ul.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return W1}var G1,DS;function BT(){if(DS)return G1;DS=1,G1=F;function r(z){var D=this;this.next=null,this.entry=null,this.finish=function(){ee(D,z)}}var e;F.WritableState=k;var t={deprecate:YG()},n=AT(),i=dx().Buffer,a=ul.Uint8Array||function(){};function o(z){return i.from(z)}function l(z){return i.isBuffer(z)||z instanceof a}var c=NT(),u=jT(),A=u.getHighWaterMark,f=sf().codes,m=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,x=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,p=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,N=f.ERR_UNKNOWN_ENCODING,w=c.errorOrDestroy;Gu()(F,n);function j(){}function k(z,D,H){e=e||Hh(),z=z||{},typeof H!="boolean"&&(H=D instanceof e),this.objectMode=!!z.objectMode,H&&(this.objectMode=this.objectMode||!!z.writableObjectMode),this.highWaterMark=A(this,z,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=z.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){ie(D,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}k.prototype.getBuffer=function(){for(var D=this.bufferedRequest,H=[];D;)H.push(D),D=D.next;return H},function(){try{Object.defineProperty(k.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(D){return I.call(this,D)?!0:this!==F?!1:D&&D._writableState instanceof k}})):I=function(D){return D instanceof this};function F(z){e=e||Hh();var D=this instanceof e;if(!D&&!I.call(F,this))return new F(z);this._writableState=new k(z,this,D),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),n.call(this)}F.prototype.pipe=function(){w(this,new x)};function C(z,D){var H=new y;w(z,H),Kt.nextTick(D,H)}function P(z,D,H,ne){var ue;return H===null?ue=new p:typeof H!="string"&&!D.objectMode&&(ue=new m("chunk",["string","Buffer"],H)),ue?(w(z,ue),Kt.nextTick(ne,ue),!1):!0}F.prototype.write=function(z,D,H){var ne=this._writableState,ue=!1,le=!ne.objectMode&&l(z);return le&&!i.isBuffer(z)&&(z=o(z)),typeof D=="function"&&(H=D,D=null),le?D="buffer":D||(D=ne.defaultEncoding),typeof H!="function"&&(H=j),ne.ending?C(this,H):(le||P(this,ne,z,H))&&(ne.pendingcb++,ue=_(this,ne,le,z,D,H)),ue},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,!z.writing&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&re(this,z))},F.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new N(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function T(z,D,H){return!z.objectMode&&z.decodeStrings!==!1&&typeof D=="string"&&(D=i.from(D,H)),D}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(z,D,H,ne,ue,le){if(!H){var he=T(D,ne,ue);ne!==he&&(H=!0,ue="buffer",ne=he)}var Be=D.objectMode?1:ne.length;D.length+=Be;var te=D.length<D.highWaterMark;if(te||(D.needDrain=!0),D.writing||D.corked){var je=D.lastBufferedRequest;D.lastBufferedRequest={chunk:ne,encoding:ue,isBuf:H,callback:le,next:null},je?je.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else U(z,D,!1,Be,ne,ue,le);return te}function U(z,D,H,ne,ue,le,he){D.writelen=ne,D.writecb=he,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new b("write")):H?z._writev(ue,D.onwrite):z._write(ue,le,D.onwrite),D.sync=!1}function S(z,D,H,ne,ue){--D.pendingcb,H?(Kt.nextTick(ue,ne),Kt.nextTick(V,z,D),z._writableState.errorEmitted=!0,w(z,ne)):(ue(ne),z._writableState.errorEmitted=!0,w(z,ne),V(z,D))}function X(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function ie(z,D){var H=z._writableState,ne=H.sync,ue=H.writecb;if(typeof ue!="function")throw new v;if(X(H),D)S(z,H,ne,D,ue);else{var le=ae(H)||z.destroyed;!le&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&re(z,H),ne?Kt.nextTick(Z,z,H,le,ue):Z(z,H,le,ue)}}function Z(z,D,H,ne){H||ce(z,D),D.pendingcb--,ne(),V(z,D)}function ce(z,D){D.length===0&&D.needDrain&&(D.needDrain=!1,z.emit("drain"))}function re(z,D){D.bufferProcessing=!0;var H=D.bufferedRequest;if(z._writev&&H&&H.next){var ne=D.bufferedRequestCount,ue=new Array(ne),le=D.corkedRequestsFree;le.entry=H;for(var he=0,Be=!0;H;)ue[he]=H,H.isBuf||(Be=!1),H=H.next,he+=1;ue.allBuffers=Be,U(z,D,!0,D.length,ue,"",le.finish),D.pendingcb++,D.lastBufferedRequest=null,le.next?(D.corkedRequestsFree=le.next,le.next=null):D.corkedRequestsFree=new r(D),D.bufferedRequestCount=0}else{for(;H;){var te=H.chunk,je=H.encoding,$=H.callback,q=D.objectMode?1:te.length;if(U(z,D,!1,q,te,je,$),H=H.next,D.bufferedRequestCount--,D.writing)break}H===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=H,D.bufferProcessing=!1}F.prototype._write=function(z,D,H){H(new h("_write()"))},F.prototype._writev=null,F.prototype.end=function(z,D,H){var ne=this._writableState;return typeof z=="function"?(H=z,z=null,D=null):typeof D=="function"&&(H=D,D=null),z!=null&&this.write(z,D),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||K(this,ne,H),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ae(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function M(z,D){z._final(function(H){D.pendingcb--,H&&w(z,H),D.prefinished=!0,z.emit("prefinish"),V(z,D)})}function L(z,D){!D.prefinished&&!D.finalCalled&&(typeof z._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,Kt.nextTick(M,z,D)):(D.prefinished=!0,z.emit("prefinish")))}function V(z,D){var H=ae(D);if(H&&(L(z,D),D.pendingcb===0&&(D.finished=!0,z.emit("finish"),D.autoDestroy))){var ne=z._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&z.destroy()}return H}function K(z,D,H){D.ending=!0,V(z,D),H&&(D.finished?Kt.nextTick(H):z.once("finish",H)),D.ended=!0,z.writable=!1}function ee(z,D,H){var ne=z.entry;for(z.entry=null;ne;){var ue=ne.callback;D.pendingcb--,ue(H),ne=ne.next}D.corkedRequestsFree.next=z}return Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),F.prototype.destroy=c.destroy,F.prototype._undestroy=c.undestroy,F.prototype._destroy=function(z,D){D(z)},G1}var $1,US;function Hh(){if(US)return $1;US=1;var r=Object.keys||function(u){var A=[];for(var f in u)A.push(f);return A};$1=o;var e=_T(),t=BT();Gu()(o,e);for(var n=r(t.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=t.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),t.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Kt.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),$1}var Y1={},Ig={exports:{}},OS;function XG(){return OS||(OS=1,function(r,e){var t=dx(),n=t.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=a);function a(o,l,c){return n(o,l,c)}i(n,a),a.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},a.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}}(Ig,Ig.exports)),Ig.exports}var PS;function q2(){if(PS)return Y1;PS=1;var r=XG().Buffer,e=r.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}function n(p){var y=t(p);if(typeof y!="string"&&(r.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return y||p}Y1.StringDecoder=i;function i(p){this.encoding=n(p);var y;switch(this.encoding){case"utf16le":this.text=f,this.end=m,y=4;break;case"utf8":this.fillLast=c,y=4;break;case"base64":this.text=h,this.end=v,y=3;break;default:this.write=x,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(y)}i.prototype.write=function(p){if(p.length===0)return"";var y,N;if(this.lastNeed){if(y=this.fillLast(p),y===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<p.length?y?y+this.text(p,N):this.text(p,N):y||""},i.prototype.end=A,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function a(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,y,N){var w=y.length-1;if(w<N)return 0;var j=a(y[w]);return j>=0?(j>0&&(p.lastNeed=j-1),j):--w<N||j===-2?0:(j=a(y[w]),j>=0?(j>0&&(p.lastNeed=j-2),j):--w<N||j===-2?0:(j=a(y[w]),j>=0?(j>0&&(j===2?j=0:p.lastNeed=j-3),j):0))}function l(p,y,N){if((y[0]&192)!==128)return p.lastNeed=0,"�";if(p.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return p.lastNeed=1,"�";if(p.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return p.lastNeed=2,"�"}}function c(p){var y=this.lastTotal-this.lastNeed,N=l(this,p);if(N!==void 0)return N;if(this.lastNeed<=p.length)return p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,y,0,p.length),this.lastNeed-=p.length}function u(p,y){var N=o(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=N;var w=p.length-(N-this.lastNeed);return p.copy(this.lastChar,0,w),p.toString("utf8",y,w)}function A(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"�":y}function f(p,y){if((p.length-y)%2===0){var N=p.toString("utf16le",y);if(N){var w=N.charCodeAt(N.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function m(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,N)}return y}function h(p,y){var N=(p.length-y)%3;return N===0?p.toString("base64",y):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-N))}function v(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function x(p){return p.toString(this.encoding)}function b(p){return p&&p.length?this.write(p):""}return Y1}var X1,RS;function Y5(){if(RS)return X1;RS=1;var r=sf().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a.apply(this,c)}}}function t(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,l){if(typeof o=="function")return i(a,null,o);o||(o={}),l=e(l||t);var c=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,A=function(){a.writable||m()},f=a._writableState&&a._writableState.finished,m=function(){u=!1,f=!0,c||l.call(a)},h=a._readableState&&a._readableState.endEmitted,v=function(){c=!1,h=!0,u||l.call(a)},x=function(N){l.call(a,N)},b=function(){var N;if(c&&!h)return(!a._readableState||!a._readableState.ended)&&(N=new r),l.call(a,N);if(u&&!f)return(!a._writableState||!a._writableState.ended)&&(N=new r),l.call(a,N)},p=function(){a.req.on("finish",m)};return n(a)?(a.on("complete",m),a.on("abort",b),a.req?p():a.on("request",p)):u&&!a._writableState&&(a.on("end",A),a.on("close",A)),a.on("end",v),a.on("finish",m),o.error!==!1&&a.on("error",x),a.on("close",b),function(){a.removeListener("complete",m),a.removeListener("abort",b),a.removeListener("request",p),a.req&&a.req.removeListener("finish",m),a.removeListener("end",A),a.removeListener("close",A),a.removeListener("finish",m),a.removeListener("end",v),a.removeListener("error",x),a.removeListener("close",b)}}return X1=i,X1}var J1,MS;function JG(){if(MS)return J1;MS=1;var r;function e(p,y,N){return y in p?Object.defineProperty(p,y,{value:N,enumerable:!0,configurable:!0,writable:!0}):p[y]=N,p}var t=Y5(),n=Symbol("lastResolve"),i=Symbol("lastReject"),a=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function A(p,y){return{value:p,done:y}}function f(p){var y=p[n];if(y!==null){var N=p[u].read();N!==null&&(p[l]=null,p[n]=null,p[i]=null,y(A(N,!1)))}}function m(p){Kt.nextTick(f,p)}function h(p,y){return function(N,w){p.then(function(){if(y[o]){N(A(void 0,!0));return}y[c](N,w)},w)}}var v=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((r={get stream(){return this[u]},next:function(){var y=this,N=this[a];if(N!==null)return Promise.reject(N);if(this[o])return Promise.resolve(A(void 0,!0));if(this[u].destroyed)return new Promise(function(I,F){Kt.nextTick(function(){y[a]?F(y[a]):I(A(void 0,!0))})});var w=this[l],j;if(w)j=new Promise(h(w,this));else{var k=this[u].read();if(k!==null)return Promise.resolve(A(k,!1));j=new Promise(this[c])}return this[l]=j,j}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var y=this;return new Promise(function(N,w){y[u].destroy(null,function(j){if(j){w(j);return}N(A(void 0,!0))})})}),r),v),b=function(y){var N,w=Object.create(x,(N={},e(N,u,{value:y,writable:!0}),e(N,n,{value:null,writable:!0}),e(N,i,{value:null,writable:!0}),e(N,a,{value:null,writable:!0}),e(N,o,{value:y._readableState.endEmitted,writable:!0}),e(N,c,{value:function(k,I){var F=w[u].read();F?(w[l]=null,w[n]=null,w[i]=null,k(A(F,!1))):(w[n]=k,w[i]=I)},writable:!0}),N));return w[l]=null,t(y,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=w[i];k!==null&&(w[l]=null,w[n]=null,w[i]=null,k(j)),w[a]=j;return}var I=w[n];I!==null&&(w[l]=null,w[n]=null,w[i]=null,I(A(void 0,!0))),w[o]=!0}),y.on("readable",m.bind(null,w)),w};return J1=b,J1}var Z1,QS;function ZG(){return QS||(QS=1,Z1=function(){throw new Error("Readable.from is not available in the browser")}),Z1}var ew,HS;function _T(){if(HS)return ew;HS=1,ew=C;var r;C.ReadableState=F,V5().EventEmitter;var e=function(he,Be){return he.listeners(Be).length},t=AT(),n=dx().Buffer,i=ul.Uint8Array||function(){};function a(le){return n.from(le)}function o(le){return n.isBuffer(le)||le instanceof i}var l=wT(),c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=$G(),A=NT(),f=jT(),m=f.getHighWaterMark,h=sf().codes,v=h.ERR_INVALID_ARG_TYPE,x=h.ERR_STREAM_PUSH_AFTER_EOF,b=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,N,w;Gu()(C,t);var j=A.errorOrDestroy,k=["error","close","destroy","pause","resume"];function I(le,he,Be){if(typeof le.prependListener=="function")return le.prependListener(he,Be);!le._events||!le._events[he]?le.on(he,Be):Array.isArray(le._events[he])?le._events[he].unshift(Be):le._events[he]=[Be,le._events[he]]}function F(le,he,Be){r=r||Hh(),le=le||{},typeof Be!="boolean"&&(Be=he instanceof r),this.objectMode=!!le.objectMode,Be&&(this.objectMode=this.objectMode||!!le.readableObjectMode),this.highWaterMark=m(this,le,"readableHighWaterMark",Be),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=le.emitClose!==!1,this.autoDestroy=!!le.autoDestroy,this.destroyed=!1,this.defaultEncoding=le.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,le.encoding&&(y||(y=q2().StringDecoder),this.decoder=new y(le.encoding),this.encoding=le.encoding)}function C(le){if(r=r||Hh(),!(this instanceof C))return new C(le);var he=this instanceof r;this._readableState=new F(le,this,he),this.readable=!0,le&&(typeof le.read=="function"&&(this._read=le.read),typeof le.destroy=="function"&&(this._destroy=le.destroy)),t.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(he){this._readableState&&(this._readableState.destroyed=he)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(le,he){he(le)},C.prototype.push=function(le,he){var Be=this._readableState,te;return Be.objectMode?te=!0:typeof le=="string"&&(he=he||Be.defaultEncoding,he!==Be.encoding&&(le=n.from(le,he),he=""),te=!0),P(this,le,he,!1,te)},C.prototype.unshift=function(le){return P(this,le,null,!0,!1)};function P(le,he,Be,te,je){c("readableAddChunk",he);var $=le._readableState;if(he===null)$.reading=!1,ie(le,$);else{var q;if(je||(q=_($,he)),q)j(le,q);else if($.objectMode||he&&he.length>0)if(typeof he!="string"&&!$.objectMode&&Object.getPrototypeOf(he)!==n.prototype&&(he=a(he)),te)$.endEmitted?j(le,new p):T(le,$,he,!0);else if($.ended)j(le,new x);else{if($.destroyed)return!1;$.reading=!1,$.decoder&&!Be?(he=$.decoder.write(he),$.objectMode||he.length!==0?T(le,$,he,!1):re(le,$)):T(le,$,he,!1)}else te||($.reading=!1,re(le,$))}return!$.ended&&($.length<$.highWaterMark||$.length===0)}function T(le,he,Be,te){he.flowing&&he.length===0&&!he.sync?(he.awaitDrain=0,le.emit("data",Be)):(he.length+=he.objectMode?1:Be.length,te?he.buffer.unshift(Be):he.buffer.push(Be),he.needReadable&&Z(le)),re(le,he)}function _(le,he){var Be;return!o(he)&&typeof he!="string"&&he!==void 0&&!le.objectMode&&(Be=new v("chunk",["string","Buffer","Uint8Array"],he)),Be}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(le){y||(y=q2().StringDecoder);var he=new y(le);this._readableState.decoder=he,this._readableState.encoding=this._readableState.decoder.encoding;for(var Be=this._readableState.buffer.head,te="";Be!==null;)te+=he.write(Be.data),Be=Be.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var U=1073741824;function S(le){return le>=U?le=U:(le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++),le}function X(le,he){return le<=0||he.length===0&&he.ended?0:he.objectMode?1:le!==le?he.flowing&&he.length?he.buffer.head.data.length:he.length:(le>he.highWaterMark&&(he.highWaterMark=S(le)),le<=he.length?le:he.ended?he.length:(he.needReadable=!0,0))}C.prototype.read=function(le){c("read",le),le=parseInt(le,10);var he=this._readableState,Be=le;if(le!==0&&(he.emittedReadable=!1),le===0&&he.needReadable&&((he.highWaterMark!==0?he.length>=he.highWaterMark:he.length>0)||he.ended))return c("read: emitReadable",he.length,he.ended),he.length===0&&he.ended?H(this):Z(this),null;if(le=X(le,he),le===0&&he.ended)return he.length===0&&H(this),null;var te=he.needReadable;c("need readable",te),(he.length===0||he.length-le<he.highWaterMark)&&(te=!0,c("length less than watermark",te)),he.ended||he.reading?(te=!1,c("reading or ended",te)):te&&(c("do read"),he.reading=!0,he.sync=!0,he.length===0&&(he.needReadable=!0),this._read(he.highWaterMark),he.sync=!1,he.reading||(le=X(Be,he)));var je;return le>0?je=D(le,he):je=null,je===null?(he.needReadable=he.length<=he.highWaterMark,le=0):(he.length-=le,he.awaitDrain=0),he.length===0&&(he.ended||(he.needReadable=!0),Be!==le&&he.ended&&H(this)),je!==null&&this.emit("data",je),je};function ie(le,he){if(c("onEofChunk"),!he.ended){if(he.decoder){var Be=he.decoder.end();Be&&Be.length&&(he.buffer.push(Be),he.length+=he.objectMode?1:Be.length)}he.ended=!0,he.sync?Z(le):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,ce(le)))}}function Z(le){var he=le._readableState;c("emitReadable",he.needReadable,he.emittedReadable),he.needReadable=!1,he.emittedReadable||(c("emitReadable",he.flowing),he.emittedReadable=!0,Kt.nextTick(ce,le))}function ce(le){var he=le._readableState;c("emitReadable_",he.destroyed,he.length,he.ended),!he.destroyed&&(he.length||he.ended)&&(le.emit("readable"),he.emittedReadable=!1),he.needReadable=!he.flowing&&!he.ended&&he.length<=he.highWaterMark,z(le)}function re(le,he){he.readingMore||(he.readingMore=!0,Kt.nextTick(ae,le,he))}function ae(le,he){for(;!he.reading&&!he.ended&&(he.length<he.highWaterMark||he.flowing&&he.length===0);){var Be=he.length;if(c("maybeReadMore read 0"),le.read(0),Be===he.length)break}he.readingMore=!1}C.prototype._read=function(le){j(this,new b("_read()"))},C.prototype.pipe=function(le,he){var Be=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=le;break;case 1:te.pipes=[te.pipes,le];break;default:te.pipes.push(le);break}te.pipesCount+=1,c("pipe count=%d opts=%j",te.pipesCount,he);var je=(!he||he.end!==!1)&&le!==Kt.stdout&&le!==Kt.stderr,$=je?Q:He;te.endEmitted?Kt.nextTick($):Be.once("end",$),le.on("unpipe",q);function q(Ye,et){c("onunpipe"),Ye===Be&&et&&et.hasUnpiped===!1&&(et.hasUnpiped=!0,fe())}function Q(){c("onend"),le.end()}var G=M(Be);le.on("drain",G);var me=!1;function fe(){c("cleanup"),le.removeListener("close",Ee),le.removeListener("finish",ke),le.removeListener("drain",G),le.removeListener("error",be),le.removeListener("unpipe",q),Be.removeListener("end",Q),Be.removeListener("end",He),Be.removeListener("data",de),me=!0,te.awaitDrain&&(!le._writableState||le._writableState.needDrain)&&G()}Be.on("data",de);function de(Ye){c("ondata");var et=le.write(Ye);c("dest.write",et),et===!1&&((te.pipesCount===1&&te.pipes===le||te.pipesCount>1&&ue(te.pipes,le)!==-1)&&!me&&(c("false write response, pause",te.awaitDrain),te.awaitDrain++),Be.pause())}function be(Ye){c("onerror",Ye),He(),le.removeListener("error",be),e(le,"error")===0&&j(le,Ye)}I(le,"error",be);function Ee(){le.removeListener("finish",ke),He()}le.once("close",Ee);function ke(){c("onfinish"),le.removeListener("close",Ee),He()}le.once("finish",ke);function He(){c("unpipe"),Be.unpipe(le)}return le.emit("pipe",Be),te.flowing||(c("pipe resume"),Be.resume()),le};function M(le){return function(){var Be=le._readableState;c("pipeOnDrain",Be.awaitDrain),Be.awaitDrain&&Be.awaitDrain--,Be.awaitDrain===0&&e(le,"data")&&(Be.flowing=!0,z(le))}}C.prototype.unpipe=function(le){var he=this._readableState,Be={hasUnpiped:!1};if(he.pipesCount===0)return this;if(he.pipesCount===1)return le&&le!==he.pipes?this:(le||(le=he.pipes),he.pipes=null,he.pipesCount=0,he.flowing=!1,le&&le.emit("unpipe",this,Be),this);if(!le){var te=he.pipes,je=he.pipesCount;he.pipes=null,he.pipesCount=0,he.flowing=!1;for(var $=0;$<je;$++)te[$].emit("unpipe",this,{hasUnpiped:!1});return this}var q=ue(he.pipes,le);return q===-1?this:(he.pipes.splice(q,1),he.pipesCount-=1,he.pipesCount===1&&(he.pipes=he.pipes[0]),le.emit("unpipe",this,Be),this)},C.prototype.on=function(le,he){var Be=t.prototype.on.call(this,le,he),te=this._readableState;return le==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):le==="readable"&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,c("on readable",te.length,te.reading),te.length?Z(this):te.reading||Kt.nextTick(V,this)),Be},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(le,he){var Be=t.prototype.removeListener.call(this,le,he);return le==="readable"&&Kt.nextTick(L,this),Be},C.prototype.removeAllListeners=function(le){var he=t.prototype.removeAllListeners.apply(this,arguments);return(le==="readable"||le===void 0)&&Kt.nextTick(L,this),he};function L(le){var he=le._readableState;he.readableListening=le.listenerCount("readable")>0,he.resumeScheduled&&!he.paused?he.flowing=!0:le.listenerCount("data")>0&&le.resume()}function V(le){c("readable nexttick read 0"),le.read(0)}C.prototype.resume=function(){var le=this._readableState;return le.flowing||(c("resume"),le.flowing=!le.readableListening,K(this,le)),le.paused=!1,this};function K(le,he){he.resumeScheduled||(he.resumeScheduled=!0,Kt.nextTick(ee,le,he))}function ee(le,he){c("resume",he.reading),he.reading||le.read(0),he.resumeScheduled=!1,le.emit("resume"),z(le),he.flowing&&!he.reading&&le.read(0)}C.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function z(le){var he=le._readableState;for(c("flow",he.flowing);he.flowing&&le.read()!==null;);}C.prototype.wrap=function(le){var he=this,Be=this._readableState,te=!1;le.on("end",function(){if(c("wrapped end"),Be.decoder&&!Be.ended){var q=Be.decoder.end();q&&q.length&&he.push(q)}he.push(null)}),le.on("data",function(q){if(c("wrapped data"),Be.decoder&&(q=Be.decoder.write(q)),!(Be.objectMode&&q==null)&&!(!Be.objectMode&&(!q||!q.length))){var Q=he.push(q);Q||(te=!0,le.pause())}});for(var je in le)this[je]===void 0&&typeof le[je]=="function"&&(this[je]=function(Q){return function(){return le[Q].apply(le,arguments)}}(je));for(var $=0;$<k.length;$++)le.on(k[$],this.emit.bind(this,k[$]));return this._read=function(q){c("wrapped _read",q),te&&(te=!1,le.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=JG()),N(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(he){this._readableState&&(this._readableState.flowing=he)}}),C._fromList=D,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(le,he){if(he.length===0)return null;var Be;return he.objectMode?Be=he.buffer.shift():!le||le>=he.length?(he.decoder?Be=he.buffer.join(""):he.buffer.length===1?Be=he.buffer.first():Be=he.buffer.concat(he.length),he.buffer.clear()):Be=he.buffer.consume(le,he.decoder),Be}function H(le){var he=le._readableState;c("endReadable",he.endEmitted),he.endEmitted||(he.ended=!0,Kt.nextTick(ne,he,le))}function ne(le,he){if(c("endReadableNT",le.endEmitted,le.length),!le.endEmitted&&le.length===0&&(le.endEmitted=!0,he.readable=!1,he.emit("end"),le.autoDestroy)){var Be=he._writableState;(!Be||Be.autoDestroy&&Be.finished)&&he.destroy()}}typeof Symbol=="function"&&(C.from=function(le,he){return w===void 0&&(w=ZG()),w(C,le,he)});function ue(le,he){for(var Be=0,te=le.length;Be<te;Be++)if(le[Be]===he)return Be;return-1}return ew}var tw,qS;function CT(){if(qS)return tw;qS=1,tw=l;var r=sf().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,a=Hh();Gu()(l,a);function o(A,f){var m=this._transformState;m.transforming=!1;var h=m.writecb;if(h===null)return this.emit("error",new t);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),h(A);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function l(A){if(!(this instanceof l))return new l(A);a.call(this,A),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&(typeof A.transform=="function"&&(this._transform=A.transform),typeof A.flush=="function"&&(this._flush=A.flush)),this.on("prefinish",c)}function c(){var A=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,m){u(A,f,m)}):u(this,null,null)}l.prototype.push=function(A,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,A,f)},l.prototype._transform=function(A,f,m){m(new e("_transform()"))},l.prototype._write=function(A,f,m){var h=this._transformState;if(h.writecb=m,h.writechunk=A,h.writeencoding=f,!h.transforming){var v=this._readableState;(h.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},l.prototype._read=function(A){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},l.prototype._destroy=function(A,f){a.prototype._destroy.call(this,A,function(m){f(m)})};function u(A,f,m){if(f)return A.emit("error",f);if(m!=null&&A.push(m),A._writableState.length)throw new i;if(A._transformState.transforming)throw new n;return A.push(null)}return tw}var rw,zS;function e$(){if(zS)return rw;zS=1,rw=e;var r=CT();Gu()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},rw}var nw,KS;function t$(){if(KS)return nw;KS=1;var r;function e(m){var h=!1;return function(){h||(h=!0,m.apply(void 0,arguments))}}var t=sf().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function a(m){if(m)throw m}function o(m){return m.setHeader&&typeof m.abort=="function"}function l(m,h,v,x){x=e(x);var b=!1;m.on("close",function(){b=!0}),r===void 0&&(r=Y5()),r(m,{readable:h,writable:v},function(y){if(y)return x(y);b=!0,x()});var p=!1;return function(y){if(!b&&!p){if(p=!0,o(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();x(y||new i("pipe"))}}}function c(m){m()}function u(m,h){return m.pipe(h)}function A(m){return!m.length||typeof m[m.length-1]!="function"?a:m.pop()}function f(){for(var m=arguments.length,h=new Array(m),v=0;v<m;v++)h[v]=arguments[v];var x=A(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var b,p=h.map(function(y,N){var w=N<h.length-1,j=N>0;return l(y,w,j,function(k){b||(b=k),k&&p.forEach(c),!w&&(p.forEach(c),x(b))})});return h.reduce(u)}return nw=f,nw}var sw,VS;function X5(){if(VS)return sw;VS=1,sw=t;var r=V5().EventEmitter,e=Gu();e(t,r),t.Readable=_T(),t.Writable=BT(),t.Duplex=Hh(),t.Transform=CT(),t.PassThrough=e$(),t.finished=Y5(),t.pipeline=t$(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(n,i){var a=this;function o(h){n.writable&&n.write(h)===!1&&a.pause&&a.pause()}a.on("data",o);function l(){a.readable&&a.resume&&a.resume()}n.on("drain",l),!n._isStdio&&(!i||i.end!==!1)&&(a.on("end",u),a.on("close",A));var c=!1;function u(){c||(c=!0,n.end())}function A(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(m(),r.listenerCount(this,"error")===0)throw h}a.on("error",f),n.on("error",f);function m(){a.removeListener("data",o),n.removeListener("drain",l),a.removeListener("end",u),a.removeListener("close",A),a.removeListener("error",f),n.removeListener("error",f),a.removeListener("end",m),a.removeListener("close",m),n.removeListener("close",m)}return a.on("end",m),a.on("close",m),n.on("close",m),n.emit("pipe",a),n},sw}var WS;function r$(){return WS||(WS=1,function(r){(function(e){e.parser=function(D,H){return new n(D,H)},e.SAXParser=n,e.SAXStream=A,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(D,H){if(!(this instanceof n))return new n(D,H);var ne=this;a(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=H||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!D,ne.noscript=!!(D||ne.opt.noscript),ne.state=C.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(x)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),T(ne,"onready")}Object.create||(Object.create=function(D){function H(){}H.prototype=D;var ne=new H;return ne}),Object.keys||(Object.keys=function(D){var H=[];for(var ne in D)D.hasOwnProperty(ne)&&H.push(ne);return H});function i(D){for(var H=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,ue=0,le=t.length;ue<le;ue++){var he=D[t[ue]].length;if(he>H)switch(t[ue]){case"textNode":U(D);break;case"cdata":_(D,"oncdata",D.cdata),D.cdata="";break;case"script":_(D,"onscript",D.script),D.script="";break;default:X(D,"Max buffer length exceeded: "+t[ue])}ne=Math.max(ne,he)}var Be=e.MAX_BUFFER_LENGTH-ne;D.bufferCheckPosition=Be+D.position}function a(D){for(var H=0,ne=t.length;H<ne;H++)D[t[H]]=""}function o(D){U(D),D.cdata!==""&&(_(D,"oncdata",D.cdata),D.cdata=""),D.script!==""&&(_(D,"onscript",D.script),D.script="")}n.prototype={end:function(){ie(this)},write:z,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=X5().Stream}catch{l=function(){}}var c=e.EVENTS.filter(function(D){return D!=="error"&&D!=="end"});function u(D,H){return new A(D,H)}function A(D,H){if(!(this instanceof A))return new A(D,H);l.apply(this),this._parser=new n(D,H),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(ue){ne.emit("error",ue),ne._parser.error=null},this._decoder=null,c.forEach(function(ue){Object.defineProperty(ne,"on"+ue,{get:function(){return ne._parser["on"+ue]},set:function(le){if(!le)return ne.removeAllListeners(ue),ne._parser["on"+ue]=le,le;ne.on(ue,le)},enumerable:!0,configurable:!1})})}A.prototype=Object.create(l.prototype,{constructor:{value:A}}),A.prototype.write=function(D){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(D)){if(!this._decoder){var H=q2().StringDecoder;this._decoder=new H("utf8")}D=this._decoder.write(D)}return this._parser.write(D.toString()),this.emit("data",D),!0},A.prototype.end=function(D){return D&&D.length&&this.write(D),this._parser.end(),!0},A.prototype.on=function(D,H){var ne=this;return!ne._parser["on"+D]&&c.indexOf(D)!==-1&&(ne._parser["on"+D]=function(){var ue=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ue.splice(0,0,D),ne.emit.apply(ne,ue)}),l.prototype.on.call(ne,D,H)};var f="[CDATA[",m="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",x={xml:h,xmlns:v},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(D){return D===" "||D===`
`||D==="\r"||D==="	"}function j(D){return D==='"'||D==="'"}function k(D){return D===">"||w(D)}function I(D,H){return D.test(H)}function F(D,H){return!I(D,H)}var C=0;e.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(D){var H=e.ENTITIES[D],ne=typeof H=="number"?String.fromCharCode(H):H;e.ENTITIES[D]=ne});for(var P in e.STATE)e.STATE[e.STATE[P]]=P;C=e.STATE;function T(D,H,ne){D[H]&&D[H](ne)}function _(D,H,ne){D.textNode&&U(D),T(D,H,ne)}function U(D){D.textNode=S(D.opt,D.textNode),D.textNode&&T(D,"ontext",D.textNode),D.textNode=""}function S(D,H){return D.trim&&(H=H.trim()),D.normalize&&(H=H.replace(/\s+/g," ")),H}function X(D,H){return U(D),D.trackPosition&&(H+=`
Line: `+D.line+`
Column: `+D.column+`
Char: `+D.c),H=new Error(H),D.error=H,T(D,"onerror",H),D}function ie(D){return D.sawRoot&&!D.closedRoot&&Z(D,"Unclosed root tag"),D.state!==C.BEGIN&&D.state!==C.BEGIN_WHITESPACE&&D.state!==C.TEXT&&X(D,"Unexpected end"),U(D),D.c="",D.closed=!0,T(D,"onend"),n.call(D,D.strict,D.opt),D}function Z(D,H){if(typeof D!="object"||!(D instanceof n))throw new Error("bad call to strictFail");D.strict&&X(D,H)}function ce(D){D.strict||(D.tagName=D.tagName[D.looseCase]());var H=D.tags[D.tags.length-1]||D,ne=D.tag={name:D.tagName,attributes:{}};D.opt.xmlns&&(ne.ns=H.ns),D.attribList.length=0,_(D,"onopentagstart",ne)}function re(D,H){var ne=D.indexOf(":"),ue=ne<0?["",D]:D.split(":"),le=ue[0],he=ue[1];return H&&D==="xmlns"&&(le="xmlns",he=""),{prefix:le,local:he}}function ae(D){if(D.strict||(D.attribName=D.attribName[D.looseCase]()),D.attribList.indexOf(D.attribName)!==-1||D.tag.attributes.hasOwnProperty(D.attribName)){D.attribName=D.attribValue="";return}if(D.opt.xmlns){var H=re(D.attribName,!0),ne=H.prefix,ue=H.local;if(ne==="xmlns")if(ue==="xml"&&D.attribValue!==h)Z(D,"xml: prefix must be bound to "+h+`
Actual: `+D.attribValue);else if(ue==="xmlns"&&D.attribValue!==v)Z(D,"xmlns: prefix must be bound to "+v+`
Actual: `+D.attribValue);else{var le=D.tag,he=D.tags[D.tags.length-1]||D;le.ns===he.ns&&(le.ns=Object.create(he.ns)),le.ns[ue]=D.attribValue}D.attribList.push([D.attribName,D.attribValue])}else D.tag.attributes[D.attribName]=D.attribValue,_(D,"onattribute",{name:D.attribName,value:D.attribValue});D.attribName=D.attribValue=""}function M(D,H){if(D.opt.xmlns){var ne=D.tag,ue=re(D.tagName);ne.prefix=ue.prefix,ne.local=ue.local,ne.uri=ne.ns[ue.prefix]||"",ne.prefix&&!ne.uri&&(Z(D,"Unbound namespace prefix: "+JSON.stringify(D.tagName)),ne.uri=ue.prefix);var le=D.tags[D.tags.length-1]||D;ne.ns&&le.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(de){_(D,"onopennamespace",{prefix:de,uri:ne.ns[de]})});for(var he=0,Be=D.attribList.length;he<Be;he++){var te=D.attribList[he],je=te[0],$=te[1],q=re(je,!0),Q=q.prefix,G=q.local,me=Q===""?"":ne.ns[Q]||"",fe={name:je,value:$,prefix:Q,local:G,uri:me};Q&&Q!=="xmlns"&&!me&&(Z(D,"Unbound namespace prefix: "+JSON.stringify(Q)),fe.uri=Q),D.tag.attributes[je]=fe,_(D,"onattribute",fe)}D.attribList.length=0}D.tag.isSelfClosing=!!H,D.sawRoot=!0,D.tags.push(D.tag),_(D,"onopentag",D.tag),H||(!D.noscript&&D.tagName.toLowerCase()==="script"?D.state=C.SCRIPT:D.state=C.TEXT,D.tag=null,D.tagName=""),D.attribName=D.attribValue="",D.attribList.length=0}function L(D){if(!D.tagName){Z(D,"Weird empty close tag."),D.textNode+="</>",D.state=C.TEXT;return}if(D.script){if(D.tagName!=="script"){D.script+="</"+D.tagName+">",D.tagName="",D.state=C.SCRIPT;return}_(D,"onscript",D.script),D.script=""}var H=D.tags.length,ne=D.tagName;D.strict||(ne=ne[D.looseCase]());for(var ue=ne;H--;){var le=D.tags[H];if(le.name!==ue)Z(D,"Unexpected close tag");else break}if(H<0){Z(D,"Unmatched closing tag: "+D.tagName),D.textNode+="</"+D.tagName+">",D.state=C.TEXT;return}D.tagName=ne;for(var he=D.tags.length;he-- >H;){var Be=D.tag=D.tags.pop();D.tagName=D.tag.name,_(D,"onclosetag",D.tagName);var te={};for(var je in Be.ns)te[je]=Be.ns[je];var $=D.tags[D.tags.length-1]||D;D.opt.xmlns&&Be.ns!==$.ns&&Object.keys(Be.ns).forEach(function(q){var Q=Be.ns[q];_(D,"onclosenamespace",{prefix:q,uri:Q})})}H===0&&(D.closedRoot=!0),D.tagName=D.attribValue=D.attribName="",D.attribList.length=0,D.state=C.TEXT}function V(D){var H=D.entity,ne=H.toLowerCase(),ue,le="";return D.ENTITIES[H]?D.ENTITIES[H]:D.ENTITIES[ne]?D.ENTITIES[ne]:(H=ne,H.charAt(0)==="#"&&(H.charAt(1)==="x"?(H=H.slice(2),ue=parseInt(H,16),le=ue.toString(16)):(H=H.slice(1),ue=parseInt(H,10),le=ue.toString(10))),H=H.replace(/^0+/,""),isNaN(ue)||le.toLowerCase()!==H?(Z(D,"Invalid character entity"),"&"+D.entity+";"):String.fromCodePoint(ue))}function K(D,H){H==="<"?(D.state=C.OPEN_WAKA,D.startTagPosition=D.position):w(H)||(Z(D,"Non-whitespace before first tag."),D.textNode=H,D.state=C.TEXT)}function ee(D,H){var ne="";return H<D.length&&(ne=D.charAt(H)),ne}function z(D){var H=this;if(this.error)throw this.error;if(H.closed)return X(H,"Cannot write after close. Assign an onready handler.");if(D===null)return ie(H);typeof D=="object"&&(D=D.toString());for(var ne=0,ue="";ue=ee(D,ne++),H.c=ue,!!ue;)switch(H.trackPosition&&(H.position++,ue===`
`?(H.line++,H.column=0):H.column++),H.state){case C.BEGIN:if(H.state=C.BEGIN_WHITESPACE,ue==="\uFEFF")continue;K(H,ue);continue;case C.BEGIN_WHITESPACE:K(H,ue);continue;case C.TEXT:if(H.sawRoot&&!H.closedRoot){for(var le=ne-1;ue&&ue!=="<"&&ue!=="&";)ue=ee(D,ne++),ue&&H.trackPosition&&(H.position++,ue===`
`?(H.line++,H.column=0):H.column++);H.textNode+=D.substring(le,ne-1)}ue==="<"&&!(H.sawRoot&&H.closedRoot&&!H.strict)?(H.state=C.OPEN_WAKA,H.startTagPosition=H.position):(!w(ue)&&(!H.sawRoot||H.closedRoot)&&Z(H,"Text data outside of root node."),ue==="&"?H.state=C.TEXT_ENTITY:H.textNode+=ue);continue;case C.SCRIPT:ue==="<"?H.state=C.SCRIPT_ENDING:H.script+=ue;continue;case C.SCRIPT_ENDING:ue==="/"?H.state=C.CLOSE_TAG:(H.script+="<"+ue,H.state=C.SCRIPT);continue;case C.OPEN_WAKA:if(ue==="!")H.state=C.SGML_DECL,H.sgmlDecl="";else if(!w(ue))if(I(b,ue))H.state=C.OPEN_TAG,H.tagName=ue;else if(ue==="/")H.state=C.CLOSE_TAG,H.tagName="";else if(ue==="?")H.state=C.PROC_INST,H.procInstName=H.procInstBody="";else{if(Z(H,"Unencoded <"),H.startTagPosition+1<H.position){var he=H.position-H.startTagPosition;ue=new Array(he).join(" ")+ue}H.textNode+="<"+ue,H.state=C.TEXT}continue;case C.SGML_DECL:(H.sgmlDecl+ue).toUpperCase()===f?(_(H,"onopencdata"),H.state=C.CDATA,H.sgmlDecl="",H.cdata=""):H.sgmlDecl+ue==="--"?(H.state=C.COMMENT,H.comment="",H.sgmlDecl=""):(H.sgmlDecl+ue).toUpperCase()===m?(H.state=C.DOCTYPE,(H.doctype||H.sawRoot)&&Z(H,"Inappropriately located doctype declaration"),H.doctype="",H.sgmlDecl=""):ue===">"?(_(H,"onsgmldeclaration",H.sgmlDecl),H.sgmlDecl="",H.state=C.TEXT):(j(ue)&&(H.state=C.SGML_DECL_QUOTED),H.sgmlDecl+=ue);continue;case C.SGML_DECL_QUOTED:ue===H.q&&(H.state=C.SGML_DECL,H.q=""),H.sgmlDecl+=ue;continue;case C.DOCTYPE:ue===">"?(H.state=C.TEXT,_(H,"ondoctype",H.doctype),H.doctype=!0):(H.doctype+=ue,ue==="["?H.state=C.DOCTYPE_DTD:j(ue)&&(H.state=C.DOCTYPE_QUOTED,H.q=ue));continue;case C.DOCTYPE_QUOTED:H.doctype+=ue,ue===H.q&&(H.q="",H.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:H.doctype+=ue,ue==="]"?H.state=C.DOCTYPE:j(ue)&&(H.state=C.DOCTYPE_DTD_QUOTED,H.q=ue);continue;case C.DOCTYPE_DTD_QUOTED:H.doctype+=ue,ue===H.q&&(H.state=C.DOCTYPE_DTD,H.q="");continue;case C.COMMENT:ue==="-"?H.state=C.COMMENT_ENDING:H.comment+=ue;continue;case C.COMMENT_ENDING:ue==="-"?(H.state=C.COMMENT_ENDED,H.comment=S(H.opt,H.comment),H.comment&&_(H,"oncomment",H.comment),H.comment=""):(H.comment+="-"+ue,H.state=C.COMMENT);continue;case C.COMMENT_ENDED:ue!==">"?(Z(H,"Malformed comment"),H.comment+="--"+ue,H.state=C.COMMENT):H.state=C.TEXT;continue;case C.CDATA:ue==="]"?H.state=C.CDATA_ENDING:H.cdata+=ue;continue;case C.CDATA_ENDING:ue==="]"?H.state=C.CDATA_ENDING_2:(H.cdata+="]"+ue,H.state=C.CDATA);continue;case C.CDATA_ENDING_2:ue===">"?(H.cdata&&_(H,"oncdata",H.cdata),_(H,"onclosecdata"),H.cdata="",H.state=C.TEXT):ue==="]"?H.cdata+="]":(H.cdata+="]]"+ue,H.state=C.CDATA);continue;case C.PROC_INST:ue==="?"?H.state=C.PROC_INST_ENDING:w(ue)?H.state=C.PROC_INST_BODY:H.procInstName+=ue;continue;case C.PROC_INST_BODY:if(!H.procInstBody&&w(ue))continue;ue==="?"?H.state=C.PROC_INST_ENDING:H.procInstBody+=ue;continue;case C.PROC_INST_ENDING:ue===">"?(_(H,"onprocessinginstruction",{name:H.procInstName,body:H.procInstBody}),H.procInstName=H.procInstBody="",H.state=C.TEXT):(H.procInstBody+="?"+ue,H.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:I(p,ue)?H.tagName+=ue:(ce(H),ue===">"?M(H):ue==="/"?H.state=C.OPEN_TAG_SLASH:(w(ue)||Z(H,"Invalid character in tag name"),H.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:ue===">"?(M(H,!0),L(H)):(Z(H,"Forward-slash in opening tag not followed by >"),H.state=C.ATTRIB);continue;case C.ATTRIB:if(w(ue))continue;ue===">"?M(H):ue==="/"?H.state=C.OPEN_TAG_SLASH:I(b,ue)?(H.attribName=ue,H.attribValue="",H.state=C.ATTRIB_NAME):Z(H,"Invalid attribute name");continue;case C.ATTRIB_NAME:ue==="="?H.state=C.ATTRIB_VALUE:ue===">"?(Z(H,"Attribute without value"),H.attribValue=H.attribName,ae(H),M(H)):w(ue)?H.state=C.ATTRIB_NAME_SAW_WHITE:I(p,ue)?H.attribName+=ue:Z(H,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if(ue==="=")H.state=C.ATTRIB_VALUE;else{if(w(ue))continue;Z(H,"Attribute without value"),H.tag.attributes[H.attribName]="",H.attribValue="",_(H,"onattribute",{name:H.attribName,value:""}),H.attribName="",ue===">"?M(H):I(b,ue)?(H.attribName=ue,H.state=C.ATTRIB_NAME):(Z(H,"Invalid attribute name"),H.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(w(ue))continue;j(ue)?(H.q=ue,H.state=C.ATTRIB_VALUE_QUOTED):(Z(H,"Unquoted attribute value"),H.state=C.ATTRIB_VALUE_UNQUOTED,H.attribValue=ue);continue;case C.ATTRIB_VALUE_QUOTED:if(ue!==H.q){ue==="&"?H.state=C.ATTRIB_VALUE_ENTITY_Q:H.attribValue+=ue;continue}ae(H),H.q="",H.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:w(ue)?H.state=C.ATTRIB:ue===">"?M(H):ue==="/"?H.state=C.OPEN_TAG_SLASH:I(b,ue)?(Z(H,"No whitespace between attributes"),H.attribName=ue,H.attribValue="",H.state=C.ATTRIB_NAME):Z(H,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!k(ue)){ue==="&"?H.state=C.ATTRIB_VALUE_ENTITY_U:H.attribValue+=ue;continue}ae(H),ue===">"?M(H):H.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(H.tagName)ue===">"?L(H):I(p,ue)?H.tagName+=ue:H.script?(H.script+="</"+H.tagName,H.tagName="",H.state=C.SCRIPT):(w(ue)||Z(H,"Invalid tagname in closing tag"),H.state=C.CLOSE_TAG_SAW_WHITE);else{if(w(ue))continue;F(b,ue)?H.script?(H.script+="</"+ue,H.state=C.SCRIPT):Z(H,"Invalid tagname in closing tag."):H.tagName=ue}continue;case C.CLOSE_TAG_SAW_WHITE:if(w(ue))continue;ue===">"?L(H):Z(H,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var Be,te;switch(H.state){case C.TEXT_ENTITY:Be=C.TEXT,te="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:Be=C.ATTRIB_VALUE_QUOTED,te="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:Be=C.ATTRIB_VALUE_UNQUOTED,te="attribValue";break}ue===";"?(H[te]+=V(H),H.entity="",H.state=Be):I(H.entity.length?N:y,ue)?H.entity+=ue:(Z(H,"Invalid character in entity name"),H[te]+="&"+H.entity+ue,H.entity="",H.state=Be);continue;default:throw new Error(H,"Unknown state: "+H.state)}return H.position>=H.bufferCheckPosition&&i(H),H}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var D=String.fromCharCode,H=Math.floor,ne=function(){var ue=16384,le=[],he,Be,te=-1,je=arguments.length;if(!je)return"";for(var $="";++te<je;){var q=Number(arguments[te]);if(!isFinite(q)||q<0||q>1114111||H(q)!==q)throw RangeError("Invalid code point: "+q);q<=65535?le.push(q):(q-=65536,he=(q>>10)+55296,Be=q%1024+56320,le.push(he,Be)),(te+1===je||le.length>ue)&&($+=D.apply(null,le),le.length=0)}return $};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(r)}(qb)),qb}var iw,GS;function J5(){return GS||(GS=1,iw={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),iw}var aw,$S;function Z5(){if($S)return aw;$S=1;var r=J5().isArray;return aw={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},aw}var ow,YS;function ET(){if(YS)return ow;YS=1;var r=r$(),e=Z5(),t=J5().isArray,n,i;function a(p){return n=e.copyOptions(p),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(p){var y=Number(p);if(!isNaN(y))return y;var N=p.toLowerCase();return N==="true"?!0:N==="false"?!1:p}function l(p,y){var N;if(n.compact){if(!i[n[p+"Key"]]&&(t(n.alwaysArray)?n.alwaysArray.indexOf(n[p+"Key"])!==-1:n.alwaysArray)&&(i[n[p+"Key"]]=[]),i[n[p+"Key"]]&&!t(i[n[p+"Key"]])&&(i[n[p+"Key"]]=[i[n[p+"Key"]]]),p+"Fn"in n&&typeof y=="string"&&(y=n[p+"Fn"](y,i)),p==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(N in y)if(y.hasOwnProperty(N))if("instructionFn"in n)y[N]=n.instructionFn(y[N],N,i);else{var w=y[N];delete y[N],y[n.instructionNameFn(N,w,i)]=w}}t(i[n[p+"Key"]])?i[n[p+"Key"]].push(y):i[n[p+"Key"]]=y}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var j={};if(j[n.typeKey]=p,p==="instruction"){for(N in y)if(y.hasOwnProperty(N))break;j[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(N,y,i):N,n.instructionHasAttributes?(j[n.attributesKey]=y[N][n.attributesKey],"instructionFn"in n&&(j[n.attributesKey]=n.instructionFn(j[n.attributesKey],N,i))):("instructionFn"in n&&(y[N]=n.instructionFn(y[N],N,i)),j[n.instructionKey]=y[N])}else p+"Fn"in n&&(y=n[p+"Fn"](y,i)),j[n[p+"Key"]]=y;n.addParent&&(j[n.parentKey]=i),i[n.elementsKey].push(j)}}function c(p){if("attributesFn"in n&&p&&(p=n.attributesFn(p,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&p){var y;for(y in p)if(p.hasOwnProperty(y)&&(n.trim&&(p[y]=p[y].trim()),n.nativeTypeAttributes&&(p[y]=o(p[y])),"attributeValueFn"in n&&(p[y]=n.attributeValueFn(p[y],y,i)),"attributeNameFn"in n)){var N=p[y];delete p[y],p[n.attributeNameFn(y,p[y],i)]=N}}return p}function u(p){var y={};if(p.body&&(p.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var N=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,w;(w=N.exec(p.body))!==null;)y[w[1]]=w[2]||w[3]||w[4];y=c(y)}if(p.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(y).length&&(i[n.declarationKey][n.attributesKey]=y),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(p.body=p.body.trim());var j={};n.instructionHasAttributes&&Object.keys(y).length?(j[p.name]={},j[p.name][n.attributesKey]=y):j[p.name]=p.body,l("instruction",j)}}function A(p,y){var N;if(typeof p=="object"&&(y=p.attributes,p=p.name),y=c(y),"elementNameFn"in n&&(p=n.elementNameFn(p,i)),n.compact){if(N={},!n.ignoreAttributes&&y&&Object.keys(y).length){N[n.attributesKey]={};var w;for(w in y)y.hasOwnProperty(w)&&(N[n.attributesKey][w]=y[w])}!(p in i)&&(t(n.alwaysArray)?n.alwaysArray.indexOf(p)!==-1:n.alwaysArray)&&(i[p]=[]),i[p]&&!t(i[p])&&(i[p]=[i[p]]),t(i[p])?i[p].push(N):i[p]=N}else i[n.elementsKey]||(i[n.elementsKey]=[]),N={},N[n.typeKey]="element",N[n.nameKey]=p,!n.ignoreAttributes&&y&&Object.keys(y).length&&(N[n.attributesKey]=y),n.alwaysChildren&&(N[n.elementsKey]=[]),i[n.elementsKey].push(N);N[n.parentKey]=i,i=N}function f(p){n.ignoreText||!p.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(p=p.trim()),n.nativeType&&(p=o(p)),n.sanitize&&(p=p.replace(/&/g,"&amp;").replace(/</g,"<").replace(/>/g,">")),l("text",p))}function m(p){n.ignoreComment||(n.trim&&(p=p.trim()),l("comment",p))}function h(p){var y=i[n.parentKey];n.addParent||delete i[n.parentKey],i=y}function v(p){n.ignoreCdata||(n.trim&&(p=p.trim()),l("cdata",p))}function x(p){n.ignoreDoctype||(p=p.replace(/^ /,""),n.trim&&(p=p.trim()),l("doctype",p))}function b(p){p.note=p}return ow=function(p,y){var N=r.parser(!0,{}),w={};if(i=w,n=a(y),N.opt={strictEntities:!0},N.onopentag=A,N.ontext=f,N.oncomment=m,N.onclosetag=h,N.onerror=b,N.oncdata=v,N.ondoctype=x,N.onprocessinginstruction=u,N.write(p).close(),w[n.elementsKey]){var j=w[n.elementsKey];delete w[n.elementsKey],w[n.elementsKey]=j,delete w.text}return w},ow}var lw,XS;function n$(){if(XS)return lw;XS=1;var r=Z5(),e=ET();function t(n){var i=r.copyOptions(n);return r.ensureSpacesExists(i),i}return lw=function(n,i){var a,o,l,c;return a=t(i),o=e(n,a),c="compact"in a&&a.compact?"_parent":"parent","addParent"in a&&a.addParent?l=JSON.stringify(o,function(u,A){return u===c?"_":A},a.spaces):l=JSON.stringify(o,null,a.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},lw}var cw,JS;function ST(){if(JS)return cw;JS=1;var r=Z5(),e=J5().isArray,t,n;function i(N){var w=r.copyOptions(N);return r.ensureFlagExists("ignoreDeclaration",w),r.ensureFlagExists("ignoreInstruction",w),r.ensureFlagExists("ignoreAttributes",w),r.ensureFlagExists("ignoreText",w),r.ensureFlagExists("ignoreComment",w),r.ensureFlagExists("ignoreCdata",w),r.ensureFlagExists("ignoreDoctype",w),r.ensureFlagExists("compact",w),r.ensureFlagExists("indentText",w),r.ensureFlagExists("indentCdata",w),r.ensureFlagExists("indentAttributes",w),r.ensureFlagExists("indentInstruction",w),r.ensureFlagExists("fullTagEmptyElement",w),r.ensureFlagExists("noQuotesForNativeAttributes",w),r.ensureSpacesExists(w),typeof w.spaces=="number"&&(w.spaces=Array(w.spaces+1).join(" ")),r.ensureKeyExists("declaration",w),r.ensureKeyExists("instruction",w),r.ensureKeyExists("attributes",w),r.ensureKeyExists("text",w),r.ensureKeyExists("comment",w),r.ensureKeyExists("cdata",w),r.ensureKeyExists("doctype",w),r.ensureKeyExists("type",w),r.ensureKeyExists("name",w),r.ensureKeyExists("elements",w),r.checkFnExists("doctype",w),r.checkFnExists("instruction",w),r.checkFnExists("cdata",w),r.checkFnExists("comment",w),r.checkFnExists("text",w),r.checkFnExists("instructionName",w),r.checkFnExists("elementName",w),r.checkFnExists("attributeName",w),r.checkFnExists("attributeValue",w),r.checkFnExists("attributes",w),r.checkFnExists("fullTagEmptyElement",w),w}function a(N,w,j){return(!j&&N.spaces?`
`:"")+Array(w+1).join(N.spaces)}function o(N,w,j){if(w.ignoreAttributes)return"";"attributesFn"in w&&(N=w.attributesFn(N,n,t));var k,I,F,C,P=[];for(k in N)N.hasOwnProperty(k)&&N[k]!==null&&N[k]!==void 0&&(C=w.noQuotesForNativeAttributes&&typeof N[k]!="string"?"":'"',I=""+N[k],I=I.replace(/"/g,"&quot;"),F="attributeNameFn"in w?w.attributeNameFn(k,I,n,t):k,P.push(w.spaces&&w.indentAttributes?a(w,j+1,!1):" "),P.push(F+"="+C+("attributeValueFn"in w?w.attributeValueFn(I,k,n,t):I)+C));return N&&Object.keys(N).length&&w.spaces&&w.indentAttributes&&P.push(a(w,j,!1)),P.join("")}function l(N,w,j){return t=N,n="xml",w.ignoreDeclaration?"":"<?xml"+o(N[w.attributesKey],w,j)+"?>"}function c(N,w,j){if(w.ignoreInstruction)return"";var k;for(k in N)if(N.hasOwnProperty(k))break;var I="instructionNameFn"in w?w.instructionNameFn(k,N[k],n,t):k;if(typeof N[k]=="object")return t=N,n=I,"<?"+I+o(N[k][w.attributesKey],w,j)+"?>";var F=N[k]?N[k]:"";return"instructionFn"in w&&(F=w.instructionFn(F,k,n,t)),"<?"+I+(F?" "+F:"")+"?>"}function u(N,w){return w.ignoreComment?"":"<!--"+("commentFn"in w?w.commentFn(N,n,t):N)+"-->"}function A(N,w){return w.ignoreCdata?"":"<![CDATA["+("cdataFn"in w?w.cdataFn(N,n,t):N.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(N,w){return w.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in w?w.doctypeFn(N,n,t):N)+">"}function m(N,w){return w.ignoreText?"":(N=""+N,N=N.replace(/&amp;/g,"&"),N=N.replace(/&/g,"&amp;").replace(/</g,"<").replace(/>/g,">"),"textFn"in w?w.textFn(N,n,t):N)}function h(N,w){var j;if(N.elements&&N.elements.length)for(j=0;j<N.elements.length;++j)switch(N.elements[j][w.typeKey]){case"text":if(w.indentText)return!0;break;case"cdata":if(w.indentCdata)return!0;break;case"instruction":if(w.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function v(N,w,j){t=N,n=N.name;var k=[],I="elementNameFn"in w?w.elementNameFn(N.name,N):N.name;k.push("<"+I),N[w.attributesKey]&&k.push(o(N[w.attributesKey],w,j));var F=N[w.elementsKey]&&N[w.elementsKey].length||N[w.attributesKey]&&N[w.attributesKey]["xml:space"]==="preserve";return F||("fullTagEmptyElementFn"in w?F=w.fullTagEmptyElementFn(N.name,N):F=w.fullTagEmptyElement),F?(k.push(">"),N[w.elementsKey]&&N[w.elementsKey].length&&(k.push(x(N[w.elementsKey],w,j+1)),t=N,n=N.name),k.push(w.spaces&&h(N,w)?`
`+Array(j+1).join(w.spaces):""),k.push("</"+I+">")):k.push("/>"),k.join("")}function x(N,w,j,k){return N.reduce(function(I,F){var C=a(w,j,k&&!I);switch(F.type){case"element":return I+C+v(F,w,j);case"comment":return I+C+u(F[w.commentKey],w);case"doctype":return I+C+f(F[w.doctypeKey],w);case"cdata":return I+(w.indentCdata?C:"")+A(F[w.cdataKey],w);case"text":return I+(w.indentText?C:"")+m(F[w.textKey],w);case"instruction":var P={};return P[F[w.nameKey]]=F[w.attributesKey]?F:F[w.instructionKey],I+(w.indentInstruction?C:"")+c(P,w,j)}},"")}function b(N,w,j){var k;for(k in N)if(N.hasOwnProperty(k))switch(k){case w.parentKey:case w.attributesKey:break;case w.textKey:if(w.indentText||j)return!0;break;case w.cdataKey:if(w.indentCdata||j)return!0;break;case w.instructionKey:if(w.indentInstruction||j)return!0;break;case w.doctypeKey:case w.commentKey:return!0;default:return!0}return!1}function p(N,w,j,k,I){t=N,n=w;var F="elementNameFn"in j?j.elementNameFn(w,N):w;if(typeof N>"u"||N===null||N==="")return"fullTagEmptyElementFn"in j&&j.fullTagEmptyElementFn(w,N)||j.fullTagEmptyElement?"<"+F+"></"+F+">":"<"+F+"/>";var C=[];if(w){if(C.push("<"+F),typeof N!="object")return C.push(">"+m(N,j)+"</"+F+">"),C.join("");N[j.attributesKey]&&C.push(o(N[j.attributesKey],j,k));var P=b(N,j,!0)||N[j.attributesKey]&&N[j.attributesKey]["xml:space"]==="preserve";if(P||("fullTagEmptyElementFn"in j?P=j.fullTagEmptyElementFn(w,N):P=j.fullTagEmptyElement),P)C.push(">");else return C.push("/>"),C.join("")}return C.push(y(N,j,k+1,!1)),t=N,n=w,w&&C.push((I?a(j,k,!1):"")+"</"+F+">"),C.join("")}function y(N,w,j,k){var I,F,C,P=[];for(F in N)if(N.hasOwnProperty(F))for(C=e(N[F])?N[F]:[N[F]],I=0;I<C.length;++I){switch(F){case w.declarationKey:P.push(l(C[I],w,j));break;case w.instructionKey:P.push((w.indentInstruction?a(w,j,k):"")+c(C[I],w,j));break;case w.attributesKey:case w.parentKey:break;case w.textKey:P.push((w.indentText?a(w,j,k):"")+m(C[I],w));break;case w.cdataKey:P.push((w.indentCdata?a(w,j,k):"")+A(C[I],w));break;case w.doctypeKey:P.push(a(w,j,k)+f(C[I],w));break;case w.commentKey:P.push(a(w,j,k)+u(C[I],w));break;default:P.push(a(w,j,k)+p(C[I],F,w,j,b(C[I],w)))}k=k&&!P.length}return P.join("")}return cw=function(N,w){w=i(w);var j=[];return t=N,n="_root_",w.compact?j.push(y(N,w,0,!0)):(N[w.declarationKey]&&j.push(l(N[w.declarationKey],w,0)),N[w.elementsKey]&&N[w.elementsKey].length&&j.push(x(N[w.elementsKey],w,0,!j.length))),j.join("")},cw}var uw,ZS;function s$(){if(ZS)return uw;ZS=1;var r=ST();return uw=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)},uw}var dw,e3;function i$(){if(e3)return dw;e3=1;var r=ET(),e=n$(),t=ST(),n=s$();return dw={xml2js:r,xml2json:e,js2xml:t,json2xml:n},dw}var kT=i$();const eN=r=>{switch(r.type){case void 0:case"element":const e=new o$(r.name,r.attributes),t=r.elements||[];for(const n of t){const i=eN(n);i!==void 0&&e.push(i)}return e;case"text":return r.text;default:return}};class a$ extends Rt{}class o$ extends st{static fromXmlString(e){const t=kT.xml2js(e,{compact:!1});return eN(t)}constructor(e,t){super(e),t&&this.root.push(new a$(t))}push(e){this.root.push(e)}}class l$ extends st{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class FT extends st{constructor(e,t){super(e),t&&(this.root=t.root)}}const Mi=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},hx=r=>{const e=Mi(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},TT=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},t3=r=>TT(r,1),IT=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},LT=r=>{const e=IT(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},qh=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return TT(e,3)},Gd=r=>typeof r=="string"?IT(r):Mi(r),c$=r=>typeof r=="string"?LT(r):hx(r),bo=r=>typeof r=="string"?LT(r):hx(r),u$=hx,d$=hx,A$=r=>r.toISOString();class at extends st{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new Tn({val:t}))}}class Aw extends st{constructor(e,t){super(e),this.root.push(new Tn({val:c$(t)}))}}class Lh extends st{constructor(e,t){super(e),this.root.push(new Tn({val:t}))}}const Vf=(r,e)=>new fl({name:r,attributes:{value:{key:"w:val",value:e}}});class Bm extends st{constructor(e,t){super(e),this.root.push(new Tn({val:t}))}}class Id extends st{constructor(e,t){super(e),this.root.push(t)}}class fl extends st{constructor({name:e,attributes:t,children:n}){super(e),t&&this.root.push(new ux(t)),n&&this.root.push(...n)}}const Ii={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class h$ extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val"})}}class f$ extends st{constructor(e){super("w:jc"),this.root.push(new h$({val:e}))}}class gn extends st{constructor(e,{color:t,size:n,space:i,style:a}){super(e),this.root.push(new m$({style:a,color:t===void 0?void 0:qh(t),size:n===void 0?void 0:u$(n),space:i===void 0?void 0:d$(i)}))}}class m$ extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const tN={SINGLE:"single",NONE:"none"};class p$ extends cx{constructor(e){super("w:pBdr"),e.top&&this.root.push(new gn("w:top",e.top)),e.bottom&&this.root.push(new gn("w:bottom",e.bottom)),e.left&&this.root.push(new gn("w:left",e.left)),e.right&&this.root.push(new gn("w:right",e.right))}}class g$ extends st{constructor(){super("w:pBdr");const e=new gn("w:bottom",{color:"auto",space:1,style:tN.SINGLE,size:6});this.root.push(e)}}class x$ extends st{constructor({start:e,end:t,left:n,right:i,hanging:a,firstLine:o}){super("w:ind"),this.root.push(new ux({start:{key:"w:start",value:e===void 0?void 0:Gd(e)},end:{key:"w:end",value:t===void 0?void 0:Gd(t)},left:{key:"w:left",value:n===void 0?void 0:Gd(n)},right:{key:"w:right",value:i===void 0?void 0:Gd(i)},hanging:{key:"w:hanging",value:a===void 0?void 0:bo(a)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:bo(o)}}))}}let y$=class extends st{constructor(){super("w:br")}};const rN={BEGIN:"begin",END:"end",SEPARATE:"separate"};class nN extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Lg extends st{constructor(e){super("w:fldChar"),this.root.push(new nN({type:rN.BEGIN,dirty:e}))}}class Dg extends st{constructor(e){super("w:fldChar"),this.root.push(new nN({type:rN.SEPARATE,dirty:e}))}}class Ug extends st{constructor(e){super("w:fldChar"),this.root.push(new nN({type:rN.END,dirty:e}))}}const zh={DEFAULT:"default",PRESERVE:"preserve"};class Kh extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{space:"xml:space"})}}class v$ extends st{constructor(){super("w:instrText"),this.root.push(new Kh({space:zh.PRESERVE})),this.root.push("PAGE")}}class b$ extends st{constructor(){super("w:instrText"),this.root.push(new Kh({space:zh.PRESERVE})),this.root.push("NUMPAGES")}}class w$ extends st{constructor(){super("w:instrText"),this.root.push(new Kh({space:zh.PRESERVE})),this.root.push("SECTIONPAGES")}}class N$ extends st{constructor(){super("w:instrText"),this.root.push(new Kh({space:zh.PRESERVE})),this.root.push("SECTION")}}class j$ extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class DT extends st{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new j$({fill:e===void 0?void 0:qh(e),color:t===void 0?void 0:qh(t),type:n}))}}class B$ extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const _$={DOT:"dot"};class C$ extends st{constructor(e){super("w:em"),this.root.push(new Tn({val:e}))}}class E$ extends C${constructor(e=_$.DOT){super(e)}}class S$ extends st{constructor(e){super("w:spacing"),this.root.push(new Tn({val:Gd(e)}))}}class k$ extends st{constructor(e){super("w:color"),this.root.push(new Tn({val:qh(e)}))}}class F$ extends st{constructor(e){super("w:highlight"),this.root.push(new Tn({val:e}))}}class T$ extends st{constructor(e){super("w:highlightCs"),this.root.push(new Tn({val:e}))}}const I$=r=>new fl({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class r3 extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class hw extends st{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new r3({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const n=e;this.root.push(new r3(n))}}}let UT=class extends st{constructor(e){super("w:vertAlign"),this.root.push(new Tn({val:e}))}};class L$ extends UT{constructor(){super("superscript")}}class D$ extends UT{constructor(){super("subscript")}}const OT={SINGLE:"single"};class U$ extends st{constructor(e=OT.SINGLE,t){super("w:u"),this.root.push(new Tn({val:e,color:t===void 0?void 0:qh(t)}))}}class cA extends cx{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Lh("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new hw(e.font)):"name"in e.font?this.push(new hw(e.font.name,e.font.hint)):this.push(new hw(e.font))),e.bold!==void 0&&this.push(new at("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new at("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new at("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new at("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new at("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new at("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new at("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new at("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new at("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new at("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new at("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new at("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new at("w:vanish",e.vanish)),e.color&&this.push(new k$(e.color)),e.characterSpacing&&this.push(new S$(e.characterSpacing)),e.scale!==void 0&&this.push(new Bm("w:w",e.scale)),e.kern&&this.push(new Aw("w:kern",e.kern)),e.position&&this.push(new Lh("w:position",e.position)),e.size!==void 0&&this.push(new Aw("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Aw("w:szCs",i)),e.highlight&&this.push(new F$(e.highlight));const a=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;a&&this.push(new T$(a)),e.underline&&this.push(new U$(e.underline.type,e.underline.color)),e.effect&&this.push(new Lh("w:effect",e.effect)),e.border&&this.push(new gn("w:bdr",e.border)),e.shading&&this.push(new DT(e.shading)),e.subScript&&this.push(new D$),e.superScript&&this.push(new L$),e.rightToLeft!==void 0&&this.push(new at("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new E$(e.emphasisMark.type)),e.language&&this.push(I$(e.language)),e.specVanish&&this.push(new at("w:specVanish",e.vanish)),e.math&&this.push(new at("w:oMath",e.math)),e.revision&&this.push(new O$(e.revision))}push(e){this.root.push(e)}}class O$ extends st{constructor(e){super("w:rPrChange"),this.root.push(new B$({id:e.id,author:e.author,date:e.date})),this.addChildElement(new cA(e))}}let n3=class extends st{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new Kh({space:zh.PRESERVE})),this.root.push(e)):(this.root.push(new Kh({space:(t=e.space)!=null?t:zh.DEFAULT})),this.root.push(e.text))}};const Og={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class fx extends st{constructor(e){if(super("w:r"),Ze(this,"properties"),this.properties=new cA(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new y$);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case Og.CURRENT:this.root.push(new Lg),this.root.push(new v$),this.root.push(new Dg),this.root.push(new Ug);break;case Og.TOTAL_PAGES:this.root.push(new Lg),this.root.push(new b$),this.root.push(new Dg),this.root.push(new Ug);break;case Og.TOTAL_PAGES_IN_SECTION:this.root.push(new Lg),this.root.push(new w$),this.root.push(new Dg),this.root.push(new Ug);break;case Og.CURRENT_SECTION:this.root.push(new Lg),this.root.push(new N$),this.root.push(new Dg),this.root.push(new Ug);break;default:this.root.push(new n3(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new n3(e.text))}}class mo extends fx{constructor(e){super(typeof e=="string"?{text:e}:e)}}var fw={},kr={},mw,s3;function Xm(){if(s3)return mw;s3=1,mw=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},mw}var i3;function vl(){if(i3)return kr;i3=1;var r=Xm(),e=Gu();kr.inherits=e;function t(_,U){return(_.charCodeAt(U)&64512)!==55296||U<0||U+1>=_.length?!1:(_.charCodeAt(U+1)&64512)===56320}function n(_,U){if(Array.isArray(_))return _.slice();if(!_)return[];var S=[];if(typeof _=="string")if(U){if(U==="hex")for(_=_.replace(/[^a-z0-9]+/ig,""),_.length%2!==0&&(_="0"+_),ie=0;ie<_.length;ie+=2)S.push(parseInt(_[ie]+_[ie+1],16))}else for(var X=0,ie=0;ie<_.length;ie++){var Z=_.charCodeAt(ie);Z<128?S[X++]=Z:Z<2048?(S[X++]=Z>>6|192,S[X++]=Z&63|128):t(_,ie)?(Z=65536+((Z&1023)<<10)+(_.charCodeAt(++ie)&1023),S[X++]=Z>>18|240,S[X++]=Z>>12&63|128,S[X++]=Z>>6&63|128,S[X++]=Z&63|128):(S[X++]=Z>>12|224,S[X++]=Z>>6&63|128,S[X++]=Z&63|128)}else for(ie=0;ie<_.length;ie++)S[ie]=_[ie]|0;return S}kr.toArray=n;function i(_){for(var U="",S=0;S<_.length;S++)U+=l(_[S].toString(16));return U}kr.toHex=i;function a(_){var U=_>>>24|_>>>8&65280|_<<8&16711680|(_&255)<<24;return U>>>0}kr.htonl=a;function o(_,U){for(var S="",X=0;X<_.length;X++){var ie=_[X];U==="little"&&(ie=a(ie)),S+=c(ie.toString(16))}return S}kr.toHex32=o;function l(_){return _.length===1?"0"+_:_}kr.zero2=l;function c(_){return _.length===7?"0"+_:_.length===6?"00"+_:_.length===5?"000"+_:_.length===4?"0000"+_:_.length===3?"00000"+_:_.length===2?"000000"+_:_.length===1?"0000000"+_:_}kr.zero8=c;function u(_,U,S,X){var ie=S-U;r(ie%4===0);for(var Z=new Array(ie/4),ce=0,re=U;ce<Z.length;ce++,re+=4){var ae;X==="big"?ae=_[re]<<24|_[re+1]<<16|_[re+2]<<8|_[re+3]:ae=_[re+3]<<24|_[re+2]<<16|_[re+1]<<8|_[re],Z[ce]=ae>>>0}return Z}kr.join32=u;function A(_,U){for(var S=new Array(_.length*4),X=0,ie=0;X<_.length;X++,ie+=4){var Z=_[X];U==="big"?(S[ie]=Z>>>24,S[ie+1]=Z>>>16&255,S[ie+2]=Z>>>8&255,S[ie+3]=Z&255):(S[ie+3]=Z>>>24,S[ie+2]=Z>>>16&255,S[ie+1]=Z>>>8&255,S[ie]=Z&255)}return S}kr.split32=A;function f(_,U){return _>>>U|_<<32-U}kr.rotr32=f;function m(_,U){return _<<U|_>>>32-U}kr.rotl32=m;function h(_,U){return _+U>>>0}kr.sum32=h;function v(_,U,S){return _+U+S>>>0}kr.sum32_3=v;function x(_,U,S,X){return _+U+S+X>>>0}kr.sum32_4=x;function b(_,U,S,X,ie){return _+U+S+X+ie>>>0}kr.sum32_5=b;function p(_,U,S,X){var ie=_[U],Z=_[U+1],ce=X+Z>>>0,re=(ce<X?1:0)+S+ie;_[U]=re>>>0,_[U+1]=ce}kr.sum64=p;function y(_,U,S,X){var ie=U+X>>>0,Z=(ie<U?1:0)+_+S;return Z>>>0}kr.sum64_hi=y;function N(_,U,S,X){var ie=U+X;return ie>>>0}kr.sum64_lo=N;function w(_,U,S,X,ie,Z,ce,re){var ae=0,M=U;M=M+X>>>0,ae+=M<U?1:0,M=M+Z>>>0,ae+=M<Z?1:0,M=M+re>>>0,ae+=M<re?1:0;var L=_+S+ie+ce+ae;return L>>>0}kr.sum64_4_hi=w;function j(_,U,S,X,ie,Z,ce,re){var ae=U+X+Z+re;return ae>>>0}kr.sum64_4_lo=j;function k(_,U,S,X,ie,Z,ce,re,ae,M){var L=0,V=U;V=V+X>>>0,L+=V<U?1:0,V=V+Z>>>0,L+=V<Z?1:0,V=V+re>>>0,L+=V<re?1:0,V=V+M>>>0,L+=V<M?1:0;var K=_+S+ie+ce+ae+L;return K>>>0}kr.sum64_5_hi=k;function I(_,U,S,X,ie,Z,ce,re,ae,M){var L=U+X+Z+re+M;return L>>>0}kr.sum64_5_lo=I;function F(_,U,S){var X=U<<32-S|_>>>S;return X>>>0}kr.rotr64_hi=F;function C(_,U,S){var X=_<<32-S|U>>>S;return X>>>0}kr.rotr64_lo=C;function P(_,U,S){return _>>>S}kr.shr64_hi=P;function T(_,U,S){var X=_<<32-S|U>>>S;return X>>>0}return kr.shr64_lo=T,kr}var pw={},a3;function Jm(){if(a3)return pw;a3=1;var r=vl(),e=Xm();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return pw.BlockHash=t,t.prototype.update=function(i,a){if(i=r.toArray(i,a),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-o,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,a=this._delta8,o=a-(i+this.padLength)%a,l=new Array(o+this.padLength);l[0]=128;for(var c=1;c<o;c++)l[c]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)l[c++]=0;l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=i>>>24&255,l[c++]=i>>>16&255,l[c++]=i>>>8&255,l[c++]=i&255}else for(l[c++]=i&255,l[c++]=i>>>8&255,l[c++]=i>>>16&255,l[c++]=i>>>24&255,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,u=8;u<this.padLength;u++)l[c++]=0;return l},pw}var Ld={},el={},o3;function PT(){if(o3)return el;o3=1;var r=vl(),e=r.rotr32;function t(A,f,m,h){if(A===0)return n(f,m,h);if(A===1||A===3)return a(f,m,h);if(A===2)return i(f,m,h)}el.ft_1=t;function n(A,f,m){return A&f^~A&m}el.ch32=n;function i(A,f,m){return A&f^A&m^f&m}el.maj32=i;function a(A,f,m){return A^f^m}el.p32=a;function o(A){return e(A,2)^e(A,13)^e(A,22)}el.s0_256=o;function l(A){return e(A,6)^e(A,11)^e(A,25)}el.s1_256=l;function c(A){return e(A,7)^e(A,18)^A>>>3}el.g0_256=c;function u(A){return e(A,17)^e(A,19)^A>>>10}return el.g1_256=u,el}var gw,l3;function P$(){if(l3)return gw;l3=1;var r=vl(),e=Jm(),t=PT(),n=r.rotl32,i=r.sum32,a=r.sum32_5,o=t.ft_1,l=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(u,l),gw=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,m){for(var h=this.W,v=0;v<16;v++)h[v]=f[m+v];for(;v<h.length;v++)h[v]=n(h[v-3]^h[v-8]^h[v-14]^h[v-16],1);var x=this.h[0],b=this.h[1],p=this.h[2],y=this.h[3],N=this.h[4];for(v=0;v<h.length;v++){var w=~~(v/20),j=a(n(x,5),o(w,b,p,y),N,h[v],c[w]);N=y,y=p,p=n(b,30),b=x,x=j}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],p),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],N)},u.prototype._digest=function(f){return f==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},gw}var xw,c3;function RT(){if(c3)return xw;c3=1;var r=vl(),e=Jm(),t=PT(),n=Xm(),i=r.sum32,a=r.sum32_4,o=r.sum32_5,l=t.ch32,c=t.maj32,u=t.s0_256,A=t.s1_256,f=t.g0_256,m=t.g1_256,h=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return r.inherits(x,h),xw=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(p,y){for(var N=this.W,w=0;w<16;w++)N[w]=p[y+w];for(;w<N.length;w++)N[w]=a(m(N[w-2]),N[w-7],f(N[w-15]),N[w-16]);var j=this.h[0],k=this.h[1],I=this.h[2],F=this.h[3],C=this.h[4],P=this.h[5],T=this.h[6],_=this.h[7];for(n(this.k.length===N.length),w=0;w<N.length;w++){var U=o(_,A(C),l(C,P,T),this.k[w],N[w]),S=i(u(j),c(j,k,I));_=T,T=P,P=C,C=i(F,U),F=I,I=k,k=j,j=i(U,S)}this.h[0]=i(this.h[0],j),this.h[1]=i(this.h[1],k),this.h[2]=i(this.h[2],I),this.h[3]=i(this.h[3],F),this.h[4]=i(this.h[4],C),this.h[5]=i(this.h[5],P),this.h[6]=i(this.h[6],T),this.h[7]=i(this.h[7],_)},x.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},xw}var yw,u3;function R$(){if(u3)return yw;u3=1;var r=vl(),e=RT();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),yw=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},yw}var vw,d3;function MT(){if(d3)return vw;d3=1;var r=vl(),e=Jm(),t=Xm(),n=r.rotr64_hi,i=r.rotr64_lo,a=r.shr64_hi,o=r.shr64_lo,l=r.sum64,c=r.sum64_hi,u=r.sum64_lo,A=r.sum64_4_hi,f=r.sum64_4_lo,m=r.sum64_5_hi,h=r.sum64_5_lo,v=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}r.inherits(b,v),vw=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(S,X){for(var ie=this.W,Z=0;Z<32;Z++)ie[Z]=S[X+Z];for(;Z<ie.length;Z+=2){var ce=T(ie[Z-4],ie[Z-3]),re=_(ie[Z-4],ie[Z-3]),ae=ie[Z-14],M=ie[Z-13],L=C(ie[Z-30],ie[Z-29]),V=P(ie[Z-30],ie[Z-29]),K=ie[Z-32],ee=ie[Z-31];ie[Z]=A(ce,re,ae,M,L,V,K,ee),ie[Z+1]=f(ce,re,ae,M,L,V,K,ee)}},b.prototype._update=function(S,X){this._prepareBlock(S,X);var ie=this.W,Z=this.h[0],ce=this.h[1],re=this.h[2],ae=this.h[3],M=this.h[4],L=this.h[5],V=this.h[6],K=this.h[7],ee=this.h[8],z=this.h[9],D=this.h[10],H=this.h[11],ne=this.h[12],ue=this.h[13],le=this.h[14],he=this.h[15];t(this.k.length===ie.length);for(var Be=0;Be<ie.length;Be+=2){var te=le,je=he,$=I(ee,z),q=F(ee,z),Q=p(ee,z,D,H,ne),G=y(ee,z,D,H,ne,ue),me=this.k[Be],fe=this.k[Be+1],de=ie[Be],be=ie[Be+1],Ee=m(te,je,$,q,Q,G,me,fe,de,be),ke=h(te,je,$,q,Q,G,me,fe,de,be);te=j(Z,ce),je=k(Z,ce),$=N(Z,ce,re,ae,M),q=w(Z,ce,re,ae,M,L);var He=c(te,je,$,q),Ye=u(te,je,$,q);le=ne,he=ue,ne=D,ue=H,D=ee,H=z,ee=c(V,K,Ee,ke),z=u(K,K,Ee,ke),V=M,K=L,M=re,L=ae,re=Z,ae=ce,Z=c(Ee,ke,He,Ye),ce=u(Ee,ke,He,Ye)}l(this.h,0,Z,ce),l(this.h,2,re,ae),l(this.h,4,M,L),l(this.h,6,V,K),l(this.h,8,ee,z),l(this.h,10,D,H),l(this.h,12,ne,ue),l(this.h,14,le,he)},b.prototype._digest=function(S){return S==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function p(U,S,X,ie,Z){var ce=U&X^~U&Z;return ce<0&&(ce+=4294967296),ce}function y(U,S,X,ie,Z,ce){var re=S&ie^~S&ce;return re<0&&(re+=4294967296),re}function N(U,S,X,ie,Z){var ce=U&X^U&Z^X&Z;return ce<0&&(ce+=4294967296),ce}function w(U,S,X,ie,Z,ce){var re=S&ie^S&ce^ie&ce;return re<0&&(re+=4294967296),re}function j(U,S){var X=n(U,S,28),ie=n(S,U,2),Z=n(S,U,7),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function k(U,S){var X=i(U,S,28),ie=i(S,U,2),Z=i(S,U,7),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function I(U,S){var X=n(U,S,14),ie=n(U,S,18),Z=n(S,U,9),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function F(U,S){var X=i(U,S,14),ie=i(U,S,18),Z=i(S,U,9),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function C(U,S){var X=n(U,S,1),ie=n(U,S,8),Z=a(U,S,7),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function P(U,S){var X=i(U,S,1),ie=i(U,S,8),Z=o(U,S,7),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function T(U,S){var X=n(U,S,19),ie=n(S,U,29),Z=a(U,S,6),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}function _(U,S){var X=i(U,S,19),ie=i(S,U,29),Z=o(U,S,6),ce=X^ie^Z;return ce<0&&(ce+=4294967296),ce}return vw}var bw,A3;function M$(){if(A3)return bw;A3=1;var r=vl(),e=MT();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),bw=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},bw}var h3;function Q$(){return h3||(h3=1,Ld.sha1=P$(),Ld.sha224=R$(),Ld.sha256=RT(),Ld.sha384=M$(),Ld.sha512=MT()),Ld}var ww={},f3;function H$(){if(f3)return ww;f3=1;var r=vl(),e=Jm(),t=r.rotl32,n=r.sum32,i=r.sum32_3,a=r.sum32_4,o=e.BlockHash;function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(l,o),ww.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(b,p){for(var y=this.h[0],N=this.h[1],w=this.h[2],j=this.h[3],k=this.h[4],I=y,F=N,C=w,P=j,T=k,_=0;_<80;_++){var U=n(t(a(y,c(_,N,w,j),b[f[_]+p],u(_)),h[_]),k);y=k,k=j,j=t(w,10),w=N,N=U,U=n(t(a(I,c(79-_,F,C,P),b[m[_]+p],A(_)),v[_]),T),I=T,T=P,P=t(C,10),C=F,F=U}U=i(this.h[1],w,P),this.h[1]=i(this.h[2],j,T),this.h[2]=i(this.h[3],k,I),this.h[3]=i(this.h[4],y,F),this.h[4]=i(this.h[0],N,C),this.h[0]=U},l.prototype._digest=function(b){return b==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function c(x,b,p,y){return x<=15?b^p^y:x<=31?b&p|~b&y:x<=47?(b|~p)^y:x<=63?b&y|p&~y:b^(p|~y)}function u(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function A(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ww}var Nw,m3;function q$(){if(m3)return Nw;m3=1;var r=vl(),e=Xm();function t(n,i,a){if(!(this instanceof t))return new t(n,i,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,a))}return Nw=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var a=i.length;a<this.blockSize;a++)i.push(0);for(a=0;a<i.length;a++)i[a]^=54;for(this.inner=new this.Hash().update(i),a=0;a<i.length;a++)i[a]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,a){return this.inner.update(i,a),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Nw}var p3;function z$(){return p3||(p3=1,function(r){var e=r;e.utils=vl(),e.common=Jm(),e.sha=Q$(),e.ripemd=H$(),e.hmac=q$(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(fw)),fw}z$();let K$="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",V$=(r,e=21)=>(t=e)=>{let n="",i=t|0;for(;i--;)n+=r[Math.random()*r.length|0];return n},W$=(r=21)=>{let e="",t=r|0;for(;t--;)e+=K$[Math.random()*64|0];return e};const Ao=r=>Math.floor(r*72*20),sN=(r=0)=>{let e=r;return()=>++e},G$=()=>sN(),$$=()=>sN(1),Y$=()=>sN(),X$=()=>W$().toLowerCase(),Wf=r=>V$("1234567890abcdef",r)(),J$=()=>`${Wf(8)}-${Wf(4)}-${Wf(4)}-${Wf(4)}-${Wf(12)}`;class Z$ extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{xmlns:"xmlns"})}}class eY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const tY={EXTERNAL:"External"};class rY extends st{constructor(e,t,n,i){super("Relationship"),this.root.push(new eY({id:e,type:t,target:n,targetMode:i}))}}class uA extends st{constructor(){super("Relationships"),this.root.push(new Z$({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,i){const a=new rY(`rId${e}`,t,n,i);return this.root.push(a),a}get RelationshipCount(){return this.root.length-1}}class nY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class sY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class iY extends st{constructor({id:e,initials:t,author:n,date:i=new Date,children:a}){super("w:comment"),this.root.push(new nY({id:e,initials:t,author:n,date:i.toISOString()}));for(const o of a)this.root.push(o)}}class aY extends st{constructor({children:e}){super("w:comments"),Ze(this,"relationships"),this.root.push(new sY({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new iY(t));this.relationships=new uA}get Relationships(){return this.relationships}}class oY extends st{constructor(){super("w:pageBreakBefore")}}const z2={AUTO:"auto"};class lY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class cY extends st{constructor(e){super("w:spacing"),this.root.push(new lY(e))}}const Gf={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Pg=class extends st{constructor(e){super("w:pStyle"),this.root.push(new Tn({val:e}))}};class uY extends st{constructor(e){super("w:tabs");for(const t of e)this.root.push(new AY(t))}}const g3={LEFT:"left",RIGHT:"right"};class dY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class AY extends st{constructor({type:e,position:t,leader:n}){super("w:tab"),this.root.push(new dY({val:e,pos:t,leader:n}))}}class jw extends st{constructor(e,t){super("w:numPr"),this.root.push(new hY(t)),this.root.push(new fY(e))}}class hY extends st{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Tn({val:e}))}}class fY extends st{constructor(e){super("w:numId"),this.root.push(new Tn({val:typeof e=="string"?`{${e}}`:e}))}}class mY extends st{constructor(){super(...arguments),Ze(this,"fileChild",Symbol())}}class pY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class gY extends st{constructor(e,t,n){super("w:hyperlink"),Ze(this,"linkId"),this.linkId=t;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},a=new pY(i);this.root.push(a),e.forEach(o=>{this.root.push(o)})}}class xY extends st{constructor(e){super("w:externalHyperlink"),this.options=e}}class yY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class vY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{id:"w:id"})}}class bY{constructor(e){Ze(this,"bookmarkUniqueNumericId",Y$()),Ze(this,"start"),Ze(this,"children"),Ze(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new wY(e.id,t),this.children=e.children,this.end=new NY(t)}}class wY extends st{constructor(e,t){super("w:bookmarkStart");const n=new yY({name:e,id:t});this.root.push(n)}}class NY extends st{constructor(e){super("w:bookmarkEnd");const t=new vY({id:e});this.root.push(t)}}class jY extends st{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Tn({val:e}))}}const BY={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Qh(nr({},BY),{BOTH:"both"});class _Y extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{verticalAlign:"w:val"})}}class CY extends st{constructor(e){super("w:vAlign"),this.root.push(new _Y({verticalAlign:e}))}}class EY extends st{constructor({space:e,count:t,separate:n,equalWidth:i,children:a}){super("w:cols"),this.root.push(new ux({space:{key:"w:space",value:e===void 0?void 0:bo(e)},count:{key:"w:num",value:t===void 0?void 0:Mi(t)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&a&&a.forEach(o=>this.addChildElement(o))}}const SY=({type:r,linePitch:e,charSpace:t})=>new fl({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:Mi(e)},charSpace:{key:"w:charSpace",value:t?Mi(t):void 0}}}),Dh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class kY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const x3={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Bw extends st{constructor(e,t){super(e),this.root.push(new kY({type:t.type||Dh.DEFAULT,id:`rId${t.id}`}))}}const FY=({countBy:r,start:e,restart:t,distance:n})=>new fl({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Mi(r)},start:{key:"w:start",value:e===void 0?void 0:Mi(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:n===void 0?void 0:bo(n)}}});class y3 extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class TY extends cx{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new y3({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new y3({})),e.pageBorderTop&&this.root.push(new gn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new gn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new gn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new gn("w:right",e.pageBorderRight))}}class IY extends st{constructor(e,t,n,i,a,o,l){super("w:pgMar"),this.root.push(new ux({top:{key:"w:top",value:Gd(e)},right:{key:"w:right",value:bo(t)},bottom:{key:"w:bottom",value:Gd(n)},left:{key:"w:left",value:bo(i)},header:{key:"w:header",value:bo(a)},footer:{key:"w:footer",value:bo(o)},gutter:{key:"w:gutter",value:bo(l)}}))}}class LY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class DY extends st{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new LY({start:e===void 0?void 0:Mi(e),formatType:t,separator:n}))}}const K2={PORTRAIT:"portrait",LANDSCAPE:"landscape"},UY=({width:r,height:e,orientation:t,code:n})=>{const i=bo(r),a=bo(e);return new fl({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===K2.LANDSCAPE?a:i},height:{key:"w:h",value:t===K2.LANDSCAPE?i:a},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:n}}})};class OY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val"})}}class PY extends st{constructor(e){super("w:textDirection"),this.root.push(new OY({val:e}))}}class RY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val"})}}class MY extends st{constructor(e){super("w:type"),this.root.push(new RY({val:e}))}}const Dd={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},_w={WIDTH:11906,HEIGHT:16838,ORIENTATION:K2.PORTRAIT};class QY extends st{constructor({page:{size:{width:e=_w.WIDTH,height:t=_w.HEIGHT,orientation:n=_w.ORIENTATION}={},margin:{top:i=Dd.TOP,right:a=Dd.RIGHT,bottom:o=Dd.BOTTOM,left:l=Dd.LEFT,header:c=Dd.HEADER,footer:u=Dd.FOOTER,gutter:A=Dd.GUTTER}={},pageNumbers:f={},borders:m,textDirection:h}={},grid:{linePitch:v=360,charSpace:x,type:b}={},headerWrapperGroup:p={},footerWrapperGroup:y={},lineNumbers:N,titlePage:w,verticalAlign:j,column:k,type:I}={}){super("w:sectPr"),this.addHeaderFooterGroup(x3.HEADER,p),this.addHeaderFooterGroup(x3.FOOTER,y),I&&this.root.push(new MY(I)),this.root.push(UY({width:e,height:t,orientation:n})),this.root.push(new IY(i,a,o,l,c,u,A)),m&&this.root.push(new TY(m)),N&&this.root.push(FY(N)),this.root.push(new DY(f)),k&&this.root.push(new EY(k)),j&&this.root.push(new CY(j)),w!==void 0&&this.root.push(new at("w:titlePg",w)),h&&this.root.push(new PY(h)),this.root.push(SY({linePitch:v,charSpace:x,type:b}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new Bw(e,{type:Dh.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new Bw(e,{type:Dh.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new Bw(e,{type:Dh.EVEN,id:t.even.View.ReferenceId}))}}class HY extends st{constructor(){super("w:body"),Ze(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new QY(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new ui({}),n=new Vh({});return n.push(e),t.addChildElement(n),t}}const v3={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class mx extends Rt{constructor(e,t){super(nr({Ignorable:t},Object.fromEntries(e.map(n=>[n,v3[n]])))),Ze(this,"xmlKeys",nr({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(v3).map(n=>[n,`xmlns:${n}`]))))}}class qY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class zY extends st{constructor(e){super("w:background"),this.root.push(new qY({color:e.color===void 0?void 0:qh(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:t3(e.themeShade),themeTint:e.themeTint===void 0?void 0:t3(e.themeTint)}))}}class KY extends st{constructor(e){super("w:document"),Ze(this,"body"),this.root.push(new mx(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new HY,e.background&&this.root.push(new zY(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class QT{constructor(e){Ze(this,"document"),Ze(this,"relationships"),this.document=new KY(e),this.relationships=new uA}get View(){return this.document}get Relationships(){return this.relationships}}class VY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val"})}}class WY extends st{constructor(){super("w:wordWrap"),this.root.push(new VY({val:0}))}}const GY=r=>{var e,t;return new fl({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class Vh extends cx{constructor(e){var t,n;if(super("w:pPr"),Ze(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Pg(e.heading)),e.bullet&&this.push(new Pg("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Pg("ListParagraph"))),e.style&&this.push(new Pg(e.style)),e.keepNext!==void 0&&this.push(new at("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new at("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new oY),e.frame&&this.push(GY(e.frame)),e.widowControl!==void 0&&this.push(new at("w:widowControl",e.widowControl)),e.bullet&&this.push(new jw(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new jw(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new jw(0,0)),e.border&&this.push(new p$(e.border)),e.thematicBreak&&this.push(new g$),e.shading&&this.push(new DT(e.shading)),e.wordWrap&&this.push(new WY),e.overflowPunctuation&&this.push(new at("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:g3.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:g3.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new uY(i)),e.bidirectional!==void 0&&this.push(new at("w:bidi",e.bidirectional)),e.spacing&&this.push(new cY(e.spacing)),e.indent&&this.push(new x$(e.indent)),e.contextualSpacing!==void 0&&this.push(new at("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new f$(e.alignment)),e.outlineLevel!==void 0&&this.push(new jY(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new at("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new at("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new cA(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof QT)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class ui extends mY{constructor(e){if(super("w:p"),Ze(this,"properties"),typeof e=="string")return this.properties=new Vh({}),this.root.push(this.properties),this.root.push(new mo(e)),this;if(this.properties=new Vh(e),this.root.push(this.properties),e.text&&this.root.push(new mo(e.text)),e.children)for(const t of e.children){if(t instanceof bY){this.root.push(t.start);for(const n of t.children)this.root.push(n);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof xY){const n=this.root.indexOf(t),i=new gY(t.options.children,X$());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,tY.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const ch={style:tN.NONE,size:0,color:"auto"},uh={style:tN.SINGLE,size:4,color:"auto"};class $Y extends st{constructor(e){super("w:tblBorders"),e.top?this.root.push(new gn("w:top",e.top)):this.root.push(new gn("w:top",uh)),e.left?this.root.push(new gn("w:left",e.left)):this.root.push(new gn("w:left",uh)),e.bottom?this.root.push(new gn("w:bottom",e.bottom)):this.root.push(new gn("w:bottom",uh)),e.right?this.root.push(new gn("w:right",e.right)):this.root.push(new gn("w:right",uh)),e.insideHorizontal?this.root.push(new gn("w:insideH",e.insideHorizontal)):this.root.push(new gn("w:insideH",uh)),e.insideVertical?this.root.push(new gn("w:insideV",e.insideVertical)):this.root.push(new gn("w:insideV",uh))}}Ze($Y,"NONE",{top:ch,bottom:ch,left:ch,right:ch,insideHorizontal:ch,insideVertical:ch});class YY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class XY extends st{constructor(){super("Properties"),this.root.push(new YY({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class JY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{xmlns:"xmlns"})}}class ZY extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class sc extends st{constructor(e,t){super("Default"),this.root.push(new ZY({contentType:e,extension:t}))}}class eX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class _a extends st{constructor(e,t){super("Override"),this.root.push(new eX({contentType:e,partName:t}))}}class tX extends st{constructor(){super("Types"),this.root.push(new JY({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new sc("image/png","png")),this.root.push(new sc("image/jpeg","jpeg")),this.root.push(new sc("image/jpeg","jpg")),this.root.push(new sc("image/bmp","bmp")),this.root.push(new sc("image/gif","gif")),this.root.push(new sc("image/svg+xml","svg")),this.root.push(new sc("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new sc("application/xml","xml")),this.root.push(new sc("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new _a("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new _a("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class rX extends st{constructor(e){super("cp:coreProperties"),this.root.push(new mx(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Id("dc:title",e.title)),e.subject&&this.root.push(new Id("dc:subject",e.subject)),e.creator&&this.root.push(new Id("dc:creator",e.creator)),e.keywords&&this.root.push(new Id("cp:keywords",e.keywords)),e.description&&this.root.push(new Id("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Id("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Id("cp:revision",String(e.revision))),this.root.push(new b3("dcterms:created")),this.root.push(new b3("dcterms:modified"))}}class nX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{type:"xsi:type"})}}class b3 extends st{constructor(e){super(e),this.root.push(new nX({type:"dcterms:W3CDTF"})),this.root.push(A$(new Date))}}class sX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class iX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class aX extends st{constructor(e,t){super("property"),this.root.push(new iX({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new oX(t.value))}}class oX extends st{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class lX extends st{constructor(e){super("Properties"),Ze(this,"nextId"),Ze(this,"properties",[]),this.root.push(new sX({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new aX(this.nextId++,e))}}const Rg=({id:r,fontKey:e,subsetted:t},n)=>new fl({name:n,attributes:nr({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new at("w:subsetted",t)]:[]]}),cX=({name:r,altName:e,panose1:t,charset:n,family:i,notTrueType:a,pitch:o,sig:l,embedRegular:c,embedBold:u,embedItalic:A,embedBoldItalic:f})=>new fl({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[Vf("w:altName",e)]:[],...t?[Vf("w:panose1",t)]:[],...n?[Vf("w:charset",n)]:[],Vf("w:family",i),...a?[new at("w:notTrueType",a)]:[],Vf("w:pitch",o),...l?[new fl({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...c?[Rg(c,"w:embedRegular")]:[],...u?[Rg(u,"w:embedBold")]:[],...A?[Rg(A,"w:embedItalic")]:[],...f?[Rg(f,"w:embedBoldItalic")]:[]]}),uX=({name:r,index:e,fontKey:t,characterSet:n})=>cX({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),dX=r=>new fl({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>uX({name:e.name,index:t+1,fontKey:e.fontKey}))});class AX{constructor(e){Ze(this,"fontTable"),Ze(this,"relationships"),Ze(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Qh(nr({},t),{fontKey:J$()})),this.fontTable=dX(this.fontOptionsWithKey),this.relationships=new uA;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class hX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let fX=class extends FT{constructor(e,t){super("w:ftr",t),Ze(this,"refId"),this.refId=e,t||this.root.push(new hX({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class mX{constructor(e,t,n){Ze(this,"footer"),Ze(this,"relationships"),this.media=e,this.footer=new fX(t,n),this.relationships=new uA}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class pX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class gX extends st{constructor(){super("w:footnoteRef")}}class xX extends fx{constructor(){super({style:"FootnoteReference"}),this.root.push(new gX)}}const w3={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Cw extends st{constructor(e){super("w:footnote"),this.root.push(new pX({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];t===0&&n.addRunToFront(new xX),this.root.push(n)}}}class yX extends st{constructor(){super("w:continuationSeparator")}}class vX extends fx{constructor(){super({}),this.root.push(new yX)}}class bX extends st{constructor(){super("w:separator")}}class wX extends fx{constructor(){super({}),this.root.push(new bX)}}class NX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class jX extends st{constructor(){super("w:footnotes"),this.root.push(new NX({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Cw({id:-1,type:w3.SEPERATOR,children:[new ui({spacing:{after:0,line:240,lineRule:z2.AUTO},children:[new wX]})]});this.root.push(e);const t=new Cw({id:0,type:w3.CONTINUATION_SEPERATOR,children:[new ui({spacing:{after:0,line:240,lineRule:z2.AUTO},children:[new vX]})]});this.root.push(t)}createFootNote(e,t){const n=new Cw({id:e,children:t});this.root.push(n)}}class BX{constructor(){Ze(this,"footnotess"),Ze(this,"relationships"),this.footnotess=new jX,this.relationships=new uA}get View(){return this.footnotess}get Relationships(){return this.relationships}}class _X extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let CX=class extends FT{constructor(e,t){super("w:hdr",t),Ze(this,"refId"),this.refId=e,t||this.root.push(new _X({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class EX{constructor(e,t,n){Ze(this,"header"),Ze(this,"relationships"),this.media=e,this.header=new CX(t,n),this.relationships=new uA}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class SX{constructor(){Ze(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const ic={BULLET:"bullet"};class kX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class FX extends st{constructor(e){super("w:numFmt"),this.root.push(new Tn({val:e}))}}class TX extends st{constructor(e){super("w:lvlText"),this.root.push(new Tn({val:e}))}}class IX extends st{constructor(e){super("w:lvlJc"),this.root.push(new Tn({val:e}))}}class LX extends st{constructor(e){super("w:suff"),this.root.push(new Tn({val:e}))}}class DX extends st{constructor(){super("w:isLgl")}}class UX extends st{constructor({level:e,format:t,text:n,alignment:i=Ii.START,start:a=1,style:o,suffix:l,isLegalNumberingStyle:c}){if(super("w:lvl"),Ze(this,"paragraphProperties"),Ze(this,"runProperties"),this.root.push(new Bm("w:start",Mi(a))),t&&this.root.push(new FX(t)),l&&this.root.push(new LX(l)),c&&this.root.push(new DX),n&&this.root.push(new TX(n)),this.root.push(new IX(i)),this.paragraphProperties=new Vh(o&&o.paragraph),this.runProperties=new cA(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new kX({ilvl:Mi(e),tentative:1}))}}class OX extends UX{}class PX extends st{constructor(e){super("w:multiLevelType"),this.root.push(new Tn({val:e}))}}class RX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class N3 extends st{constructor(e,t){super("w:abstractNum"),Ze(this,"id"),this.root.push(new RX({abstractNumId:Mi(e),restartNumberingAfterBreak:0})),this.root.push(new PX("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new OX(n))}}class MX extends st{constructor(e){super("w:abstractNumId"),this.root.push(new Tn({val:e}))}}class QX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{numId:"w:numId"})}}class j3 extends st{constructor(e){if(super("w:num"),Ze(this,"numId"),Ze(this,"reference"),Ze(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new QX({numId:Mi(e.numId)})),this.root.push(new MX(Mi(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new qX(t.num,t.start))}}class HX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{ilvl:"w:ilvl"})}}class qX extends st{constructor(e,t){super("w:lvlOverride"),this.root.push(new HX({ilvl:e})),t!==void 0&&this.root.push(new KX(t))}}class zX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val"})}}class KX extends st{constructor(e){super("w:startOverride"),this.root.push(new zX({val:e}))}}class VX extends st{constructor(e){super("w:numbering"),Ze(this,"abstractNumberingMap",new Map),Ze(this,"concreteNumberingMap",new Map),Ze(this,"referenceConfigMap",new Map),Ze(this,"abstractNumUniqueNumericId",G$()),Ze(this,"concreteNumUniqueNumericId",$$()),this.root.push(new mx(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new N3(this.abstractNumUniqueNumericId(),[{level:0,format:ic.BULLET,text:"●",alignment:Ii.LEFT,style:{paragraph:{indent:{left:Ao(.5),hanging:Ao(.25)}}}},{level:1,format:ic.BULLET,text:"○",alignment:Ii.LEFT,style:{paragraph:{indent:{left:Ao(1),hanging:Ao(.25)}}}},{level:2,format:ic.BULLET,text:"■",alignment:Ii.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ao(.25)}}}},{level:3,format:ic.BULLET,text:"●",alignment:Ii.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ao(.25)}}}},{level:4,format:ic.BULLET,text:"○",alignment:Ii.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ao(.25)}}}},{level:5,format:ic.BULLET,text:"■",alignment:Ii.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ao(.25)}}}},{level:6,format:ic.BULLET,text:"●",alignment:Ii.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ao(.25)}}}},{level:7,format:ic.BULLET,text:"●",alignment:Ii.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ao(.25)}}}},{level:8,format:ic.BULLET,text:"●",alignment:Ii.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ao(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new j3({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new N3(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const a=this.referenceConfigMap.get(e),o=a&&a[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new j3(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class WX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class GX extends st{constructor(e){super("w:compatSetting"),this.root.push(new WX({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class $X extends st{constructor(e){super("w:compat"),e.version&&this.root.push(new GX(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new at("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new at("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new at("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new at("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new at("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new at("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new at("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new at("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new at("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new at("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new at("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new at("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new at("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new at("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new at("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new at("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new at("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new at("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new at("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new at("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new at("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new at("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new at("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new at("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new at("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new at("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new at("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new at("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new at("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new at("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new at("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new at("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new at("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new at("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new at("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new at("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new at("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new at("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new at("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new at("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new at("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new at("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new at("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new at("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new at("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new at("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new at("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new at("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new at("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new at("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new at("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new at("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new at("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new at("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new at("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new at("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new at("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new at("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new at("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new at("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new at("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new at("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new at("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new at("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new at("w:cachedColBalance",e.cachedColumnBalance))}}class YX extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let XX=class extends st{constructor(e){var t,n,i,a,o,l,c,u;super("w:settings"),this.root.push(new YX({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new at("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new at("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new at("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new at("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Bm("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new at("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Bm("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Bm("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((a=e.hyphenation)==null?void 0:a.doNotHyphenateCaps)!==void 0&&this.root.push(new at("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new $X(Qh(nr({},(o=e.compatibility)!=null?o:{}),{version:(u=(c=(l=e.compatibility)==null?void 0:l.version)!=null?c:e.compatibilityModeVersion)!=null?u:15})))}};class HT extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{val:"w:val"})}}class JX extends st{constructor(e){super("w:name"),this.root.push(new HT({val:e}))}}class ZX extends st{constructor(e){super("w:uiPriority"),this.root.push(new HT({val:Mi(e)}))}}class eJ extends Rt{constructor(){super(...arguments),Ze(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class qT extends st{constructor(e,t){super("w:style"),this.root.push(new eJ(e)),t.name&&this.root.push(new JX(t.name)),t.basedOn&&this.root.push(new Lh("w:basedOn",t.basedOn)),t.next&&this.root.push(new Lh("w:next",t.next)),t.link&&this.root.push(new Lh("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new ZX(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new at("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new at("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new at("w:qFormat",t.quickFormat))}}class px extends qT{constructor(e){super({type:"paragraph",styleId:e.id},e),Ze(this,"paragraphProperties"),Ze(this,"runProperties"),this.paragraphProperties=new Vh(e.paragraph),this.runProperties=new cA(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class gx extends qT{constructor(e){super({type:"character",styleId:e.id},nr({uiPriority:99,unhideWhenUsed:!0},e)),Ze(this,"runProperties"),this.runProperties=new cA(e.run),this.root.push(this.runProperties)}}class $u extends px{constructor(e){super(nr({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class tJ extends $u{constructor(e){super(nr({id:"Title",name:"Title"},e))}}class rJ extends $u{constructor(e){super(nr({id:"Heading1",name:"Heading 1"},e))}}class nJ extends $u{constructor(e){super(nr({id:"Heading2",name:"Heading 2"},e))}}class sJ extends $u{constructor(e){super(nr({id:"Heading3",name:"Heading 3"},e))}}class iJ extends $u{constructor(e){super(nr({id:"Heading4",name:"Heading 4"},e))}}class aJ extends $u{constructor(e){super(nr({id:"Heading5",name:"Heading 5"},e))}}class oJ extends $u{constructor(e){super(nr({id:"Heading6",name:"Heading 6"},e))}}class lJ extends $u{constructor(e){super(nr({id:"Strong",name:"Strong"},e))}}class cJ extends px{constructor(e){super(nr({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class uJ extends px{constructor(e){super(nr({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:z2.AUTO}},run:{size:20}},e))}}class dJ extends gx{constructor(e){super(nr({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class AJ extends gx{constructor(e){super(nr({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class hJ extends gx{constructor(e){super(nr({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:OT.SINGLE}}},e))}}class V2 extends st{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new px(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new gx(t))}}class fJ extends st{constructor(e){super("w:pPrDefault"),this.root.push(new Vh(e))}}class mJ extends st{constructor(e){super("w:rPrDefault"),this.root.push(new cA(e))}}class pJ extends st{constructor(e){super("w:docDefaults"),Ze(this,"runPropertiesDefaults"),Ze(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new mJ(e.run),this.paragraphPropertiesDefaults=new fJ(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class gJ{newInstance(e){const t=kT.xml2js(e,{compact:!1});let n;for(const o of t.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new V2({initialStyles:new l$(n.attributes),importedStyles:i.map(o=>eN(o))})}}class B3{newInstance(e={}){var t;return{initialStyles:new mx(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new pJ((t=e.document)!=null?t:{}),new tJ(nr({run:{size:56}},e.title)),new rJ(nr({run:{color:"2E74B5",size:32}},e.heading1)),new nJ(nr({run:{color:"2E74B5",size:26}},e.heading2)),new sJ(nr({run:{color:"1F4D78",size:24}},e.heading3)),new iJ(nr({run:{color:"2E74B5",italics:!0}},e.heading4)),new aJ(nr({run:{color:"2E74B5"}},e.heading5)),new oJ(nr({run:{color:"1F4D78"}},e.heading6)),new lJ(nr({run:{bold:!0}},e.strong)),new cJ(e.listParagraph||{}),new hJ(e.hyperlink||{}),new dJ(e.footnoteReference||{}),new uJ(e.footnoteText||{}),new AJ(e.footnoteTextChar||{})]}}}let xJ=class{constructor(e){Ze(this,"currentRelationshipId",1),Ze(this,"documentWrapper"),Ze(this,"headers",[]),Ze(this,"footers",[]),Ze(this,"coreProperties"),Ze(this,"numbering"),Ze(this,"media"),Ze(this,"fileRelationships"),Ze(this,"footnotesWrapper"),Ze(this,"settings"),Ze(this,"contentTypes"),Ze(this,"customProperties"),Ze(this,"appProperties"),Ze(this,"styles"),Ze(this,"comments"),Ze(this,"fontWrapper");var t,n,i,a,o,l,c,u,A,f,m,h;if(this.coreProperties=new rX(Qh(nr({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new VX(e.numbering?e.numbering:{config:[]}),this.comments=new aY((a=e.comments)!=null?a:{children:[]}),this.fileRelationships=new uA,this.customProperties=new lX((o=e.customProperties)!=null?o:[]),this.appProperties=new XY,this.footnotesWrapper=new BX,this.contentTypes=new tX,this.documentWrapper=new QT({background:e.background}),this.settings=new XX({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(A=e.hyphenation)==null?void 0:A.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(m=e.hyphenation)==null?void 0:m.doNotHyphenateCaps}}),this.media=new SX,e.externalStyles!==void 0){const v=new gJ;this.styles=v.newInstance(e.externalStyles)}else if(e.styles){const x=new B3().newInstance(e.styles.default);this.styles=new V2(nr(nr({},x),e.styles))}else{const v=new B3;this.styles=new V2(v.newInstance())}this.addDefaultRelationships();for(const v of e.sections)this.addSection(v);if(e.footnotes)for(const v in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(v),e.footnotes[v].children);this.fontWrapper=new AX((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:t={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Qh(nr({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const a of n)this.documentWrapper.View.add(a)}createHeader(e){const t=new EX(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new mX(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Dh.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Dh.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var yJ=X5();function Mg(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ew={exports:{}},_3;function vJ(){return _3||(_3=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,a){function o(u,A){if(!i[u]){if(!n[u]){var f=typeof Mg=="function"&&Mg;if(!A&&f)return f(u,!0);if(l)return l(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(v){var x=n[u][1][v];return o(x||v)},h,h.exports,t,n,i,a)}return i[u].exports}for(var l=typeof Mg=="function"&&Mg,c=0;c<a.length;c++)o(a[c]);return o}({1:[function(t,n,i){var a=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,A,f,m,h,v,x,b=[],p=0,y=c.length,N=y,w=a.getTypeOf(c)!=="string";p<c.length;)N=y-p,f=w?(u=c[p++],A=p<y?c[p++]:0,p<y?c[p++]:0):(u=c.charCodeAt(p++),A=p<y?c.charCodeAt(p++):0,p<y?c.charCodeAt(p++):0),m=u>>2,h=(3&u)<<4|A>>4,v=1<N?(15&A)<<2|f>>6:64,x=2<N?63&f:64,b.push(l.charAt(m)+l.charAt(h)+l.charAt(v)+l.charAt(x));return b.join("")},i.decode=function(c){var u,A,f,m,h,v,x=0,b=0,p="data:";if(c.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var y,N=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&N--,c.charAt(c.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|N):new Array(0|N);x<c.length;)u=l.indexOf(c.charAt(x++))<<2|(m=l.indexOf(c.charAt(x++)))>>4,A=(15&m)<<4|(h=l.indexOf(c.charAt(x++)))>>2,f=(3&h)<<6|(v=l.indexOf(c.charAt(x++))),y[b++]=u,h!==64&&(y[b++]=A),v!==64&&(y[b++]=f);return y}},{"./support":30,"./utils":32}],2:[function(t,n,i){var a=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function u(A,f,m,h,v){this.compressedSize=A,this.uncompressedSize=f,this.crc32=m,this.compression=h,this.compressedContent=v}u.prototype={getContentWorker:function(){var A=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return A.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(A,f,m){return A.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var a=t("./utils"),o=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var A=0;A<8;A++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();n.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,A,f,m){var h=o,v=m+f;u^=-1;for(var x=m;x<v;x++)u=u>>>8^h[255&(u^A[x])];return-1^u}(0|c,l,l.length,0):function(u,A,f,m){var h=o,v=m+f;u^=-1;for(var x=m;x<v;x++)u=u>>>8^h[255&(u^A.charCodeAt(x))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:a}},{lie:37}],7:[function(t,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),u=a?"uint8array":"array";function A(f,m){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}i.magic="\b\0",l.inherits(A,c),A.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},A.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},i.compressWorker=function(f){return new A("Deflate",f)},i.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function a(h,v){var x,b="";for(x=0;x<v;x++)b+=String.fromCharCode(255&h),h>>>=8;return b}function o(h,v,x,b,p,y){var N,w,j=h.file,k=h.compression,I=y!==u.utf8encode,F=l.transformTo("string",y(j.name)),C=l.transformTo("string",u.utf8encode(j.name)),P=j.comment,T=l.transformTo("string",y(P)),_=l.transformTo("string",u.utf8encode(P)),U=C.length!==j.name.length,S=_.length!==P.length,X="",ie="",Z="",ce=j.dir,re=j.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};v&&!x||(ae.crc32=h.crc32,ae.compressedSize=h.compressedSize,ae.uncompressedSize=h.uncompressedSize);var M=0;v&&(M|=8),I||!U&&!S||(M|=2048);var L=0,V=0;ce&&(L|=16),p==="UNIX"?(V=798,L|=function(ee,z){var D=ee;return ee||(D=z?16893:33204),(65535&D)<<16}(j.unixPermissions,ce)):(V=20,L|=function(ee){return 63&(ee||0)}(j.dosPermissions)),N=re.getUTCHours(),N<<=6,N|=re.getUTCMinutes(),N<<=5,N|=re.getUTCSeconds()/2,w=re.getUTCFullYear()-1980,w<<=4,w|=re.getUTCMonth()+1,w<<=5,w|=re.getUTCDate(),U&&(ie=a(1,1)+a(A(F),4)+C,X+="up"+a(ie.length,2)+ie),S&&(Z=a(1,1)+a(A(T),4)+_,X+="uc"+a(Z.length,2)+Z);var K="";return K+=`
\0`,K+=a(M,2),K+=k.magic,K+=a(N,2),K+=a(w,2),K+=a(ae.crc32,4),K+=a(ae.compressedSize,4),K+=a(ae.uncompressedSize,4),K+=a(F.length,2),K+=a(X.length,2),{fileRecord:f.LOCAL_FILE_HEADER+K+F+X,dirRecord:f.CENTRAL_FILE_HEADER+a(V,2)+K+a(T.length,2)+"\0\0\0\0"+a(L,4)+a(b,4)+F+X+T}}var l=t("../utils"),c=t("../stream/GenericWorker"),u=t("../utf8"),A=t("../crc32"),f=t("../signature");function m(h,v,x,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=x,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,c),m.prototype.push=function(h){var v=h.meta.percent||0,x=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:x?(v+100*(x-b-1))/x:100}}))},m.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var x=o(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,x=o(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),v)this.push({data:function(b){return f.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var x=this.bytesWritten-h,b=function(p,y,N,w,j){var k=l.transformTo("string",j(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(p,2)+a(p,2)+a(y,4)+a(N,4)+a(k.length,2)+k}(this.dirRecords.length,x,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(x){v.processChunk(x)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(x){v.error(x)}),this},m.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(h){var v=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var x=0;x<v.length;x++)try{v[x].error(h)}catch{}return!0},m.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var a=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(l,c,u){var A=new o(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{l.forEach(function(m,h){f++;var v=function(y,N){var w=y||N,j=a[w];if(!j)throw new Error(w+" is not a valid compression method !");return j}(h.options.compression,c.compression),x=h.options.compressionOptions||c.compressionOptions||{},b=h.dir,p=h.date;h._compressWorker(v,x).withStreamInfo("file",{name:m,dir:b,date:p,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(A)}),A.entriesCount=f}catch(m){A.error(m)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=t("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var a=t("./utils"),o=t("./external"),l=t("./utf8"),c=t("./zipEntries"),u=t("./stream/Crc32Probe"),A=t("./nodejsUtils");function f(m){return new o.Promise(function(h,v){var x=m.decompressed.getContentWorker().pipe(new u);x.on("error",function(b){v(b)}).on("end",function(){x.streamInfo.crc32!==m.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(m,h){var v=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),A.isNode&&A.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",m,!0,h.optimizedBinaryString,h.base64).then(function(x){var b=new c(h);return b.load(x),b}).then(function(x){var b=[o.Promise.resolve(x)],p=x.files;if(h.checkCRC32)for(var y=0;y<p.length;y++)b.push(f(p[y]));return o.Promise.all(b)}).then(function(x){for(var b=x.shift(),p=b.files,y=0;y<p.length;y++){var N=p[y],w=N.fileNameStr,j=a.resolve(N.fileNameStr);v.file(j,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:h.createFolders}),N.dir||(v.file(j).unsafeOriginalName=w)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var a=t("../utils"),o=t("../stream/GenericWorker");function l(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,o),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(A){u.push({data:A,meta:{percent:0}})}).on("error",function(A){u.isPaused?this.generatedError=A:u.error(A)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var a=t("readable-stream").Readable;function o(l,c,u){a.call(this,c),this._helper=l;var A=this;l.on("data",function(f,m){A.push(f)||A._helper.pause(),u&&u(m)}).on("error",function(f){A.emit("error",f)}).on("end",function(){A.push(null)})}t("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,n,i){function a(j,k,I){var F,C=l.getTypeOf(k),P=l.extend(I||{},A);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(j=p(j)),P.createFolders&&(F=b(j))&&y.call(this,F,!0);var T=C==="string"&&P.binary===!1&&P.base64===!1;I&&I.binary!==void 0||(P.binary=!T),(k instanceof f&&k.uncompressedSize===0||P.dir||!k||k.length===0)&&(P.base64=!1,P.binary=!0,k="",P.compression="STORE",C="string");var _=null;_=k instanceof f||k instanceof c?k:v.isNode&&v.isStream(k)?new x(j,k):l.prepareContent(j,k,P.binary,P.optimizedBinaryString,P.base64);var U=new m(j,_,P);this.files[j]=U}var o=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),A=t("./defaults"),f=t("./compressedObject"),m=t("./zipObject"),h=t("./generate"),v=t("./nodejsUtils"),x=t("./nodejs/NodejsStreamInputAdapter"),b=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var k=j.lastIndexOf("/");return 0<k?j.substring(0,k):""},p=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},y=function(j,k){return k=k!==void 0?k:A.createFolders,j=p(j),this.files[j]||a.call(this,j,null,{dir:!0,createFolders:k}),this.files[j]};function N(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var k,I,F;for(k in this.files)F=this.files[k],(I=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&j(I,F)},filter:function(j){var k=[];return this.forEach(function(I,F){j(I,F)&&k.push(F)}),k},file:function(j,k,I){if(arguments.length!==1)return j=this.root+j,a.call(this,j,k,I),this;if(N(j)){var F=j;return this.filter(function(P,T){return!T.dir&&F.test(P)})}var C=this.files[this.root+j];return C&&!C.dir?C:null},folder:function(j){if(!j)return this;if(N(j))return this.filter(function(C,P){return P.dir&&j.test(C)});var k=this.root+j,I=y.call(this,k),F=this.clone();return F.root=I.name,F},remove:function(j){j=this.root+j;var k=this.files[j];if(k||(j.slice(-1)!=="/"&&(j+="/"),k=this.files[j]),k&&!k.dir)delete this.files[j];else for(var I=this.filter(function(C,P){return P.name.slice(0,j.length)===j}),F=0;F<I.length;F++)delete this.files[I[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var k,I={};try{if((I=l.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");l.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var F=I.comment||this.comment||"";k=h.generateWorker(this,I,F)}catch(C){(k=new c("error")).error(C)}return new u(k,I.type||"string",I.mimeType)},generateAsync:function(j,k){return this.generateInternalStream(j).accumulate(k)},generateNodeStream:function(j,k){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(k)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var a=t("./DataReader");function o(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),A=l.charCodeAt(2),f=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===c&&this.data[m+1]===u&&this.data[m+2]===A&&this.data[m+3]===f)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),A=l.charCodeAt(2),f=l.charCodeAt(3),m=this.readData(4);return c===m[0]&&u===m[1]&&A===m[2]&&f===m[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var a=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,i){var a=t("./Uint8ArrayReader");function o(l){a.call(this,l)}t("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var a=t("./DataReader");function o(l){a.call(this,l)}t("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var a=t("./ArrayReader");function o(l){a.call(this,l)}t("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var a=t("../utils"),o=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),u=t("./NodeBufferReader"),A=t("./Uint8ArrayReader");n.exports=function(f){var m=a.getTypeOf(f);return a.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new u(f):o.uint8array?new A(a.transformTo("uint8array",f)):new l(a.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var a=t("./GenericWorker"),o=t("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var a=t("./GenericWorker"),o=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var a=t("../utils"),o=t("./GenericWorker");function l(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,o),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var a=t("../utils"),o=t("./GenericWorker");function l(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(A){u.dataIsReady=!0,u.data=A,u.max=A&&A.length||0,u.type=a.getTypeOf(A),u.isPaused||u._tickAndRepeat()},function(A){u.error(A)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(c){l.processChunk(c)}),o.on("end",function(){l.end()}),o.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=a},{}],29:[function(t,n,i){var a=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),u=t("../support"),A=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(v,x){return new A.Promise(function(b,p){var y=[],N=v._internalType,w=v._outputType,j=v._mimeType;v.on("data",function(k,I){y.push(k),x&&x(I)}).on("error",function(k){y=[],p(k)}).on("end",function(){try{var k=function(I,F,C){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",F),C);case"base64":return c.encode(F);default:return a.transformTo(I,F)}}(w,function(I,F){var C,P=0,T=null,_=0;for(C=0;C<F.length;C++)_+=F[C].length;switch(I){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(T=new Uint8Array(_),C=0;C<F.length;C++)T.set(F[C],P),P+=F[C].length;return T;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+I+"'")}}(N,y),j);b(k)}catch(I){p(I)}y=[]}).resume()})}function h(v,x,b){var p=x;switch(x){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=x,this._mimeType=b,a.checkSupport(p),this._worker=v.pipe(new o(p)),v.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}h.prototype={accumulate:function(v){return m(this,v)},on:function(v,x){var b=this;return v==="data"?this._worker.on(v,function(p){x.call(b,p.data,p.meta)}):this._worker.on(v,function(){a.delay(x,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var a=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),u=new Array(256),A=0;A<256;A++)u[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function m(){c.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?l.newBufferFrom(h,"utf-8"):function(v){var x,b,p,y,N,w=v.length,j=0;for(y=0;y<w;y++)(64512&(b=v.charCodeAt(y)))==55296&&y+1<w&&(64512&(p=v.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(p-56320),y++),j+=b<128?1:b<2048?2:b<65536?3:4;for(x=o.uint8array?new Uint8Array(j):new Array(j),y=N=0;N<j;y++)(64512&(b=v.charCodeAt(y)))==55296&&y+1<w&&(64512&(p=v.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(p-56320),y++),b<128?x[N++]=b:(b<2048?x[N++]=192|b>>>6:(b<65536?x[N++]=224|b>>>12:(x[N++]=240|b>>>18,x[N++]=128|b>>>12&63),x[N++]=128|b>>>6&63),x[N++]=128|63&b);return x}(h)},i.utf8decode=function(h){return o.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(v){var x,b,p,y,N=v.length,w=new Array(2*N);for(x=b=0;x<N;)if((p=v[x++])<128)w[b++]=p;else if(4<(y=u[p]))w[b++]=65533,x+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&x<N;)p=p<<6|63&v[x++],y--;1<y?w[b++]=65533:p<65536?w[b++]=p:(p-=65536,w[b++]=55296|p>>10&1023,w[b++]=56320|1023&p)}return w.length!==b&&(w.subarray?w=w.subarray(0,b):w.length=b),a.applyFromCharCode(w)}(h=a.transformTo(o.uint8array?"uint8array":"array",h))},a.inherits(f,c),f.prototype.processChunk=function(h){var v=a.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var x=v;(v=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),v.set(x,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(y,N){var w;for((N=N||y.length)>y.length&&(N=y.length),w=N-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?N:w+u[y[w]]>N?w:N}(v),p=v;b!==v.length&&(o.uint8array?(p=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(p=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:i.utf8decode(p),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(m,c),m.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var a=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function u(x){return x}function A(x,b){for(var p=0;p<x.length;++p)b[p]=255&x.charCodeAt(p);return b}t("setimmediate"),i.newBlob=function(x,b){i.checkSupport("blob");try{return new Blob([x],{type:b})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(x),p.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(x,b,p){var y=[],N=0,w=x.length;if(w<=p)return String.fromCharCode.apply(null,x);for(;N<w;)b==="array"||b==="nodebuffer"?y.push(String.fromCharCode.apply(null,x.slice(N,Math.min(N+p,w)))):y.push(String.fromCharCode.apply(null,x.subarray(N,Math.min(N+p,w)))),N+=p;return y.join("")},stringifyByChar:function(x){for(var b="",p=0;p<x.length;p++)b+=String.fromCharCode(x[p]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function m(x){var b=65536,p=i.getTypeOf(x),y=!0;if(p==="uint8array"?y=f.applyCanBeUsed.uint8array:p==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<b;)try{return f.stringifyByChunk(x,p,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(x)}function h(x,b){for(var p=0;p<x.length;p++)b[p]=x[p];return b}i.applyFromCharCode=m;var v={};v.string={string:u,array:function(x){return A(x,new Array(x.length))},arraybuffer:function(x){return v.string.uint8array(x).buffer},uint8array:function(x){return A(x,new Uint8Array(x.length))},nodebuffer:function(x){return A(x,l.allocBuffer(x.length))}},v.array={string:m,array:u,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return l.newBufferFrom(x)}},v.arraybuffer={string:function(x){return m(new Uint8Array(x))},array:function(x){return h(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:u,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return l.newBufferFrom(new Uint8Array(x))}},v.uint8array={string:m,array:function(x){return h(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:u,nodebuffer:function(x){return l.newBufferFrom(x)}},v.nodebuffer={string:m,array:function(x){return h(x,new Array(x.length))},arraybuffer:function(x){return v.nodebuffer.uint8array(x).buffer},uint8array:function(x){return h(x,new Uint8Array(x.length))},nodebuffer:u},i.transformTo=function(x,b){if(b=b||"",!x)return b;i.checkSupport(x);var p=i.getTypeOf(b);return v[p][x](b)},i.resolve=function(x){for(var b=x.split("/"),p=[],y=0;y<b.length;y++){var N=b[y];N==="."||N===""&&y!==0&&y!==b.length-1||(N===".."?p.pop():p.push(N))}return p.join("/")},i.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(x)?"nodebuffer":a.uint8array&&x instanceof Uint8Array?"uint8array":a.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(x){if(!a[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(x){var b,p,y="";for(p=0;p<(x||"").length;p++)y+="\\x"+((b=x.charCodeAt(p))<16?"0":"")+b.toString(16).toUpperCase();return y},i.delay=function(x,b,p){setImmediate(function(){x.apply(p||null,b||[])})},i.inherits=function(x,b){function p(){}p.prototype=b.prototype,x.prototype=new p},i.extend=function(){var x,b,p={};for(x=0;x<arguments.length;x++)for(b in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],b)&&p[b]===void 0&&(p[b]=arguments[x][b]);return p},i.prepareContent=function(x,b,p,y,N){return c.Promise.resolve(b).then(function(w){return a.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(j,k){var I=new FileReader;I.onload=function(F){j(F.target.result)},I.onerror=function(F){k(F.target.error)},I.readAsArrayBuffer(w)}):w}).then(function(w){var j=i.getTypeOf(w);return j?(j==="arraybuffer"?w=i.transformTo("uint8array",w):j==="string"&&(N?w=o.decode(w):p&&y!==!0&&(w=function(k){return A(k,a.uint8array?new Uint8Array(k.length):new Array(k.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var a=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),c=t("./zipEntry"),u=t("./support");function A(f){this.files=[],this.loadOptions=f}A.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(f)+")")}},isSignature:function(f,m){var h=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===m;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",h=o.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,h,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),m=this.reader.readInt(4),h=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=m-h;if(0<v)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var a=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),u=t("./utf8"),A=t("./compressions"),f=t("./support");function m(h,v){this.options=h,this.loadOptions=v}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,x;if(h.skip(22),this.fileNameLength=h.readInt(2),x=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var p in A)if(Object.prototype.hasOwnProperty.call(A,p)&&A[p].magic===b)return A[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,x,b,p=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<p;)v=h.readInt(2),x=h.readInt(2),b=h.readData(x),this.extraFields[v]={id:v,length:x,value:b};h.setIndex(p)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var x=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var p=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=a(h.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=a(h.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(h.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function a(v,x,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=x,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),u=t("./compressedObject"),A=t("./stream/GenericWorker");a.prototype={internalStream:function(v){var x=null,b="string";try{if(!v)throw new Error("No output type specified.");var p=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),x=this._decompressWorker();var y=!this._dataBinary;y&&!p&&(x=x.pipe(new c.Utf8EncodeWorker)),!y&&p&&(x=x.pipe(new c.Utf8DecodeWorker))}catch(N){(x=new A("error")).error(N)}return new o(x,b,"")},async:function(v,x){return this.internalStream(v).accumulate(x)},nodeStream:function(v,x){return this.internalStream(v||"nodebuffer").toNodejsStream(x)},_compressWorker:function(v,x){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,v,x)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof A?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=m;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(a){var o,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,A=new c(v),f=a.document.createTextNode("");A.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var x=a.document.createElement("script");x.onreadystatechange=function(){v(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},a.document.documentElement.appendChild(x)}:function(){setTimeout(v,0)};else{var m=new a.MessageChannel;m.port1.onmessage=v,o=function(){m.port2.postMessage(0)}}var h=[];function v(){var x,b;l=!0;for(var p=h.length;p;){for(b=h,h=[],x=-1;++x<p;)b[x]();p=h.length}l=!1}n.exports=function(x){h.push(x)!==1||l||o()}}).call(this,typeof ul<"u"?ul:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var a=t("immediate");function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],A=["PENDING"];function f(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,p!==o&&x(this,p)}function m(p,y,N){this.promise=p,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function h(p,y,N){a(function(){var w;try{w=y(N)}catch(j){return l.reject(p,j)}w===p?l.reject(p,new TypeError("Cannot resolve promise with itself")):l.resolve(p,w)})}function v(p){var y=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof y=="function")return function(){y.apply(p,arguments)}}function x(p,y){var N=!1;function w(I){N||(N=!0,l.reject(p,I))}function j(I){N||(N=!0,l.resolve(p,I))}var k=b(function(){y(j,w)});k.status==="error"&&w(k.value)}function b(p,y){var N={};try{N.value=p(y),N.status="success"}catch(w){N.status="error",N.value=w}return N}(n.exports=f).prototype.finally=function(p){if(typeof p!="function")return this;var y=this.constructor;return this.then(function(N){return y.resolve(p()).then(function(){return N})},function(N){return y.resolve(p()).then(function(){throw N})})},f.prototype.catch=function(p){return this.then(null,p)},f.prototype.then=function(p,y){if(typeof p!="function"&&this.state===u||typeof y!="function"&&this.state===c)return this;var N=new this.constructor(o);return this.state!==A?h(N,this.state===u?p:y,this.outcome):this.queue.push(new m(N,p,y)),N},m.prototype.callFulfilled=function(p){l.resolve(this.promise,p)},m.prototype.otherCallFulfilled=function(p){h(this.promise,this.onFulfilled,p)},m.prototype.callRejected=function(p){l.reject(this.promise,p)},m.prototype.otherCallRejected=function(p){h(this.promise,this.onRejected,p)},l.resolve=function(p,y){var N=b(v,y);if(N.status==="error")return l.reject(p,N.value);var w=N.value;if(w)x(p,w);else{p.state=u,p.outcome=y;for(var j=-1,k=p.queue.length;++j<k;)p.queue[j].callFulfilled(y)}return p},l.reject=function(p,y){p.state=c,p.outcome=y;for(var N=-1,w=p.queue.length;++N<w;)p.queue[N].callRejected(y);return p},f.resolve=function(p){return p instanceof this?p:l.resolve(new this(o),p)},f.reject=function(p){var y=new this(o);return l.reject(y,p)},f.all=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=p.length,w=!1;if(!N)return this.resolve([]);for(var j=new Array(N),k=0,I=-1,F=new this(o);++I<N;)C(p[I],I);return F;function C(P,T){y.resolve(P).then(function(_){j[T]=_,++k!==N||w||(w=!0,l.resolve(F,j))},function(_){w||(w=!0,l.reject(F,_))})}},f.race=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=p.length,w=!1;if(!N)return this.resolve([]);for(var j=-1,k=new this(o);++j<N;)I=p[j],y.resolve(I).then(function(F){w||(w=!0,l.resolve(k,F))},function(F){w||(w=!0,l.reject(k,F))});var I;return k}},{immediate:36}],38:[function(t,n,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var a=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),u=t("./zlib/zstream"),A=Object.prototype.toString,f=0,m=-1,h=0,v=8;function x(p){if(!(this instanceof x))return new x(p);this.options=o.assign({level:m,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},p||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var N=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(N!==f)throw new Error(c[N]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(w=typeof y.dictionary=="string"?l.string2buf(y.dictionary):A.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(N=a.deflateSetDictionary(this.strm,w))!==f)throw new Error(c[N]);this._dict_set=!0}}function b(p,y){var N=new x(y);if(N.push(p,!0),N.err)throw N.msg||c[N.err];return N.result}x.prototype.push=function(p,y){var N,w,j=this.strm,k=this.options.chunkSize;if(this.ended)return!1;w=y===~~y?y:y===!0?4:0,typeof p=="string"?j.input=l.string2buf(p):A.call(p)==="[object ArrayBuffer]"?j.input=new Uint8Array(p):j.input=p,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(k),j.next_out=0,j.avail_out=k),(N=a.deflate(j,w))!==1&&N!==f)return this.onEnd(N),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(j.output,j.next_out))):this.onData(o.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&N!==1);return w===4?(N=a.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===f):w!==2||(this.onEnd(f),!(j.avail_out=0))},x.prototype.onData=function(p){this.chunks.push(p)},x.prototype.onEnd=function(p){p===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Deflate=x,i.deflate=b,i.deflateRaw=function(p,y){return(y=y||{}).raw=!0,b(p,y)},i.gzip=function(p,y){return(y=y||{}).gzip=!0,b(p,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var a=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),u=t("./zlib/messages"),A=t("./zlib/zstream"),f=t("./zlib/gzheader"),m=Object.prototype.toString;function h(x){if(!(this instanceof h))return new h(x);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},x||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||x&&x.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var p=a.inflateInit2(this.strm,b.windowBits);if(p!==c.Z_OK)throw new Error(u[p]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function v(x,b){var p=new h(b);if(p.push(x,!0),p.err)throw p.msg||u[p.err];return p.result}h.prototype.push=function(x,b){var p,y,N,w,j,k,I=this.strm,F=this.options.chunkSize,C=this.options.dictionary,P=!1;if(this.ended)return!1;y=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof x=="string"?I.input=l.binstring2buf(x):m.call(x)==="[object ArrayBuffer]"?I.input=new Uint8Array(x):I.input=x,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(F),I.next_out=0,I.avail_out=F),(p=a.inflate(I,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(k=typeof C=="string"?l.string2buf(C):m.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,p=a.inflateSetDictionary(this.strm,k)),p===c.Z_BUF_ERROR&&P===!0&&(p=c.Z_OK,P=!1),p!==c.Z_STREAM_END&&p!==c.Z_OK)return this.onEnd(p),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&p!==c.Z_STREAM_END&&(I.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border(I.output,I.next_out),w=I.next_out-N,j=l.buf2string(I.output,N),I.next_out=w,I.avail_out=F-w,w&&o.arraySet(I.output,I.output,N,w,0),this.onData(j)):this.onData(o.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(P=!0)}while((0<I.avail_in||I.avail_out===0)&&p!==c.Z_STREAM_END);return p===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(p=a.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(I.avail_out=0))},h.prototype.onData=function(x){this.chunks.push(x)},h.prototype.onEnd=function(x){x===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Inflate=h,i.inflate=v,i.inflateRaw=function(x,b){return(b=b||{}).raw=!0,v(x,b)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var A=u.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var f in A)A.hasOwnProperty(f)&&(c[f]=A[f])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,A,f,m){if(u.subarray&&c.subarray)c.set(u.subarray(A,A+f),m);else for(var h=0;h<f;h++)c[m+h]=u[A+h]},flattenChunks:function(c){var u,A,f,m,h,v;for(u=f=0,A=c.length;u<A;u++)f+=c[u].length;for(v=new Uint8Array(f),u=m=0,A=c.length;u<A;u++)h=c[u],v.set(h,m),m+=h.length;return v}},l={arraySet:function(c,u,A,f,m){for(var h=0;h<f;h++)c[m+h]=u[A+h]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,n,i){var a=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function A(f,m){if(m<65537&&(f.subarray&&l||!f.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(f,m));for(var h="",v=0;v<m;v++)h+=String.fromCharCode(f[v]);return h}c[254]=c[254]=1,i.string2buf=function(f){var m,h,v,x,b,p=f.length,y=0;for(x=0;x<p;x++)(64512&(h=f.charCodeAt(x)))==55296&&x+1<p&&(64512&(v=f.charCodeAt(x+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),x++),y+=h<128?1:h<2048?2:h<65536?3:4;for(m=new a.Buf8(y),x=b=0;b<y;x++)(64512&(h=f.charCodeAt(x)))==55296&&x+1<p&&(64512&(v=f.charCodeAt(x+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),x++),h<128?m[b++]=h:(h<2048?m[b++]=192|h>>>6:(h<65536?m[b++]=224|h>>>12:(m[b++]=240|h>>>18,m[b++]=128|h>>>12&63),m[b++]=128|h>>>6&63),m[b++]=128|63&h);return m},i.buf2binstring=function(f){return A(f,f.length)},i.binstring2buf=function(f){for(var m=new a.Buf8(f.length),h=0,v=m.length;h<v;h++)m[h]=f.charCodeAt(h);return m},i.buf2string=function(f,m){var h,v,x,b,p=m||f.length,y=new Array(2*p);for(h=v=0;h<p;)if((x=f[h++])<128)y[v++]=x;else if(4<(b=c[x]))y[v++]=65533,h+=b-1;else{for(x&=b===2?31:b===3?15:7;1<b&&h<p;)x=x<<6|63&f[h++],b--;1<b?y[v++]=65533:x<65536?y[v++]=x:(x-=65536,y[v++]=55296|x>>10&1023,y[v++]=56320|1023&x)}return A(y,v)},i.utf8border=function(f,m){var h;for((m=m||f.length)>f.length&&(m=f.length),h=m-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?m:h+c[f[h]]>m?h:m}},{"./common":41}],43:[function(t,n,i){n.exports=function(a,o,l,c){for(var u=65535&a|0,A=a>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;A=A+(u=u+o[c++]|0)|0,--f;);u%=65521,A%=65521}return u|A<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();n.exports=function(o,l,c,u){var A=a,f=u+c;o^=-1;for(var m=u;m<f;m++)o=o>>>8^A[255&(o^l[m])];return-1^o}},{}],46:[function(t,n,i){var a,o=t("../utils/common"),l=t("./trees"),c=t("./adler32"),u=t("./crc32"),A=t("./messages"),f=0,m=4,h=0,v=-2,x=-1,b=4,p=2,y=8,N=9,w=286,j=30,k=19,I=2*w+1,F=15,C=3,P=258,T=P+C+1,_=42,U=113,S=1,X=2,ie=3,Z=4;function ce(te,je){return te.msg=A[je],je}function re(te){return(te<<1)-(4<te?9:0)}function ae(te){for(var je=te.length;0<=--je;)te[je]=0}function M(te){var je=te.state,$=je.pending;$>te.avail_out&&($=te.avail_out),$!==0&&(o.arraySet(te.output,je.pending_buf,je.pending_out,$,te.next_out),te.next_out+=$,je.pending_out+=$,te.total_out+=$,te.avail_out-=$,je.pending-=$,je.pending===0&&(je.pending_out=0))}function L(te,je){l._tr_flush_block(te,0<=te.block_start?te.block_start:-1,te.strstart-te.block_start,je),te.block_start=te.strstart,M(te.strm)}function V(te,je){te.pending_buf[te.pending++]=je}function K(te,je){te.pending_buf[te.pending++]=je>>>8&255,te.pending_buf[te.pending++]=255&je}function ee(te,je){var $,q,Q=te.max_chain_length,G=te.strstart,me=te.prev_length,fe=te.nice_match,de=te.strstart>te.w_size-T?te.strstart-(te.w_size-T):0,be=te.window,Ee=te.w_mask,ke=te.prev,He=te.strstart+P,Ye=be[G+me-1],et=be[G+me];te.prev_length>=te.good_match&&(Q>>=2),fe>te.lookahead&&(fe=te.lookahead);do if(be[($=je)+me]===et&&be[$+me-1]===Ye&&be[$]===be[G]&&be[++$]===be[G+1]){G+=2,$++;do;while(be[++G]===be[++$]&&be[++G]===be[++$]&&be[++G]===be[++$]&&be[++G]===be[++$]&&be[++G]===be[++$]&&be[++G]===be[++$]&&be[++G]===be[++$]&&be[++G]===be[++$]&&G<He);if(q=P-(He-G),G=He-P,me<q){if(te.match_start=je,fe<=(me=q))break;Ye=be[G+me-1],et=be[G+me]}}while((je=ke[je&Ee])>de&&--Q!=0);return me<=te.lookahead?me:te.lookahead}function z(te){var je,$,q,Q,G,me,fe,de,be,Ee,ke=te.w_size;do{if(Q=te.window_size-te.lookahead-te.strstart,te.strstart>=ke+(ke-T)){for(o.arraySet(te.window,te.window,ke,ke,0),te.match_start-=ke,te.strstart-=ke,te.block_start-=ke,je=$=te.hash_size;q=te.head[--je],te.head[je]=ke<=q?q-ke:0,--$;);for(je=$=ke;q=te.prev[--je],te.prev[je]=ke<=q?q-ke:0,--$;);Q+=ke}if(te.strm.avail_in===0)break;if(me=te.strm,fe=te.window,de=te.strstart+te.lookahead,be=Q,Ee=void 0,Ee=me.avail_in,be<Ee&&(Ee=be),$=Ee===0?0:(me.avail_in-=Ee,o.arraySet(fe,me.input,me.next_in,Ee,de),me.state.wrap===1?me.adler=c(me.adler,fe,Ee,de):me.state.wrap===2&&(me.adler=u(me.adler,fe,Ee,de)),me.next_in+=Ee,me.total_in+=Ee,Ee),te.lookahead+=$,te.lookahead+te.insert>=C)for(G=te.strstart-te.insert,te.ins_h=te.window[G],te.ins_h=(te.ins_h<<te.hash_shift^te.window[G+1])&te.hash_mask;te.insert&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[G+C-1])&te.hash_mask,te.prev[G&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=G,G++,te.insert--,!(te.lookahead+te.insert<C)););}while(te.lookahead<T&&te.strm.avail_in!==0)}function D(te,je){for(var $,q;;){if(te.lookahead<T){if(z(te),te.lookahead<T&&je===f)return S;if(te.lookahead===0)break}if($=0,te.lookahead>=C&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+C-1])&te.hash_mask,$=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),$!==0&&te.strstart-$<=te.w_size-T&&(te.match_length=ee(te,$)),te.match_length>=C)if(q=l._tr_tally(te,te.strstart-te.match_start,te.match_length-C),te.lookahead-=te.match_length,te.match_length<=te.max_lazy_match&&te.lookahead>=C){for(te.match_length--;te.strstart++,te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+C-1])&te.hash_mask,$=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart,--te.match_length!=0;);te.strstart++}else te.strstart+=te.match_length,te.match_length=0,te.ins_h=te.window[te.strstart],te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+1])&te.hash_mask;else q=l._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++;if(q&&(L(te,!1),te.strm.avail_out===0))return S}return te.insert=te.strstart<C-1?te.strstart:C-1,je===m?(L(te,!0),te.strm.avail_out===0?ie:Z):te.last_lit&&(L(te,!1),te.strm.avail_out===0)?S:X}function H(te,je){for(var $,q,Q;;){if(te.lookahead<T){if(z(te),te.lookahead<T&&je===f)return S;if(te.lookahead===0)break}if($=0,te.lookahead>=C&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+C-1])&te.hash_mask,$=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),te.prev_length=te.match_length,te.prev_match=te.match_start,te.match_length=C-1,$!==0&&te.prev_length<te.max_lazy_match&&te.strstart-$<=te.w_size-T&&(te.match_length=ee(te,$),te.match_length<=5&&(te.strategy===1||te.match_length===C&&4096<te.strstart-te.match_start)&&(te.match_length=C-1)),te.prev_length>=C&&te.match_length<=te.prev_length){for(Q=te.strstart+te.lookahead-C,q=l._tr_tally(te,te.strstart-1-te.prev_match,te.prev_length-C),te.lookahead-=te.prev_length-1,te.prev_length-=2;++te.strstart<=Q&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+C-1])&te.hash_mask,$=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),--te.prev_length!=0;);if(te.match_available=0,te.match_length=C-1,te.strstart++,q&&(L(te,!1),te.strm.avail_out===0))return S}else if(te.match_available){if((q=l._tr_tally(te,0,te.window[te.strstart-1]))&&L(te,!1),te.strstart++,te.lookahead--,te.strm.avail_out===0)return S}else te.match_available=1,te.strstart++,te.lookahead--}return te.match_available&&(q=l._tr_tally(te,0,te.window[te.strstart-1]),te.match_available=0),te.insert=te.strstart<C-1?te.strstart:C-1,je===m?(L(te,!0),te.strm.avail_out===0?ie:Z):te.last_lit&&(L(te,!1),te.strm.avail_out===0)?S:X}function ne(te,je,$,q,Q){this.good_length=te,this.max_lazy=je,this.nice_length=$,this.max_chain=q,this.func=Q}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*j+1)),this.bl_tree=new o.Buf16(2*(2*k+1)),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(F+1),this.heap=new o.Buf16(2*w+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(te){var je;return te&&te.state?(te.total_in=te.total_out=0,te.data_type=p,(je=te.state).pending=0,je.pending_out=0,je.wrap<0&&(je.wrap=-je.wrap),je.status=je.wrap?_:U,te.adler=je.wrap===2?0:1,je.last_flush=f,l._tr_init(je),h):ce(te,v)}function he(te){var je=le(te);return je===h&&function($){$.window_size=2*$.w_size,ae($.head),$.max_lazy_match=a[$.level].max_lazy,$.good_match=a[$.level].good_length,$.nice_match=a[$.level].nice_length,$.max_chain_length=a[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=C-1,$.match_available=0,$.ins_h=0}(te.state),je}function Be(te,je,$,q,Q,G){if(!te)return v;var me=1;if(je===x&&(je=6),q<0?(me=0,q=-q):15<q&&(me=2,q-=16),Q<1||N<Q||$!==y||q<8||15<q||je<0||9<je||G<0||b<G)return ce(te,v);q===8&&(q=9);var fe=new ue;return(te.state=fe).strm=te,fe.wrap=me,fe.gzhead=null,fe.w_bits=q,fe.w_size=1<<fe.w_bits,fe.w_mask=fe.w_size-1,fe.hash_bits=Q+7,fe.hash_size=1<<fe.hash_bits,fe.hash_mask=fe.hash_size-1,fe.hash_shift=~~((fe.hash_bits+C-1)/C),fe.window=new o.Buf8(2*fe.w_size),fe.head=new o.Buf16(fe.hash_size),fe.prev=new o.Buf16(fe.w_size),fe.lit_bufsize=1<<Q+6,fe.pending_buf_size=4*fe.lit_bufsize,fe.pending_buf=new o.Buf8(fe.pending_buf_size),fe.d_buf=1*fe.lit_bufsize,fe.l_buf=3*fe.lit_bufsize,fe.level=je,fe.strategy=G,fe.method=$,he(te)}a=[new ne(0,0,0,0,function(te,je){var $=65535;for($>te.pending_buf_size-5&&($=te.pending_buf_size-5);;){if(te.lookahead<=1){if(z(te),te.lookahead===0&&je===f)return S;if(te.lookahead===0)break}te.strstart+=te.lookahead,te.lookahead=0;var q=te.block_start+$;if((te.strstart===0||te.strstart>=q)&&(te.lookahead=te.strstart-q,te.strstart=q,L(te,!1),te.strm.avail_out===0)||te.strstart-te.block_start>=te.w_size-T&&(L(te,!1),te.strm.avail_out===0))return S}return te.insert=0,je===m?(L(te,!0),te.strm.avail_out===0?ie:Z):(te.strstart>te.block_start&&(L(te,!1),te.strm.avail_out),S)}),new ne(4,4,8,4,D),new ne(4,5,16,8,D),new ne(4,6,32,32,D),new ne(4,4,16,16,H),new ne(8,16,32,32,H),new ne(8,16,128,128,H),new ne(8,32,128,256,H),new ne(32,128,258,1024,H),new ne(32,258,258,4096,H)],i.deflateInit=function(te,je){return Be(te,je,y,15,8,0)},i.deflateInit2=Be,i.deflateReset=he,i.deflateResetKeep=le,i.deflateSetHeader=function(te,je){return te&&te.state?te.state.wrap!==2?v:(te.state.gzhead=je,h):v},i.deflate=function(te,je){var $,q,Q,G;if(!te||!te.state||5<je||je<0)return te?ce(te,v):v;if(q=te.state,!te.output||!te.input&&te.avail_in!==0||q.status===666&&je!==m)return ce(te,te.avail_out===0?-5:v);if(q.strm=te,$=q.last_flush,q.last_flush=je,q.status===_)if(q.wrap===2)te.adler=0,V(q,31),V(q,139),V(q,8),q.gzhead?(V(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),V(q,255&q.gzhead.time),V(q,q.gzhead.time>>8&255),V(q,q.gzhead.time>>16&255),V(q,q.gzhead.time>>24&255),V(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),V(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(V(q,255&q.gzhead.extra.length),V(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(te.adler=u(te.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(V(q,0),V(q,0),V(q,0),V(q,0),V(q,0),V(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),V(q,3),q.status=U);else{var me=y+(q.w_bits-8<<4)<<8;me|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(me|=32),me+=31-me%31,q.status=U,K(q,me),q.strstart!==0&&(K(q,te.adler>>>16),K(q,65535&te.adler)),te.adler=1}if(q.status===69)if(q.gzhead.extra){for(Q=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>Q&&(te.adler=u(te.adler,q.pending_buf,q.pending-Q,Q)),M(te),Q=q.pending,q.pending!==q.pending_buf_size));)V(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>Q&&(te.adler=u(te.adler,q.pending_buf,q.pending-Q,Q)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){Q=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Q&&(te.adler=u(te.adler,q.pending_buf,q.pending-Q,Q)),M(te),Q=q.pending,q.pending===q.pending_buf_size)){G=1;break}G=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,V(q,G)}while(G!==0);q.gzhead.hcrc&&q.pending>Q&&(te.adler=u(te.adler,q.pending_buf,q.pending-Q,Q)),G===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){Q=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>Q&&(te.adler=u(te.adler,q.pending_buf,q.pending-Q,Q)),M(te),Q=q.pending,q.pending===q.pending_buf_size)){G=1;break}G=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,V(q,G)}while(G!==0);q.gzhead.hcrc&&q.pending>Q&&(te.adler=u(te.adler,q.pending_buf,q.pending-Q,Q)),G===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&M(te),q.pending+2<=q.pending_buf_size&&(V(q,255&te.adler),V(q,te.adler>>8&255),te.adler=0,q.status=U)):q.status=U),q.pending!==0){if(M(te),te.avail_out===0)return q.last_flush=-1,h}else if(te.avail_in===0&&re(je)<=re($)&&je!==m)return ce(te,-5);if(q.status===666&&te.avail_in!==0)return ce(te,-5);if(te.avail_in!==0||q.lookahead!==0||je!==f&&q.status!==666){var fe=q.strategy===2?function(de,be){for(var Ee;;){if(de.lookahead===0&&(z(de),de.lookahead===0)){if(be===f)return S;break}if(de.match_length=0,Ee=l._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,Ee&&(L(de,!1),de.strm.avail_out===0))return S}return de.insert=0,be===m?(L(de,!0),de.strm.avail_out===0?ie:Z):de.last_lit&&(L(de,!1),de.strm.avail_out===0)?S:X}(q,je):q.strategy===3?function(de,be){for(var Ee,ke,He,Ye,et=de.window;;){if(de.lookahead<=P){if(z(de),de.lookahead<=P&&be===f)return S;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=C&&0<de.strstart&&(ke=et[He=de.strstart-1])===et[++He]&&ke===et[++He]&&ke===et[++He]){Ye=de.strstart+P;do;while(ke===et[++He]&&ke===et[++He]&&ke===et[++He]&&ke===et[++He]&&ke===et[++He]&&ke===et[++He]&&ke===et[++He]&&ke===et[++He]&&He<Ye);de.match_length=P-(Ye-He),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=C?(Ee=l._tr_tally(de,1,de.match_length-C),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(Ee=l._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),Ee&&(L(de,!1),de.strm.avail_out===0))return S}return de.insert=0,be===m?(L(de,!0),de.strm.avail_out===0?ie:Z):de.last_lit&&(L(de,!1),de.strm.avail_out===0)?S:X}(q,je):a[q.level].func(q,je);if(fe!==ie&&fe!==Z||(q.status=666),fe===S||fe===ie)return te.avail_out===0&&(q.last_flush=-1),h;if(fe===X&&(je===1?l._tr_align(q):je!==5&&(l._tr_stored_block(q,0,0,!1),je===3&&(ae(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),M(te),te.avail_out===0))return q.last_flush=-1,h}return je!==m?h:q.wrap<=0?1:(q.wrap===2?(V(q,255&te.adler),V(q,te.adler>>8&255),V(q,te.adler>>16&255),V(q,te.adler>>24&255),V(q,255&te.total_in),V(q,te.total_in>>8&255),V(q,te.total_in>>16&255),V(q,te.total_in>>24&255)):(K(q,te.adler>>>16),K(q,65535&te.adler)),M(te),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?h:1)},i.deflateEnd=function(te){var je;return te&&te.state?(je=te.state.status)!==_&&je!==69&&je!==73&&je!==91&&je!==103&&je!==U&&je!==666?ce(te,v):(te.state=null,je===U?ce(te,-3):h):v},i.deflateSetDictionary=function(te,je){var $,q,Q,G,me,fe,de,be,Ee=je.length;if(!te||!te.state||(G=($=te.state).wrap)===2||G===1&&$.status!==_||$.lookahead)return v;for(G===1&&(te.adler=c(te.adler,je,Ee,0)),$.wrap=0,Ee>=$.w_size&&(G===0&&(ae($.head),$.strstart=0,$.block_start=0,$.insert=0),be=new o.Buf8($.w_size),o.arraySet(be,je,Ee-$.w_size,$.w_size,0),je=be,Ee=$.w_size),me=te.avail_in,fe=te.next_in,de=te.input,te.avail_in=Ee,te.next_in=0,te.input=je,z($);$.lookahead>=C;){for(q=$.strstart,Q=$.lookahead-(C-1);$.ins_h=($.ins_h<<$.hash_shift^$.window[q+C-1])&$.hash_mask,$.prev[q&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=q,q++,--Q;);$.strstart=q,$.lookahead=C-1,z($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=C-1,$.match_available=0,te.next_in=fe,te.input=de,te.avail_in=me,$.wrap=G,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(a,o){var l,c,u,A,f,m,h,v,x,b,p,y,N,w,j,k,I,F,C,P,T,_,U,S,X;l=a.state,c=a.next_in,S=a.input,u=c+(a.avail_in-5),A=a.next_out,X=a.output,f=A-(o-a.avail_out),m=A+(a.avail_out-257),h=l.dmax,v=l.wsize,x=l.whave,b=l.wnext,p=l.window,y=l.hold,N=l.bits,w=l.lencode,j=l.distcode,k=(1<<l.lenbits)-1,I=(1<<l.distbits)-1;e:do{N<15&&(y+=S[c++]<<N,N+=8,y+=S[c++]<<N,N+=8),F=w[y&k];t:for(;;){if(y>>>=C=F>>>24,N-=C,(C=F>>>16&255)===0)X[A++]=65535&F;else{if(!(16&C)){if((64&C)==0){F=w[(65535&F)+(y&(1<<C)-1)];continue t}if(32&C){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}P=65535&F,(C&=15)&&(N<C&&(y+=S[c++]<<N,N+=8),P+=y&(1<<C)-1,y>>>=C,N-=C),N<15&&(y+=S[c++]<<N,N+=8,y+=S[c++]<<N,N+=8),F=j[y&I];r:for(;;){if(y>>>=C=F>>>24,N-=C,!(16&(C=F>>>16&255))){if((64&C)==0){F=j[(65535&F)+(y&(1<<C)-1)];continue r}a.msg="invalid distance code",l.mode=30;break e}if(T=65535&F,N<(C&=15)&&(y+=S[c++]<<N,(N+=8)<C&&(y+=S[c++]<<N,N+=8)),h<(T+=y&(1<<C)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=C,N-=C,(C=A-f)<T){if(x<(C=T-C)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(U=p,(_=0)===b){if(_+=v-C,C<P){for(P-=C;X[A++]=p[_++],--C;);_=A-T,U=X}}else if(b<C){if(_+=v+b-C,(C-=b)<P){for(P-=C;X[A++]=p[_++],--C;);if(_=0,b<P){for(P-=C=b;X[A++]=p[_++],--C;);_=A-T,U=X}}}else if(_+=b-C,C<P){for(P-=C;X[A++]=p[_++],--C;);_=A-T,U=X}for(;2<P;)X[A++]=U[_++],X[A++]=U[_++],X[A++]=U[_++],P-=3;P&&(X[A++]=U[_++],1<P&&(X[A++]=U[_++]))}else{for(_=A-T;X[A++]=X[_++],X[A++]=X[_++],X[A++]=X[_++],2<(P-=3););P&&(X[A++]=X[_++],1<P&&(X[A++]=X[_++]))}break}}break}}while(c<u&&A<m);c-=P=N>>3,y&=(1<<(N-=P<<3))-1,a.next_in=c,a.next_out=A,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=A<m?m-A+257:257-(A-m),l.hold=y,l.bits=N}},{}],49:[function(t,n,i){var a=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),c=t("./inffast"),u=t("./inftrees"),A=1,f=2,m=0,h=-2,v=1,x=852,b=592;function p(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(_){var U;return _&&_.state?(U=_.state,_.total_in=_.total_out=U.total=0,_.msg="",U.wrap&&(_.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new a.Buf32(x),U.distcode=U.distdyn=new a.Buf32(b),U.sane=1,U.back=-1,m):h}function w(_){var U;return _&&_.state?((U=_.state).wsize=0,U.whave=0,U.wnext=0,N(_)):h}function j(_,U){var S,X;return _&&_.state?(X=_.state,U<0?(S=0,U=-U):(S=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?h:(X.window!==null&&X.wbits!==U&&(X.window=null),X.wrap=S,X.wbits=U,w(_))):h}function k(_,U){var S,X;return _?(X=new y,(_.state=X).window=null,(S=j(_,U))!==m&&(_.state=null),S):h}var I,F,C=!0;function P(_){if(C){var U;for(I=new a.Buf32(512),F=new a.Buf32(32),U=0;U<144;)_.lens[U++]=8;for(;U<256;)_.lens[U++]=9;for(;U<280;)_.lens[U++]=7;for(;U<288;)_.lens[U++]=8;for(u(A,_.lens,0,288,I,0,_.work,{bits:9}),U=0;U<32;)_.lens[U++]=5;u(f,_.lens,0,32,F,0,_.work,{bits:5}),C=!1}_.lencode=I,_.lenbits=9,_.distcode=F,_.distbits=5}function T(_,U,S,X){var ie,Z=_.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new a.Buf8(Z.wsize)),X>=Z.wsize?(a.arraySet(Z.window,U,S-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(X<(ie=Z.wsize-Z.wnext)&&(ie=X),a.arraySet(Z.window,U,S-X,ie,Z.wnext),(X-=ie)?(a.arraySet(Z.window,U,S-X,X,0),Z.wnext=X,Z.whave=Z.wsize):(Z.wnext+=ie,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=ie))),0}i.inflateReset=w,i.inflateReset2=j,i.inflateResetKeep=N,i.inflateInit=function(_){return k(_,15)},i.inflateInit2=k,i.inflate=function(_,U){var S,X,ie,Z,ce,re,ae,M,L,V,K,ee,z,D,H,ne,ue,le,he,Be,te,je,$,q,Q=0,G=new a.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return h;(S=_.state).mode===12&&(S.mode=13),ce=_.next_out,ie=_.output,ae=_.avail_out,Z=_.next_in,X=_.input,re=_.avail_in,M=S.hold,L=S.bits,V=re,K=ae,je=m;e:for(;;)switch(S.mode){case v:if(S.wrap===0){S.mode=13;break}for(;L<16;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(2&S.wrap&&M===35615){G[S.check=0]=255&M,G[1]=M>>>8&255,S.check=l(S.check,G,2,0),L=M=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&M)<<8)+(M>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&M)!=8){_.msg="unknown compression method",S.mode=30;break}if(L-=4,te=8+(15&(M>>>=4)),S.wbits===0)S.wbits=te;else if(te>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<te,_.adler=S.check=1,S.mode=512&M?10:12,L=M=0;break;case 2:for(;L<16;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(S.flags=M,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=M>>8&1),512&S.flags&&(G[0]=255&M,G[1]=M>>>8&255,S.check=l(S.check,G,2,0)),L=M=0,S.mode=3;case 3:for(;L<32;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}S.head&&(S.head.time=M),512&S.flags&&(G[0]=255&M,G[1]=M>>>8&255,G[2]=M>>>16&255,G[3]=M>>>24&255,S.check=l(S.check,G,4,0)),L=M=0,S.mode=4;case 4:for(;L<16;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}S.head&&(S.head.xflags=255&M,S.head.os=M>>8),512&S.flags&&(G[0]=255&M,G[1]=M>>>8&255,S.check=l(S.check,G,2,0)),L=M=0,S.mode=5;case 5:if(1024&S.flags){for(;L<16;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}S.length=M,S.head&&(S.head.extra_len=M),512&S.flags&&(G[0]=255&M,G[1]=M>>>8&255,S.check=l(S.check,G,2,0)),L=M=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(re<(ee=S.length)&&(ee=re),ee&&(S.head&&(te=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),a.arraySet(S.head.extra,X,Z,ee,te)),512&S.flags&&(S.check=l(S.check,X,ee,Z)),re-=ee,Z+=ee,S.length-=ee),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(re===0)break e;for(ee=0;te=X[Z+ee++],S.head&&te&&S.length<65536&&(S.head.name+=String.fromCharCode(te)),te&&ee<re;);if(512&S.flags&&(S.check=l(S.check,X,ee,Z)),re-=ee,Z+=ee,te)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(re===0)break e;for(ee=0;te=X[Z+ee++],S.head&&te&&S.length<65536&&(S.head.comment+=String.fromCharCode(te)),te&&ee<re;);if(512&S.flags&&(S.check=l(S.check,X,ee,Z)),re-=ee,Z+=ee,te)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;L<16;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(M!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}L=M=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;L<32;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}_.adler=S.check=p(M),L=M=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=ce,_.avail_out=ae,_.next_in=Z,_.avail_in=re,S.hold=M,S.bits=L,2;_.adler=S.check=1,S.mode=12;case 12:if(U===5||U===6)break e;case 13:if(S.last){M>>>=7&L,L-=7&L,S.mode=27;break}for(;L<3;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}switch(S.last=1&M,L-=1,3&(M>>>=1)){case 0:S.mode=14;break;case 1:if(P(S),S.mode=20,U!==6)break;M>>>=2,L-=2;break e;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}M>>>=2,L-=2;break;case 14:for(M>>>=7&L,L-=7&L;L<32;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if((65535&M)!=(M>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&M,L=M=0,S.mode=15,U===6)break e;case 15:S.mode=16;case 16:if(ee=S.length){if(re<ee&&(ee=re),ae<ee&&(ee=ae),ee===0)break e;a.arraySet(ie,X,Z,ee,ce),re-=ee,Z+=ee,ae-=ee,ce+=ee,S.length-=ee;break}S.mode=12;break;case 17:for(;L<14;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(S.nlen=257+(31&M),M>>>=5,L-=5,S.ndist=1+(31&M),M>>>=5,L-=5,S.ncode=4+(15&M),M>>>=4,L-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;L<3;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}S.lens[me[S.have++]]=7&M,M>>>=3,L-=3}for(;S.have<19;)S.lens[me[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,$={bits:S.lenbits},je=u(0,S.lens,0,19,S.lencode,0,S.work,$),S.lenbits=$.bits,je){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ne=(Q=S.lencode[M&(1<<S.lenbits)-1])>>>16&255,ue=65535&Q,!((H=Q>>>24)<=L);){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(ue<16)M>>>=H,L-=H,S.lens[S.have++]=ue;else{if(ue===16){for(q=H+2;L<q;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(M>>>=H,L-=H,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}te=S.lens[S.have-1],ee=3+(3&M),M>>>=2,L-=2}else if(ue===17){for(q=H+3;L<q;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}L-=H,te=0,ee=3+(7&(M>>>=H)),M>>>=3,L-=3}else{for(q=H+7;L<q;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}L-=H,te=0,ee=11+(127&(M>>>=H)),M>>>=7,L-=7}if(S.have+ee>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;ee--;)S.lens[S.have++]=te}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,$={bits:S.lenbits},je=u(A,S.lens,0,S.nlen,S.lencode,0,S.work,$),S.lenbits=$.bits,je){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,$={bits:S.distbits},je=u(f,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,$),S.distbits=$.bits,je){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,U===6)break e;case 20:S.mode=21;case 21:if(6<=re&&258<=ae){_.next_out=ce,_.avail_out=ae,_.next_in=Z,_.avail_in=re,S.hold=M,S.bits=L,c(_,K),ce=_.next_out,ie=_.output,ae=_.avail_out,Z=_.next_in,X=_.input,re=_.avail_in,M=S.hold,L=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ne=(Q=S.lencode[M&(1<<S.lenbits)-1])>>>16&255,ue=65535&Q,!((H=Q>>>24)<=L);){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(ne&&(240&ne)==0){for(le=H,he=ne,Be=ue;ne=(Q=S.lencode[Be+((M&(1<<le+he)-1)>>le)])>>>16&255,ue=65535&Q,!(le+(H=Q>>>24)<=L);){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}M>>>=le,L-=le,S.back+=le}if(M>>>=H,L-=H,S.back+=H,S.length=ue,ne===0){S.mode=26;break}if(32&ne){S.back=-1,S.mode=12;break}if(64&ne){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ne,S.mode=22;case 22:if(S.extra){for(q=S.extra;L<q;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}S.length+=M&(1<<S.extra)-1,M>>>=S.extra,L-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ne=(Q=S.distcode[M&(1<<S.distbits)-1])>>>16&255,ue=65535&Q,!((H=Q>>>24)<=L);){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if((240&ne)==0){for(le=H,he=ne,Be=ue;ne=(Q=S.distcode[Be+((M&(1<<le+he)-1)>>le)])>>>16&255,ue=65535&Q,!(le+(H=Q>>>24)<=L);){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}M>>>=le,L-=le,S.back+=le}if(M>>>=H,L-=H,S.back+=H,64&ne){_.msg="invalid distance code",S.mode=30;break}S.offset=ue,S.extra=15&ne,S.mode=24;case 24:if(S.extra){for(q=S.extra;L<q;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}S.offset+=M&(1<<S.extra)-1,M>>>=S.extra,L-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(ae===0)break e;if(ee=K-ae,S.offset>ee){if((ee=S.offset-ee)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}z=ee>S.wnext?(ee-=S.wnext,S.wsize-ee):S.wnext-ee,ee>S.length&&(ee=S.length),D=S.window}else D=ie,z=ce-S.offset,ee=S.length;for(ae<ee&&(ee=ae),ae-=ee,S.length-=ee;ie[ce++]=D[z++],--ee;);S.length===0&&(S.mode=21);break;case 26:if(ae===0)break e;ie[ce++]=S.length,ae--,S.mode=21;break;case 27:if(S.wrap){for(;L<32;){if(re===0)break e;re--,M|=X[Z++]<<L,L+=8}if(K-=ae,_.total_out+=K,S.total+=K,K&&(_.adler=S.check=S.flags?l(S.check,ie,K,ce-K):o(S.check,ie,K,ce-K)),K=ae,(S.flags?M:p(M))!==S.check){_.msg="incorrect data check",S.mode=30;break}L=M=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;L<32;){if(re===0)break e;re--,M+=X[Z++]<<L,L+=8}if(M!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}L=M=0}S.mode=29;case 29:je=1;break e;case 30:je=-3;break e;case 31:return-4;case 32:default:return h}return _.next_out=ce,_.avail_out=ae,_.next_in=Z,_.avail_in=re,S.hold=M,S.bits=L,(S.wsize||K!==_.avail_out&&S.mode<30&&(S.mode<27||U!==4))&&T(_,_.output,_.next_out,K-_.avail_out)?(S.mode=31,-4):(V-=_.avail_in,K-=_.avail_out,_.total_in+=V,_.total_out+=K,S.total+=K,S.wrap&&K&&(_.adler=S.check=S.flags?l(S.check,ie,K,_.next_out-K):o(S.check,ie,K,_.next_out-K)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(V==0&&K===0||U===4)&&je===m&&(je=-5),je)},i.inflateEnd=function(_){if(!_||!_.state)return h;var U=_.state;return U.window&&(U.window=null),_.state=null,m},i.inflateGetHeader=function(_,U){var S;return _&&_.state?(2&(S=_.state).wrap)==0?h:((S.head=U).done=!1,m):h},i.inflateSetDictionary=function(_,U){var S,X=U.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?h:S.mode===11&&o(1,U,X,0)!==S.check?-3:T(_,U,X,X)?(S.mode=31,-4):(S.havedict=1,m):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var a=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(A,f,m,h,v,x,b,p){var y,N,w,j,k,I,F,C,P,T=p.bits,_=0,U=0,S=0,X=0,ie=0,Z=0,ce=0,re=0,ae=0,M=0,L=null,V=0,K=new a.Buf16(16),ee=new a.Buf16(16),z=null,D=0;for(_=0;_<=15;_++)K[_]=0;for(U=0;U<h;U++)K[f[m+U]]++;for(ie=T,X=15;1<=X&&K[X]===0;X--);if(X<ie&&(ie=X),X===0)return v[x++]=20971520,v[x++]=20971520,p.bits=1,0;for(S=1;S<X&&K[S]===0;S++);for(ie<S&&(ie=S),_=re=1;_<=15;_++)if(re<<=1,(re-=K[_])<0)return-1;if(0<re&&(A===0||X!==1))return-1;for(ee[1]=0,_=1;_<15;_++)ee[_+1]=ee[_]+K[_];for(U=0;U<h;U++)f[m+U]!==0&&(b[ee[f[m+U]]++]=U);if(I=A===0?(L=z=b,19):A===1?(L=o,V-=257,z=l,D-=257,256):(L=c,z=u,-1),_=S,k=x,ce=U=M=0,w=-1,j=(ae=1<<(Z=ie))-1,A===1&&852<ae||A===2&&592<ae)return 1;for(;;){for(F=_-ce,P=b[U]<I?(C=0,b[U]):b[U]>I?(C=z[D+b[U]],L[V+b[U]]):(C=96,0),y=1<<_-ce,S=N=1<<Z;v[k+(M>>ce)+(N-=y)]=F<<24|C<<16|P|0,N!==0;);for(y=1<<_-1;M&y;)y>>=1;if(y!==0?(M&=y-1,M+=y):M=0,U++,--K[_]==0){if(_===X)break;_=f[m+b[U]]}if(ie<_&&(M&j)!==w){for(ce===0&&(ce=ie),k+=S,re=1<<(Z=_-ce);Z+ce<X&&!((re-=K[Z+ce])<=0);)Z++,re<<=1;if(ae+=1<<Z,A===1&&852<ae||A===2&&592<ae)return 1;v[w=M&j]=ie<<24|Z<<16|k-x|0}}return M!==0&&(v[k+M]=_-ce<<24|64<<16|0),p.bits=ie,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var a=t("../utils/common"),o=0,l=1;function c(Q){for(var G=Q.length;0<=--G;)Q[G]=0}var u=0,A=29,f=256,m=f+1+A,h=30,v=19,x=2*m+1,b=15,p=16,y=7,N=256,w=16,j=17,k=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(m+2));c(T);var _=new Array(2*h);c(_);var U=new Array(512);c(U);var S=new Array(256);c(S);var X=new Array(A);c(X);var ie,Z,ce,re=new Array(h);function ae(Q,G,me,fe,de){this.static_tree=Q,this.extra_bits=G,this.extra_base=me,this.elems=fe,this.max_length=de,this.has_stree=Q&&Q.length}function M(Q,G){this.dyn_tree=Q,this.max_code=0,this.stat_desc=G}function L(Q){return Q<256?U[Q]:U[256+(Q>>>7)]}function V(Q,G){Q.pending_buf[Q.pending++]=255&G,Q.pending_buf[Q.pending++]=G>>>8&255}function K(Q,G,me){Q.bi_valid>p-me?(Q.bi_buf|=G<<Q.bi_valid&65535,V(Q,Q.bi_buf),Q.bi_buf=G>>p-Q.bi_valid,Q.bi_valid+=me-p):(Q.bi_buf|=G<<Q.bi_valid&65535,Q.bi_valid+=me)}function ee(Q,G,me){K(Q,me[2*G],me[2*G+1])}function z(Q,G){for(var me=0;me|=1&Q,Q>>>=1,me<<=1,0<--G;);return me>>>1}function D(Q,G,me){var fe,de,be=new Array(b+1),Ee=0;for(fe=1;fe<=b;fe++)be[fe]=Ee=Ee+me[fe-1]<<1;for(de=0;de<=G;de++){var ke=Q[2*de+1];ke!==0&&(Q[2*de]=z(be[ke]++,ke))}}function H(Q){var G;for(G=0;G<m;G++)Q.dyn_ltree[2*G]=0;for(G=0;G<h;G++)Q.dyn_dtree[2*G]=0;for(G=0;G<v;G++)Q.bl_tree[2*G]=0;Q.dyn_ltree[2*N]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function ne(Q){8<Q.bi_valid?V(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function ue(Q,G,me,fe){var de=2*G,be=2*me;return Q[de]<Q[be]||Q[de]===Q[be]&&fe[G]<=fe[me]}function le(Q,G,me){for(var fe=Q.heap[me],de=me<<1;de<=Q.heap_len&&(de<Q.heap_len&&ue(G,Q.heap[de+1],Q.heap[de],Q.depth)&&de++,!ue(G,fe,Q.heap[de],Q.depth));)Q.heap[me]=Q.heap[de],me=de,de<<=1;Q.heap[me]=fe}function he(Q,G,me){var fe,de,be,Ee,ke=0;if(Q.last_lit!==0)for(;fe=Q.pending_buf[Q.d_buf+2*ke]<<8|Q.pending_buf[Q.d_buf+2*ke+1],de=Q.pending_buf[Q.l_buf+ke],ke++,fe===0?ee(Q,de,G):(ee(Q,(be=S[de])+f+1,G),(Ee=I[be])!==0&&K(Q,de-=X[be],Ee),ee(Q,be=L(--fe),me),(Ee=F[be])!==0&&K(Q,fe-=re[be],Ee)),ke<Q.last_lit;);ee(Q,N,G)}function Be(Q,G){var me,fe,de,be=G.dyn_tree,Ee=G.stat_desc.static_tree,ke=G.stat_desc.has_stree,He=G.stat_desc.elems,Ye=-1;for(Q.heap_len=0,Q.heap_max=x,me=0;me<He;me++)be[2*me]!==0?(Q.heap[++Q.heap_len]=Ye=me,Q.depth[me]=0):be[2*me+1]=0;for(;Q.heap_len<2;)be[2*(de=Q.heap[++Q.heap_len]=Ye<2?++Ye:0)]=1,Q.depth[de]=0,Q.opt_len--,ke&&(Q.static_len-=Ee[2*de+1]);for(G.max_code=Ye,me=Q.heap_len>>1;1<=me;me--)le(Q,be,me);for(de=He;me=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],le(Q,be,1),fe=Q.heap[1],Q.heap[--Q.heap_max]=me,Q.heap[--Q.heap_max]=fe,be[2*de]=be[2*me]+be[2*fe],Q.depth[de]=(Q.depth[me]>=Q.depth[fe]?Q.depth[me]:Q.depth[fe])+1,be[2*me+1]=be[2*fe+1]=de,Q.heap[1]=de++,le(Q,be,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(et,ft){var At,ot,Jr,_t,Mn,sr,Gt=ft.dyn_tree,us=ft.max_code,Jt=ft.stat_desc.static_tree,Hi=ft.stat_desc.has_stree,Sr=ft.stat_desc.extra_bits,vn=ft.stat_desc.extra_base,cn=ft.stat_desc.max_length,pr=0;for(_t=0;_t<=b;_t++)et.bl_count[_t]=0;for(Gt[2*et.heap[et.heap_max]+1]=0,At=et.heap_max+1;At<x;At++)cn<(_t=Gt[2*Gt[2*(ot=et.heap[At])+1]+1]+1)&&(_t=cn,pr++),Gt[2*ot+1]=_t,us<ot||(et.bl_count[_t]++,Mn=0,vn<=ot&&(Mn=Sr[ot-vn]),sr=Gt[2*ot],et.opt_len+=sr*(_t+Mn),Hi&&(et.static_len+=sr*(Jt[2*ot+1]+Mn)));if(pr!==0){do{for(_t=cn-1;et.bl_count[_t]===0;)_t--;et.bl_count[_t]--,et.bl_count[_t+1]+=2,et.bl_count[cn]--,pr-=2}while(0<pr);for(_t=cn;_t!==0;_t--)for(ot=et.bl_count[_t];ot!==0;)us<(Jr=et.heap[--At])||(Gt[2*Jr+1]!==_t&&(et.opt_len+=(_t-Gt[2*Jr+1])*Gt[2*Jr],Gt[2*Jr+1]=_t),ot--)}}(Q,G),D(be,Ye,Q.bl_count)}function te(Q,G,me){var fe,de,be=-1,Ee=G[1],ke=0,He=7,Ye=4;for(Ee===0&&(He=138,Ye=3),G[2*(me+1)+1]=65535,fe=0;fe<=me;fe++)de=Ee,Ee=G[2*(fe+1)+1],++ke<He&&de===Ee||(ke<Ye?Q.bl_tree[2*de]+=ke:de!==0?(de!==be&&Q.bl_tree[2*de]++,Q.bl_tree[2*w]++):ke<=10?Q.bl_tree[2*j]++:Q.bl_tree[2*k]++,be=de,Ye=(ke=0)===Ee?(He=138,3):de===Ee?(He=6,3):(He=7,4))}function je(Q,G,me){var fe,de,be=-1,Ee=G[1],ke=0,He=7,Ye=4;for(Ee===0&&(He=138,Ye=3),fe=0;fe<=me;fe++)if(de=Ee,Ee=G[2*(fe+1)+1],!(++ke<He&&de===Ee)){if(ke<Ye)for(;ee(Q,de,Q.bl_tree),--ke!=0;);else de!==0?(de!==be&&(ee(Q,de,Q.bl_tree),ke--),ee(Q,w,Q.bl_tree),K(Q,ke-3,2)):ke<=10?(ee(Q,j,Q.bl_tree),K(Q,ke-3,3)):(ee(Q,k,Q.bl_tree),K(Q,ke-11,7));be=de,Ye=(ke=0)===Ee?(He=138,3):de===Ee?(He=6,3):(He=7,4)}}c(re);var $=!1;function q(Q,G,me,fe){K(Q,(u<<1)+(fe?1:0),3),function(de,be,Ee,ke){ne(de),V(de,Ee),V(de,~Ee),a.arraySet(de.pending_buf,de.window,be,Ee,de.pending),de.pending+=Ee}(Q,G,me)}i._tr_init=function(Q){$||(function(){var G,me,fe,de,be,Ee=new Array(b+1);for(de=fe=0;de<A-1;de++)for(X[de]=fe,G=0;G<1<<I[de];G++)S[fe++]=de;for(S[fe-1]=de,de=be=0;de<16;de++)for(re[de]=be,G=0;G<1<<F[de];G++)U[be++]=de;for(be>>=7;de<h;de++)for(re[de]=be<<7,G=0;G<1<<F[de]-7;G++)U[256+be++]=de;for(me=0;me<=b;me++)Ee[me]=0;for(G=0;G<=143;)T[2*G+1]=8,G++,Ee[8]++;for(;G<=255;)T[2*G+1]=9,G++,Ee[9]++;for(;G<=279;)T[2*G+1]=7,G++,Ee[7]++;for(;G<=287;)T[2*G+1]=8,G++,Ee[8]++;for(D(T,m+1,Ee),G=0;G<h;G++)_[2*G+1]=5,_[2*G]=z(G,5);ie=new ae(T,I,f+1,m,b),Z=new ae(_,F,0,h,b),ce=new ae(new Array(0),C,0,v,y)}(),$=!0),Q.l_desc=new M(Q.dyn_ltree,ie),Q.d_desc=new M(Q.dyn_dtree,Z),Q.bl_desc=new M(Q.bl_tree,ce),Q.bi_buf=0,Q.bi_valid=0,H(Q)},i._tr_stored_block=q,i._tr_flush_block=function(Q,G,me,fe){var de,be,Ee=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=function(ke){var He,Ye=4093624447;for(He=0;He<=31;He++,Ye>>>=1)if(1&Ye&&ke.dyn_ltree[2*He]!==0)return o;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return l;for(He=32;He<f;He++)if(ke.dyn_ltree[2*He]!==0)return l;return o}(Q)),Be(Q,Q.l_desc),Be(Q,Q.d_desc),Ee=function(ke){var He;for(te(ke,ke.dyn_ltree,ke.l_desc.max_code),te(ke,ke.dyn_dtree,ke.d_desc.max_code),Be(ke,ke.bl_desc),He=v-1;3<=He&&ke.bl_tree[2*P[He]+1]===0;He--);return ke.opt_len+=3*(He+1)+5+5+4,He}(Q),de=Q.opt_len+3+7>>>3,(be=Q.static_len+3+7>>>3)<=de&&(de=be)):de=be=me+5,me+4<=de&&G!==-1?q(Q,G,me,fe):Q.strategy===4||be===de?(K(Q,2+(fe?1:0),3),he(Q,T,_)):(K(Q,4+(fe?1:0),3),function(ke,He,Ye,et){var ft;for(K(ke,He-257,5),K(ke,Ye-1,5),K(ke,et-4,4),ft=0;ft<et;ft++)K(ke,ke.bl_tree[2*P[ft]+1],3);je(ke,ke.dyn_ltree,He-1),je(ke,ke.dyn_dtree,Ye-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,Ee+1),he(Q,Q.dyn_ltree,Q.dyn_dtree)),H(Q),fe&&ne(Q)},i._tr_tally=function(Q,G,me){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=G>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&G,Q.pending_buf[Q.l_buf+Q.last_lit]=255&me,Q.last_lit++,G===0?Q.dyn_ltree[2*me]++:(Q.matches++,G--,Q.dyn_ltree[2*(S[me]+f+1)]++,Q.dyn_dtree[2*L(G)]++),Q.last_lit===Q.lit_bufsize-1},i._tr_align=function(Q){K(Q,2,3),ee(Q,N,T),function(G){G.bi_valid===16?(V(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(Q)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(a){(function(o,l){if(!o.setImmediate){var c,u,A,f,m=1,h={},v=!1,x=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,c={}.toString.call(o.process)==="[object process]"?function(w){Kt.nextTick(function(){y(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,j=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=j,w}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",N,!1):o.attachEvent("onmessage",N),function(w){o.postMessage(f+w,"*")}):o.MessageChannel?((A=new MessageChannel).port1.onmessage=function(w){y(w.data)},function(w){A.port2.postMessage(w)}):x&&"onreadystatechange"in x.createElement("script")?(u=x.documentElement,function(w){var j=x.createElement("script");j.onreadystatechange=function(){y(w),j.onreadystatechange=null,u.removeChild(j),j=null},u.appendChild(j)}):function(w){setTimeout(y,0,w)},b.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var j=new Array(arguments.length-1),k=0;k<j.length;k++)j[k]=arguments[k+1];var I={callback:w,args:j};return h[m]=I,c(m),m++},b.clearImmediate=p}function p(w){delete h[w]}function y(w){if(v)setTimeout(y,0,w);else{var j=h[w];if(j){v=!0;try{(function(k){var I=k.callback,F=k.args;switch(F.length){case 0:I();break;case 1:I(F[0]);break;case 2:I(F[0],F[1]);break;case 3:I(F[0],F[1],F[2]);break;default:I.apply(l,F)}})(j)}finally{p(w),v=!1}}}}function N(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(f)===0&&y(+w.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ul<"u"?ul:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Ew)),Ew.exports}var bJ=vJ();const wJ=oT(bJ);var $f={exports:{}},Sw,C3;function NJ(){if(C3)return Sw;C3=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"<",">":">"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(n,i){return r[i]}):t}return Sw=e,Sw}var E3;function jJ(){if(E3)return $f.exports;E3=1;var r=NJ(),e=X5().Stream,t="    ";function n(u,A){typeof A!="object"&&(A={indent:A});var f=A.stream?new e:null,m="",h=!1,v=A.indent?A.indent===!0?t:A.indent:"",x=!0;function b(j){x?Kt.nextTick(j):j()}function p(j,k){if(k!==void 0&&(m+=k),j&&!h&&(f=f||new e,h=!0),j&&h){var I=m;b(function(){f.emit("data",I)}),m=""}}function y(j,k){l(p,o(j,v,v?1:0),k)}function N(){if(f){var j=m;b(function(){f.emit("data",j),f.emit("end"),f.readable=!1,f.emit("close")})}}function w(j){var k=j.encoding||"UTF-8",I={version:"1.0",encoding:k};j.standalone&&(I.standalone=j.standalone),y({"?xml":{_attr:I}}),m=m.replace("/>","?>")}return b(function(){x=!1}),A.declaration&&w(A.declaration),u&&u.forEach?u.forEach(function(j,k){var I;k+1===u.length&&(I=N),y(j,I)}):y(u,N),f?(f.readable=!0,f):m}function i(){var u=Array.prototype.slice.call(arguments),A={_elem:o(u)};return A.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var m=this,h=this._elem.indent;l(this.append,o(f,h,this._elem.icount+(h?1:0)),function(){m.append(!0)})},A.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},A}function a(u,A){return new Array(A||0).join(u||"")}function o(u,A,f){f=f||0;var m=a(A,f),h,v=u,x=!1;if(typeof u=="object"){var b=Object.keys(u);if(h=b[0],v=u[h],v&&v._elem)return v._elem.name=h,v._elem.icount=f,v._elem.indent=A,v._elem.indents=m,v._elem.interrupt=v,v._elem}var p=[],y=[],N;function w(j){var k=Object.keys(j);k.forEach(function(I){p.push(c(I,j[I]))})}switch(typeof v){case"object":if(v===null)break;v._attr&&w(v._attr),v._cdata&&y.push(("<![CDATA["+v._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),v.forEach&&(N=!1,y.push(""),v.forEach(function(j){if(typeof j=="object"){var k=Object.keys(j)[0];k=="_attr"?w(j._attr):y.push(o(j,A,f+1))}else y.pop(),N=!0,y.push(r(j))}),N||y.push(""));break;default:y.push(r(v))}return{name:h,interrupt:x,attributes:p,content:y,icount:f,indents:m,indent:A}}function l(u,A,f){if(typeof A!="object")return u(!1,A);var m=A.interrupt?1:A.content.length;function h(){for(;A.content.length;){var x=A.content.shift();if(x!==void 0){if(v(x))return;l(u,x)}}u(!1,(m>1?A.indents:"")+(A.name?"</"+A.name+">":"")+(A.indent&&!f?`
`:"")),f&&f()}function v(x){return x.interrupt?(x.interrupt.append=u,x.interrupt.end=h,x.interrupt=!1,u(!0),!0):!1}if(u(!1,A.indents+(A.name?"<"+A.name:"")+(A.attributes.length?" "+A.attributes.join(" "):"")+(m?A.name?">":"":A.name?"/>":"")+(A.indent&&m>1?`
`:"")),!m)return u(!1,A.indent?`
`:"");v(A)||h()}function c(u,A){return u+'="'+r(A)+'"'}return $f.exports=n,$f.exports.element=$f.exports.Element=i,$f.exports}var BJ=jJ();const mn=oT(BJ),Yf=0,kw=32,_J=32,CJ=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==_J)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const o=r.slice(Yf,kw).map((c,u)=>c^i[u%i.length]),l=new Uint8Array(Yf+o.length+Math.max(0,r.length-kw));return l.set(r.slice(0,Yf)),l.set(o,Yf),l.set(r.slice(kw),Yf+o.length),l};class EJ{format(e,t={stack:[]}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class SJ{replace(e,t,n){let i=e;return t.forEach((a,o)=>{i=i.replace(new RegExp(`{${a.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,t){return t.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class kJ{replace(e,t){let n=e;for(const i of t)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class FJ{constructor(){Ze(this,"formatter"),Ze(this,"imageReplacer"),Ze(this,"numberingReplacer"),this.formatter=new EJ,this.imageReplacer=new SJ,this.numberingReplacer=new kJ}compile(e,t,n=[]){const i=new wJ,a=this.xmlifyFile(e,t),o=new Map(Object.entries(a));for(const[,l]of o)if(Array.isArray(l))for(const c of l)i.file(c.path,c.data);else i.file(l.path,l.data);for(const l of n)i.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?i.file(`word/media/${l.fileName}`,l.data):(i.file(`word/media/${l.fileName}`,l.data),i.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:c,fontKey:u}of e.FontTable.fontOptionsWithKey){const[A]=c.split(".");i.file(`word/fonts/${A}.odttf`,CJ(l,u))}return i}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,i=mn(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=e.Comments.Relationships.RelationshipCount+1,o=mn(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(i,e.Media),c=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(l.forEach((u,A)=>{e.Document.Relationships.createRelationship(n+A,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),mn(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(i,l,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=mn(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:mn(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:mn(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:mn(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,A)=>{const f=mn(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,v)=>{u.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:mn(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${A+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,A)=>{const f=mn(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,v)=>{u.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:mn(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${A+1}.xml.rels`}}),Headers:e.Headers.map((u,A)=>{const f=mn(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,m,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${A+1}.xml`}}),Footers:e.Footers.map((u,A)=>{const f=mn(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,m,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${A+1}.xml`}}),ContentTypes:{data:mn(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:mn(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:mn(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:mn(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:mn(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:mn(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(o,c,a);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((u,A)=>{e.Comments.Relationships.createRelationship(a+A,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),mn(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:mn(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:mn(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const TJ={WITH_2_BLANKS:"  "},S3=r=>r===!0?TJ.WITH_2_BLANKS:r===!1?void 0:r,zT=class bh{static pack(e,t,n){return oG(this,arguments,function*(i,a,o,l=[]){return this.compiler.compile(i,S3(o),l).generateAsync({type:a,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,n=[]){return bh.pack(e,"string",t,n)}static toBuffer(e,t,n=[]){return bh.pack(e,"nodebuffer",t,n)}static toBase64String(e,t,n=[]){return bh.pack(e,"base64",t,n)}static toBlob(e,t,n=[]){return bh.pack(e,"blob",t,n)}static toArrayBuffer(e,t,n=[]){return bh.pack(e,"arraybuffer",t,n)}static toStream(e,t,n=[]){const i=new yJ.Stream;return this.compiler.compile(e,S3(t),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Ze(zT,"compiler",new FJ);let IJ=zT;const LJ=({document:r,onClose:e,isOpen:t})=>{const[n,i]=Ae.useState(null),[a,o]=Ae.useState(!1),[l,c]=Ae.useState(1),[u,A]=Ae.useState(0),[f,m]=Ae.useState("docx"),{toPDF:h,targetRef:v}=XW({filename:`${r?.name||"document"}.pdf`,page:{margin:20,format:"a4",orientation:"portrait"}}),[x,b]=Ae.useState(1),[p,y]=Ae.useState(1);Ae.useEffect(()=>(t&&r&&N(),()=>{n&&URL.revokeObjectURL(n)}),[t,r]);const N=async()=>{if(r){o(!0);try{const U=document.createElement("div");U.innerHTML=r.content,U.style.position="absolute",U.style.left="-9999px",U.style.top="0",U.style.width="210mm",U.style.padding="20mm",U.style.fontFamily="Arial, sans-serif",U.style.fontSize="12pt",U.style.lineHeight="1.4",U.style.color="#000",U.style.backgroundColor="#fff",document.body.appendChild(U);const X=U.querySelectorAll(".page-break").length+1;y(X),document.body.removeChild(U)}catch(U){console.error("Erreur lors de la génération PDF:",U),alert("Erreur lors de la génération du PDF")}finally{o(!1)}}},w=async()=>{o(!0);try{await h()}catch(U){console.error("Erreur lors de la génération PDF:",U),alert("Erreur lors de la génération du PDF")}finally{o(!1)}},j=async()=>{if(r){o(!0);try{const S=new DOMParser().parseFromString(r.content,"text/html"),X=[new ui({text:r.name,heading:Gf.HEADING_1,alignment:Ii.CENTER,spacing:{after:400}})],ie=re=>{if(re.nodeType===Node.TEXT_NODE)re.textContent&&re.textContent.trim()&&X.push(new ui({children:[new mo({text:re.textContent.trim()})],spacing:{after:200}}));else if(re.nodeType===Node.ELEMENT_NODE){const ae=re;if(ae.tagName==="H1")X.push(new ui({text:ae.textContent||"",heading:Gf.HEADING_1,alignment:Ii.CENTER,spacing:{before:400,after:200}}));else if(ae.tagName==="H2")X.push(new ui({text:ae.textContent||"",heading:Gf.HEADING_2,spacing:{before:300,after:200}}));else if(ae.tagName==="H3")X.push(new ui({text:ae.textContent||"",heading:Gf.HEADING_3,spacing:{before:240,after:120}}));else if(ae.tagName==="P"){const M=[];Array.from(ae.childNodes).forEach(L=>{if(L.nodeType===Node.TEXT_NODE)L.textContent&&L.textContent.trim()&&M.push(new mo({text:L.textContent}));else if(L.nodeType===Node.ELEMENT_NODE){const V=L;V.tagName==="STRONG"||V.tagName==="B"?M.push(new mo({text:V.textContent||"",bold:!0})):V.tagName==="EM"||V.tagName==="I"?M.push(new mo({text:V.textContent||"",italics:!0})):V.tagName==="U"?M.push(new mo({text:V.textContent||"",underline:{}})):V.tagName==="SPAN"?V.classList.contains("important")?M.push(new mo({text:V.textContent||"",bold:!0})):M.push(new mo({text:V.textContent||""})):M.push(new mo({text:V.textContent||""}))}}),M.length>0?X.push(new ui({children:M,spacing:{after:200}})):ae.textContent&&ae.textContent.trim()&&X.push(new ui({text:ae.textContent.trim(),spacing:{after:200}}))}else ae.tagName==="DIV"&&ae.className==="document-header"?X.push(new ui({text:ae.textContent||"",heading:Gf.HEADING_1,alignment:Ii.CENTER,spacing:{after:400}})):ae.tagName==="TABLE"?(X.push(new ui({children:[new mo({text:"Tableau",bold:!0})],spacing:{before:240,after:120}})),Array.from(ae.querySelectorAll("tr")).forEach(M=>{const L=Array.from(M.querySelectorAll("td, th")).map(V=>V.textContent?.trim()||"").join(" | ");X.push(new ui({text:L,spacing:{after:120},indent:{left:360}}))})):ae.tagName==="UL"?Array.from(ae.querySelectorAll("li")).forEach(M=>{X.push(new ui({text:`• ${M.textContent||""}`,style:"ListParagraph",spacing:{after:120}}))}):ae.tagName==="OL"?Array.from(ae.querySelectorAll("li")).forEach((M,L)=>{X.push(new ui({text:`${L+1}. ${M.textContent||""}`,style:"ListParagraph",spacing:{after:120}}))}):Array.from(ae.childNodes).forEach(M=>{ie(M)})}};Array.from(S.body.childNodes).forEach(re=>{ie(re)});const Z=new xJ({styles:{paragraphStyles:[{id:"Normal",name:"Normal",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:24,font:"Times New Roman"},paragraph:{spacing:{line:360,before:0,after:0}}},{id:"Heading1",name:"Heading 1",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:32,bold:!0,font:"Times New Roman"},paragraph:{spacing:{before:240,after:120},alignment:Ii.CENTER}},{id:"Heading2",name:"Heading 2",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:28,bold:!0,font:"Times New Roman"},paragraph:{spacing:{before:240,after:120}}},{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0,paragraph:{indent:{left:720}}}]},sections:[{properties:{page:{margin:{top:1440,right:1440,bottom:1440,left:1440}}},children:X}]}),ce=await IJ.toBlob(Z);tG.saveAs(ce,`${r.name}.docx`)}catch(U){console.error("Erreur lors de la génération DOCX:",U),alert("Erreur lors de la génération du document Word")}finally{o(!1)}}},k=()=>{f==="docx"?j():w()},I=()=>{if(n){const U=window.open(n,"_blank");U&&(U.onload=()=>{U.print()})}},F=()=>{c(U=>Math.min(U+.25,3))},C=()=>{c(U=>Math.max(U-.25,.5))},P=()=>{A(U=>(U+90)%360)},T=U=>{switch(U){case"received":return"text-green-600 bg-green-100";case"sent":return"text-yellow-600 bg-yellow-100";case"draft":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},_=U=>{switch(U){case"received":return"Reçu";case"sent":return"Envoyé";case"draft":return"Brouillon";case"archived":return"Archivé";case"cancelled":return"Annulé";default:return U}};return!t||!r?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full h-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T(r.status)}`,children:_(r.status)}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Créé le ",r.createdAt.toLocaleDateString()]})]})]})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1 border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>b(U=>Math.max(U-1,1)),disabled:x<=1,className:"p-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(lU,{className:"h-4 w-4"})}),s.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700 border-x border-gray-300",children:[x," / ",p]}),s.jsx("button",{onClick:()=>b(U=>Math.min(U+1,p)),disabled:x>=p,className:"p-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(a5,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-1 border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:C,className:"p-2 text-gray-600 hover:text-gray-800",title:"Zoom arrière",children:s.jsx(TU,{className:"h-4 w-4"})}),s.jsxs("span",{className:"px-3 py-2 text-sm text-gray-700 border-x border-gray-300 min-w-[60px] text-center",children:[Math.round(l*100),"%"]}),s.jsx("button",{onClick:F,className:"p-2 text-gray-600 hover:text-gray-800",title:"Zoom avant",children:s.jsx(FU,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:P,className:"p-2 border border-gray-300 rounded-lg text-gray-600 hover:text-gray-800",title:"Rotation",children:s.jsx(wU,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(N6,{className:"h-4 w-4"}),s.jsx("span",{children:"Imprimer"})]}),s.jsxs("button",{onClick:k,className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:a,children:[a?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):f==="docx"?s.jsx(Et,{className:"h-4 w-4"}):s.jsx(Ac,{className:"h-4 w-4"}),s.jsxs("span",{children:["Télécharger ",f==="docx"?"Word":"PDF"]}),s.jsxs("select",{value:f,onChange:U=>m(U.target.value),className:"ml-1 bg-blue-700 text-white border-none rounded-md text-sm",onClick:U=>U.stopPropagation(),children:[s.jsx("option",{value:"docx",children:"Word"}),s.jsx("option",{value:"pdf",children:"PDF"})]})]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",style:{maxHeight:"calc(90vh - 200px)"},children:s.jsx("div",{className:"flex justify-center min-h-full w-full",children:s.jsx("div",{className:"relative w-full max-w-4xl",children:s.jsx("div",{ref:v,className:"bg-white shadow-lg mx-auto overflow-hidden",style:{transform:`scale(${l}) rotate(${u}deg)`,transformOrigin:"center top",transition:"transform 0.2s ease",width:"min(210mm, 100%)",maxWidth:"100%",margin:"0 auto"},children:s.jsx("div",{id:"document-content",className:"p-4 md:p-8 bg-white w-full",dangerouslySetInnerHTML:{__html:r.content},style:{fontFamily:"Times New Roman, serif",fontSize:"clamp(10pt, 2vw, 12pt)",lineHeight:"1.5",color:"#000",minHeight:"min(297mm, 80vh)",boxShadow:"0 0 10px rgba(0,0,0,0.1)",wordWrap:"break-word",overflowWrap:"break-word",width:"100%",boxSizing:"border-box"}})})})})}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Document ID:"})," ",r.id]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dernière modification:"})," ",r.updatedAt.toLocaleDateString()]})]})})]})})},DJ=()=>{const{properties:r}=Wu(),{tenants:e}=$0(),[t,n]=Ae.useState([]),[i]=Ae.useState(D5),[a,o]=Ae.useState(!0),[l,c]=Ae.useState(""),[u,A]=Ae.useState("all"),[f,m]=Ae.useState("all"),[h,v]=Ae.useState(!1),[x,b]=Ae.useState(!1),[p,y]=Ae.useState(null),[N,w]=Ae.useState(null),[j,k]=Ae.useState(!1),[I,F]=Ae.useState("templates");Ae.useEffect(()=>{C()},[]);const C=async()=>{try{o(!0);try{const K=await dc.getDocumentsList();n(K)}catch(K){K instanceof Error&&(K.message.includes("timeout")||K.message.includes("Failed to fetch")||K.message.includes("connect error"))?(console.warn("Utilisation des documents de démonstration en raison d'une erreur de connexion:",K.message),n([{id:"doc_1",templateId:"lease-contract",name:"Contrat de bail - Appartement Bastille",type:"lease",status:"signed",propertyId:"1",tenantId:"1",userId:"current-user",data:{},content:'<div class="document-header"><h1>CONTRAT DE BAIL</h1></div>',signatures:[{id:"sig_1",signerName:"Marie Martin",signerEmail:"marie.martin@email.com",signerRole:"tenant",signedAt:new Date("2023-08-20")}],createdAt:new Date("2023-08-15"),updatedAt:new Date("2023-08-20"),signedAt:new Date("2023-08-20"),metadata:{version:"1.0",generatedBy:"EasyBail Document Generator",legalFramework:"Loi du 6 juillet 1989, Loi ALUR"}},{id:"doc_2",templateId:"inventory-report",name:"État des lieux d'entrée - Appartement Bastille",type:"inventory",status:"signed",propertyId:"1",tenantId:"1",userId:"current-user",data:{},content:'<div class="document-header"><h1>ÉTAT DES LIEUX</h1></div>',signatures:[],createdAt:new Date("2023-08-20"),updatedAt:new Date("2023-08-20"),signedAt:new Date("2023-08-20"),metadata:{version:"1.0",generatedBy:"EasyBail Document Generator",legalFramework:"Loi du 6 juillet 1989, Décret n°2016-382"}},{id:"doc_3",templateId:"rent-receipt",name:"Quittance Novembre 2024",type:"receipt",status:"signed",propertyId:"1",tenantId:"1",userId:"current-user",data:{},content:'<div class="document-header"><h1>QUITTANCE DE LOYER</h1></div>',signatures:[],createdAt:new Date("2024-11-01"),updatedAt:new Date("2024-11-05"),signedAt:new Date("2024-11-05"),metadata:{version:"1.0",generatedBy:"EasyBail Document Generator",legalFramework:"Article 21 de la loi du 6 juillet 1989"}}])):console.error("Erreur lors du chargement des documents:",K)}}catch(K){console.error("Erreur lors du chargement des documents:",K)}finally{o(!1)}},P=K=>{y(K),v(!0)},T=K=>{w(K),b(!0)},_=async K=>{try{await U(K),await dc.saveDocument(K),await C(),v(!1),y(null)}catch(ee){console.error("Erreur lors de la sauvegarde:",ee)}},U=async K=>{try{const ee=window.document.createElement("div");ee.innerHTML=K.content,ee.style.position="absolute",ee.style.left="-9999px",ee.style.top="0",ee.style.width="210mm",ee.style.padding="20mm",ee.style.fontFamily="Arial, sans-serif",ee.style.fontSize="12pt",ee.style.lineHeight="1.4",ee.style.color="#000",ee.style.backgroundColor="#fff",window.document.body.appendChild(ee);const z=await Eh(ee,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,height:1123}),D=new Ft("p","mm","a4"),H=z.toDataURL("image/png"),ne=D.internal.pageSize.getWidth(),ue=D.internal.pageSize.getHeight(),le=z.width,he=z.height,Be=Math.min(ne/le,ue/he),te=(ne-le*Be)/2;D.addImage(H,"PNG",te,0,le*Be,he*Be);const $=D.output("datauristring");K.metadata.pdfData=$,window.document.body.removeChild(ee)}catch(ee){console.error("Erreur lors de la génération PDF:",ee)}},S=async K=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce document ?"))try{await dc.deleteDocument(K),await C()}catch(ee){console.error("Erreur lors de la suppression:",ee)}},X=async K=>{try{const ee=window.document.createElement("div");ee.innerHTML=K.content,ee.style.position="absolute",ee.style.left="-9999px",ee.style.top="0",ee.style.width="210mm",ee.style.padding="20mm",ee.style.fontFamily="Arial, sans-serif",ee.style.fontSize="12pt",ee.style.lineHeight="1.4",ee.style.color="#000",ee.style.backgroundColor="#fff",window.document.body.appendChild(ee);const z=await Eh(ee,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:794,height:1123}),D=new Ft("p","mm","a4"),H=z.toDataURL("image/png"),ne=D.internal.pageSize.getWidth(),ue=D.internal.pageSize.getHeight(),le=z.width,he=z.height,Be=Math.min(ne/le,ue/he),te=(ne-le*Be)/2;D.addImage(H,"PNG",te,0,le*Be,he*Be),D.save(`${K.name}.pdf`),window.document.body.removeChild(ee)}catch(ee){console.error("Erreur lors de la génération PDF:",ee),alert("Erreur lors de la génération du PDF")}},ie=async K=>{try{let ee=null;if(K.metadata.pdfData){const z=K.metadata.pdfData.split(",")[1],D=window.atob(z),H=new Uint8Array(D.length);for(let ne=0;ne<D.length;ne++)H[ne]=D.charCodeAt(ne);ee=new Blob([H],{type:"application/pdf"})}else{const z=window.document.createElement("div");z.innerHTML=K.content,z.style.position="absolute",z.style.left="-9999px",z.style.top="0",z.style.width="210mm",z.style.padding="20mm",z.style.fontFamily="Arial, sans-serif",z.style.fontSize="12pt",z.style.lineHeight="1.4",z.style.color="#000",z.style.backgroundColor="#fff",window.document.body.appendChild(z);const D=await Eh(z,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),H=new Ft("p","mm","a4"),ne=D.toDataURL("image/png"),ue=H.internal.pageSize.getWidth(),le=H.internal.pageSize.getHeight(),he=D.width,Be=D.height,te=Math.min(ue/he,le/Be),je=(ue-he*te)/2;H.addImage(ne,"PNG",je,0,he*te,Be*te),ee=H.output("blob"),window.document.body.removeChild(z)}if(ee){const z=new File([ee],`${K.name}.pdf`,{type:"application/pdf"}),D=URL.createObjectURL(z),H=encodeURIComponent(`Document à signer : ${K.name}`),ne=encodeURIComponent(`Bonjour,

Vous trouverez en pièce jointe le document suivant à signer :

Document : ${K.name}
Type : ${L(K.type)}
Date : ${new Date().toLocaleDateString("fr-FR")}

Veuillez consulter le document et nous le retourner signé.

Cordialement,
Votre propriétaire`),ue=`mailto:?subject=${H}&body=${ne}`;window.open(ue,"_blank");const le=window.document.createElement("a");le.href=D,le.download=`${K.name}.pdf`,le.style.display="none",window.document.body.appendChild(le),le.click(),window.document.body.removeChild(le),setTimeout(()=>{URL.revokeObjectURL(D)},1e3),await dc.updateDocumentStatus(K.id,"sent"),await C(),alert(`Client mail ouvert avec le document "${K.name}". Le fichier PDF a été téléchargé pour que vous puissiez l'attacher à votre email.`)}else throw new Error("Impossible de générer le PDF")}catch(ee){console.error("Erreur lors de l'envoi:",ee),alert(`Erreur lors de l'envoi du document : ${ee instanceof Error?ee.message:"Erreur inconnue"}`)}},Z=async K=>{try{const ee={...K,id:"doc_"+Math.random().toString(36).substr(2,9),name:`${K.name} (Copie)`,userId:K.userId,status:"draft",createdAt:new Date,updatedAt:new Date,signedAt:void 0,signatures:K.signatures.map(z=>({...z,id:"sig_"+Math.random().toString(36).substr(2,9),signedAt:void 0,signatureData:void 0}))};await dc.saveDocument(ee),await C(),alert(`Document dupliqué : "${ee.name}"`)}catch(ee){console.error("Erreur lors de la duplication:",ee)}},ce=t.filter(K=>{const ee=K.name.toLowerCase().includes(l.toLowerCase())||K.type.toLowerCase().includes(l.toLowerCase()),z=u==="all"||K.type===u,D=f==="all"||K.status===f;return ee&&z&&D}),re=i.filter(K=>{const ee=K.name.toLowerCase().includes(l.toLowerCase())||K.description.toLowerCase().includes(l.toLowerCase()),z=u==="all"||K.type===u;return ee&&z}),ae=K=>{switch(K){case"received":return s.jsx(Bt,{className:"h-4 w-4 text-green-600"});case"sent":return s.jsx(Qu,{className:"h-4 w-4 text-green-600"});case"draft":return s.jsx(Gs,{className:"h-4 w-4 text-gray-600"});default:return s.jsx(Em,{className:"h-4 w-4 text-red-600"})}},M=K=>{switch(K){case"received":return"Reçu";case"sent":return"Envoyé";case"draft":return"Brouillon";case"archived":return"Archivé";case"cancelled":return"Annulé";default:return K}},L=K=>({lease:"Contrat de bail",inventory:"État des lieux",receipt:"Quittance",notice:"Préavis",insurance:"Assurance",guarantee:"Caution",amendment:"Avenant",termination:"Résiliation",renewal:"Renouvellement",other:"Autre"})[K]||K,V={total:t.length,draft:t.filter(K=>K.status==="draft").length,pending:t.filter(K=>K.status==="pending_signature").length,sent:t.filter(K=>K.status==="sent").length};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Générateur de documents"}),s.jsx("p",{className:"text-gray-600",children:"Créez et gérez vos documents locatifs"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>F("templates"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${I==="templates"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Modèles"}),s.jsx("button",{onClick:()=>F("documents"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${I==="documents"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Mes documents"})]})})]}),I==="documents"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total documents"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:V.total})]}),s.jsx(Et,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Brouillons"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:V.draft})]}),s.jsx(Gs,{className:"h-8 w-8 text-gray-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:V.pending})]}),s.jsx(Ur,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Signés"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:V.signed})]}),s.jsx(Bt,{className:"h-8 w-8 text-green-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:I==="templates"?"Rechercher un modèle...":I==="documents"?"Rechercher un document...":"Rechercher un template d'email...",value:l,onChange:K=>c(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),I!=="emails"&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:u,onChange:K=>A(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"lease",children:"Contrats de bail"}),s.jsx("option",{value:"inventory",children:"États des lieux"}),s.jsx("option",{value:"receipt",children:"Quittances"}),s.jsx("option",{value:"notice",children:"Préavis"}),s.jsx("option",{value:"insurance",children:"Assurances"}),s.jsx("option",{value:"other",children:"Autres"})]}),I==="documents"&&s.jsxs("select",{value:f,onChange:K=>m(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"draft",children:"Brouillons"}),s.jsx("option",{value:"pending_signature",children:"En attente"}),s.jsx("option",{value:"signed",children:"Signés"}),s.jsx("option",{value:"archived",children:"Archivés"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),I==="templates"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.map(K=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:K.name}),s.jsx("p",{className:"text-sm text-gray-500",children:L(K.type)})]})]}),K.isRequired&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Obligatoire"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:K.description}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Conformité légale :"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:K.legalCompliance.map((ee,z)=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:ee},z))})]}),s.jsxs("button",{onClick:()=>P(K),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(cs,{className:"h-4 w-4"}),s.jsx("span",{children:"Créer le document"})]})]},K.id))}),I==="documents"&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Document"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Bien/Locataire"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Date création"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ce.map(K=>{const ee=r.find(D=>D.id===K.propertyId),z=e.find(D=>D.id===K.tenantId);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:K.name}),K.signedAt&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Signé le ",K.signedAt.toLocaleDateString()]})]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:L(K.type)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[ae(K.status),s.jsx("span",{className:"text-sm text-gray-900",children:M(K.status)})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"text-sm",children:[ee&&s.jsx("p",{className:"text-gray-900",children:ee.name}),z&&s.jsxs("p",{className:"text-gray-500",children:[z.firstName," ",z.lastName]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:K.createdAt.toLocaleDateString()})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>T(K),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir",children:s.jsx(Pi,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>X(K),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Télécharger PDF",children:s.jsx(Ac,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>ie(K),className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Envoyer par email",children:s.jsx(Qu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Z(K),className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Dupliquer",children:s.jsx(l0,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>S(K.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},K.id)})})]})})}),I==="templates"&&re.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun modèle trouvé"}),s.jsx("p",{className:"text-gray-600",children:"Aucun modèle ne correspond à vos critères de recherche."})]}),I==="documents"&&ce.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:l||u!=="all"||f!=="all"?"Aucun document ne correspond à vos critères de recherche.":"Commencez par créer votre premier document."}),s.jsx("button",{onClick:()=>F("templates"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Voir les modèles"})]}),h&&p&&s.jsx(WW,{template:p,userId:"current-user",properties:r,tenants:e,onSave:_,onCancel:()=>{v(!1),y(null)},isOpen:h}),x&&N&&s.jsx(LJ,{document:N,onClose:()=>{b(!1),w(null)},isOpen:x})]})})},UJ=()=>{const[r,e]=Ae.useState([{id:"1",title:"Révision loyer annuelle",description:"Appliquer l'indice IRL pour la révision du loyer",dueDate:new Date("2024-12-15"),priority:"high",status:"pending",propertyId:"1",propertyName:"Appartement Bastille",category:"financial",createdAt:new Date("2024-11-15"),updatedAt:new Date("2024-11-15")},{id:"2",title:"Visite Studio Montmartre",description:"Visite avec potentiel locataire",dueDate:new Date("2024-12-18"),priority:"medium",status:"pending",propertyId:"2",propertyName:"Studio Montmartre",category:"visit",createdAt:new Date("2024-11-20"),updatedAt:new Date("2024-11-20")},{id:"3",title:"Entretien chaudière",description:"Maintenance annuelle de la chaudière",dueDate:new Date("2024-12-20"),priority:"low",status:"pending",propertyId:"3",propertyName:"Maison Vincennes",category:"maintenance",createdAt:new Date("2024-11-10"),updatedAt:new Date("2024-11-10")},{id:"4",title:"Renouvellement assurance PNO",description:"Renouveler le contrat d'assurance propriétaire non occupant",dueDate:new Date("2025-01-15"),priority:"high",status:"pending",category:"administrative",createdAt:new Date("2024-11-25"),updatedAt:new Date("2024-11-25")},{id:"5",title:"Paiement taxe foncière",description:"Payer la taxe foncière pour l'année en cours",dueDate:new Date("2024-11-15"),priority:"high",status:"completed",completedAt:new Date("2024-11-14"),category:"financial",createdAt:new Date("2024-10-15"),updatedAt:new Date("2024-11-14")}]),[t,n]=Ae.useState(""),[i,a]=Ae.useState("all"),[o,l]=Ae.useState("all"),[c,u]=Ae.useState("all"),[A,f]=Ae.useState("dueDate"),[m,h]=Ae.useState("asc"),[v,x]=Ae.useState(!1),[b,p]=Ae.useState(null),[y,N]=Ae.useState({title:"",description:"",dueDate:new Date,priority:"medium",status:"pending",category:"other"}),w=r.filter(K=>{const ee=K.title.toLowerCase().includes(t.toLowerCase())||K.description.toLowerCase().includes(t.toLowerCase())||K.propertyName&&K.propertyName.toLowerCase().includes(t.toLowerCase()),z=i==="all"||K.priority===i,D=o==="all"||K.status===o,H=c==="all"||K.category===c;return ee&&z&&D&&H}),j=[...w].sort((K,ee)=>{let z=K[A],D=ee[A];return z instanceof Date&&D instanceof Date&&(z=z.getTime(),D=D.getTime()),m==="asc"?z<D?-1:z>D?1:0:z>D?-1:z<D?1:0}),k=K=>{switch(K){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=K=>{switch(K){case"high":return"Élevée";case"medium":return"Moyenne";case"low":return"Basse";default:return K}},F=K=>{switch(K){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=K=>{switch(K){case"completed":return"Terminée";case"pending":return"À faire";case"cancelled":return"Annulée";default:return K}},P=K=>{switch(K){case"maintenance":return s.jsx(vt,{className:"h-5 w-5 text-orange-600"});case"administrative":return s.jsx(zd,{className:"h-5 w-5 text-blue-600"});case"financial":return s.jsx(hm,{className:"h-5 w-5 text-green-600"});case"visit":return s.jsx(Ws,{className:"h-5 w-5 text-purple-600"});default:return s.jsx(o5,{className:"h-5 w-5 text-gray-600"})}},T=K=>{switch(K){case"maintenance":return"Maintenance";case"administrative":return"Administratif";case"financial":return"Financier";case"visit":return"Visite";case"other":return"Autre";default:return K}},_=K=>{const ee=new Date,z=new Date(K),D=z.getTime()-ee.getTime(),H=Math.ceil(D/(1e3*60*60*24));return H<0?`En retard de ${Math.abs(H)} jour${Math.abs(H)>1?"s":""}`:H===0?"Aujourd'hui":H===1?"Demain":H<7?`Dans ${H} jours`:z.toLocaleDateString()},U=K=>{const ee=new Date,D=new Date(K).getTime()-ee.getTime(),H=Math.ceil(D/(1e3*60*60*24));return H<0?"text-red-600":H<=3?"text-orange-600":"text-gray-600"},S=()=>{p(null),N({title:"",description:"",dueDate:new Date,priority:"medium",status:"pending",category:"other"}),x(!0)},X=K=>{p(K),N({title:K.title,description:K.description,dueDate:K.dueDate,priority:K.priority,status:K.status,category:K.category,propertyId:K.propertyId,propertyName:K.propertyName,tenantId:K.tenantId,tenantName:K.tenantName}),x(!0)},ie=K=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette tâche ?")&&e(ee=>ee.filter(z=>z.id!==K))},Z=K=>{e(ee=>ee.map(z=>z.id===K?{...z,status:"completed",completedAt:new Date,updatedAt:new Date}:z))},ce=K=>{if(K.preventDefault(),!y.title||!y.dueDate){alert("Veuillez remplir tous les champs obligatoires");return}if(b)e(ee=>ee.map(z=>z.id===b.id?{...z,...y,updatedAt:new Date}:z));else{const ee={id:`task_${Date.now()}`,title:y.title,description:y.description||"",dueDate:y.dueDate,priority:y.priority,status:y.status,category:y.category,propertyId:y.propertyId,propertyName:y.propertyName,tenantId:y.tenantId,tenantName:y.tenantName,createdAt:new Date,updatedAt:new Date};e(z=>[ee,...z])}x(!1),p(null)},re=K=>{const{name:ee,value:z}=K.target;N(ee==="dueDate"?D=>({...D,[ee]:new Date(z)}):D=>({...D,[ee]:z}))},ae=r.filter(K=>K.status==="pending").length,M=r.filter(K=>{const ee=new Date;return K.status==="pending"&&K.dueDate<ee}).length,L=r.filter(K=>K.status==="completed").length,V=r.filter(K=>K.priority==="high"&&K.status==="pending").length;return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tâches"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos tâches et suivez leur progression"})]}),s.jsxs("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Nouvelle tâche"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tâches à faire"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:ae})]}),s.jsx(zd,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En retard"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:M})]}),s.jsx(Ur,{className:"h-8 w-8 text-red-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Priorité haute"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:V})]}),s.jsx(vt,{className:"h-8 w-8 text-orange-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Terminées"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:L})]}),s.jsx(Bt,{className:"h-8 w-8 text-green-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une tâche...",value:t,onChange:K=>n(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("select",{value:i,onChange:K=>a(K.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Toutes priorités"}),s.jsx("option",{value:"high",children:"Priorité haute"}),s.jsx("option",{value:"medium",children:"Priorité moyenne"}),s.jsx("option",{value:"low",children:"Priorité basse"})]}),s.jsxs("select",{value:o,onChange:K=>l(K.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous statuts"}),s.jsx("option",{value:"pending",children:"À faire"}),s.jsx("option",{value:"completed",children:"Terminées"}),s.jsx("option",{value:"cancelled",children:"Annulées"})]}),s.jsxs("select",{value:c,onChange:K=>u(K.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Toutes catégories"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"administrative",children:"Administratif"}),s.jsx("option",{value:"financial",children:"Financier"}),s.jsx("option",{value:"visit",children:"Visite"}),s.jsx("option",{value:"other",children:"Autre"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:s.jsxs("button",{onClick:()=>{A==="title"?h(m==="asc"?"desc":"asc"):(f("title"),h("asc"))},className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Tâche"}),A==="title"&&(m==="asc"?s.jsx(hm,{className:"h-4 w-4"}):s.jsx(o0,{className:"h-4 w-4"}))]})}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Catégorie"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Priorité"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:s.jsxs("button",{onClick:()=>{A==="dueDate"?h(m==="asc"?"desc":"asc"):(f("dueDate"),h("asc"))},className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Échéance"}),A==="dueDate"&&(m==="asc"?s.jsx(hm,{className:"h-4 w-4"}):s.jsx(o0,{className:"h-4 w-4"}))]})}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Bien"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(K=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 pt-1",children:K.status==="completed"?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(zd,{className:"h-5 w-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${K.status==="completed"?"text-gray-500 line-through":"text-gray-900"}`,children:K.title}),s.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:K.description})]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[P(K.category),s.jsx("span",{className:"text-sm text-gray-900",children:T(K.category)})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${k(K.priority)}`,children:I(K.priority)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(br,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:`text-sm ${U(K.dueDate)}`,children:_(K.dueDate)})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${F(K.status)}`,children:C(K.status)})}),s.jsx("td",{className:"py-4 px-6",children:K.propertyName?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ws,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:K.propertyName})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[K.status!=="completed"&&s.jsx("button",{onClick:()=>Z(K.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Marquer comme terminée",children:s.jsx(Bt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>X(K),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>ie(K.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},K.id))})]})})}),w.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune tâche trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:t||i!=="all"||o!=="all"||c!=="all"?"Aucune tâche ne correspond à vos critères de recherche.":"Commencez par ajouter votre première tâche."}),s.jsx("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Ajouter une tâche"})]}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:b?"Modifier la tâche":"Nouvelle tâche"}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:ce,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre de la tâche *"}),s.jsx("input",{type:"text",name:"title",value:y.title||"",onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Révision annuelle du loyer",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:y.description||"",onChange:re,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Description détaillée de la tâche..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date d'échéance *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"dueDate",value:y.dueDate?y.dueDate.toISOString().split("T")[0]:"",onChange:re,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorité"}),s.jsxs("select",{name:"priority",value:y.priority||"medium",onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"low",children:"Basse"}),s.jsx("option",{value:"medium",children:"Moyenne"}),s.jsx("option",{value:"high",children:"Élevée"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),s.jsxs("select",{name:"category",value:y.category||"other",onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"administrative",children:"Administratif"}),s.jsx("option",{value:"financial",children:"Financier"}),s.jsx("option",{value:"visit",children:"Visite"}),s.jsx("option",{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bien concerné (optionnel)"}),s.jsx("input",{type:"text",name:"propertyName",value:y.propertyName||"",onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Appartement Bastille"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{name:"status",value:y.status||"pending",onChange:re,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"pending",children:"À faire"}),s.jsx("option",{value:"completed",children:"Terminée"}),s.jsx("option",{value:"cancelled",children:"Annulée"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:b?"Mettre à jour":"Créer la tâche"})]})]})]})]})})]})},OJ=({flow:r,categories:e,onSave:t,onCancel:n,isOpen:i})=>{const{properties:a}=Wu(),{tenants:o}=$0(),[l,c]=Ae.useState({type:r?.type||"income",category:r?.category||"",amount:r?.amount||0,description:r?.description||"",date:r?.date||new Date,propertyId:r?.propertyId||"",propertyName:r?.propertyName||"",tenantId:r?.tenantId||"",tenantName:r?.tenantName||"",recurring:r?.recurring||!1,recurrenceFrequency:r?.recurrenceFrequency||"monthly",recurrenceEndDate:r?.recurrenceEndDate,status:r?.status||"completed",paymentMethod:r?.paymentMethod||"bank_transfer",reference:r?.reference||"",attachments:r?.attachments||[],tags:r?.tags||[],notes:r?.notes||""}),[u,A]=Ae.useState({}),[f,m]=Ae.useState(!1),[h,v]=Ae.useState(""),x=e.filter(j=>j.type===l.type);Ae.useEffect(()=>{r&&r.type!==l.type&&c(j=>({...j,category:""}))},[l.type,r]),Ae.useEffect(()=>{if(l.propertyId){const j=a.find(k=>k.id===l.propertyId);j&&c(k=>({...k,propertyName:j.name}))}},[l.propertyId,a]),Ae.useEffect(()=>{if(l.tenantId){const j=o.find(k=>k.id===l.tenantId);j&&c(k=>({...k,tenantName:`${j.firstName} ${j.lastName}`}))}},[l.tenantId,o]);const b=j=>{const{name:k,value:I}=j.target;c(k==="amount"?F=>({...F,[k]:parseFloat(I)||0}):k==="date"?F=>({...F,[k]:new Date(I)}):k==="recurrenceEndDate"?F=>({...F,[k]:I?new Date(I):void 0}):k==="recurring"?F=>({...F,[k]:j.target.checked}):F=>({...F,[k]:I})),u[k]&&A(F=>({...F,[k]:""}))},p=()=>{h.trim()&&!l.tags?.includes(h.trim())&&(c(j=>({...j,tags:[...j.tags||[],h.trim()]})),v(""))},y=j=>{c(k=>({...k,tags:k.tags?.filter(I=>I!==j)||[]}))},N=()=>{const j={};return l.description.trim()||(j.description="La description est requise"),l.category||(j.category="La catégorie est requise"),l.amount<=0&&(j.amount="Le montant doit être supérieur à 0"),l.date||(j.date="La date est requise"),l.recurring&&l.recurrenceEndDate&&l.date>l.recurrenceEndDate&&(j.recurrenceEndDate="La date de fin doit être postérieure à la date de début"),A(j),Object.keys(j).length===0},w=async j=>{if(j.preventDefault(),!!N()){m(!0);try{await t(l)}catch(k){console.error("Erreur lors de la sauvegarde:",k),A({submit:"Erreur lors de la sauvegarde"})}finally{m(!1)}}};return i?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Modifier le flux financier":"Ajouter un flux financier"}),s.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>c(j=>({...j,type:"income"})),className:`flex items-center justify-center space-x-2 p-4 rounded-lg border-2 transition-colors ${l.type==="income"?"border-green-600 bg-green-50 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(PJ,{className:`h-5 w-5 ${l.type==="income"?"text-green-600":"text-gray-500"}`}),s.jsx("span",{className:"font-medium",children:"Revenu"})]}),s.jsxs("button",{type:"button",onClick:()=>c(j=>({...j,type:"expense"})),className:`flex items-center justify-center space-x-2 p-4 rounded-lg border-2 transition-colors ${l.type==="expense"?"border-red-600 bg-red-50 text-red-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(RJ,{className:`h-5 w-5 ${l.type==="expense"?"text-red-600":"text-gray-500"}`}),s.jsx("span",{className:"font-medium",children:"Dépense"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations générales"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("input",{type:"text",name:"description",value:l.description,onChange:b,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.description?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ex: Loyer Janvier 2025 - Appartement Bastille"}),u.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie *"}),s.jsxs("select",{name:"category",value:l.category,onChange:b,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.category?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Sélectionner une catégorie"}),x.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]}),u.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant (€) *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"€"}),s.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:b,min:"0",step:"0.01",className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.amount?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"0.00"})]}),u.amount&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.amount})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"date",value:l.date.toISOString().split("T")[0],onChange:b,className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.date?"border-red-300 bg-red-50":"border-gray-300"}`})]}),u.date&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.date})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{name:"status",value:l.status,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"completed",children:"Validé"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"cancelled",children:"Annulé"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations associées"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bien immobilier"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"propertyId",value:l.propertyId,onChange:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Sélectionner un bien"}),a.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locataire"}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"tenantId",value:l.tenantId,onChange:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Sélectionner un locataire"}),o.map(j=>s.jsxs("option",{value:j.id,children:[j.firstName," ",j.lastName]},j.id))]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Détails du paiement"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Méthode de paiement"}),s.jsxs("div",{className:"relative",children:[s.jsx(c0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"bank_transfer",children:"Virement bancaire"}),s.jsx("option",{value:"cash",children:"Espèces"}),s.jsx("option",{value:"check",children:"Chèque"}),s.jsx("option",{value:"direct_debit",children:"Prélèvement"}),s.jsx("option",{value:"other",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Référence"}),s.jsx("input",{type:"text",name:"reference",value:l.reference,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: VIR-2025-01"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",id:"recurring",name:"recurring",checked:l.recurring,onChange:b,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"recurring",className:"ml-2 text-sm font-medium text-gray-700",children:"Transaction récurrente"})]}),l.recurring&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fréquence"}),s.jsxs("div",{className:"relative",children:[s.jsx(j6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"recurrenceFrequency",value:l.recurrenceFrequency,onChange:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"monthly",children:"Mensuelle"}),s.jsx("option",{value:"quarterly",children:"Trimestrielle"}),s.jsx("option",{value:"yearly",children:"Annuelle"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin (optionnelle)"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"recurrenceEndDate",value:l.recurrenceEndDate?l.recurrenceEndDate.toISOString().split("T")[0]:"",onChange:b,className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u.recurrenceEndDate?"border-red-300 bg-red-50":"border-gray-300"}`})]}),u.recurrenceEndDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.recurrenceEndDate})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations additionnelles"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsxs("div",{className:"relative",children:[s.jsx(Et,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx("textarea",{name:"notes",value:l.notes,onChange:b,rows:3,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes ou commentaires additionnels..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(o5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:h,onChange:j=>v(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ajouter un tag...",onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),p())}})]}),s.jsx("button",{type:"button",onClick:p,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s.jsx(cs,{className:"h-5 w-5"})})]}),l.tags&&l.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.tags.map((j,k)=>s.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 px-2 py-1 rounded-full",children:[s.jsx("span",{className:"text-sm text-gray-800",children:j}),s.jsx("button",{type:"button",onClick:()=>y(j),className:"text-gray-500 hover:text-red-600",children:s.jsx(sn,{className:"h-3 w-3"})})]},k))})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[f?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:r?"Mettre à jour":"Enregistrer"})]})]})]})]})}):null},PJ=({className:r})=>s.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),s.jsx("polyline",{points:"17 6 23 6 23 12"})]}),RJ=({className:r})=>s.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),s.jsx("polyline",{points:"17 18 23 18 23 12"})]});tf.register(T5,I5,Nk,k5,F5,S5,hQ,bk,vk);const MJ=({dashboardData:r,stats:e,filterType:t,filterPropertyType:n,filterDateRange:i,onDateRangeChange:a,onFilterTypeChange:o,onFilterPropertyTypeChange:l,onAddFlow:c})=>{const[u,A]=Ae.useState(i?i.end.getMonth()-i.start.getMonth()===0?"month":i.end.getMonth()-i.start.getMonth()===2?"quarter":i.end.getMonth()-i.start.getMonth()===5?"semester":i.end.getMonth()-i.start.getMonth()===11?"year":"custom":"month"),f=v=>{A(v),a(v)},m=v=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(v),h=(v,x)=>x===0?v>0?100:0:(v-x)/x*100;return!r||!e?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des données financières..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 sm:mb-0",children:"Filtres d'analyse"}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Période"}),s.jsx("div",{className:"flex space-x-2",children:[{value:"month",label:"Ce mois"},{value:"quarter",label:"Ce trimestre"},{value:"year",label:"Cette année"}].map(v=>s.jsx("button",{onClick:()=>f(v.value),className:`px-4 py-2 rounded-lg transition-colors ${u===v.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]}),s.jsxs("div",{className:"border-l border-gray-200 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Type de bien"}),s.jsxs("select",{value:n,onChange:v=>l(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous"}),s.jsx("option",{value:"apartment",children:"Appartements"}),s.jsx("option",{value:"house",children:"Maisons"}),s.jsx("option",{value:"studio",children:"Studios"}),s.jsx("option",{value:"parking",children:"Parkings"}),s.jsx("option",{value:"commercial",children:"Commerciaux"})]})]}),s.jsxs("div",{className:"border-l border-gray-200 pl-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Type de flux"}),s.jsxs("select",{value:t,onChange:v=>o(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous"}),s.jsx("option",{value:"income",children:"Revenus"}),s.jsx("option",{value:"expense",children:"Dépenses"})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus totaux"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:m(r.totalIncome)}),e.currentMonth.income!==0&&e.previousMonth.income!==0&&s.jsxs("div",{className:"flex items-center mt-1",children:[e.currentMonth.income>e.previousMonth.income?s.jsxs(s.Fragment,{children:[s.jsx(hm,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsxs("span",{className:"text-sm text-green-600",children:["+",h(e.currentMonth.income,e.previousMonth.income).toFixed(1),"%"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(o0,{className:"h-3 w-3 text-red-600 mr-1"}),s.jsxs("span",{className:"text-sm text-red-600",children:[h(e.currentMonth.income,e.previousMonth.income).toFixed(1),"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"vs mois précédent"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ai,{className:"h-6 w-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dépenses totales"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:m(r.totalExpense)}),e.currentMonth.expense!==0&&e.previousMonth.expense!==0&&s.jsxs("div",{className:"flex items-center mt-1",children:[e.currentMonth.expense<e.previousMonth.expense?s.jsxs(s.Fragment,{children:[s.jsx(o0,{className:"h-3 w-3 text-green-600 mr-1"}),s.jsxs("span",{className:"text-sm text-green-600",children:["-",Math.abs(h(e.currentMonth.expense,e.previousMonth.expense)).toFixed(1),"%"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(hm,{className:"h-3 w-3 text-red-600 mr-1"}),s.jsxs("span",{className:"text-sm text-red-600",children:["+",h(e.currentMonth.expense,e.previousMonth.expense).toFixed(1),"%"]})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"vs mois précédent"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(yo,{className:"h-6 w-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Résultat net"}),s.jsx("p",{className:`text-3xl font-bold ${r.netIncome>=0?"text-blue-600":"text-red-600"}`,children:m(r.netIncome)}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Marge: ",r.totalIncome>0?(r.netIncome/r.totalIncome*100).toFixed(1):"0","%"]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Xr,{className:"h-6 w-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:m(r.pendingAmount)}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"À recevoir/payer"})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Ur,{className:"h-6 w-6 text-yellow-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Répartition des revenus"}),s.jsx(Vw,{className:"h-5 w-5 text-gray-400"})]}),Object.keys(r.incomeByCategory||{}).length>0?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(J_,{data:{labels:Object.keys(r.incomeByCategory),datasets:[{data:Object.values(r.incomeByCategory),backgroundColor:["#4ade80","#22c55e","#16a34a","#15803d","#166534","#84cc16","#65a30d","#4d7c0f","#3f6212","#365314"],borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:15,padding:15,font:{size:12}}},tooltip:{callbacks:{label:function(v){const x=v.label||"",b=v.raw,p=(b/r.totalIncome*100).toFixed(1);return`${x}: ${m(b)} (${p}%)`}}}}}})}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Aucun revenu pour la période sélectionnée"})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Répartition des dépenses"}),s.jsx(Vw,{className:"h-5 w-5 text-gray-400"})]}),Object.keys(r.expenseByCategory||{}).length>0?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(J_,{data:{labels:Object.keys(r.expenseByCategory),datasets:[{data:Object.values(r.expenseByCategory),backgroundColor:["#f87171","#ef4444","#dc2626","#b91c1c","#991b1b","#fb7185","#e11d48","#be123c","#9f1239","#881337"],borderColor:"#ffffff",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:15,padding:15,font:{size:12}}},tooltip:{callbacks:{label:function(v){const x=v.raw,b=(x/r.totalExpense*100).toFixed(1);return`${v.label}: ${m(x)} (${b}%)`}}}}}})}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Aucune dépense pour la période sélectionnée"})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendance mensuelle"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Revenus"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Dépenses"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Net"})]})]})]}),s.jsx("div",{className:"h-72",children:r.monthlyTrend&&r.monthlyTrend.length>0?s.jsx(kk,{data:{labels:[...r.monthlyTrend.map(v=>v.month)].reverse(),datasets:[{label:"Revenus",data:[...r.monthlyTrend.map(v=>v.income)],borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,fill:!0,tension:.2,pointBackgroundColor:"#22c55e",pointRadius:4,pointHoverRadius:6},{label:"Dépenses",data:[...r.monthlyTrend.map(v=>v.expense)],borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.2,pointBackgroundColor:"#ef4444",pointRadius:4,pointHoverRadius:6},{label:"Résultat net",data:[...r.monthlyTrend.map(v=>v.income-v.expense)],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1,tension:.2,pointBackgroundColor:"#3b82f6",pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:12,padding:15,usePointStyle:!0}},tooltip:{callbacks:{label:function(v){const x=v.raw;return`${v.dataset.label}: ${m(x)}`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,ticks:{callback:function(v){return m(v)}}}}}}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("p",{className:"text-gray-500",children:"Aucune donnée disponible pour la période sélectionnée"})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Actions rapides"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("button",{onClick:c,className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[s.jsx(cs,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Ajouter un revenu"})]}),s.jsxs("button",{onClick:c,className:"flex flex-col items-center p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors",children:[s.jsx(cs,{className:"h-8 w-8 text-red-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-red-900",children:"Ajouter une dépense"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[s.jsx(hi,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Exporter les données"})]}),s.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[s.jsx(Ui,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Générer prévisions"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Taux d'occupation"}),s.jsx(Ws,{className:"h-5 w-5 text-gray-400"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative w-32 h-32",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[s.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3",strokeDasharray:"100, 100"}),s.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#3B82F6",strokeWidth:"3",strokeDasharray:`${Math.round(e.occupancyRate)}, 100`}),s.jsxs("text",{x:"18",y:"20.5",textAnchor:"middle",fontSize:"8",fill:"#3B82F6",fontWeight:"bold",children:[Math.round(e.occupancyRate),"%"]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Taux d'occupation actuel"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Loyer moyen"}),s.jsx(Xr,{className:"h-5 w-5 text-gray-400"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:m(e.averageRent)}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"par mois et par bien"}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rendement locatif"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[e.rentalYield.toFixed(2),"%"]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Année en cours"}),s.jsx(br,{className:"h-5 w-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Revenus"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:m(e.ytd.income)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e.ytd.income/(e.ytd.income+e.ytd.expense)*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Dépenses"}),s.jsx("span",{className:"text-sm font-medium text-red-600",children:m(e.ytd.expense)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${e.ytd.expense/(e.ytd.income+e.ytd.expense)*100}%`}})})]}),s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Net"}),s.jsx("span",{className:`text-sm font-bold ${e.ytd.net>=0?"text-blue-600":"text-red-600"}`,children:m(e.ytd.net)})]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alertes financières"}),s.jsx(vt,{className:"h-5 w-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-4",children:[e.currentMonth.net<0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Solde négatif ce mois-ci"}),s.jsxs("p",{className:"text-red-700 text-sm",children:["Vos dépenses (",m(e.currentMonth.expense),") dépassent vos revenus (",m(e.currentMonth.income),")"]})]})]}),r.pendingAmount>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Ur,{className:"h-5 w-5 text-yellow-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-800 font-medium",children:"Transactions en attente"}),s.jsxs("p",{className:"text-yellow-700 text-sm",children:[m(r.pendingAmount)," de transactions sont en attente de validation"]})]})]}),e.occupancyRate<80&&s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Ws,{className:"h-5 w-5 text-orange-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-800 font-medium",children:"Taux d'occupation faible"}),s.jsxs("p",{className:"text-orange-700 text-sm",children:["Votre taux d'occupation est de ",Math.round(e.occupancyRate),"%, ce qui est inférieur à l'objectif de 80%"]})]})]})]})]})]})},QJ=()=>{const{reports:r,createReport:e,generateReport:t,deleteReport:n,loading:i}=rf(),{properties:a}=Wu(),[o,l]=Ae.useState(!1),[c,u]=Ae.useState(null),[A,f]=Ae.useState(!1),[m,h]=Ae.useState(!1),[v,x]=Ae.useState({name:"",type:"monthly",startDate:new Date,endDate:new Date,properties:[],categories:[],format:"pdf"}),b=C=>{const{name:P,value:T}=C.target;x(P==="startDate"||P==="endDate"?_=>({..._,[P]:new Date(T)}):_=>({..._,[P]:T}))},p=C=>{const P=C.target.options,T=[];for(let _=0;_<P.length;_++)P[_].selected&&T.push(P[_].value);x(_=>({..._,properties:T}))},y=C=>{const P=new Date;let T,_=new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59);switch(C){case"monthly":T=new Date(P.getFullYear(),P.getMonth(),1),_=new Date(P.getFullYear(),P.getMonth()+1,0,23,59,59);break;case"quarterly":const U=Math.floor(P.getMonth()/3);T=new Date(P.getFullYear(),U*3,1),_=new Date(P.getFullYear(),(U+1)*3,0,23,59,59);break;case"yearly":T=new Date(P.getFullYear(),0,1),_=new Date(P.getFullYear(),11,31,23,59,59);break;case"custom":return x(S=>({...S,type:C}));default:T=new Date(P.getFullYear(),P.getMonth(),1),_=new Date(P.getFullYear(),P.getMonth()+1,0,23,59,59)}x(U=>({...U,type:C,startDate:T,endDate:_}))},N=async C=>{C.preventDefault();try{const P=await e(v);l(!1),x({name:"",type:"monthly",startDate:new Date,endDate:new Date,properties:[],categories:[],format:"pdf"})}catch(P){console.error("Erreur lors de la création du rapport:",P)}},w=async C=>{try{h(!0);const P=await t(C);P.url&&window.open(P.url,"_blank")}catch(P){console.error("Erreur lors de la génération du rapport:",P)}finally{h(!1)}},j=async C=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce rapport ?"))try{await n(C)}catch(P){console.error("Erreur lors de la suppression du rapport:",P)}},k=(C,P)=>`${C.toLocaleDateString()} - ${P.toLocaleDateString()}`,I=C=>{switch(C){case"monthly":return"Mensuel";case"quarterly":return"Trimestriel";case"yearly":return"Annuel";case"custom":return"Personnalisé";default:return C}},F=C=>{switch(C){case"pdf":return"PDF";case"csv":return"CSV";case"excel":return"Excel";default:return C}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rapports financiers"}),s.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer un rapport"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(br,{className:"h-5 w-5 text-blue-600"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rapport mensuel"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Résumé complet des revenus et dépenses du mois en cours ou précédent."}),s.jsx("button",{onClick:()=>{y("monthly"),l(!0)},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Générer"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(br,{className:"h-5 w-5 text-green-600"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rapport trimestriel"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Analyse détaillée des performances financières sur un trimestre complet."}),s.jsx("button",{onClick:()=>{y("quarterly"),l(!0)},className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Générer"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(br,{className:"h-5 w-5 text-purple-600"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rapport annuel"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Bilan annuel complet avec analyses de tendances et performances."}),s.jsx("button",{onClick:()=>{y("yearly"),l(!0)},className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Générer"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-5 w-5 text-orange-600"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rapport personnalisé"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Créez un rapport sur mesure en sélectionnant la période et les biens."}),s.jsx("button",{onClick:()=>{y("custom"),l(!0)},className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors text-sm",children:"Créer"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Rapports récents"}),s.jsx(hi,{className:"h-5 w-5 text-gray-400"})]}),r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Nom"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Période"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Format"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Créé le"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.name})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:I(C.type)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:k(C.startDate,C.endDate)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:F(C.format)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-900",children:C.createdAt.toLocaleDateString()})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:C.generatedAt?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-600",children:"Généré"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ur,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-sm text-yellow-600",children:"En attente"})]})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[C.url?s.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Télécharger",children:s.jsx(Ac,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>w(C.id),disabled:m,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50",title:"Générer",children:m?s.jsx(Cr,{className:"h-4 w-4 animate-spin"}):s.jsx(Ac,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>{u(C),f(!0)},className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Détails",children:s.jsx(Pi,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>j(C.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},C.id))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rapport"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas encore créé de rapports financiers."}),s.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Créer un rapport"})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Créer un rapport financier"}),s.jsx("button",{onClick:()=>l(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de rapport"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{value:"monthly",label:"Mensuel",icon:br},{value:"quarterly",label:"Trimestriel",icon:br},{value:"yearly",label:"Annuel",icon:br},{value:"custom",label:"Personnalisé",icon:br}].map(C=>{const P=C.icon;return s.jsxs("button",{type:"button",onClick:()=>y(C.value),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-colors ${v.type===C.value?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(P,{className:`h-5 w-5 mb-1 ${v.type===C.value?"text-blue-600":"text-gray-500"}`}),s.jsx("span",{className:"text-sm font-medium",children:C.label})]},C.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du rapport *"}),s.jsx("input",{type:"text",name:"name",value:v.name,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Rapport financier Novembre 2024",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de début *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"startDate",value:v.startDate.toISOString().split("T")[0],onChange:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"endDate",value:v.endDate.toISOString().split("T")[0],onChange:b,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biens immobiliers (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("select",{name:"properties",multiple:!0,value:v.properties||[],onChange:p,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",size:3,children:a.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Maintenez Ctrl (ou Cmd) pour sélectionner plusieurs biens. Laissez vide pour inclure tous les biens."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format du rapport"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"pdf",label:"PDF"},{value:"csv",label:"CSV"},{value:"excel",label:"Excel"}].map(C=>s.jsxs("button",{type:"button",onClick:()=>x(P=>({...P,format:C.value})),className:`flex items-center justify-center space-x-2 p-3 rounded-lg border-2 transition-colors ${v.format===C.value?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Et,{className:`h-5 w-5 ${v.format===C.value?"text-blue-600":"text-gray-500"}`}),s.jsx("span",{className:"text-sm font-medium",children:C.label})]},C.value))})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[i?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer le rapport"})]})]})]})]})}),A&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:"text-sm text-gray-500",children:I(c.type)}),s.jsx("span",{className:"text-sm text-gray-500",children:"•"}),s.jsx("span",{className:"text-sm text-gray-500",children:F(c.format)})]})]})]}),s.jsx("button",{onClick:()=>f(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Informations générales"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Période:"}),s.jsx("span",{className:"text-gray-900 font-medium",children:k(c.startDate,c.endDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Format:"}),s.jsx("span",{className:"text-gray-900 font-medium",children:F(c.format)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Créé le:"}),s.jsx("span",{className:"text-gray-900",children:c.createdAt.toLocaleDateString()})]}),c.generatedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Généré le:"}),s.jsx("span",{className:"text-gray-900",children:c.generatedAt.toLocaleDateString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Filtres appliqués"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Biens:"}),s.jsx("span",{className:"text-gray-900",children:c.properties&&c.properties.length>0?`${c.properties.length} bien(s) sélectionné(s)`:"Tous les biens"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Catégories:"}),s.jsx("span",{className:"text-gray-900",children:c.categories&&c.categories.length>0?`${c.categories.length} catégorie(s) sélectionnée(s)`:"Toutes les catégories"})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center space-x-3 mb-4",children:c.generatedAt?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"h-6 w-6 text-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Rapport généré"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ur,{className:"h-6 w-6 text-yellow-600"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Rapport en attente de génération"})]})}),c.generatedAt?s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ac,{className:"h-4 w-4"}),s.jsx("span",{children:"Télécharger"})]}),s.jsxs("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[s.jsx(N6,{className:"h-4 w-4"}),s.jsx("span",{children:"Imprimer"})]}),s.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[s.jsx(NU,{className:"h-4 w-4"}),s.jsx("span",{children:"Partager"})]})]}):s.jsx("button",{onClick:()=>w(c.id),disabled:m,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:m?s.jsxs(s.Fragment,{children:[s.jsx(Cr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Génération en cours..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ac,{className:"h-4 w-4"}),s.jsx("span",{children:"Générer maintenant"})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsxs("button",{onClick:()=>j(c.id),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Supprimer"})]}),s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})]})]})})]})},HJ=()=>{const{budgets:r,categories:e,createBudget:t,updateBudget:n,deleteBudget:i,loading:a,error:o}=rf(),[l,c]=Ae.useState(!1),[u,A]=Ae.useState(null),[f,m]=Ae.useState({name:"",year:new Date().getFullYear(),month:new Date().getMonth()+1,categories:[],totalBudget:0,totalActual:0}),h=C=>{const{name:P,value:T}=C.target;m(P==="year"||P==="month"||P==="totalBudget"?_=>({..._,[P]:parseInt(T,10)||0}):_=>({..._,[P]:T}))},v=(C,P)=>{m(T=>{const _=[...T.categories],U=_.findIndex(X=>X.categoryId===C);if(U>=0)_[U]={..._[U],budgetAmount:P};else{const X=e.find(ie=>ie.id===C);X&&_.push({categoryId:C,categoryName:X.name,budgetAmount:P,actualAmount:0})}const S=_.reduce((X,ie)=>X+ie.budgetAmount,0);return{...T,categories:_,totalBudget:S}})},x=()=>{A(null);const C=e.filter(P=>P.type==="expense").map(P=>({categoryId:P.id,categoryName:P.name,budgetAmount:0,actualAmount:0}));m({name:`Budget ${new Date().getFullYear()}-${(new Date().getMonth()+1).toString().padStart(2,"0")}`,year:new Date().getFullYear(),month:new Date().getMonth()+1,categories:C,totalBudget:0,totalActual:0}),c(!0)},b=C=>{A(C),m({name:C.name,year:C.year,month:C.month,categories:C.categories,totalBudget:C.totalBudget,totalActual:C.totalActual,notes:C.notes}),c(!0)},p=async C=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce budget ?"))try{await i(C)}catch(P){console.error("Erreur lors de la suppression du budget:",P)}},y=async C=>{C.preventDefault();try{u?await n(u.id,f):await t(f),c(!1),A(null)}catch(P){console.error("Erreur lors de la sauvegarde du budget:",P)}},N=C=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(C),w=C=>{const P=new Date;return P.setMonth(C-1),P.toLocaleDateString("fr-FR",{month:"long"})},j=C=>C.totalBudget===0?0:C.totalActual/C.totalBudget*100,k=C=>{const P=j(C);return P<=80?"good":P<=100?"warning":"over"},I=C=>{switch(C){case"good":return"text-green-600";case"warning":return"text-yellow-600";case"over":return"text-red-600";default:return"text-gray-600"}},F=C=>{switch(C){case"good":return s.jsx(Bt,{className:"h-5 w-5 text-green-600"});case"warning":return s.jsx(vt,{className:"h-5 w-5 text-yellow-600"});case"over":return s.jsx(vt,{className:"h-5 w-5 text-red-600"});default:return null}};return a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cr,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des budgets..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budgets"}),s.jsxs("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer un budget"})]})]}),o&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:o})]})]}),r.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(C=>{const P=k(C),T=j(C);return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:C.name}),s.jsx("p",{className:"text-sm text-gray-500",children:C.month?`${w(C.month)} ${C.year}`:C.year})]}),F(P)]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Progression"}),s.jsxs("span",{className:`text-sm font-medium ${I(P)}`,children:[T.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${P==="good"?"bg-green-500":P==="warning"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(T,100)}%`}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Budget total"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:N(C.totalBudget)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Dépenses actuelles"}),s.jsx("span",{className:`text-sm font-medium ${C.totalActual<=C.totalBudget?"text-green-600":"text-red-600"}`,children:N(C.totalActual)})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Restant"}),s.jsx("span",{className:`text-sm font-bold ${C.totalBudget-C.totalActual>=0?"text-blue-600":"text-red-600"}`,children:N(C.totalBudget-C.totalActual)})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 border-t border-gray-200 flex justify-between",children:[s.jsxs("button",{onClick:()=>b(C),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[s.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Modifier"]}),s.jsxs("button",{onClick:()=>p(C.id),className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center",children:[s.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Supprimer"]})]})]},C.id)})}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(xc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun budget"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vous n'avez pas encore créé de budgets pour gérer vos dépenses."}),s.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Créer un budget"})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u?"Modifier le budget":"Créer un budget"}),s.jsx("button",{onClick:()=>{c(!1),A(null)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du budget *"}),s.jsx("input",{type:"text",name:"name",value:f.name,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Budget Novembre 2024",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Année *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",name:"year",value:f.year,onChange:h,min:"2000",max:"2100",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mois (optionnel)"}),s.jsxs("select",{name:"month",value:f.month||"",onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Année complète"}),s.jsx("option",{value:"1",children:"Janvier"}),s.jsx("option",{value:"2",children:"Février"}),s.jsx("option",{value:"3",children:"Mars"}),s.jsx("option",{value:"4",children:"Avril"}),s.jsx("option",{value:"5",children:"Mai"}),s.jsx("option",{value:"6",children:"Juin"}),s.jsx("option",{value:"7",children:"Juillet"}),s.jsx("option",{value:"8",children:"Août"}),s.jsx("option",{value:"9",children:"Septembre"}),s.jsx("option",{value:"10",children:"Octobre"}),s.jsx("option",{value:"11",children:"Novembre"}),s.jsx("option",{value:"12",children:"Décembre"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Catégories de dépenses"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-4 font-medium text-gray-700 mb-2",children:[s.jsx("div",{className:"col-span-6",children:"Catégorie"}),s.jsx("div",{className:"col-span-3",children:"Budget"}),s.jsx("div",{className:"col-span-3",children:"Actuel"})]}),s.jsx("div",{className:"space-y-3",children:f.categories.filter(C=>e.find(P=>P.id===C.categoryId)?.type==="expense").map((C,P)=>s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[s.jsxs("div",{className:"col-span-6 flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.find(T=>T.id===C.categoryId)?.color||"#808080"}}),s.jsx("span",{className:"text-sm text-gray-900",children:C.categoryName})]}),s.jsx("div",{className:"col-span-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"number",value:C.budgetAmount,onChange:T=>v(C.categoryId,parseFloat(T.target.value)||0),min:"0",step:"0.01",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"col-span-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"number",value:C.actualAmount,readOnly:u===null,onChange:T=>{const _=[...f.categories],U=_.findIndex(X=>X.categoryId===C.categoryId);_[U]={..._[U],actualAmount:parseFloat(T.target.value)||0};const S=_.reduce((X,ie)=>X+ie.actualAmount,0);m(X=>({...X,categories:_,totalActual:S}))},min:"0",step:"0.01",className:`w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded-lg ${u===null?"bg-gray-100":"focus:ring-2 focus:ring-blue-500 focus:border-transparent"}`})]})})]},C.categoryId))})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[s.jsx("div",{className:"col-span-6",children:s.jsx("span",{className:"font-medium text-blue-900",children:"TOTAL"})}),s.jsx("div",{className:"col-span-3",children:s.jsx("span",{className:"font-bold text-blue-900",children:N(f.totalBudget)})}),s.jsx("div",{className:"col-span-3",children:s.jsx("span",{className:`font-bold ${f.totalActual<=f.totalBudget?"text-green-600":"text-red-600"}`,children:N(f.totalActual)})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optionnel)"}),s.jsx("textarea",{name:"notes",value:f.notes||"",onChange:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Notes ou commentaires sur ce budget..."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:()=>{c(!1),A(null)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[a?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:u?"Mettre à jour":"Créer le budget"})]})]})]})]})})]})},qJ=()=>{const{settings:r,updateSettings:e,loading:t}=rf(),[n,i]=Ae.useState(r||i2),[a,o]=Ae.useState(null),l=m=>{const{name:h,value:v}=m.target;if(h.includes(".")){const[x,b]=h.split(".");i(p=>({...p,[x]:{...p[x],[b]:v}}))}else i(x=>({...x,[h]:v}))},c=m=>{const{name:h,checked:v}=m.target;if(h.includes(".")){const[x,b]=h.split(".");i(p=>({...p,[x]:{...p[x],[b]:v}}))}else i(x=>({...x,[h]:v}))},u=m=>{const{name:h,value:v}=m.target;if(h.includes(".")){const[x,b]=h.split(".");i(p=>({...p,[x]:{...p[x],[b]:parseInt(v,10)||0}}))}else i(x=>({...x,[h]:parseInt(v,10)||0}))},A=(m,h,v)=>{const x=parseInt(v,10)||1;i(b=>({...b,taxSettings:{...b.taxSettings,fiscalYear:{...b.taxSettings.fiscalYear,[m]:{...b.taxSettings.fiscalYear[m],[h]:x}}}}))},f=async()=>{try{o(null),await e(n),o({type:"success",text:"Paramètres financiers mis à jour avec succès"})}catch(m){o({type:"error",text:"Erreur lors de la mise à jour des paramètres"}),console.error("Erreur lors de la mise à jour des paramètres:",m)}};return t?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cr,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des paramètres financiers..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Paramètres financiers"}),s.jsxs("button",{onClick:f,disabled:t,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[t?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:"Enregistrer les modifications"})]})]}),a&&s.jsx("div",{className:`rounded-lg p-4 ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[a.type==="success"?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsx("p",{className:"text-sm font-medium",children:a.text})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Paramètres généraux"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Devise par défaut"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"€"}),s.jsxs("select",{name:"defaultCurrency",value:n.defaultCurrency,onChange:l,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"EUR",children:"Euro (€)"}),s.jsx("option",{value:"USD",children:"Dollar américain ($)"}),s.jsx("option",{value:"GBP",children:"Livre Sterling (£)"}),s.jsx("option",{value:"CHF",children:"Franc Suisse (CHF)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Méthode de paiement par défaut"}),s.jsxs("div",{className:"relative",children:[s.jsx(c0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"defaultPaymentMethod",value:n.defaultPaymentMethod,onChange:l,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"bank_transfer",children:"Virement bancaire"}),s.jsx("option",{value:"cash",children:"Espèces"}),s.jsx("option",{value:"check",children:"Chèque"}),s.jsx("option",{value:"direct_debit",children:"Prélèvement"}),s.jsx("option",{value:"other",children:"Autre"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Paramètres de rappel"}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("input",{type:"checkbox",id:"enableReminders",name:"reminderSettings.enableReminders",checked:n.reminderSettings.enableReminders,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"enableReminders",className:"ml-2 block text-sm text-gray-700",children:"Activer les rappels automatiques pour les paiements"})]}),n.reminderSettings.enableReminders&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pl-6 border-l-2 border-blue-200",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jours avant échéance"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",name:"reminderSettings.daysBeforeDue",value:n.reminderSettings.daysBeforeDue,onChange:u,min:"1",max:"30",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Nombre de jours avant l'échéance pour envoyer le premier rappel"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fréquence des rappels"}),s.jsxs("div",{className:"relative",children:[s.jsx(Da,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"number",name:"reminderSettings.reminderFrequency",value:n.reminderSettings.reminderFrequency,onChange:u,min:"1",max:"7",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Nombre de jours entre chaque rappel"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Paramètres fiscaux"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Régime fiscal"}),s.jsxs("div",{className:"relative",children:[s.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"taxSettings.propertyRegime",value:n.taxSettings.propertyRegime,onChange:l,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"micro_foncier",children:"Micro-foncier"}),s.jsx("option",{value:"reel",children:"Régime réel"}),s.jsx("option",{value:"lmnp",children:"LMNP (Loueur Meublé Non Professionnel)"}),s.jsx("option",{value:"lmp",children:"LMP (Loueur Meublé Professionnel)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numéro fiscal (optionnel)"}),s.jsx("input",{type:"text",name:"taxSettings.taxId",value:n.taxSettings.taxId||"",onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Votre numéro fiscal"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Année fiscale"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Début de l'année fiscale"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Jour"}),s.jsx("input",{type:"number",value:n.taxSettings.fiscalYear.start.day,onChange:m=>A("start","day",m.target.value),min:"1",max:"31",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Mois"}),s.jsx("select",{value:n.taxSettings.fiscalYear.start.month,onChange:m=>A("start","month",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Array.from({length:12},(m,h)=>h+1).map(m=>s.jsx("option",{value:m,children:k3(m)},m))})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Fin de l'année fiscale"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Jour"}),s.jsx("input",{type:"number",value:n.taxSettings.fiscalYear.end.day,onChange:m=>A("end","day",m.target.value),min:"1",max:"31",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Mois"}),s.jsx("select",{value:n.taxSettings.fiscalYear.end.month,onChange:m=>A("end","month",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Array.from({length:12},(m,h)=>h+1).map(m=>s.jsx("option",{value:m,children:k3(m)},m))})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("input",{type:"checkbox",id:"isVatRegistered",name:"taxSettings.isVatRegistered",checked:n.taxSettings.isVatRegistered,onChange:c,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"isVatRegistered",className:"ml-2 block text-sm text-gray-700",children:"Assujetti à la TVA"})]}),n.taxSettings.isVatRegistered&&s.jsxs("div",{className:"pl-6 border-l-2 border-blue-200 mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taux de TVA (%)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"€"}),s.jsx("input",{type:"number",name:"taxSettings.vatRate",value:n.taxSettings.vatRate||20,onChange:u,min:"0",max:"100",step:"0.1",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Pu,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Conseil fiscal"}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Assurez-vous que vos paramètres fiscaux correspondent à votre situation réelle. En cas de doute, consultez un expert-comptable ou un conseiller fiscal."})]})]})})]})]})},k3=r=>{const e=new Date;return e.setMonth(r-1),e.toLocaleDateString("fr-FR",{month:"long"})},zJ=()=>{const{generateTaxReport:r,settings:e}=rf(),[t,n]=Ae.useState(new Date().getFullYear()),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(null),c=[],u=new Date().getFullYear();for(let m=u-5;m<=u;m++)c.push(m);const A=async()=>{try{a(!0),l(null);const m=await r(t);l(m)}catch(m){console.error("Erreur lors de la génération du rapport fiscal:",m)}finally{a(!1)}},f=m=>{switch(m){case"micro_foncier":return"Micro-foncier";case"reel":return"Régime réel";case"meuble_non_pro":return"LMNP (Loueur Meublé Non Professionnel)";case"meuble_pro":return"LMP (Loueur Meublé Professionnel)";case"lmnp":return"LMNP (Loueur Meublé Non Professionnel)";case"lmp":return"LMP (Loueur Meublé Professionnel)";default:return m}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fiscalité immobilière"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("select",{value:t,onChange:m=>n(parseInt(m.target.value,10)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:c.map(m=>s.jsx("option",{value:m,children:m},m))}),s.jsxs("button",{onClick:A,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[i?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Ac,{className:"h-5 w-5"}),s.jsxs("span",{children:["Générer déclaration ",t]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ws,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Votre régime fiscal"}),s.jsx("p",{className:"text-gray-600",children:f(e?.taxSettings?.propertyRegime||"micro_foncier")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Année fiscale"}),s.jsx(br,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Du ",e?.taxSettings?.fiscalYear?.start?.day||1," ",F3(e?.taxSettings?.fiscalYear?.start?.month||1)," au ",e?.taxSettings?.fiscalYear?.end?.day||31," ",F3(e?.taxSettings?.fiscalYear?.end?.month||12)]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"TVA"}),s.jsx(Xr,{className:"h-4 w-4 text-gray-500"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e?.taxSettings?.isVatRegistered?`Assujetti (${e?.taxSettings?.vatRate||20}%)`:"Non assujetti à la TVA"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Numéro fiscal"}),s.jsx(Et,{className:"h-4 w-4 text-gray-500"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e?.taxSettings?.taxId||"Non renseigné"})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Pu,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"À propos de votre régime fiscal"}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:e?.taxSettings?.propertyRegime==="micro_foncier"?"Le régime micro-foncier permet un abattement forfaitaire de 30% sur vos revenus locatifs. Il est accessible si vos revenus fonciers annuels bruts ne dépassent pas 15 000€.":e?.taxSettings?.propertyRegime==="reel"?"Le régime réel vous permet de déduire vos charges réelles (travaux, intérêts d'emprunt, etc.) de vos revenus locatifs. Il est obligatoire si vos revenus fonciers dépassent 15 000€ par an.":e?.taxSettings?.propertyRegime==="lmnp"||e?.taxSettings?.propertyRegime==="meuble_non_pro"?"Le statut LMNP (Loueur Meublé Non Professionnel) s'applique à la location de biens meublés. Vous pouvez bénéficier d'un abattement forfaitaire de 50% (micro-BIC) ou déduire vos charges réelles et amortissements.":"Le statut LMP (Loueur Meublé Professionnel) s'applique lorsque vos recettes annuelles dépassent 23 000€ et représentent plus de 50% de vos revenus professionnels."})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:["Résumé fiscal ",t]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-4",children:"Revenus locatifs"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ai,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Loyers perçus"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"15 000,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ai,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Charges locatives"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"1 800,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total revenus bruts"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:"16 800,00 €"})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-4",children:"Charges déductibles"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Frais de gestion"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"800,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Assurances"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"600,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Travaux et entretien"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"2 500,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Taxes foncières"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"1 200,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yo,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-900",children:"Intérêts d'emprunt"})]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"3 500,00 €"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total charges"}),s.jsx("span",{className:"text-sm font-bold text-red-600",children:"8 600,00 €"})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Résultat net imposable"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"8 200,00 €"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e?.taxSettings?.propertyRegime==="micro_foncier"?"Après abattement forfaitaire de 30%":"Après déduction des charges réelles"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Taux marginal d'imposition"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"30%"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Estimation basée sur votre tranche"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Impôt estimé"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:"2 460,00 €"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hors prélèvements sociaux (17,2%)"})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Documents fiscaux"}),s.jsxs("div",{className:"space-y-4",children:[o?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Bt,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-green-800 font-medium",children:["Déclaration ",t," générée"]}),s.jsx("p",{className:"text-green-700 text-sm",children:"Votre déclaration fiscale est prête à être téléchargée"})]})]}),s.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Télécharger"})]})]}):s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-blue-800 font-medium",children:["Déclaration ",t]}),s.jsxs("p",{className:"text-blue-700 text-sm",children:["Générez votre déclaration fiscale pour l'année ",t]})]})]}),s.jsxs("button",{onClick:A,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[i?s.jsx(Cr,{className:"h-4 w-4 animate-spin"}):s.jsx(Ac,{className:"h-4 w-4"}),s.jsx("span",{children:"Générer"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-800 font-medium",children:["Déclaration ",t-1]}),s.jsx("p",{className:"text-gray-700 text-sm",children:"Déclaration fiscale de l'année précédente"})]})]}),s.jsxs("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Télécharger"})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Et,{className:"h-5 w-5 text-gray-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-800 font-medium",children:["Déclaration ",t-2]}),s.jsx("p",{className:"text-gray-700 text-sm",children:"Archive des déclarations fiscales"})]})]}),s.jsxs("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Télécharger"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:["Calendrier fiscal ",t]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative pl-8 pb-8 border-l-2 border-blue-200",children:[s.jsx("div",{className:"absolute left-0 top-0 transform -translate-x-1/2 w-4 h-4 rounded-full bg-blue-600"}),s.jsx("div",{className:"mb-1",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Janvier ",t]})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Paiement du solde de la taxe foncière"})]}),s.jsxs("div",{className:"relative pl-8 pb-8 border-l-2 border-blue-200",children:[s.jsx("div",{className:"absolute left-0 top-0 transform -translate-x-1/2 w-4 h-4 rounded-full bg-blue-600"}),s.jsx("div",{className:"mb-1",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Avril ",t]})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Déclaration des revenus fonciers (formulaire 2044)"})]}),s.jsxs("div",{className:"relative pl-8 pb-8 border-l-2 border-blue-200",children:[s.jsx("div",{className:"absolute left-0 top-0 transform -translate-x-1/2 w-4 h-4 rounded-full bg-blue-600"}),s.jsx("div",{className:"mb-1",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Mai ",t]})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Date limite de déclaration des revenus"})]}),s.jsxs("div",{className:"relative pl-8 pb-8 border-l-2 border-blue-200",children:[s.jsx("div",{className:"absolute left-0 top-0 transform -translate-x-1/2 w-4 h-4 rounded-full bg-blue-600"}),s.jsx("div",{className:"mb-1",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Septembre ",t]})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Paiement de l'acompte de la taxe foncière"})]}),s.jsxs("div",{className:"relative pl-8",children:[s.jsx("div",{className:"absolute left-0 top-0 transform -translate-x-1/2 w-4 h-4 rounded-full bg-blue-600"}),s.jsx("div",{className:"mb-1",children:s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Décembre ",t]})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Dernières opérations fiscales avant clôture de l'année"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(Pu,{className:"h-5 w-5 text-blue-600"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Conseils fiscaux"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-blue-800 font-medium mb-1",children:"Optimisez vos charges déductibles"}),s.jsx("p",{className:"text-blue-700 text-sm",children:"N'oubliez pas de déduire toutes vos charges : travaux d'entretien, assurances, frais de gestion, intérêts d'emprunt, etc."})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-green-800 font-medium mb-1",children:"Anticipez vos travaux"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Planifiez vos travaux de rénovation pour optimiser leur déductibilité fiscale selon votre régime d'imposition."})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-purple-800 font-medium mb-1",children:"Conservez vos justificatifs"}),s.jsx("p",{className:"text-purple-700 text-sm",children:"Gardez tous vos justificatifs pendant au moins 3 ans (délai de prescription fiscale) en cas de contrôle."})]})]})]})]})},F3=r=>{const e=new Date;return e.setMonth(r-1),e.toLocaleDateString("fr-FR",{month:"long"})},KJ=()=>{const{flows:r,categories:e,dashboardData:t,stats:n,loading:i,error:a,createFlow:o,updateFlow:l,deleteFlow:c,refreshDashboard:u}=rf(),{properties:A}=Wu(),[f,m]=Ae.useState("dashboard"),[h,v]=Ae.useState(""),[x,b]=Ae.useState("all"),[p,y]=Ae.useState("all"),[N,w]=Ae.useState("all"),[j,k]=Ae.useState("all"),[I,F]=Ae.useState(null),[C,P]=Ae.useState("date"),[T,_]=Ae.useState("desc"),[U,S]=Ae.useState("month"),[X,ie]=Ae.useState(!1),[Z,ce]=Ae.useState(null),[re,ae]=Ae.useState(null),[M,L]=Ae.useState(!1);Ae.useEffect(()=>{const be=new Date,Ee=new Date(be.getFullYear(),be.getMonth(),1),ke=new Date(be.getFullYear(),be.getMonth()+1,0);F({start:Ee,end:ke}),u(Ee,ke)},[]);const K=[...r.filter(be=>{const Ee=be.description.toLowerCase().includes(h.toLowerCase())||be.propertyName&&be.propertyName.toLowerCase().includes(h.toLowerCase())||be.tenantName&&be.tenantName.toLowerCase().includes(h.toLowerCase()),ke=x==="all"||be.type===x,He=p==="all"||be.category===p,Ye=N==="all"||be.status===N,et=j==="all"||be.propertyId&&A.find(At=>At.id===be.propertyId)?.type===j,ft=!I||be.date>=I.start&&be.date<=I.end;return Ee&&ke&&He&&Ye&&et&&ft})].sort((be,Ee)=>{let ke=be[C],He=Ee[C];return(C==="date"||C==="createdAt"||C==="updatedAt")&&(ke=new Date(ke).getTime(),He=new Date(He).getTime()),T==="asc"?ke<He?-1:ke>He?1:0:ke>He?-1:ke<He?1:0}),ee=()=>{ce(null),ie(!0)},z=be=>{S(be);const Ee=new Date;let ke,He=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate(),23,59,59),Ye="month";switch(be){case"month":ke=new Date(Ee.getFullYear(),Ee.getMonth(),1),He=new Date(Ee.getFullYear(),Ee.getMonth()+1,0,23,59,59),Ye="month";break;case"quarter":const et=Math.floor(Ee.getMonth()/3);ke=new Date(Ee.getFullYear(),et*3,1),He=new Date(Ee.getFullYear(),(et+1)*3,0,23,59,59),Ye="quarter";break;case"semester":const ft=Math.floor(Ee.getMonth()/6);ke=new Date(Ee.getFullYear(),ft*6,1),He=new Date(Ee.getFullYear(),(ft+1)*6,0,23,59,59),Ye="semester";break;case"year":ke=new Date(Ee.getFullYear(),0,1),He=new Date(Ee.getFullYear(),11,31,23,59,59),Ye="year";break;case"ytd":ke=new Date(Ee.getFullYear(),0,1),Ye="ytd";break;case"custom":I?(ke=I.start,He=I.end):(ke=new Date(Ee.getFullYear(),Ee.getMonth(),1),He=new Date(Ee.getFullYear(),Ee.getMonth()+1,0,23,59,59)),Ye="custom";break;default:ke=new Date(Ee.getFullYear(),Ee.getMonth(),1),He=new Date(Ee.getFullYear(),Ee.getMonth()+1,0,23,59,59),Ye="month"}S(Ye),F({start:ke,end:He}),u(ke,He,x,j)},D=be=>{ce(be),ie(!0)},H=be=>{ae(be),L(!0)},ne=async be=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce flux financier ?"))try{await c(be)}catch(Ee){console.error("Erreur lors de la suppression:",Ee)}},ue=async be=>{try{Z?await l(Z.id,be):await o(be),ie(!1),ce(null)}catch(Ee){console.error("Erreur lors de la sauvegarde:",Ee)}},le=be=>{const Ee=e.find(ke=>ke.id===be);return Ee?Ee.name:"Catégorie inconnue"},he=be=>{const Ee=e.find(ke=>ke.id===be);return Ee?Ee.color:"#808080"},Be=be=>{switch(be){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=be=>{switch(be){case"completed":return"Validé";case"pending":return"En attente";case"cancelled":return"Annulé";default:return be}},je=be=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(be),$=()=>s.jsx(MJ,{dashboardData:t,filterType:x,filterPropertyType:j,filterDateRange:I,stats:n,onDateRangeChange:z,onFilterTypeChange:b,onFilterPropertyTypeChange:k,onAddFlow:ee}),q=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtres d'analyse"}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Période"}),s.jsx("div",{className:"flex space-x-2",children:[{value:"month",label:"Ce mois"},{value:"quarter",label:"Ce trimestre"},{value:"semester",label:"Ce semestre"},{value:"year",label:"Cette année"}].map(be=>s.jsx("button",{onClick:()=>z(be.value),className:`px-4 py-2 rounded-lg transition-colors ${U===be.value?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:be.label},be.value))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Type de bien"}),s.jsxs("select",{value:j,onChange:be=>k(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"apartment",children:"Appartements"}),s.jsx("option",{value:"house",children:"Maisons"}),s.jsx("option",{value:"studio",children:"Studios"}),s.jsx("option",{value:"parking",children:"Parkings"}),s.jsx("option",{value:"commercial",children:"Commerciaux"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Type de flux"}),s.jsxs("select",{value:x,onChange:be=>b(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"income",children:"Revenus"}),s.jsx("option",{value:"expense",children:"Dépenses"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:N,onChange:be=>w(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"completed",children:"Validés"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"cancelled",children:"Annulés"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une transaction...",value:h,onChange:be=>v(be.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("select",{value:x,onChange:be=>b(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"income",children:"Revenus"}),s.jsx("option",{value:"expense",children:"Dépenses"})]}),s.jsxs("select",{value:j,onChange:be=>k(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les types de bien"}),s.jsx("option",{value:"apartment",children:"Appartements"}),s.jsx("option",{value:"house",children:"Maisons"}),s.jsx("option",{value:"studio",children:"Studios"}),s.jsx("option",{value:"parking",children:"Parkings"}),s.jsx("option",{value:"commercial",children:"Commerciaux"})]}),s.jsxs("select",{value:p,onChange:be=>y(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Toutes les catégories"}),e.map(be=>s.jsx("option",{value:be.id,children:be.name},be.id))]}),s.jsxs("select",{value:N,onChange:be=>w(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"completed",children:"Validés"}),s.jsx("option",{value:"pending",children:"En attente"}),s.jsx("option",{value:"cancelled",children:"Annulés"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Du:"}),s.jsx("input",{type:"date",value:I?.start.toISOString().split("T")[0]||"",onChange:be=>F(Ee=>({start:new Date(be.target.value),end:Ee?.end||new Date})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Au:"}),s.jsx("input",{type:"date",value:I?.end.toISOString().split("T")[0]||"",onChange:be=>F(Ee=>({start:Ee?.start||new Date,end:new Date(be.target.value)})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>handleDateRangeChange("month"),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Ce mois"}),s.jsx("button",{onClick:()=>handleDateRangeChange("quarter"),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Ce trimestre"}),s.jsx("button",{onClick:()=>handleDateRangeChange("year"),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cette année"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),s.jsxs("button",{onClick:ee,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Ajouter une transaction"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:s.jsxs("button",{onClick:()=>{C==="date"?_(T==="asc"?"desc":"asc"):(P("date"),_("desc"))},className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Date"}),C==="date"&&(T==="asc"?s.jsx(T3,{className:"h-4 w-4"}):s.jsx(I3,{className:"h-4 w-4"}))]})}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Catégorie"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Bien/Locataire"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:s.jsxs("button",{onClick:()=>{C==="amount"?_(T==="asc"?"desc":"asc"):(P("amount"),_("desc"))},className:"flex items-center space-x-1",children:[s.jsx("span",{children:"Montant"}),C==="amount"&&(T==="asc"?s.jsx(T3,{className:"h-4 w-4"}):s.jsx(I3,{className:"h-4 w-4"}))]})}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:K.map(be=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("div",{className:"text-sm text-gray-900",children:be.date.toLocaleDateString()}),be.recurring&&s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(j6,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:be.recurrenceFrequency==="monthly"?"Mensuel":be.recurrenceFrequency==="quarterly"?"Trimestriel":"Annuel"})]})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:be.type==="income"?s.jsx(Ai,{className:"h-5 w-5 text-green-600"}):s.jsx(yo,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:be.description}),be.reference&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Réf: ",be.reference]})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:he(be.category)}}),s.jsx("span",{className:"text-sm text-gray-900",children:le(be.category)})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"text-sm",children:[be.propertyName&&s.jsxs("div",{className:"flex items-center text-gray-900",children:[s.jsx(Ws,{className:"h-3 w-3 mr-1 text-gray-500"}),s.jsx("span",{children:be.propertyName})]}),be.tenantName&&s.jsxs("div",{className:"flex items-center text-gray-500 mt-1",children:[s.jsx(yn,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:be.tenantName})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:`text-sm font-bold ${be.type==="income"?"text-green-600":"text-red-600"}`,children:[be.type==="income"?"+":"-",je(be.amount)]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Be(be.status)}`,children:te(be.status)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>H(be),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les détails",children:s.jsx(Pi,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>D(be),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>ne(be.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]})})]},be.id))})]})}),K.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune transaction trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:h||x!=="all"||p!=="all"||N!=="all"?"Aucune transaction ne correspond à vos critères de recherche.":"Commencez par ajouter votre première transaction."}),s.jsx("button",{onClick:ee,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Ajouter une transaction"})]})]}),K.length>0&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600",children:"Total revenus"}),s.jsx("p",{className:"text-xl font-bold text-green-900",children:je(K.filter(be=>be.type==="income").reduce((be,Ee)=>be+Ee.amount,0))})]}),s.jsx(Ai,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600",children:"Total dépenses"}),s.jsx("p",{className:"text-xl font-bold text-red-900",children:je(K.filter(be=>be.type==="expense").reduce((be,Ee)=>be+Ee.amount,0))})]}),s.jsx(yo,{className:"h-8 w-8 text-red-600"})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Solde"}),s.jsx("p",{className:"text-xl font-bold text-blue-900",children:je(K.filter(be=>be.type==="income").reduce((be,Ee)=>be+Ee.amount,0)-K.filter(be=>be.type==="expense").reduce((be,Ee)=>be+Ee.amount,0))})]}),s.jsx(Xr,{className:"h-8 w-8 text-blue-600"})]})})]})})]}),Q=()=>s.jsx(QJ,{}),G=()=>s.jsx(HJ,{}),me=()=>s.jsx(zJ,{}),fe=()=>s.jsx(qJ,{}),de=()=>{switch(f){case"dashboard":return $();case"transactions":return q();case"reports":return Q();case"budgets":return G();case"taxes":return me();case"settings":return fe();default:return $()}};return i?s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des données financières..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Finances"}),s.jsx("p",{className:"text-gray-600",children:"Suivi financier et fiscal de votre portefeuille"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:ee,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Ajouter un flux"})]}),s.jsxs("button",{onClick:()=>m("reports"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(hi,{className:"h-5 w-5"}),s.jsx("span",{children:"Rapports"})]})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:a})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex space-x-8 px-6",children:[s.jsxs("button",{onClick:()=>m("dashboard"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${f==="dashboard"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Vw,{className:"h-4 w-4"}),s.jsx("span",{children:"Tableau de bord"})]}),s.jsxs("button",{onClick:()=>m("transactions"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${f==="transactions"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Xr,{className:"h-4 w-4"}),s.jsx("span",{children:"Transactions"})]}),s.jsxs("button",{onClick:()=>m("reports"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${f==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Et,{className:"h-4 w-4"}),s.jsx("span",{children:"Rapports"})]}),s.jsxs("button",{onClick:()=>m("budgets"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${f==="budgets"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(xc,{className:"h-4 w-4"}),s.jsx("span",{children:"Budgets"})]}),s.jsxs("button",{onClick:()=>m("taxes"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${f==="taxes"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ac,{className:"h-4 w-4"}),s.jsx("span",{children:"Fiscalité"})]}),s.jsxs("button",{onClick:()=>m("settings"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${f==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ri,{className:"h-4 w-4"}),s.jsx("span",{children:"Paramètres"})]})]})})}),de(),X&&s.jsx(OJ,{flow:Z,categories:e,onSave:ue,onCancel:()=>{ie(!1),ce(null)},isOpen:X}),M&&re&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:he(re.category)+"20"},children:re.type==="income"?s.jsx(Ai,{className:"h-6 w-6",style:{color:he(re.category)}}):s.jsx(yo,{className:"h-6 w-6",style:{color:he(re.category)}})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:re.description}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Be(re.status)}`,children:te(re.status)}),s.jsx("span",{className:"text-sm text-gray-500",children:re.date.toLocaleDateString()})]})]})]}),s.jsx("button",{onClick:()=>L(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Montant"}),s.jsxs("p",{className:`text-3xl font-bold ${re.type==="income"?"text-green-600":"text-red-600"}`,children:[re.type==="income"?"+":"-",je(re.amount)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Informations générales"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Catégorie:"}),s.jsx("span",{className:"text-gray-900 font-medium",children:le(re.category)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Type:"}),s.jsx("span",{className:"text-gray-900 font-medium",children:re.type==="income"?"Revenu":"Dépense"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date:"}),s.jsx("span",{className:"text-gray-900",children:re.date.toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Référence:"}),s.jsx("span",{className:"text-gray-900",children:re.reference||"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Méthode de paiement:"}),s.jsx("span",{className:"text-gray-900",children:re.paymentMethod==="bank_transfer"?"Virement bancaire":re.paymentMethod==="cash"?"Espèces":re.paymentMethod==="check"?"Chèque":re.paymentMethod==="direct_debit"?"Prélèvement":re.paymentMethod||"-"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Détails associés"}),s.jsxs("div",{className:"space-y-3",children:[re.propertyName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Bien:"}),s.jsx("span",{className:"text-gray-900",children:re.propertyName})]}),re.tenantName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Locataire:"}),s.jsx("span",{className:"text-gray-900",children:re.tenantName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Récurrent:"}),s.jsx("span",{className:"text-gray-900",children:re.recurring?s.jsxs("span",{className:"flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-600 mr-1"}),re.recurrenceFrequency==="monthly"?"Mensuel":re.recurrenceFrequency==="quarterly"?"Trimestriel":"Annuel"]}):"Non"})]}),re.recurrenceEndDate&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Fin de récurrence:"}),s.jsx("span",{className:"text-gray-900",children:re.recurrenceEndDate.toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Créé le:"}),s.jsx("span",{className:"text-gray-900",children:re.createdAt.toLocaleDateString()})]})]})]})]}),re.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Notes"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-900",children:re.notes})})]}),re.tags&&re.tags.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:re.tags.map((be,Ee)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[s.jsx(o5,{className:"h-3 w-3 mr-1"}),be]},Ee))})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>{L(!1),D(re)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Gs,{className:"h-4 w-4"}),s.jsx("span",{children:"Modifier"})]}),s.jsxs("button",{onClick:()=>{L(!1),ne(re.id)},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Supprimer"})]})]}),s.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fermer"})]})]})})]})},T3=({className:r})=>s.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),s.jsx("polyline",{points:"5 12 12 5 19 12"})]}),I3=({className:r})=>s.jsxs("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("polyline",{points:"19 12 12 19 5 12"})]}),VJ=({automation:r,onSave:e,onCancel:t,isOpen:n})=>{const{properties:i}=Wu(),[a,o]=Ae.useState([]),[l,c]=Ae.useState(!1),[u,A]=Ae.useState([]),[f,m]=Ae.useState(!1);Ae.useEffect(()=>{n&&(c(!0),vo.getTemplates().then(F=>{o(F)}).catch(F=>{console.error("Erreur lors du chargement des templates d'email:",F)}).finally(()=>{c(!1)}))},[n]),Ae.useEffect(()=>{n&&(m(!0),dc.getDocumentsList().then(F=>{A(F)}).catch(F=>{console.error("Erreur lors du chargement des documents:",F)}).finally(()=>{m(!1)}))},[n]);const[h,v]=Ae.useState({name:r?.name||"",type:r?.type||"receipt",frequency:r?.frequency||"monthly",nextExecution:r?.nextExecution||new Date,lastExecution:r?.lastExecution,active:r?.active??!0,propertyId:r?.propertyId||null,description:r?.description||"",emailTemplateId:r?.emailTemplateId||null,documentTemplateId:r?.documentTemplateId||null}),[x,b]=Ae.useState({}),[p,y]=Ae.useState(!1),N=[{value:"receipt",label:"Génération de quittances",icon:Et},{value:"rent_review",label:"Révision des loyers",icon:Xr},{value:"insurance",label:"Rappel d'assurance",icon:Da},{value:"notice",label:"Rappel de préavis",icon:Wt},{value:"maintenance",label:"Rappel de maintenance",icon:Ri},{value:"reminder",label:"Rappel de paiement",icon:vt}],w=[{value:"daily",label:"Quotidienne"},{value:"weekly",label:"Hebdomadaire"},{value:"monthly",label:"Mensuelle"},{value:"quarterly",label:"Trimestrielle"},{value:"yearly",label:"Annuelle"}],j=F=>{const{name:C,value:P}=F.target;v(C==="nextExecution"?T=>({...T,[C]:new Date(P)}):C==="active"?T=>({...T,[C]:F.target.checked}):C==="propertyId"||C==="emailTemplateId"||C==="documentTemplateId"?T=>({...T,[C]:P===""?null:P}):T=>({...T,[C]:P})),x[C]&&b(T=>({...T,[C]:""}))},k=()=>{const F={};return h.name.trim()||(F.name="Le nom est requis"),h.type||(F.type="Le type est requis"),h.frequency||(F.frequency="La fréquence est requise"),h.nextExecution||(F.nextExecution="La date d'exécution est requise"),["receipt","rent_review","insurance","notice","maintenance","reminder"].includes(h.type)&&!h.propertyId&&(F.propertyId="Le bien immobilier est requis pour ce type d'automatisation"),b(F),Object.keys(F).length===0},I=async F=>{if(F.preventDefault(),!!k()){y(!0);try{await e(h)}catch(C){console.error("Erreur lors de la sauvegarde:",C),b({submit:"Erreur lors de la sauvegarde"})}finally{y(!1)}}};return n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Modifier l'automatisation":"Nouvelle automatisation"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de l'automatisation *"}),s.jsx("input",{type:"text",name:"name",value:h.name,onChange:j,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ex: Génération quittances mensuelles"}),x.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type d'automatisation *"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:N.map(F=>{const C=F.icon;return s.jsxs("button",{type:"button",onClick:()=>v(P=>({...P,type:F.value})),className:`flex flex-col items-center p-3 rounded-lg border-2 transition-colors ${h.type===F.value?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(C,{className:`h-5 w-5 mb-1 ${h.type===F.value?"text-blue-600":"text-gray-500"}`}),s.jsx("span",{className:"text-sm font-medium",children:F.label})]},F.value)})}),x.type&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fréquence *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("select",{name:"frequency",value:h.frequency,onChange:j,className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.frequency?"border-red-300 bg-red-50":"border-gray-300"}`,children:w.map(F=>s.jsx("option",{value:F.value,children:F.label},F.value))})]}),x.frequency&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.frequency})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prochaine exécution *"}),s.jsxs("div",{className:"relative",children:[s.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",name:"nextExecution",value:h.nextExecution.toISOString().split("T")[0],onChange:j,className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.nextExecution?"border-red-300 bg-red-50":"border-gray-300"}`})]}),x.nextExecution&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.nextExecution})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bien immobilier ",["receipt","rent_review","insurance","notice","maintenance","reminder"].includes(h.type)?"*":"(optionnel)"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"propertyId",value:h.propertyId??"",onChange:j,className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x.propertyId?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:["receipt","rent_review","insurance","notice","maintenance","reminder"].includes(h.type)?"Sélectionner un bien":"Tous les biens"}),i.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),x.propertyId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.propertyId}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:["receipt","rent_review","insurance","notice","maintenance","reminder"].includes(h.type)?"Un bien spécifique doit être sélectionné pour ce type d'automatisation.":"Si aucun bien n'est sélectionné, l'automatisation s'appliquera à tous les biens."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:h.description,onChange:j,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Description détaillée de l'automatisation..."})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"active",name:"active",checked:h.active,onChange:j,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700",children:"Automatisation active"})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(hl,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"À propos des automatisations"}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Les automatisations sont exécutées automatiquement à la date programmée si le planificateur est actif. Vous pouvez également les exécuter manuellement à tout moment depuis la liste des automatisations."}),s.jsx("p",{className:"text-blue-700 text-sm mt-2",children:"La date de prochaine exécution sera automatiquement mise à jour selon la fréquence choisie après chaque exécution réussie."})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template d'email (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"emailTemplateId",value:h.emailTemplateId??"",onChange:j,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun template"}),l&&s.jsx("option",{disabled:!0,children:"Chargement des templates..."}),a.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Sélectionnez un template d'email à utiliser pour cette automatisation. Si aucun template n'est sélectionné, aucun email ne sera envoyé."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document à joindre (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"documentTemplateId",value:h.documentTemplateId??"",onChange:j,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Aucun document"}),u.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Sélectionnez un document à générer et joindre automatiquement à l'email. Fonctionne uniquement si un template d'email est également sélectionné."})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:p,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[p?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-5 w-5"}),s.jsx("span",{children:r?"Mettre à jour":"Créer l'automatisation"})]})]})]})]})}):null},WJ=r=>{const[e,t]=Ae.useState(null);return Ae.useEffect(()=>{if(!r){t(null);return}const n=()=>{const a=new Date().getTime(),l=r.getTime()-a;l>0?t({days:Math.floor(l/(1e3*60*60*24)),hours:Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(l%(1e3*60*60)/(1e3*60)),seconds:Math.floor(l%(1e3*60)/1e3)}):t(null)};n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[r]),e},GJ=()=>{const{automations:r,createAutomation:e,updateAutomation:t,deleteAutomation:n,toggleAutomation:i,executeAutomation:a}=Lk(),[o,l]=Ae.useState(""),[c,u]=Ae.useState("all"),[A,f]=Ae.useState("all"),[m,h]=Ae.useState(!1),[v,x]=Ae.useState(null),[b,p]=Ae.useState(null),[y,N]=Ae.useState(null),[w,j]=Ae.useState(ol.isActive()),[k,I]=Ae.useState("09:00"),[F,C]=Ae.useState(!1),P=r.filter(D=>{const H=(D.name||"").toLowerCase().includes(o.toLowerCase())||(D.description||"").toLowerCase().includes(o.toLowerCase()),ne=c==="all"||D.type===c,ue=A==="all"||A==="active"&&D.active||A==="inactive"&&!D.active;return H&&ne&&ue}),T=iA.useMemo(()=>{const D=r.filter(ne=>ne.active);return D.length===0?null:D.reduce((ne,ue)=>!ne||ue.nextExecution<ne?ue.nextExecution:ne,null)},[r]),_=WJ(T),U=()=>{x(null),h(!0)},S=D=>{x(D),h(!0)},X=async D=>{try{v?await t(v.id,D):await e(D),h(!1),x(null)}catch(H){console.error("Erreur lors de la sauvegarde:",H)}},ie=D=>{switch(D){case"receipt":return s.jsx(Et,{className:"h-5 w-5 text-blue-600"});case"rent_review":return s.jsx(Xr,{className:"h-5 w-5 text-green-600"});case"insurance":return s.jsx(Lu,{className:"h-5 w-5 text-purple-600"});case"maintenance":return s.jsx(Ri,{className:"h-5 w-5 text-orange-600"});case"reminder":return s.jsx(Da,{className:"h-5 w-5 text-red-600"});case"notice":return s.jsx(Wt,{className:"h-5 w-5 text-yellow-600"});default:return s.jsx(Ui,{className:"h-5 w-5 text-gray-600"})}},Z=D=>({receipt:"Quittances",rent_review:"Révision loyer",insurance:"Assurance",maintenance:"Maintenance",reminder:"Rappels",notice:"Préavis"})[D]||D,ce=D=>({daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",quarterly:"Trimestriel",yearly:"Annuel"})[D]||D,re=async D=>{try{await i(D)}catch(H){console.error("Erreur lors de la modification de l'automatisation:",H)}},ae=async D=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette automatisation ?"))try{await n(D)}catch(H){console.error("Erreur lors de la suppression de l'automatisation:",H)}},M=async D=>{const H=r.find(ne=>ne.id===D);if(H&&H.active)try{p(D),N(null);const ne=await a(D);N({id:D,success:ne}),setTimeout(()=>{N(null)},5e3)}catch(ne){console.error("Erreur lors de l'exécution de l'automatisation:",ne)}finally{p(null)}},L=()=>{w?ol.stop():ol.start(),j(ol.isActive())},V=()=>{const D=new Date;D.setDate(D.getDate()+1);const[H,ne]=k.split(":").map(Number);D.setHours(H,ne,0,0),alert(`Prochaine exécution automatique programmée pour demain à ${k}`),C(!1)},K=D=>D?`${D.days}j ${D.hours}h ${D.minutes}m ${D.seconds}s`:"Aucune automatisation programmée",ee=r.filter(D=>D.active).length,z=r.filter(D=>{const H=new Date;return H.setDate(H.getDate()+1),D.active&&D.nextExecution<=H}).length;return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Automatisations"}),s.jsx("p",{className:"text-gray-600",children:"Automatisez vos tâches récurrentes et gagnez du temps"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:L,className:`${w?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2`,children:[s.jsx(yU,{className:"h-5 w-5"}),s.jsx("span",{children:w?"Arrêter le planificateur":"Démarrer le planificateur"})]}),s.jsxs("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Nouvelle automatisation"})]})]})]}),s.jsxs("div",{className:`${w?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} rounded-xl shadow-sm border p-4 flex items-center justify-between`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${w?"bg-green-500 animate-pulse":"bg-gray-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${w?"text-green-800":"text-gray-800"}`,children:w?"Planificateur d'automatisations actif":"Planificateur d'automatisations inactif"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("p",{children:w?"Les automatisations seront exécutées automatiquement selon leur programmation":"Activez le planificateur pour exécuter automatiquement les automatisations programmées"}),w&&T&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ur,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"text-blue-700 font-medium",children:["Prochaine exécution dans: ",K(_)]})]}),w&&T&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Prochaine automatisation: ",T.toLocaleString("fr-FR")]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[w&&s.jsxs("div",{className:"text-right",children:[s.jsxs("button",{onClick:()=>C(!F),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-1",children:[s.jsx(Ri,{className:"h-4 w-4"}),s.jsx("span",{children:"Programmer"})]}),F&&s.jsx("div",{className:"mt-2 p-3 bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-xs text-gray-600",children:"Heure d'exécution:"}),s.jsx("input",{type:"time",value:k,onChange:D=>I(D.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500"}),s.jsx("button",{onClick:V,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"OK"}),s.jsx("button",{onClick:()=>C(!1),className:"px-2 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700",children:"✕"})]})})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"Intervalle de vérification: quotidienne"}),s.jsx("button",{onClick:L,className:`p-2 rounded-lg ${w?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"} transition-colors`,children:w?s.jsx(Yj,{className:"h-5 w-5"}):s.jsx(Mu,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total automatisations"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.length})]}),s.jsx(Ui,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Actives"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:ee})]}),s.jsx(Bt,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prochaines exécutions"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:z})]}),s.jsx(Ur,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une automatisation...",value:o,onChange:D=>l(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:c,onChange:D=>u(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"receipt",children:"Quittances"}),s.jsx("option",{value:"rent_review",children:"Révision loyer"}),s.jsx("option",{value:"insurance",children:"Assurance"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"reminder",children:"Rappels"})]}),s.jsxs("select",{value:A,onChange:D=>f(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actives"}),s.jsx("option",{value:"inactive",children:"Inactives"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Automatisation"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Fréquence"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Prochaine exécution"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[ie(D.type),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:D.name}),s.jsx("p",{className:"text-sm text-gray-500",children:D.description})]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:Z(D.type)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:ce(D.frequency)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-gray-900",children:D.nextExecution.toLocaleDateString()}),D.lastExecution&&s.jsxs("div",{className:"text-gray-500",children:["Dernière: ",D.lastExecution.toLocaleDateString()]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${D.active?"bg-green-500":"bg-gray-400"}`}),s.jsx("span",{className:`text-sm ${D.active?"text-green-600":"text-gray-500"}`,children:D.active?"Active":"Inactive"})]})}),s.jsxs("td",{className:"py-4 px-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>re(D.id),className:`p-2 rounded-lg transition-colors ${D.active?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"}`,title:D.active?"Désactiver":"Activer",children:D.active?s.jsx(Yj,{className:"h-4 w-4"}):s.jsx(Mu,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>M(D.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",disabled:b===D.id||!D.active,title:"Exécuter maintenant",children:b===D.id?s.jsx(Cr,{className:"h-4 w-4 animate-spin"}):s.jsx(Ui,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>S(D),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>ae(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:s.jsx(Mr,{className:"h-4 w-4"})})]}),y&&y.id===D.id&&s.jsx("div",{className:`mt-2 text-xs font-medium ${y.success?"text-green-600":"text-red-600"}`,children:y.success?"Exécution réussie ✓":"Échec de l'exécution ✗"})]})]},D.id))})]})})}),P.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune automatisation trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||c!=="all"||A!=="all"?"Aucune automatisation ne correspond à vos critères.":"Créez votre première automatisation pour gagner du temps."}),s.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Créer une automatisation"})]}),s.jsx(VJ,{automation:v||void 0,onSave:X,onCancel:()=>{h(!1),x(null)},isOpen:m})]})},$J=()=>{const[r,e]=Ae.useState([{id:"1",title:"Fuite d'eau dans la salle de bain",description:"Fuite importante au niveau du robinet de la douche. L'eau coule en permanence.",type:"maintenance",priority:"high",status:"in_progress",propertyId:"1",propertyName:"Appartement Bastille",tenantId:"1",tenantName:"Marie Martin",reportedBy:"tenant",reportedAt:new Date("2024-11-28"),estimatedCost:150,photos:[],comments:[{id:"1",author:"Marie Martin",content:"La fuite s'aggrave, il y a maintenant de l'eau qui coule sur le sol.",createdAt:new Date("2024-11-28")},{id:"2",author:"Propriétaire",content:"J'ai contacté le plombier, il passera demain matin.",createdAt:new Date("2024-11-28")}],createdAt:new Date("2024-11-28"),updatedAt:new Date("2024-11-28")},{id:"2",title:"Retard de paiement loyer novembre",description:"Le loyer de novembre n'a pas été payé à la date prévue.",type:"payment",priority:"medium",status:"open",propertyId:"3",propertyName:"Maison Vincennes",tenantId:"2",tenantName:"Pierre Dubois",reportedBy:"landlord",reportedAt:new Date("2024-11-10"),photos:[],comments:[],createdAt:new Date("2024-11-10"),updatedAt:new Date("2024-11-10")},{id:"3",title:"Problème de chauffage",description:"Le chauffage ne fonctionne plus dans le salon depuis hier.",type:"maintenance",priority:"high",status:"resolved",propertyId:"1",propertyName:"Appartement Bastille",tenantId:"1",tenantName:"Marie Martin",reportedBy:"tenant",reportedAt:new Date("2024-11-20"),resolvedAt:new Date("2024-11-22"),actualCost:85,photos:[],comments:[{id:"1",author:"Technicien",content:"Problème résolu, c'était un fusible défaillant.",createdAt:new Date("2024-11-22")}],createdAt:new Date("2024-11-20"),updatedAt:new Date("2024-11-22")}]),[t,n]=Ae.useState(""),[i,a]=Ae.useState("all"),[o,l]=Ae.useState("all"),[c,u]=Ae.useState("all"),[A,f]=Ae.useState(!1),[m,h]=Ae.useState(null),[v,x]=Ae.useState(!1),b=r.filter(S=>{const X=S.title.toLowerCase().includes(t.toLowerCase())||S.description.toLowerCase().includes(t.toLowerCase())||S.propertyName.toLowerCase().includes(t.toLowerCase()),ie=i==="all"||S.type===i,Z=o==="all"||S.status===o,ce=c==="all"||S.priority===c;return X&&ie&&Z&&ce}),p=S=>{switch(S){case"maintenance":return s.jsx(Jj,{className:"h-5 w-5 text-orange-600"});case"payment":return s.jsx(Xr,{className:"h-5 w-5 text-red-600"});case"neighbor":return s.jsx($s,{className:"h-5 w-5 text-purple-600"});case"damage":return s.jsx(vt,{className:"h-5 w-5 text-yellow-600"});case"legal":return s.jsx(Et,{className:"h-5 w-5 text-blue-600"});default:return s.jsx(vt,{className:"h-5 w-5 text-gray-600"})}},y=S=>({maintenance:"Maintenance",payment:"Paiement",neighbor:"Voisinage",damage:"Dégâts",legal:"Juridique",other:"Autre"})[S]||S,N=S=>{switch(S){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=S=>({urgent:"Urgent",high:"Élevée",medium:"Moyenne",low:"Faible"})[S]||S,j=S=>{switch(S){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},k=S=>({open:"Ouvert",in_progress:"En cours",resolved:"Résolu",closed:"Fermé"})[S]||S,I=S=>{switch(S){case"open":return s.jsx(Ur,{className:"h-4 w-4"});case"in_progress":return s.jsx(Ur,{className:"h-4 w-4"});case"resolved":return s.jsx(Bt,{className:"h-4 w-4"});case"closed":return s.jsx(SU,{className:"h-4 w-4"});default:return s.jsx(Ur,{className:"h-4 w-4"})}},F=S=>{h(S),x(!0)},C=(S,X)=>{e(ie=>ie.map(Z=>Z.id===S?{...Z,status:X,resolvedAt:new Date,updatedAt:new Date}:Z))},P=r.filter(S=>S.status==="open").length,T=r.filter(S=>S.status==="in_progress").length,_=r.filter(S=>S.priority==="urgent").length,U=r.reduce((S,X)=>S+(X.actualCost||X.estimatedCost||0),0);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des incidents"}),s.jsx("p",{className:"text-gray-600",children:"Suivez et résolvez les problèmes de vos biens"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Signaler un incident"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Incidents ouverts"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:P})]}),s.jsx(Ur,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En cours"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:T})]}),s.jsx(Jj,{className:"h-8 w-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgents"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:_})]}),s.jsx(vt,{className:"h-8 w-8 text-red-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Coût total"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[U,"€"]})]}),s.jsx(Xr,{className:"h-8 w-8 text-purple-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher un incident...",value:t,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("select",{value:i,onChange:S=>a(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"payment",children:"Paiement"}),s.jsx("option",{value:"neighbor",children:"Voisinage"}),s.jsx("option",{value:"damage",children:"Dégâts"}),s.jsx("option",{value:"legal",children:"Juridique"}),s.jsx("option",{value:"other",children:"Autre"})]}),s.jsxs("select",{value:o,onChange:S=>l(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"open",children:"Ouverts"}),s.jsx("option",{value:"in_progress",children:"En cours"}),s.jsx("option",{value:"resolved",children:"Résolus"}),s.jsx("option",{value:"closed",children:"Fermés"})]}),s.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Toutes priorités"}),s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Élevée"}),s.jsx("option",{value:"medium",children:"Moyenne"}),s.jsx("option",{value:"low",children:"Faible"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Incident"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Priorité"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Statut"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Bien"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Signalé le"}),s.jsx("th",{className:"text-left py-3 px-6 font-medium text-gray-900",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[p(S.type),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:S.title}),s.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:S.description}),S.tenantName&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Signalé par: ",S.tenantName]})]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:y(S.type)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${N(S.priority)}`,children:w(S.priority)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[I(S.status),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j(S.status)}`,children:k(S.status)})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-gray-900",children:S.propertyName}),S.estimatedCost&&s.jsxs("div",{className:"text-gray-500",children:["Coût: ",S.actualCost||S.estimatedCost,"€"]})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-sm text-gray-900",children:S.reportedAt.toLocaleDateString()})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>F(S),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les détails",children:s.jsx(Pi,{className:"h-4 w-4"})}),S.status!=="resolved"&&S.status!=="closed"&&s.jsx("button",{onClick:()=>C(S.id,"resolved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Marquer comme résolu",children:s.jsx(Bt,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Modifier",children:s.jsx(Gs,{className:"h-4 w-4"})})]})})]},S.id))})]})})}),b.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun incident trouvé"}),s.jsx("p",{className:"text-gray-600 mb-4",children:t||i!=="all"||o!=="all"||c!=="all"?"Aucun incident ne correspond à vos critères.":"Aucun incident signalé pour le moment."})]}),v&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[p(m.type),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m.title})]}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:"×"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Informations générales"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Type:"}),s.jsx("span",{className:"text-gray-900",children:y(m.type)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Priorité:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(m.priority)}`,children:w(m.priority)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Statut:"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(m.status)}`,children:k(m.status)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Signalé le:"}),s.jsx("span",{className:"text-gray-900",children:m.reportedAt.toLocaleDateString()})]}),m.resolvedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Résolu le:"}),s.jsx("span",{className:"text-gray-900",children:m.resolvedAt.toLocaleDateString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Bien et locataire"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Bien:"}),s.jsx("span",{className:"text-gray-900",children:m.propertyName})]}),m.tenantName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Locataire:"}),s.jsx("span",{className:"text-gray-900",children:m.tenantName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Signalé par:"}),s.jsx("span",{className:"text-gray-900 capitalize",children:m.reportedBy})]}),m.estimatedCost&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Coût estimé:"}),s.jsxs("span",{className:"text-gray-900",children:[m.estimatedCost,"€"]})]}),m.actualCost&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Coût réel:"}),s.jsxs("span",{className:"text-gray-900",children:[m.actualCost,"€"]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg",children:m.description})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Commentaires (",m.comments.length,")"]}),s.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[m.comments.map(S=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:S.author}),s.jsx("span",{className:"text-xs text-gray-500",children:S.createdAt.toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700",children:S.content})]},S.id)),m.comments.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucun commentaire"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex space-x-3",children:[m.status!=="resolved"&&m.status!=="closed"&&s.jsxs("button",{onClick:()=>{C(m.id,"resolved"),x(!1)},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[s.jsx(Bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Marquer comme résolu"})]}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(w6,{className:"h-4 w-4"}),s.jsx("span",{children:"Ajouter un commentaire"})]})]}),s.jsx("button",{onClick:()=>x(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Fermer"})]})]})]})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Signaler un incident"}),s.jsx("button",{onClick:()=>f(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:"×"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600",children:"Formulaire de signalement d'incident à implémenter..."}),s.jsx("button",{onClick:()=>f(!1),className:"mt-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Fermer"})]})]})})]})},YJ=()=>{const{user:r,profile:e,updateProfile:t}=Xh(),[n,i]=Ae.useState("profile"),[a,o]=Ae.useState(!1),[l,c]=Ae.useState(null),[u,A]=Ae.useState({firstName:"",lastName:"",email:"",phone:"",companyName:"",avatar:""});Ae.useEffect(()=>{e&&A({firstName:e.first_name||"",lastName:e.last_name||"",email:e.email||"",phone:e.phone||"",companyName:e.company_name||"",avatar:e.avatar_url||""})},[e]),Ae.useEffect(()=>{e&&A({firstName:e.first_name||"",lastName:e.last_name||"",email:e.email||"",phone:e.phone||"",companyName:e.company_name||"",avatar:e.avatar_url||""})},[e]);const[f,m]=Ae.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,rentReminders:!0,maintenanceAlerts:!0,documentSigning:!0,marketingEmails:!1,weeklyReports:!0}),[h,v]=Ae.useState({twoFactorEnabled:!1,sessionTimeout:"30",passwordLastChanged:new Date("2024-01-15"),loginHistory:[{date:new Date,location:"Paris, France",device:"Chrome sur Windows"},{date:new Date("2024-11-28"),location:"Paris, France",device:"Safari sur iPhone"}]}),[x,b]=Ae.useState({language:"fr",timezone:"Europe/Paris",dateFormat:"DD/MM/YYYY",currency:"EUR",theme:"light",autoSave:!0,compactView:!1}),p=[{id:"profile",label:"Profil",icon:$s},{id:"notifications",label:"Notifications",icon:Da},{id:"security",label:"Sécurité",icon:ls},{id:"billing",label:"Facturation",icon:c0},{id:"app",label:"Application",icon:Ri},{id:"data",label:"Données",icon:Sa},{id:"support",label:"Support",icon:Pu}],y=async()=>{o(!0);try{await t({first_name:u.firstName,last_name:u.lastName,phone:u.phone,company_name:u.companyName}),await t({first_name:u.firstName,last_name:u.lastName,phone:u.phone,company_name:u.companyName}),c({type:"success",text:"Profil mis à jour avec succès"})}catch(T){console.error("Error updating profile:",T),c({type:"error",text:T instanceof Error?T.message:"Erreur lors de la mise à jour"}),c({type:"error",text:T instanceof Error?T.message:"Erreur lors de la mise à jour"})}finally{o(!1)}},N=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations personnelles"}),s.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:u.avatar?s.jsx("img",{src:u.avatar,alt:"Avatar",className:"w-20 h-20 rounded-full object-cover"}):s.jsx($s,{className:"h-10 w-10 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Changer la photo"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG ou GIF. Max 2MB."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom"}),s.jsx("input",{type:"text",value:u.firstName,onChange:T=>A(_=>({..._,firstName:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),s.jsx("input",{type:"text",value:u.lastName,onChange:T=>A(_=>({..._,lastName:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:u.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"L'email ne peut pas être modifié"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone"}),s.jsx("input",{type:"tel",value:u.phone,onChange:T=>A(_=>({..._,phone:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Société"}),s.jsx("input",{type:"text",value:u.companyName,onChange:T=>A(_=>({..._,companyName:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsxs("button",{onClick:y,disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[a?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Ys,{className:"h-4 w-4"}),s.jsx("span",{children:"Sauvegarder"})]})})]})}),w=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Préférences de notification"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Recevez les notifications importantes par email"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.emailNotifications,onChange:T=>m(_=>({..._,emailNotifications:T.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(O0,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Notifications SMS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Recevez les alertes urgentes par SMS"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.smsNotifications,onChange:T=>m(_=>({..._,smsNotifications:T.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Da,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Notifications push"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Notifications dans le navigateur"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.pushNotifications,onChange:T=>m(_=>({..._,pushNotifications:T.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),s.jsx("h4",{className:"text-md font-semibold text-gray-900 mt-6 mb-4",children:"Types de notifications"}),s.jsx("div",{className:"space-y-3",children:[{key:"rentReminders",label:"Rappels de loyer",desc:"Notifications pour les loyers en retard"},{key:"maintenanceAlerts",label:"Alertes maintenance",desc:"Incidents et demandes de maintenance"},{key:"documentSigning",label:"Signature de documents",desc:"Documents en attente de signature"},{key:"weeklyReports",label:"Rapports hebdomadaires",desc:"Résumé de votre activité"},{key:"marketingEmails",label:"Emails marketing",desc:"Nouveautés et conseils"}].map(T=>s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:T.label}),s.jsx("p",{className:"text-sm text-gray-500",children:T.desc})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f[T.key],onChange:_=>m(U=>({...U,[T.key]:_.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},T.key))})]})}),j=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sécurité du compte"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Sm,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Mot de passe"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Dernière modification: ",h.passwordLastChanged.toLocaleDateString()]})]})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Changer"})]})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Historique des connexions"}),s.jsx("div",{className:"space-y-3",children:h.loginHistory.map((T,_)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:T.device}),s.jsx("p",{className:"text-sm text-gray-500",children:T.location})]}),s.jsx("span",{className:"text-sm text-gray-600",children:T.date.toLocaleDateString()})]},_))})]})]})}),k=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Facturation et abonnement"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-blue-900",children:["Plan ",r?.plan||"Starter"]}),s.jsx("p",{className:"text-blue-700",children:r?.subscription_status==="trial"?"Période d'essai":"Abonnement actif"}),r?.trial_ends_at&&s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Expire le: ",new Date(r.trial_ends_at).toLocaleDateString()]})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Changer de plan"})]})}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(c0,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Méthode de paiement"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucune carte enregistrée"})]})]}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Ajouter"})]})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Historique de facturation"}),s.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[s.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Aucune facture disponible"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Vos factures apparaîtront ici une fois votre abonnement activé"})]})]})]})}),I=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Préférences de l'application"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Langue"}),s.jsxs("select",{value:x.language,onChange:T=>b(_=>({..._,language:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"fr",children:"Français"}),s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"es",children:"Español"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuseau horaire"}),s.jsxs("select",{value:x.timezone,onChange:T=>b(_=>({..._,timezone:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Europe/Paris",children:"Europe/Paris"}),s.jsx("option",{value:"Europe/London",children:"Europe/London"}),s.jsx("option",{value:"America/New_York",children:"America/New_York"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format de date"}),s.jsxs("select",{value:x.dateFormat,onChange:T=>b(_=>({..._,dateFormat:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Devise"}),s.jsxs("select",{value:x.currency,onChange:T=>b(_=>({..._,currency:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"EUR",children:"Euro (€)"}),s.jsx("option",{value:"USD",children:"Dollar américain ($)"}),s.jsx("option",{value:"GBP",children:"Livre (£)"})]})]})]}),s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[x.theme==="light"?s.jsx(BU,{className:"h-5 w-5 text-gray-600"}):s.jsx(gU,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Thème"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Apparence de l'interface"})]})]}),s.jsxs("select",{value:x.theme,onChange:T=>b(_=>({..._,theme:T.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"light",children:"Clair"}),s.jsx("option",{value:"dark",children:"Sombre"}),s.jsx("option",{value:"auto",children:"Automatique"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ys,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Sauvegarde automatique"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Sauvegarde automatique des modifications"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:x.autoSave,onChange:T=>b(_=>({..._,autoSave:T.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ri,{className:"h-5 w-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Vue compacte"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Affichage plus dense des listes"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:x.compactView,onChange:T=>b(_=>({..._,compactView:T.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),F=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gestion des données"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(hi,{className:"h-6 w-6 text-blue-600"}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Exporter mes données"})]}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Téléchargez une copie de toutes vos données au format JSON ou CSV."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Exporter en JSON"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Exporter en CSV"})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Oh,{className:"h-6 w-6 text-green-600"}),s.jsx("h4",{className:"text-lg font-semibold text-green-900",children:"Importer des données"})]}),s.jsx("p",{className:"text-green-700 mb-4",children:"Importez vos données depuis un autre système de gestion locative."}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Choisir un fichier"})]}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Mr,{className:"h-6 w-6 text-red-600"}),s.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Supprimer mon compte"})]}),s.jsx("p",{className:"text-red-700 mb-4",children:"Cette action est irréversible. Toutes vos données seront définitivement supprimées."}),s.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Supprimer mon compte"})]})]})}),C=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Support et aide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Pu,{className:"h-6 w-6 text-blue-600"}),s.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Centre d'aide"})]}),s.jsx("p",{className:"text-blue-700 mb-4",children:"Consultez notre base de connaissances et nos guides."}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Accéder au centre d'aide"})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Wt,{className:"h-6 w-6 text-green-600"}),s.jsx("h4",{className:"text-lg font-semibold text-green-900",children:"Contacter le support"})]}),s.jsx("p",{className:"text-green-700 mb-4",children:"Notre équipe vous répond sous 2h en moyenne."}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Envoyer un message"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations système"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Version:"}),s.jsx("span",{className:"text-gray-900",children:"1.2.0"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Navigateur:"}),s.jsx("span",{className:"text-gray-900",children:navigator.userAgent.split(" ")[0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Dernière connexion:"}),s.jsx("span",{className:"text-gray-900",children:new Date().toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"ID utilisateur:"}),s.jsxs("span",{className:"text-gray-900 font-mono text-xs",children:[r?.id?.slice(0,8),"..."]})]})]})]})]})}),P=()=>{switch(n){case"profile":return N();case"notifications":return w();case"security":return j();case"billing":return k();case"app":return I();case"data":return F();case"support":return C();default:return N()}};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos préférences et paramètres de compte"})]}),l&&s.jsx("div",{className:`rounded-lg p-4 ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[l.type==="success"?s.jsx(Bt,{className:"h-5 w-5"}):s.jsx(vt,{className:"h-5 w-5"}),s.jsx("p",{className:"text-sm font-medium",children:l.text})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-64",children:s.jsx("nav",{className:"space-y-2",children:p.map(T=>{const _=T.icon;return s.jsxs("button",{onClick:()=>i(T.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200 ${n===T.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[s.jsx(_,{className:`h-5 w-5 ${n===T.id?"text-blue-600":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:T.label})]},T.id)})})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:P()})})]})]})},XJ=()=>{const[r,e]=Ae.useState({}),[t,n]=Ae.useState(""),[i,a]=Ae.useState(!1),[o,l]=Ae.useState("all"),{activities:c,stats:u,loading:A,error:f,markAsRead:m,markAllAsRead:h,cleanOldActivities:v}=Tk(r,50),x=c.filter(k=>k.title.toLowerCase().includes(t.toLowerCase())||k.description.toLowerCase().includes(t.toLowerCase())||k.entityName&&k.entityName.toLowerCase().includes(t.toLowerCase())),b=(k,I)=>{const F=`h-5 w-5 ${I==="success"?"text-green-600":I==="warning"?"text-yellow-600":I==="error"?"text-red-600":"text-blue-600"}`;switch(k){case"document":return s.jsx(Et,{className:F});case"payment":return s.jsx(Xr,{className:F});case"property":return s.jsx(Lu,{className:F});case"tenant":return s.jsx(yn,{className:F});case"automation":return s.jsx(Ui,{className:F});case"incident":return s.jsx(vt,{className:F});case"login":return s.jsx($s,{className:F});case"system":return s.jsx(Ri,{className:F});default:return s.jsx(Oi,{className:F})}},p=k=>{switch(k){case"success":return s.jsx(Bt,{className:"h-4 w-4 text-green-600"});case"warning":return s.jsx(vt,{className:"h-4 w-4 text-yellow-600"});case"error":return s.jsx(Em,{className:"h-4 w-4 text-red-600"});default:return s.jsx(hl,{className:"h-4 w-4 text-blue-600"})}},y=k=>({document:"Document",payment:"Paiement",property:"Bien",tenant:"Locataire",automation:"Automatisation",incident:"Incident",login:"Connexion",system:"Système"})[k]||k,N=k=>{const F=Math.floor((new Date().getTime()-k.getTime())/(1e3*60));if(F<1)return"À l'instant";if(F<60)return`Il y a ${F}min`;const C=Math.floor(F/60);if(C<24)return`Il y a ${C}h`;const P=Math.floor(C/24);return P<7?`Il y a ${P}j`:k.toLocaleDateString()},w=k=>{l(k);const I=new Date;let F;switch(k){case"today":F={start:new Date(I.getFullYear(),I.getMonth(),I.getDate()),end:I};break;case"week":F={start:new Date(I.getTime()-10080*60*1e3),end:I};break;case"month":F={start:new Date(I.getTime()-720*60*60*1e3),end:I};break;default:F=void 0}e(C=>({...C,dateRange:F}))},j=()=>{if(window.confirm("Supprimer les activités de plus de 30 jours ?")){const k=v(30);alert(`${k} activités supprimées`)}};return A?s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des activités..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Activités récentes"}),s.jsx("p",{className:"text-gray-600",children:"Suivez toutes les actions et événements de votre compte"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(eA,{className:"h-4 w-4"}),s.jsx("span",{children:"Tout marquer comme lu"})]}),s.jsxs("button",{onClick:()=>a(!i),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[s.jsx(Ra,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtres"})]})]})]}),f&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[s.jsx(Em,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium",children:"Erreur"}),s.jsx("p",{className:"text-red-700 text-sm",children:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total activités"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.total})]}),s.jsx(Oi,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Non lues"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:u.unread})]}),s.jsx(Pi,{className:"h-8 w-8 text-orange-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dernières 24h"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:u.recent})]}),s.jsx(Ur,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Types actifs"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Object.keys(u.byType).length})]}),s.jsx(Ri,{className:"h-8 w-8 text-purple-600"})]})})]}),i&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsxs("select",{value:r.type||"",onChange:k=>e(I=>({...I,type:k.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Tous les types"}),s.jsx("option",{value:"document",children:"Documents"}),s.jsx("option",{value:"payment",children:"Paiements"}),s.jsx("option",{value:"property",children:"Biens"}),s.jsx("option",{value:"tenant",children:"Locataires"}),s.jsx("option",{value:"automation",children:"Automatisations"}),s.jsx("option",{value:"incident",children:"Incidents"}),s.jsx("option",{value:"system",children:"Système"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),s.jsxs("select",{value:r.category||"",onChange:k=>e(I=>({...I,category:k.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Toutes les catégories"}),s.jsx("option",{value:"success",children:"Succès"}),s.jsx("option",{value:"warning",children:"Attention"}),s.jsx("option",{value:"error",children:"Erreur"}),s.jsx("option",{value:"info",children:"Information"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Période"}),s.jsxs("select",{value:o,onChange:k=>w(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Toute la période"}),s.jsx("option",{value:"today",children:"Aujourd'hui"}),s.jsx("option",{value:"week",children:"Cette semaine"}),s.jsx("option",{value:"month",children:"Ce mois"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:r.unreadOnly||!1,onChange:k=>e(I=>({...I,unreadOnly:k.target.checked||void 0})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Non lues seulement"})]})})]})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher dans les activités...",value:t,onChange:k=>n(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"divide-y divide-gray-200",children:x.map(k=>s.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${k.readAt?"":"bg-blue-50 border-l-4 border-l-blue-500"}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:b(k.type,k.category)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.title}),!k.readAt&&s.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[p(k.category),s.jsx("span",{className:"text-xs text-gray-500",children:N(k.createdAt)})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full",children:y(k.type)}),k.entityName&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:k.entityName}),s.jsx("span",{className:`px-2 py-1 rounded-full ${k.priority==="high"?"bg-red-100 text-red-800":k.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:k.priority==="high"?"Haute":k.priority==="medium"?"Moyenne":"Faible"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:!k.readAt&&s.jsx("button",{onClick:()=>m(k.id),className:"text-blue-600 hover:text-blue-700 text-xs",children:"Marquer comme lu"})})]})]})]})},k.id))})}),x.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune activité trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:t||Object.keys(r).length>0?"Aucune activité ne correspond à vos critères.":"Aucune activité récente à afficher."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:[x.length," activité(s) affichée(s)"]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:j,className:"text-red-600 hover:text-red-700 text-sm flex items-center space-x-1",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Nettoyer anciennes"})]})})]})]})},JJ=({isOpen:r,onClose:e,onSave:t})=>{const[n,i]=Ae.useState({title:"",message:"",type:"info",priority:"medium",actionUrl:""}),[a,o]=Ae.useState({}),l=[{value:"info",label:"Information",icon:hl,color:"bg-blue-100 text-blue-800"},{value:"success",label:"Succès",icon:Bt,color:"bg-green-100 text-green-800"},{value:"warning",label:"Avertissement",icon:vt,color:"bg-yellow-100 text-yellow-800"},{value:"error",label:"Erreur",icon:a0,color:"bg-red-100 text-red-800"}],c=[{value:"low",label:"Basse",color:"bg-green-100 text-green-800"},{value:"medium",label:"Moyenne",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Haute",color:"bg-red-100 text-red-800"}],u=m=>{const{name:h,value:v}=m.target;i(x=>({...x,[h]:v})),a[h]&&o(x=>({...x,[h]:""}))},A=()=>{const m={};return n.title.trim()||(m.title="Le titre est requis"),n.message.trim()||(m.message="Le message est requis"),o(m),Object.keys(m).length===0},f=m=>{m.preventDefault(),A()&&(t(n),i({title:"",message:"",type:"info",priority:"medium",actionUrl:""}))};return r?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Da,{className:"h-6 w-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Créer une alerte"})]}),s.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(sn,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type d'alerte"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(m=>{const h=m.icon;return s.jsxs("button",{type:"button",onClick:()=>i(v=>({...v,type:m.value})),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-colors ${n.type===m.value?"border-blue-600 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(h,{className:`h-5 w-5 ${n.type===m.value?"text-blue-600":m.color.split(" ")[1]}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.label})]},m.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorité"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map(m=>s.jsx("button",{type:"button",onClick:()=>i(h=>({...h,priority:m.value})),className:`p-3 rounded-lg border-2 transition-colors ${n.priority===m.value?"border-blue-600 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:s.jsx("span",{className:`block text-sm font-medium ${n.priority===m.value?"text-blue-600":m.color.split(" ")[1]}`,children:m.label})},m.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre *"}),s.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.title?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Titre de l'alerte"}),a.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.title})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:u,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.message?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Contenu détaillé de l'alerte"}),a.message&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"actionUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:"URL d'action (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx(fU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",id:"actionUrl",name:"actionUrl",value:n.actionUrl||"",onChange:u,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"/dashboard/properties"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"URL relative vers laquelle l'utilisateur sera redirigé en cliquant sur l'alerte"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Aperçu"}),s.jsx("div",{className:`p-4 rounded-lg ${n.type==="info"?"bg-blue-50 border border-blue-200":n.type==="success"?"bg-green-50 border border-green-200":n.type==="warning"?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[n.type==="info"&&s.jsx(hl,{className:"h-5 w-5 text-blue-600"}),n.type==="success"&&s.jsx(Bt,{className:"h-5 w-5 text-green-600"}),n.type==="warning"&&s.jsx(vt,{className:"h-5 w-5 text-yellow-600"}),n.type==="error"&&s.jsx(a0,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${n.type==="info"?"text-blue-800":n.type==="success"?"text-green-800":n.type==="warning"?"text-yellow-800":"text-red-800"}`,children:n.title||"Titre de l'alerte"}),s.jsx("p",{className:`text-sm mt-1 ${n.type==="info"?"text-blue-700":n.type==="success"?"text-green-700":n.type==="warning"?"text-yellow-700":"text-red-700"}`,children:n.message||"Message de l'alerte"})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Annuler"}),s.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(Ys,{className:"h-4 w-4"}),s.jsx("span",{children:"Créer l'alerte"})]})]})]})]})}):null},ZJ=()=>{const r=pl(),{notifications:e,stats:t,loading:n,markAsRead:i,markAllAsRead:a,deleteNotification:o,deleteReadNotifications:l,addNotification:c}=P0(),[u,A]=Ae.useState(""),[f,m]=Ae.useState("all"),[h,v]=Ae.useState("all"),[x,b]=Ae.useState(!1),[p,y]=Ae.useState(!1),N=e.filter(P=>{const T=P.title.toLowerCase().includes(u.toLowerCase())||P.message.toLowerCase().includes(u.toLowerCase()),_=f==="all"||P.type===f,U=h==="all"||P.priority===h,S=!x||!P.read;return T&&_&&U&&S}),w=P=>{switch(P){case"success":return s.jsx(Bt,{className:"h-5 w-5 text-green-600"});case"warning":return s.jsx(vt,{className:"h-5 w-5 text-yellow-600"});case"error":return s.jsx(a0,{className:"h-5 w-5 text-red-600"});case"info":default:return s.jsx(hl,{className:"h-5 w-5 text-blue-600"})}},j=P=>{switch(P){case"high":return"Haute";case"medium":return"Moyenne";case"low":return"Basse";default:return P}},k=P=>{switch(P){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},I=P=>{const _=Math.floor((new Date().getTime()-P.getTime())/(1e3*60));if(_<1)return"À l'instant";if(_<60)return`Il y a ${_}min`;const U=Math.floor(_/60);if(U<24)return`Il y a ${U}h`;const S=Math.floor(U/24);return S<7?`Il y a ${S}j`:P.toLocaleDateString()},F=P=>{P.read||i(P.id),P.actionUrl&&r(P.actionUrl)},C=P=>{c(P),y(!1)};return n?s.jsx("div",{className:"p-6 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement des alertes..."})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Alertes"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos alertes et notifications"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(cs,{className:"h-5 w-5"}),s.jsx("span",{children:"Créer une alerte"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total alertes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.total})]}),s.jsx(Da,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Non lues"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.unread})]}),s.jsx(eA,{className:"h-8 w-8 text-red-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Priorité haute"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:t.byPriority.high||0})]}),s.jsx(vt,{className:"h-8 w-8 text-orange-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aujourd'hui"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(P=>{const T=new Date,_=new Date(P.createdAt);return _.getDate()===T.getDate()&&_.getMonth()===T.getMonth()&&_.getFullYear()===T.getFullYear()}).length})]}),s.jsx(br,{className:"h-8 w-8 text-green-600"})]})})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Rechercher une alerte...",value:u,onChange:P=>A(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("select",{value:f,onChange:P=>m(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"info",children:"Informations"}),s.jsx("option",{value:"success",children:"Succès"}),s.jsx("option",{value:"warning",children:"Avertissements"}),s.jsx("option",{value:"error",children:"Erreurs"})]}),s.jsxs("select",{value:h,onChange:P=>v(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[s.jsx("option",{value:"all",children:"Toutes priorités"}),s.jsx("option",{value:"high",children:"Haute"}),s.jsx("option",{value:"medium",children:"Moyenne"}),s.jsx("option",{value:"low",children:"Basse"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:x,onChange:P=>b(P.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Non lues uniquement"})]}),s.jsx("button",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s.jsx(Ra,{className:"h-5 w-5 text-gray-600"})})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsxs("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[s.jsx(fh,{className:"h-4 w-4"}),s.jsx("span",{children:"Tout marquer comme lu"})]}),s.jsxs("button",{onClick:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[s.jsx(Mr,{className:"h-4 w-4"}),s.jsx("span",{children:"Supprimer lues"})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:N.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:N.map(P=>s.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors cursor-pointer ${P.read?"":"bg-blue-50 border-l-4 border-blue-500"}`,onClick:()=>F(P),children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:w(P.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-base font-medium text-gray-900",children:P.title}),s.jsx("span",{className:"text-sm text-gray-500",children:I(P.createdAt)})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.message}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k(P.priority)}`,children:j(P.priority)}),s.jsxs("div",{className:"flex items-center space-x-3",children:[P.actionUrl&&s.jsxs("button",{className:"flex items-center space-x-1 text-xs text-blue-600 hover:text-blue-700",onClick:T=>{T.stopPropagation(),r(P.actionUrl)},children:[s.jsx("span",{children:"Voir détails"}),s.jsx(Jh,{className:"h-3 w-3"})]}),s.jsx("button",{onClick:T=>{T.stopPropagation(),o(P.id)},className:"text-gray-400 hover:text-red-600 transition-colors",children:s.jsx(Mr,{className:"h-4 w-4"})})]})]})]})]})},P.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Da,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune alerte trouvée"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u||f!=="all"||h!=="all"||x?"Aucune alerte ne correspond à vos critères de recherche.":"Vous n'avez aucune alerte pour le moment."})]})}),s.jsx(JJ,{isOpen:p,onClose:()=>y(!1),onSave:C})]})},eZ=()=>{const[r,e]=Ae.useState("contact"),[t,n]=Ae.useState({name:"",email:"",subject:"",category:"general",priority:"medium",message:"",attachments:[]}),[i,a]=Ae.useState(!1),[o,l]=Ae.useState(null),c=[{value:"general",label:"Question générale",icon:"❓"},{value:"technical",label:"Problème technique",icon:"🔧"},{value:"billing",label:"Facturation",icon:"💳"},{value:"feature",label:"Demande de fonctionnalité",icon:"💡"},{value:"bug",label:"Signaler un bug",icon:"🐛"},{value:"account",label:"Compte utilisateur",icon:"👤"}],u=[{value:"low",label:"Basse",color:"bg-green-100 text-green-800",icon:"🟢"},{value:"medium",label:"Moyenne",color:"bg-yellow-100 text-yellow-800",icon:"🟡"},{value:"high",label:"Haute",color:"bg-red-100 text-red-800",icon:"🔴"}],A=[{question:"Comment créer mon premier bien immobilier ?",answer:"Rendez-vous dans l'onglet 'Mes biens' et cliquez sur 'Ajouter un bien'. Remplissez les informations requises comme le nom, l'adresse, le type de bien, la surface et le loyer.",category:"Démarrage"},{question:"Comment générer une quittance de loyer ?",answer:"Allez dans 'Documents', sélectionnez le modèle 'Quittance de loyer', remplissez les informations du locataire et du bien, puis générez le document.",category:"Documents"},{question:"Comment configurer les automatisations ?",answer:"Dans l'onglet 'Automatisations', cliquez sur 'Nouvelle automatisation', choisissez le type (quittances, révision loyer, etc.) et définissez la fréquence d'exécution.",category:"Automatisations"},{question:"Comment exporter mes données financières ?",answer:"Dans la section 'Finances', onglet 'Rapports', vous pouvez créer et télécharger des rapports personnalisés au format PDF, CSV ou Excel.",category:"Finances"},{question:"Comment configurer le serveur mail ?",answer:"Accédez au menu Administration (icône bouclier), puis 'Serveur mail'. Configurez vos paramètres SMTP pour l'envoi automatique d'emails.",category:"Configuration"}],f=y=>{const{name:N,value:w}=y.target;n(j=>({...j,[N]:w}))},m=y=>{n(N=>({...N,attachments:N.attachments.filter((w,j)=>j!==y)}))},h=y=>{if(y.target.files){const N=Array.from(y.target.files);if(t.attachments.length+N.length>5){l({type:"error",text:"Vous ne pouvez joindre que 5 fichiers maximum."});return}const w=N.filter(I=>I.size>10*1024*1024);if(w.length>0){l({type:"error",text:`Les fichiers suivants dépassent 10MB : ${w.map(I=>I.name).join(", ")}`});return}const j=[".pdf",".doc",".docx",".jpg",".jpeg",".png",".txt",".zip"],k=N.filter(I=>{const F="."+I.name.split(".").pop()?.toLowerCase();return!j.includes(F)});if(k.length>0){l({type:"error",text:`Types de fichiers non autorisés : ${k.map(I=>I.name).join(", ")}`});return}n(I=>({...I,attachments:[...I.attachments,...N]})),l(null)}},v=async y=>{if(y.preventDefault(),a(!0),l(null),!t.name.trim()||!t.email.trim()||!t.subject.trim()||!t.message.trim()){l({type:"error",text:"Veuillez remplir tous les champs obligatoires."}),a(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){l({type:"error",text:"Veuillez saisir une adresse email valide."}),a(!1);return}try{const w={...t,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href},j=JSON.parse(localStorage.getItem("support_requests")||"[]"),k={id:Date.now().toString(),...w,status:"sent"};j.push(k),localStorage.setItem("support_requests",JSON.stringify(j)),await new Promise(I=>setTimeout(I,1500)),l({type:"success",text:`Votre demande a été envoyée avec succès ! Référence: #${k.id.slice(-6)}. Notre équipe vous répondra dans les plus brefs délais à l'adresse ${t.email}.`}),n({name:"",email:"",subject:"",category:"general",priority:"medium",message:"",attachments:[]})}catch(w){console.error("Erreur lors de l'envoi de la demande:",w),l({type:"error",text:"Erreur lors de l'envoi de votre demande. Veuillez vérifier votre connexion et réessayer."})}finally{a(!1)}},x=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Nous contacter"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Wt,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Email"}),s.jsx("a",{href:"mailto:admin@easybail.pro?subject=Demande de support EasyBail",className:"text-blue-700 hover:text-blue-800 transition-colors",children:"admin@easybail.pro"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ru,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Téléphone"}),s.jsx("a",{href:"tel:0180914282",className:"text-blue-700 hover:text-blue-800 transition-colors",children:"01 80 91 42 82"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ur,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Horaires"}),s.jsx("p",{className:"text-blue-700",children:"7j/7 - 9h à 18h"})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Temps de réponse moyen"}),s.jsx("p",{className:"text-blue-700",children:"Moins de 2 heures"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium text-blue-900",children:"Satisfaction client"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-blue-700",children:"4.9/5"}),s.jsx("div",{className:"flex text-yellow-400",children:"⭐⭐⭐⭐⭐"})]})]})]})})]}),o&&s.jsx("div",{className:`rounded-lg p-4 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[o.type==="success"?s.jsx(Bt,{className:"h-5 w-5 text-green-600"}):s.jsx(vt,{className:"h-5 w-5 text-red-600"}),s.jsx("p",{className:"text-sm font-medium",children:o.text})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Formulaire de contact"}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"name",value:t.name,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Jean Dupont",maxLength:100})]}),t.name.length>80&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[100-t.name.length," caractères restants"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:t.email,onChange:f,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"jean.dupont@email.com",maxLength:150})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sujet *"}),s.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Décrivez brièvement votre demande",maxLength:200}),t.subject.length>150&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[200-t.subject.length," caractères restants"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),s.jsx("select",{name:"category",value:t.category,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:c.map(y=>s.jsxs("option",{value:y.value,children:[y.icon," ",y.label]},y.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorité"}),s.jsx("select",{name:"priority",value:t.priority,onChange:f,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:u.map(y=>s.jsxs("option",{value:y.value,children:[y.icon," ",y.label]},y.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsxs("div",{className:"relative",children:[s.jsx(w6,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx("textarea",{name:"message",value:t.message,onChange:f,required:!0,rows:6,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Décrivez votre demande en détail...",maxLength:2e3})]}),t.message.length>1800&&s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[2e3-t.message.length," caractères restants"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pièces jointes ",s.jsx("span",{className:"text-gray-500",children:"(optionnel)"})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 hover:bg-blue-50 transition-all duration-200",children:[s.jsx(Et,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 mb-2 font-medium",children:"Glissez-déposez vos fichiers ici"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"ou cliquez pour sélectionner"}),s.jsxs("label",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-flex items-center space-x-2",children:[s.jsx(Oh,{className:"h-4 w-4"}),s.jsx("span",{children:"Choisir des fichiers"}),s.jsx("input",{type:"file",multiple:!0,onChange:h,className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt,.zip"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Formats acceptés: PDF, DOC, DOCX, JPG, PNG, TXT, ZIP (max 10MB par fichier, 5 fichiers max)"})]}),t.attachments.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Fichiers sélectionnés :"}),t.attachments.map((y,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Et,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(y.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsx("button",{type:"button",onClick:()=>m(N),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Supprimer ce fichier",children:s.jsx(sn,{className:"h-4 w-4"})})]},N))]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(hl,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-gray-800 font-medium mb-1",children:"Protection des données"}),s.jsx("p",{className:"text-gray-600",children:"Vos données personnelles sont traitées conformément à notre politique de confidentialité. Elles ne seront utilisées que pour traiter votre demande de support et ne seront pas transmises à des tiers."}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[s.jsx("strong",{children:"Temps de réponse :"})," Nous nous engageons à vous répondre dans les 2 heures suivant la réception de votre demande."]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Besoin d'aide urgente ?"}),s.jsx("a",{href:"tel:0180914282",className:"text-blue-600 hover:text-blue-700 ml-1",children:"Appelez-nous au 01 80 91 42 82"})]}),s.jsxs("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50 font-medium",children:[i?s.jsx(Cr,{className:"h-5 w-5 animate-spin"}):s.jsx(Qu,{className:"h-5 w-5"}),s.jsx("span",{children:i?"Envoi en cours...":"Envoyer ma demande"})]})]})]})]})]}),b=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Questions fréquemment posées"}),s.jsx("div",{className:"space-y-4",children:A.map((y,N)=>s.jsx("div",{className:"border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Pu,{className:"h-4 w-4 text-blue-600"})}),s.jsx("span",{className:"font-medium text-gray-900",children:y.question})]}),s.jsx("span",{className:"text-gray-400 group-open:rotate-180 transition-transform duration-200",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),s.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mt-3",children:[s.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:y.category}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:y.answer})]})})]})},N))})]})}),p=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Centre de ressources"}),s.jsx("p",{className:"text-gray-600",children:"Accédez à notre documentation complète et nos outils d'aide"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(xy,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentation"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Guides complets et documentation technique pour utiliser EasyBail."}),s.jsxs("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx(zw,{className:"h-4 w-4"}),s.jsx("span",{children:"Accéder à la documentation"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Xj,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tutoriels vidéo"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Apprenez à utiliser EasyBail avec nos tutoriels vidéo pas à pas."}),s.jsxs("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx(zw,{className:"h-4 w-4"}),s.jsx("span",{children:"Voir les tutoriels"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(hi,{className:"h-6 w-6 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Téléchargements"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Modèles de documents, guides PDF et autres ressources utiles."}),s.jsxs("button",{className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[s.jsx(hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Télécharger les ressources"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Liens utiles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(xy,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-gray-900",children:"Guide de démarrage rapide"})]}),s.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Et,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-900",children:"Modèles de documents"})]}),s.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Xj,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-gray-900",children:"Formation en ligne"})]}),s.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Kw,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-gray-900",children:"Forum communautaire"})]}),s.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Ru,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-gray-900",children:"Support téléphonique"})]}),s.jsxs("a",{href:"#",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Wt,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-gray-900",children:"Nous écrire"})]})]})]})]});return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Support & Aide"}),s.jsx("p",{className:"text-gray-600",children:"Trouvez de l'aide et contactez notre équipe support"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Temps de réponse"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"2h"}),s.jsx("p",{className:"text-sm text-gray-500",children:"En moyenne"})]}),s.jsx(Ur,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Satisfaction"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:"98%"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Clients satisfaits"})]}),s.jsx(_U,{className:"h-8 w-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disponibilité"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"7j/7"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Support actif"})]}),s.jsx(Kw,{className:"h-8 w-8 text-purple-600"})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Note moyenne"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"4.9"}),s.jsx("p",{className:"text-sm text-gray-500",children:"⭐⭐⭐⭐⭐"})]}),s.jsx(rA,{className:"h-8 w-8 text-yellow-600"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex space-x-8 px-6",children:[s.jsxs("button",{onClick:()=>e("contact"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${r==="contact"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx("span",{children:"Nous contacter"})]}),s.jsxs("button",{onClick:()=>e("faq"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${r==="faq"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Pu,{className:"h-4 w-4"}),s.jsx("span",{children:"FAQ"})]}),s.jsxs("button",{onClick:()=>e("resources"),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${r==="resources"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(xy,{className:"h-4 w-4"}),s.jsx("span",{children:"Ressources"})]})]})}),s.jsxs("div",{className:"p-6",children:[r==="contact"&&x(),r==="faq"&&b(),r==="resources"&&p()]})]})]})},tZ=()=>{const r=pl(),{user:e}=Xh(),[t,n]=Ae.useState("dashboard"),i=()=>{r("/login")},a=l=>{n(l)};if(!e)return null;const o=()=>{switch(t){case"dashboard":return s.jsx(nC,{setActiveTab:n});case"properties":return s.jsx(y9,{});case"tenants":return s.jsx(w9,{});case"documents":return s.jsx(DJ,{});case"tasks":return s.jsx(UJ,{});case"finances":return s.jsx(KJ,{});case"automations":return s.jsx(GJ,{});case"incidents":return s.jsx($J,{});case"alerts":return s.jsx(ZJ,{});case"activities":return s.jsx(XJ,{});case"email_templates":return s.jsx(U6,{});case"settings":return s.jsx(YJ,{});case"support":return s.jsx(eZ,{});default:return s.jsx(nC,{setActiveTab:n})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsx(VU,{activeTab:t,onTabChange:n}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(a9,{onLogout:i,onNavigateToSection:a}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:o()})]})]})},rZ=()=>s.jsx(tZ,{}),KT=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:s.jsx(Et,{className:"h-7 w-7 text-white"})}),s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"EasyBail"})]}),s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})}),nZ=({children:r})=>{const{user:e,loading:t}=Xh();return t?s.jsx(KT,{}):e?s.jsx(s.Fragment,{children:r}):s.jsx(Qg,{to:"/login",replace:!0})};function sZ(){const{user:r,loading:e}=Xh();return e?s.jsx(KT,{}):s.jsx(VL,{children:s.jsxs(wL,{children:[s.jsx(Xf,{path:"/",element:r?s.jsx(Qg,{to:"/dashboard",replace:!0}):s.jsx(zU,{})}),s.jsx(Xf,{path:"/login",element:r?s.jsx(Qg,{to:"/dashboard",replace:!0}):s.jsx(KU,{})}),s.jsx(Xf,{path:"/dashboard/*",element:s.jsx(nZ,{children:s.jsx(rZ,{})})}),s.jsx(Xf,{path:"*",element:s.jsx(Qg,{to:r?"/dashboard":"/",replace:!0})})]})})}ol.start();TI.createRoot(document.getElementById("root")).render(s.jsx(Ae.StrictMode,{children:s.jsx(sZ,{})}));export{Er as _,_u as c,W2 as g};
